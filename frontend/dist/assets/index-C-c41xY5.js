var lR=Object.defineProperty;var cR=(t,e,n)=>e in t?lR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Dh=(t,e,n)=>cR(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Dg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DS={exports:{}},Vd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR=Symbol.for("react.transitional.element"),dR=Symbol.for("react.fragment");function US(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:uR,type:t,key:s,ref:e!==void 0?e:null,props:n}}Vd.Fragment=dR;Vd.jsx=US;Vd.jsxs=US;DS.exports=Vd;var l=DS.exports,LS={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug=Symbol.for("react.transitional.element"),hR=Symbol.for("react.portal"),fR=Symbol.for("react.fragment"),mR=Symbol.for("react.strict_mode"),gR=Symbol.for("react.profiler"),pR=Symbol.for("react.consumer"),yR=Symbol.for("react.context"),vR=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),xR=Symbol.for("react.memo"),HS=Symbol.for("react.lazy"),Iv=Symbol.iterator;function SR(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var BS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zS=Object.assign,VS={};function no(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||BS}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FS(){}FS.prototype=no.prototype;function Lg(t,e,n){this.props=t,this.context=e,this.refs=VS,this.updater=n||BS}var Hg=Lg.prototype=new FS;Hg.constructor=Lg;zS(Hg,no.prototype);Hg.isPureReactComponent=!0;var Mv=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},GS=Object.prototype.hasOwnProperty;function Bg(t,e,n,s,r,i){return n=i.ref,{$$typeof:Ug,type:t,key:e,ref:n!==void 0?n:null,props:i}}function CR(t,e){return Bg(t.type,e,void 0,void 0,void 0,t.props)}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ug}function wR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pv=/\/+/g;function Uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wR(""+t.key):e.toString(36)}function Dv(){}function TR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Dv,Dv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ia(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ug:case hR:a=!0;break;case HS:return a=t._init,ia(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+Uh(t,0):s,Mv(r)?(n="",a!=null&&(n=a.replace(Pv,"$&/")+"/"),ia(r,e,n,"",function(u){return u})):r!=null&&(zg(r)&&(r=CR(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Pv,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=s===""?".":s+":";if(Mv(t))for(var c=0;c<t.length;c++)s=t[c],i=o+Uh(s,c),a+=ia(s,e,n,i,r);else if(c=SR(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=o+Uh(s,c++),a+=ia(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return ia(TR(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Sc(t,e,n){if(t==null)return t;var s=[],r=0;return ia(t,s,"","",function(i){return e.call(n,i,r++)}),s}function AR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Uv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ER(){}je.Children={map:Sc,forEach:function(t,e,n){Sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sc(t,function(){e++}),e},toArray:function(t){return Sc(t,function(e){return e})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=no;je.Fragment=fR;je.Profiler=gR;je.PureComponent=Lg;je.StrictMode=mR;je.Suspense=bR;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt;je.__COMPILER_RUNTIME={__proto__:null,c:function(t){return dt.H.useMemoCache(t)}};je.cache=function(t){return function(){return t.apply(null,arguments)}};je.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=zS({},t.props),r=t.key,i=void 0;if(e!=null)for(a in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!GS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}return Bg(t.type,r,void 0,void 0,i,s)};je.createContext=function(t){return t={$$typeof:yR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:pR,_context:t},t};je.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)GS.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return Bg(t,i,void 0,void 0,null,r)};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:vR,render:t}};je.isValidElement=zg;je.lazy=function(t){return{$$typeof:HS,_payload:{_status:-1,_result:t},_init:AR}};je.memo=function(t,e){return{$$typeof:xR,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=dt.T,n={};dt.T=n;try{var s=t(),r=dt.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(ER,Uv)}catch(i){Uv(i)}finally{dt.T=e}};je.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()};je.use=function(t){return dt.H.use(t)};je.useActionState=function(t,e,n){return dt.H.useActionState(t,e,n)};je.useCallback=function(t,e){return dt.H.useCallback(t,e)};je.useContext=function(t){return dt.H.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t,e){return dt.H.useDeferredValue(t,e)};je.useEffect=function(t,e,n){var s=dt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(t,e)};je.useId=function(){return dt.H.useId()};je.useImperativeHandle=function(t,e,n){return dt.H.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return dt.H.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return dt.H.useLayoutEffect(t,e)};je.useMemo=function(t,e){return dt.H.useMemo(t,e)};je.useOptimistic=function(t,e){return dt.H.useOptimistic(t,e)};je.useReducer=function(t,e,n){return dt.H.useReducer(t,e,n)};je.useRef=function(t){return dt.H.useRef(t)};je.useState=function(t){return dt.H.useState(t)};je.useSyncExternalStore=function(t,e,n){return dt.H.useSyncExternalStore(t,e,n)};je.useTransition=function(){return dt.H.useTransition()};je.version="19.1.1";LS.exports=je;var S=LS.exports;const te=Dg(S);var qS={exports:{}},Fd={},KS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,Y){var Z=M.length;M.push(Y);e:for(;0<Z;){var B=Z-1>>>1,K=M[B];if(0<r(K,Y))M[B]=Y,M[Z]=K,Z=B;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var Y=M[0],Z=M.pop();if(Z!==Y){M[0]=Z;e:for(var B=0,K=M.length,D=K>>>1;B<D;){var Q=2*(B+1)-1,J=M[Q],de=Q+1,se=M[de];if(0>r(J,Z))de<K&&0>r(se,J)?(M[B]=se,M[de]=Z,B=de):(M[B]=J,M[Q]=Z,B=Q);else if(de<K&&0>r(se,Z))M[B]=se,M[de]=Z,B=de;else break e}}return Y}function r(M,Y){var Z=M.sortIndex-Y.sortIndex;return Z!==0?Z:M.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,m=3,f=!1,x=!1,b=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(M){for(var Y=n(u);Y!==null;){if(Y.callback===null)s(u);else if(Y.startTime<=M)s(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function w(M){if(b=!1,v(M),!x)if(n(c)!==null)x=!0,N||(N=!0,R());else{var Y=n(u);Y!==null&&G(w,Y.startTime-M)}}var N=!1,T=-1,_=5,A=-1;function k(){return C?!0:!(t.unstable_now()-A<_)}function P(){if(C=!1,N){var M=t.unstable_now();A=M;var Y=!0;try{e:{x=!1,b&&(b=!1,p(T),T=-1),f=!0;var Z=m;try{t:{for(v(M),h=n(c);h!==null&&!(h.expirationTime>M&&k());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var K=B(h.expirationTime<=M);if(M=t.unstable_now(),typeof K=="function"){h.callback=K,v(M),Y=!0;break t}h===n(c)&&s(c),v(M)}else s(c);h=n(c)}if(h!==null)Y=!0;else{var D=n(u);D!==null&&G(w,D.startTime-M),Y=!1}}break e}finally{h=null,m=Z,f=!1}Y=void 0}}finally{Y?R():N=!1}}}var R;if(typeof g=="function")R=function(){g(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=P,R=function(){H.postMessage(null)}}else R=function(){y(P,0)};function G(M,Y){T=y(function(){M(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Z=m;m=Y;try{return M()}finally{m=Z}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=m;m=M;try{return Y()}finally{m=Z}},t.unstable_scheduleCallback=function(M,Y,Z){var B=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?B+Z:B):Z=B,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,M={id:d++,callback:Y,priorityLevel:M,startTime:Z,expirationTime:K,sortIndex:-1},Z>B?(M.sortIndex=Z,e(u,M),n(c)===null&&M===n(u)&&(b?(p(T),T=-1):b=!0,G(w,Z-B))):(M.sortIndex=K,e(c,M),x||f||(x=!0,N||(N=!0,R()))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var Y=m;return function(){var Z=m;m=Y;try{return M.apply(this,arguments)}finally{m=Z}}}})($S);KS.exports=$S;var NR=KS.exports,YS={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R=S;function QS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yr(){}var bn={d:{f:yr,r:function(){throw Error(QS(522))},D:yr,C:yr,L:yr,m:yr,X:yr,S:yr,M:yr},p:0,findDOMNode:null},RR=Symbol.for("react.portal");function kR(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:RR,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var qo=_R.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Gd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bn;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(QS(299));return kR(t,e,null,n)};xn.flushSync=function(t){var e=qo.T,n=bn.p;try{if(qo.T=null,bn.p=2,t)return t()}finally{qo.T=e,bn.p=n,bn.d.f()}};xn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bn.d.C(t,e))};xn.prefetchDNS=function(t){typeof t=="string"&&bn.d.D(t)};xn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Gd(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&bn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};xn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Gd(e.as,e.crossOrigin);bn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bn.d.M(t)};xn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Gd(n,e.crossOrigin);bn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};xn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Gd(e.as,e.crossOrigin);bn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bn.d.m(t)};xn.requestFormReset=function(t){bn.d.r(t)};xn.unstable_batchedUpdates=function(t,e){return t(e)};xn.useFormState=function(t,e,n){return qo.H.useFormState(t,e,n)};xn.useFormStatus=function(){return qo.H.useHostTransitionStatus()};xn.version="19.1.1";function XS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XS)}catch(t){console.error(t)}}XS(),YS.exports=xn;var JS=YS.exports;const OR=Dg(JS);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bt=NR,ZS=S,jR=JS;function $(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function WS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lv(t){if($l(t)!==t)throw Error($(188))}function IR(t){var e=t.alternate;if(!e){if(e=$l(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Lv(r),t;if(i===s)return Lv(r),e;i=i.sibling}throw Error($(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function tC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=tC(t),e!==null)return e;t=t.sibling}return null}var ot=Object.assign,MR=Symbol.for("react.element"),Cc=Symbol.for("react.transitional.element"),Uo=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),PR=Symbol.for("react.provider"),sC=Symbol.for("react.consumer"),Xs=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),Fg=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),Zf=Symbol.for("react.activity"),DR=Symbol.for("react.memo_cache_sentinel"),Hv=Symbol.iterator;function bo(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var UR=Symbol.for("react.client.reference");function Wf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===UR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case da:return"Fragment";case Qf:return"Profiler";case nC:return"StrictMode";case Xf:return"Suspense";case Jf:return"SuspenseList";case Zf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Uo:return"Portal";case Xs:return(t.displayName||"Context")+".Provider";case sC:return(t._context.displayName||"Context")+".Consumer";case Vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fg:return e=t.displayName||null,e!==null?e:Wf(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return Wf(t(e))}catch{}}return null}var Lo=Array.isArray,Ce=ZS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ze=jR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ei={pending:!1,data:null,method:null,action:null},em=[],ha=-1;function Ls(t){return{current:t}}function Kt(t){0>ha||(t.current=em[ha],em[ha]=null,ha--)}function ht(t,e){ha++,em[ha]=t.current,t.current=e}var Is=Ls(null),Cl=Ls(null),Hr=Ls(null),_u=Ls(null);function Ru(t,e){switch(ht(Hr,e),ht(Cl,t),ht(Is,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Gb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Gb(e),t=xT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Kt(Is),ht(Is,t)}function Ha(){Kt(Is),Kt(Cl),Kt(Hr)}function tm(t){t.memoizedState!==null&&ht(_u,t);var e=Is.current,n=xT(e,t.type);e!==n&&(ht(Cl,t),ht(Is,n))}function ku(t){Cl.current===t&&(Kt(Is),Kt(Cl)),_u.current===t&&(Kt(_u),jl._currentValue=Ei)}var nm=Object.prototype.hasOwnProperty,Gg=Bt.unstable_scheduleCallback,Lh=Bt.unstable_cancelCallback,LR=Bt.unstable_shouldYield,HR=Bt.unstable_requestPaint,Ms=Bt.unstable_now,BR=Bt.unstable_getCurrentPriorityLevel,rC=Bt.unstable_ImmediatePriority,iC=Bt.unstable_UserBlockingPriority,Ou=Bt.unstable_NormalPriority,zR=Bt.unstable_LowPriority,aC=Bt.unstable_IdlePriority,VR=Bt.log,FR=Bt.unstable_setDisableYieldValue,Yl=null,Bn=null;function Mr(t){if(typeof VR=="function"&&FR(t),Bn&&typeof Bn.setStrictMode=="function")try{Bn.setStrictMode(Yl,t)}catch{}}var zn=Math.clz32?Math.clz32:KR,GR=Math.log,qR=Math.LN2;function KR(t){return t>>>=0,t===0?32:31-(GR(t)/qR|0)|0}var wc=256,Tc=4194304;function mi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function qd(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~i,s!==0?r=mi(s):(a&=o,a!==0?r=mi(a):n||(n=o&~t,n!==0&&(r=mi(n))))):(o=s&~i,o!==0?r=mi(o):a!==0?r=mi(a):n||(n=s&~t,n!==0&&(r=mi(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Ql(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function $R(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oC(){var t=wc;return wc<<=1,!(wc&4194048)&&(wc=256),t}function lC(){var t=Tc;return Tc<<=1,!(Tc&62914560)&&(Tc=4194304),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function YR(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-zn(n),h=1<<d;o[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var f=m[d];f!==null&&(f.lane&=-536870913)}n&=~h}s!==0&&cC(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function cC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-zn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function uC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-zn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function qg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function dC(){var t=ze.p;return t!==0?t:(t=window.event,t===void 0?32:kT(t.type))}function QR(t,e){var n=ze.p;try{return ze.p=t,e()}finally{ze.p=n}}var ai=Math.random().toString(36).slice(2),on="__reactFiber$"+ai,Rn="__reactProps$"+ai,so="__reactContainer$"+ai,sm="__reactEvents$"+ai,XR="__reactListeners$"+ai,JR="__reactHandles$"+ai,Bv="__reactResources$"+ai,Jl="__reactMarker$"+ai;function $g(t){delete t[on],delete t[Rn],delete t[sm],delete t[XR],delete t[JR]}function fa(t){var e=t[on];if(e)return e;for(var n=t.parentNode;n;){if(e=n[so]||n[on]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$b(t);t!==null;){if(n=t[on])return n;t=$b(t)}return e}t=n,n=t.parentNode}return null}function ro(t){if(t=t[on]||t[so]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ho(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error($(33))}function Na(t){var e=t[Bv];return e||(e=t[Bv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Gt(t){t[Jl]=!0}var hC=new Set,fC={};function Ki(t,e){Ba(t,e),Ba(t+"Capture",e)}function Ba(t,e){for(fC[t]=e,t=0;t<e.length;t++)hC.add(e[t])}var ZR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zv={},Vv={};function WR(t){return nm.call(Vv,t)?!0:nm.call(zv,t)?!1:ZR.test(t)?Vv[t]=!0:(zv[t]=!0,!1)}function nu(t,e,n){if(WR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ac(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function zs(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var Bh,Fv;function aa(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||"",Fv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bh+t+Fv}var zh=!1;function Vh(t,e){if(!t||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var m=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){m=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){m=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&m&&typeof f.stack=="string")return[f.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?aa(n):""}function e1(t){switch(t.tag){case 26:case 27:case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return Vh(t.type,!1);case 11:return Vh(t.type.render,!1);case 1:return Vh(t.type,!0);case 31:return aa("Activity");default:return""}}function Gv(t){try{var e="";do e+=e1(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Wn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t1(t){var e=mC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=t1(t))}function gC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=mC(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Iu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var n1=/[\n"\\]/g;function ss(t){return t.replace(n1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function rm(t,e,n,s,r,i,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Wn(e)):t.value!==""+Wn(e)&&(t.value=""+Wn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?im(t,a,Wn(e)):n!=null?im(t,a,Wn(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Wn(o):t.removeAttribute("name")}function pC(t,e,n,s,r,i,a,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Wn(n):"",e=e!=null?""+Wn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function im(t,e,n){e==="number"&&Iu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function _a(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Wn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function yC(t,e,n){if(e!=null&&(e=""+Wn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Wn(n):""}function vC(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error($(92));if(Lo(s)){if(1<s.length)throw Error($(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Wn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var s1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qv(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||s1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function bC(t,e,n){if(e!=null&&typeof e!="object")throw Error($(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&qv(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&qv(t,i,e[i])}function Yg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),i1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function su(t){return i1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var am=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ma=null,Ra=null;function Kv(t){var e=ro(t);if(e&&(t=e.stateNode)){var n=t[Rn]||null;e:switch(t=e.stateNode,e.type){case"input":if(rm(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ss(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[Rn]||null;if(!r)throw Error($(90));rm(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&gC(s)}break e;case"textarea":yC(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&_a(t,!!n.multiple,e,!1)}}}var Fh=!1;function xC(t,e,n){if(Fh)return t(e,n);Fh=!0;try{var s=t(e);return s}finally{if(Fh=!1,(ma!==null||Ra!==null)&&(th(),ma&&(e=ma,t=Ra,Ra=ma=null,Kv(e),t)))for(e=0;e<t.length;e++)Kv(t[e])}}function wl(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Rn]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),om=!1;if(lr)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){om=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{om=!1}var Pr=null,Xg=null,ru=null;function SC(){if(ru)return ru;var t,e=Xg,n=e.length,s,r="value"in Pr?Pr.value:Pr.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return ru=r.slice(t,1<s?1-s:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ec(){return!0}function $v(){return!1}function In(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ec:$v,this.isPropagationStopped=$v,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),e}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kd=In($i),Zl=ot({},$i,{view:0,detail:0}),a1=In(Zl),Gh,qh,So,$d=ot({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(Gh=t.screenX-So.screenX,qh=t.screenY-So.screenY):qh=Gh=0,So=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),Yv=In($d),o1=ot({},$d,{dataTransfer:0}),l1=In(o1),c1=ot({},Zl,{relatedTarget:0}),Kh=In(c1),u1=ot({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),d1=In(u1),h1=ot({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f1=In(h1),m1=ot({},$i,{data:0}),Qv=In(m1),g1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function v1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=y1[t])?!!e[t]:!1}function Jg(){return v1}var b1=ot({},Zl,{key:function(t){if(t.key){var e=g1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jg,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),x1=In(b1),S1=ot({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=In(S1),C1=ot({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jg}),w1=In(C1),T1=ot({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A1=In(T1),E1=ot({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N1=In(E1),_1=ot({},$i,{newState:0,oldState:0}),R1=In(_1),k1=[9,13,27,32],Zg=lr&&"CompositionEvent"in window,Ko=null;lr&&"documentMode"in document&&(Ko=document.documentMode);var O1=lr&&"TextEvent"in window&&!Ko,CC=lr&&(!Zg||Ko&&8<Ko&&11>=Ko),Jv=" ",Zv=!1;function wC(t,e){switch(t){case"keyup":return k1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function j1(t,e){switch(t){case"compositionend":return TC(e);case"keypress":return e.which!==32?null:(Zv=!0,Jv);case"textInput":return t=e.data,t===Jv&&Zv?null:t;default:return null}}function I1(t,e){if(ga)return t==="compositionend"||!Zg&&wC(t,e)?(t=SC(),ru=Xg=Pr=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CC&&e.locale!=="ko"?null:e.data;default:return null}}var M1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M1[t.type]:e==="textarea"}function AC(t,e,n,s){ma?Ra?Ra.push(s):Ra=[s]:ma=s,e=Ju(e,"onChange"),0<e.length&&(n=new Kd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var $o=null,Tl=null;function P1(t){yT(t,0)}function Yd(t){var e=Ho(t);if(gC(e))return t}function eb(t,e){if(t==="change")return e}var EC=!1;if(lr){var $h;if(lr){var Yh="oninput"in document;if(!Yh){var tb=document.createElement("div");tb.setAttribute("oninput","return;"),Yh=typeof tb.oninput=="function"}$h=Yh}else $h=!1;EC=$h&&(!document.documentMode||9<document.documentMode)}function nb(){$o&&($o.detachEvent("onpropertychange",NC),Tl=$o=null)}function NC(t){if(t.propertyName==="value"&&Yd(Tl)){var e=[];AC(e,Tl,t,Qg(t)),xC(P1,e)}}function D1(t,e,n){t==="focusin"?(nb(),$o=e,Tl=n,$o.attachEvent("onpropertychange",NC)):t==="focusout"&&nb()}function U1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(Tl)}function L1(t,e){if(t==="click")return Yd(e)}function H1(t,e){if(t==="input"||t==="change")return Yd(e)}function B1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:B1;function Al(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!nm.call(e,r)||!Kn(t[r],e[r]))return!1}return!0}function sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rb(t,e){var n=sb(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sb(n)}}function _C(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_C(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RC(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Iu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Iu(t.document)}return e}function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var z1=lr&&"documentMode"in document&&11>=document.documentMode,pa=null,lm=null,Yo=null,cm=!1;function ib(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cm||pa==null||pa!==Iu(s)||(s=pa,"selectionStart"in s&&Wg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Yo&&Al(Yo,s)||(Yo=s,s=Ju(lm,"onSelect"),0<s.length&&(e=new Kd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=pa)))}function hi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Qh={},kC={};lr&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Yi(t){if(Qh[t])return Qh[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kC)return Qh[t]=e[n];return t}var OC=Yi("animationend"),jC=Yi("animationiteration"),IC=Yi("animationstart"),V1=Yi("transitionrun"),F1=Yi("transitionstart"),G1=Yi("transitioncancel"),MC=Yi("transitionend"),PC=new Map,um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");um.push("scrollEnd");function Cs(t,e){PC.set(t,e),Ki(e,[t])}var ab=new WeakMap;function rs(t,e){if(typeof t=="object"&&t!==null){var n=ab.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Gv(e)},ab.set(t,e),e)}return{value:t,source:e,stack:Gv(e)}}var Zn=[],va=0,ep=0;function Qd(){for(var t=va,e=ep=va=0;e<t;){var n=Zn[e];Zn[e++]=null;var s=Zn[e];Zn[e++]=null;var r=Zn[e];Zn[e++]=null;var i=Zn[e];if(Zn[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&DC(n,r,i)}}function Xd(t,e,n,s){Zn[va++]=t,Zn[va++]=e,Zn[va++]=n,Zn[va++]=s,ep|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function tp(t,e,n,s){return Xd(t,e,n,s),Mu(t)}function io(t,e){return Xd(t,null,null,e),Mu(t)}function DC(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-zn(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Mu(t){if(50<rl)throw rl=0,Om=null,Error($(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ba={};function q1(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,s){return new q1(t,e,n,s)}function np(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sr(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function UC(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function au(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")np(t)&&(a=1);else if(typeof t=="string")a=$k(t,n,Is.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Zf:return t=Hn(31,n,e,r),t.elementType=Zf,t.lanes=i,t;case da:return Ni(n.children,r,i,e);case nC:a=8,r|=24;break;case Qf:return t=Hn(12,n,e,r|2),t.elementType=Qf,t.lanes=i,t;case Xf:return t=Hn(13,n,e,r),t.elementType=Xf,t.lanes=i,t;case Jf:return t=Hn(19,n,e,r),t.elementType=Jf,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PR:case Xs:a=10;break e;case sC:a=9;break e;case Vg:a=11;break e;case Fg:a=14;break e;case Ar:a=16,s=null;break e}a=29,n=Error($(130,t===null?"null":typeof t,"")),s=null}return e=Hn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Ni(t,e,n,s){return t=Hn(7,t,s,e),t.lanes=n,t}function Xh(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Jh(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var xa=[],Sa=0,Pu=null,Du=0,es=[],ts=0,_i=null,Js=1,Zs="";function gi(t,e){xa[Sa++]=Du,xa[Sa++]=Pu,Pu=t,Du=e}function LC(t,e,n){es[ts++]=Js,es[ts++]=Zs,es[ts++]=_i,_i=t;var s=Js;t=Zs;var r=32-zn(s)-1;s&=~(1<<r),n+=1;var i=32-zn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Js=1<<32-zn(e)+r|n<<r|s,Zs=i+t}else Js=1<<i|n<<r|s,Zs=t}function sp(t){t.return!==null&&(gi(t,1),LC(t,1,0))}function rp(t){for(;t===Pu;)Pu=xa[--Sa],xa[Sa]=null,Du=xa[--Sa],xa[Sa]=null;for(;t===_i;)_i=es[--ts],es[ts]=null,Zs=es[--ts],es[ts]=null,Js=es[--ts],es[ts]=null}var yn=null,pt=null,Be=!1,Ri=null,_s=!1,dm=Error($(519));function Pi(t){var e=Error($(418,""));throw El(rs(e,t)),dm}function ob(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[on]=t,e[Rn]=s,n){case"dialog":Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":case"embed":Pe("load",e);break;case"video":case"audio":for(n=0;n<Rl.length;n++)Pe(Rl[n],e);break;case"source":Pe("error",e);break;case"img":case"image":case"link":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"input":Pe("invalid",e),pC(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ju(e);break;case"select":Pe("invalid",e);break;case"textarea":Pe("invalid",e),vC(e,s.value,s.defaultValue,s.children),ju(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||bT(e.textContent,n)?(s.popover!=null&&(Pe("beforetoggle",e),Pe("toggle",e)),s.onScroll!=null&&Pe("scroll",e),s.onScrollEnd!=null&&Pe("scrollend",e),s.onClick!=null&&(e.onclick=rh),e=!0):e=!1,e||Pi(t)}function lb(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:yn=yn.return}}function Co(t){if(t!==yn)return!1;if(!Be)return lb(t),Be=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Um(t.type,t.memoizedProps)),n=!n),n&&pt&&Pi(t),lb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){pt=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}pt=null}}else e===27?(e=pt,oi(t.type)?(t=Bm,Bm=null,pt=t):pt=e):pt=yn?ys(t.stateNode.nextSibling):null;return!0}function Wl(){pt=yn=null,Be=!1}function cb(){var t=Ri;return t!==null&&(An===null?An=t:An.push.apply(An,t),Ri=null),t}function El(t){Ri===null?Ri=[t]:Ri.push(t)}var hm=Ls(null),Qi=null,Ws=null;function _r(t,e,n){ht(hm,e._currentValue),e._currentValue=n}function rr(t){t._currentValue=hm.current,Kt(hm)}function fm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function mm(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var c=0;c<e.length;c++)if(o.context===e[c]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),fm(i.return,n,t),s||(a=null);break e}i=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error($(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),fm(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function ec(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error($(387));if(a=a.memoizedProps,a!==null){var o=r.type;Kn(r.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(r===_u.current){if(a=r.alternate,a===null)throw Error($(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}r=r.return}t!==null&&mm(e,t,n,s),e.flags|=262144}function Uu(t){for(t=t.firstContext;t!==null;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Di(t){Qi=t,Ws=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return HC(Qi,t)}function Nc(t,e){return Qi===null&&Di(t),HC(t,e)}function HC(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ws===null){if(t===null)throw Error($(308));Ws=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ws=Ws.next=e;return n}var K1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},$1=Bt.unstable_scheduleCallback,Y1=Bt.unstable_NormalPriority,Dt={$$typeof:Xs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new K1,data:new Map,refCount:0}}function tc(t){t.refCount--,t.refCount===0&&$1(Y1,function(){t.controller.abort()})}var Qo=null,gm=0,Va=0,ka=null;function Q1(t,e){if(Qo===null){var n=Qo=[];gm=0,Va=_p(),ka={status:"pending",value:void 0,then:function(s){n.push(s)}}}return gm++,e.then(ub,ub),e}function ub(){if(--gm===0&&Qo!==null){ka!==null&&(ka.status="fulfilled");var t=Qo;Qo=null,Va=0,ka=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function X1(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var db=Ce.S;Ce.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Q1(t,e),db!==null&&db(t,e)};var ki=Ls(null);function ap(){var t=ki.current;return t!==null?t:st.pooledCache}function ou(t,e){e===null?ht(ki,ki.current):ht(ki,e.pool)}function BC(){var t=ap();return t===null?null:{parent:Dt._currentValue,pool:t}}var nc=Error($(460)),zC=Error($(474)),Jd=Error($(542)),pm={then:function(){}};function hb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _c(){}function VC(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(_c,_c),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mb(t),t;default:if(typeof e.status=="string")e.then(_c,_c);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error($(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,mb(t),t}throw Xo=e,nc}}var Xo=null;function fb(){if(Xo===null)throw Error($(459));var t=Xo;return Xo=null,t}function mb(t){if(t===nc||t===Jd)throw Error($(483))}var Er=!1;function op(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ge&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Mu(t),DC(t,null,n),e}return Xd(t,s,e,n),Mu(t)}function Jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,uC(t,n)}}function Zh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vm=!1;function Zo(){if(vm){var t=ka;if(t!==null)throw t}}function Wo(t,e,n,s){vm=!1;var r=t.updateQueue;Er=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,o=i;do{var m=o.lane&-536870913,f=m!==o.lane;if(f?(Ue&m)===m:(s&m)===m){m!==0&&m===Va&&(vm=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,b=o;m=e;var C=n;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){h=x.call(C,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,m=typeof x=="function"?x.call(C,h,m):x,m==null)break e;h=ot({},h,m);break e;case 2:Er=!0}}m=o.callback,m!==null&&(t.flags|=64,f&&(t.flags|=8192),f=r.callbacks,f===null?r.callbacks=[m]:f.push(m))}else f={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),ei|=a,t.lanes=a,t.memoizedState=h}}function FC(t,e){if(typeof t!="function")throw Error($(191,t));t.call(e)}function GC(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)FC(n[t],e)}var Fa=Ls(null),Lu=Ls(0);function gb(t,e){t=dr,ht(Lu,t),ht(Fa,e),dr=t|e.baseLanes}function bm(){ht(Lu,dr),ht(Fa,Fa.current)}function lp(){dr=Lu.current,Kt(Fa),Kt(Lu)}var Zr=0,Ie=null,Qe=null,_t=null,Hu=!1,Oa=!1,Ui=!1,Bu=0,Nl=0,ja=null,J1=0;function vt(){throw Error($(321))}function cp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kn(t[n],e[n]))return!1;return!0}function up(t,e,n,s,r,i){return Zr=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ce.H=t===null||t.memoizedState===null?Sw:Cw,Ui=!1,i=n(s,r),Ui=!1,Oa&&(i=KC(e,n,s,r)),qC(t),i}function qC(t){Ce.H=zu;var e=Qe!==null&&Qe.next!==null;if(Zr=0,_t=Qe=Ie=null,Hu=!1,Nl=0,ja=null,e)throw Error($(300));t===null||qt||(t=t.dependencies,t!==null&&Uu(t)&&(qt=!0))}function KC(t,e,n,s){Ie=t;var r=0;do{if(Oa&&(ja=null),Nl=0,Oa=!1,25<=r)throw Error($(301));if(r+=1,_t=Qe=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Ce.H=rk,i=e(n,s)}while(Oa);return i}function Z1(){var t=Ce.H,e=t.useState()[0];return e=typeof e.then=="function"?sc(e):e,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),e}function dp(){var t=Bu!==0;return Bu=0,t}function hp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function fp(t){if(Hu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Hu=!1}Zr=0,_t=Qe=Ie=null,Oa=!1,Nl=Bu=0,ja=null}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=t:_t=_t.next=t,_t}function kt(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=_t===null?Ie.memoizedState:_t.next;if(e!==null)_t=e,Qe=t;else{if(t===null)throw Ie.alternate===null?Error($(467)):Error($(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},_t===null?Ie.memoizedState=_t=t:_t=_t.next=t}return _t}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(t){var e=Nl;return Nl+=1,ja===null&&(ja=[]),t=VC(ja,t,e),e=Ie,(_t===null?e.memoizedState:_t.next)===null&&(e=e.alternate,Ce.H=e===null||e.memoizedState===null?Sw:Cw),t}function Zd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sc(t);if(t.$$typeof===Xs)return ln(t)}throw Error($(438,String(t)))}function gp(t){var e=null,n=Ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ie.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=mp(),Ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=DR;return e.index++,n}function cr(t,e){return typeof e=="function"?e(t):e}function lu(t){var e=kt();return pp(e,Qe,t)}function pp(t,e,n){var s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var o=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Ue&h)===h:(Zr&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Va&&(d=!0);else if((Zr&m)===m){u=u.next,m===Va&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,a=i):c=c.next=h,Ie.lanes|=m,ei|=m;h=u.action,Ui&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=m,a=i):c=c.next=m,Ie.lanes|=h,ei|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=o,!Kn(i,t.memoizedState)&&(qt=!0,d&&(n=ka,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Wh(t){var e=kt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Kn(i,e.memoizedState)||(qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function $C(t,e,n){var s=Ie,r=kt(),i=Be;if(i){if(n===void 0)throw Error($(407));n=n()}else n=e();var a=!Kn((Qe||r).memoizedState,n);a&&(r.memoizedState=n,qt=!0),r=r.queue;var o=XC.bind(null,s,r,t);if(rc(2048,8,o,[t]),r.getSnapshot!==e||a||_t!==null&&_t.memoizedState.tag&1){if(s.flags|=2048,Ga(9,Wd(),QC.bind(null,s,r,n,e),null),st===null)throw Error($(349));i||Zr&124||YC(s,e,n)}return n}function YC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e=mp(),Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QC(t,e,n,s){e.value=n,e.getSnapshot=s,JC(e)&&ZC(t)}function XC(t,e,n){return n(function(){JC(e)&&ZC(t)})}function JC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kn(t,n)}catch{return!0}}function ZC(t){var e=io(t,2);e!==null&&Fn(e,t,2)}function xm(t){var e=Cn();if(typeof t=="function"){var n=t;if(t=n(),Ui){Mr(!0);try{n()}finally{Mr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:t},e}function WC(t,e,n,s){return t.baseState=n,pp(t,Qe,typeof s=="function"?s:cr)}function W1(t,e,n,s,r){if(eh(t))throw Error($(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};Ce.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,ew(e,i)):(i.next=n.next,e.pending=n.next=i)}}function ew(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=Ce.T,a={};Ce.T=a;try{var o=n(r,s),c=Ce.S;c!==null&&c(a,o),pb(t,e,o)}catch(u){Sm(t,e,u)}finally{Ce.T=i}}else try{i=n(r,s),pb(t,e,i)}catch(u){Sm(t,e,u)}}function pb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){yb(t,e,s)},function(s){return Sm(t,e,s)}):yb(t,e,n)}function yb(t,e,n){e.status="fulfilled",e.value=n,tw(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ew(t,n)))}function Sm(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,tw(e),e=e.next;while(e!==s)}t.action=null}function tw(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nw(t,e){return e}function vb(t,e){if(Be){var n=st.formState;if(n!==null){e:{var s=Ie;if(Be){if(pt){t:{for(var r=pt,i=_s;r.nodeType!==8;){if(!i){r=null;break t}if(r=ys(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){pt=ys(r.nextSibling),s=r.data==="F!";break e}}Pi(s)}s=!1}s&&(e=n[0])}}return n=Cn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nw,lastRenderedState:e},n.queue=s,n=vw.bind(null,Ie,s),s.dispatch=n,s=xm(!1),i=xp.bind(null,Ie,!1,s.queue),s=Cn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=W1.bind(null,Ie,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function bb(t){var e=kt();return sw(e,Qe,t)}function sw(t,e,n){if(e=pp(t,e,nw)[0],t=lu(cr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=sc(e)}catch(a){throw a===nc?Jd:a}else s=e;e=kt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Ie.flags|=2048,Ga(9,Wd(),ek.bind(null,r,n),null)),[s,i,t]}function ek(t,e){t.action=e}function xb(t){var e=kt(),n=Qe;if(n!==null)return sw(e,n,t);kt(),e=e.memoizedState,n=kt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Ga(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ie.updateQueue,e===null&&(e=mp(),Ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Wd(){return{destroy:void 0,resource:void 0}}function rw(){return kt().memoizedState}function cu(t,e,n,s){var r=Cn();s=s===void 0?null:s,Ie.flags|=t,r.memoizedState=Ga(1|e,Wd(),n,s)}function rc(t,e,n,s){var r=kt();s=s===void 0?null:s;var i=r.memoizedState.inst;Qe!==null&&s!==null&&cp(s,Qe.memoizedState.deps)?r.memoizedState=Ga(e,i,n,s):(Ie.flags|=t,r.memoizedState=Ga(1|e,i,n,s))}function Sb(t,e){cu(8390656,8,t,e)}function iw(t,e){rc(2048,8,t,e)}function aw(t,e){return rc(4,2,t,e)}function ow(t,e){return rc(4,4,t,e)}function lw(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cw(t,e,n){n=n!=null?n.concat([t]):null,rc(4,4,lw.bind(null,e,t),n)}function yp(){}function uw(t,e){var n=kt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&cp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function dw(t,e){var n=kt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&cp(e,s[1]))return s[0];if(s=t(),Ui){Mr(!0);try{t()}finally{Mr(!1)}}return n.memoizedState=[s,e],s}function vp(t,e,n){return n===void 0||Zr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=tT(),Ie.lanes|=t,ei|=t,n)}function hw(t,e,n,s){return Kn(n,e)?n:Fa.current!==null?(t=vp(t,n,s),Kn(t,e)||(qt=!0),t):Zr&42?(t=tT(),Ie.lanes|=t,ei|=t,e):(qt=!0,t.memoizedState=n)}function fw(t,e,n,s,r){var i=ze.p;ze.p=i!==0&&8>i?i:8;var a=Ce.T,o={};Ce.T=o,xp(t,!1,e,n);try{var c=r(),u=Ce.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=X1(c,s);el(t,e,d,Vn(t))}else el(t,e,s,Vn(t))}catch(h){el(t,e,{then:function(){},status:"rejected",reason:h},Vn())}finally{ze.p=i,Ce.T=a}}function tk(){}function Cm(t,e,n,s){if(t.tag!==5)throw Error($(476));var r=mw(t).queue;fw(t,r,e,Ei,n===null?tk:function(){return gw(t),n(s)})}function mw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ei,baseState:Ei,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:Ei},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gw(t){var e=mw(t).next.queue;el(t,e,{},Vn())}function bp(){return ln(jl)}function pw(){return kt().memoizedState}function yw(){return kt().memoizedState}function nk(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Vn();t=Br(n);var s=zr(e,t,n);s!==null&&(Fn(s,e,n),Jo(s,e,n)),e={cache:ip()},t.payload=e;return}e=e.return}}function sk(t,e,n){var s=Vn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},eh(t)?bw(e,n):(n=tp(t,e,n,s),n!==null&&(Fn(n,t,s),xw(n,e,s)))}function vw(t,e,n){var s=Vn();el(t,e,n,s)}function el(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(eh(t))bw(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,Kn(o,a))return Xd(t,e,r,0),st===null&&Qd(),!1}catch{}finally{}if(n=tp(t,e,r,s),n!==null)return Fn(n,t,s),xw(n,e,s),!0}return!1}function xp(t,e,n,s){if(s={lane:2,revertLane:_p(),action:s,hasEagerState:!1,eagerState:null,next:null},eh(t)){if(e)throw Error($(479))}else e=tp(t,n,s,2),e!==null&&Fn(e,t,2)}function eh(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function bw(t,e){Oa=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xw(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,uC(t,n)}}var zu={readContext:ln,use:Zd,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt},Sw={readContext:ln,use:Zd,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:Sb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,cu(4194308,4,lw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){cu(4,2,t,e)},useMemo:function(t,e){var n=Cn();e=e===void 0?null:e;var s=t();if(Ui){Mr(!0);try{t()}finally{Mr(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Cn();if(n!==void 0){var r=n(e);if(Ui){Mr(!0);try{n(e)}finally{Mr(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=sk.bind(null,Ie,t),[s.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:function(t){t=xm(t);var e=t.queue,n=vw.bind(null,Ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:yp,useDeferredValue:function(t,e){var n=Cn();return vp(n,t,e)},useTransition:function(){var t=xm(!1);return t=fw.bind(null,Ie,t.queue,!0,!1),Cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ie,r=Cn();if(Be){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),st===null)throw Error($(349));Ue&124||YC(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Sb(XC.bind(null,s,i,t),[t]),s.flags|=2048,Ga(9,Wd(),QC.bind(null,s,i,n,e),null),n},useId:function(){var t=Cn(),e=st.identifierPrefix;if(Be){var n=Zs,s=Js;n=(s&~(1<<32-zn(s)-1)).toString(32)+n,e=""+e+"R"+n,n=Bu++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=J1++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:bp,useFormState:vb,useActionState:vb,useOptimistic:function(t){var e=Cn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=xp.bind(null,Ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:gp,useCacheRefresh:function(){return Cn().memoizedState=nk.bind(null,Ie)}},Cw={readContext:ln,use:Zd,useCallback:uw,useContext:ln,useEffect:iw,useImperativeHandle:cw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:dw,useReducer:lu,useRef:rw,useState:function(){return lu(cr)},useDebugValue:yp,useDeferredValue:function(t,e){var n=kt();return hw(n,Qe.memoizedState,t,e)},useTransition:function(){var t=lu(cr)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:sc(t),e]},useSyncExternalStore:$C,useId:pw,useHostTransitionStatus:bp,useFormState:bb,useActionState:bb,useOptimistic:function(t,e){var n=kt();return WC(n,Qe,t,e)},useMemoCache:gp,useCacheRefresh:yw},rk={readContext:ln,use:Zd,useCallback:uw,useContext:ln,useEffect:iw,useImperativeHandle:cw,useInsertionEffect:aw,useLayoutEffect:ow,useMemo:dw,useReducer:Wh,useRef:rw,useState:function(){return Wh(cr)},useDebugValue:yp,useDeferredValue:function(t,e){var n=kt();return Qe===null?vp(n,t,e):hw(n,Qe.memoizedState,t,e)},useTransition:function(){var t=Wh(cr)[0],e=kt().memoizedState;return[typeof t=="boolean"?t:sc(t),e]},useSyncExternalStore:$C,useId:pw,useHostTransitionStatus:bp,useFormState:xb,useActionState:xb,useOptimistic:function(t,e){var n=kt();return Qe!==null?WC(n,Qe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:gp,useCacheRefresh:yw},Ia=null,_l=0;function Rc(t){var e=_l;return _l+=1,Ia===null&&(Ia=[]),VC(Ia,t,e)}function wo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function kc(t,e){throw e.$$typeof===MR?Error($(525)):(t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Cb(t){var e=t._init;return e(t._payload)}function ww(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function s(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function r(y,p){return y=sr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=67108866,p):g):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,p,g,v){return p===null||p.tag!==6?(p=Xh(g,y.mode,v),p.return=y,p):(p=r(p,g),p.return=y,p)}function c(y,p,g,v){var w=g.type;return w===da?d(y,p,g.props.children,v,g.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ar&&Cb(w)===p.type)?(p=r(p,g.props),wo(p,g),p.return=y,p):(p=au(g.type,g.key,g.props,null,y.mode,v),wo(p,g),p.return=y,p)}function u(y,p,g,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Jh(g,y.mode,v),p.return=y,p):(p=r(p,g.children||[]),p.return=y,p)}function d(y,p,g,v,w){return p===null||p.tag!==7?(p=Ni(g,y.mode,v,w),p.return=y,p):(p=r(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Xh(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Cc:return g=au(p.type,p.key,p.props,null,y.mode,g),wo(g,p),g.return=y,g;case Uo:return p=Jh(p,y.mode,g),p.return=y,p;case Ar:var v=p._init;return p=v(p._payload),h(y,p,g)}if(Lo(p)||bo(p))return p=Ni(p,y.mode,g,null),p.return=y,p;if(typeof p.then=="function")return h(y,Rc(p),g);if(p.$$typeof===Xs)return h(y,Nc(y,p),g);kc(y,p)}return null}function m(y,p,g,v){var w=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:o(y,p,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cc:return g.key===w?c(y,p,g,v):null;case Uo:return g.key===w?u(y,p,g,v):null;case Ar:return w=g._init,g=w(g._payload),m(y,p,g,v)}if(Lo(g)||bo(g))return w!==null?null:d(y,p,g,v,null);if(typeof g.then=="function")return m(y,p,Rc(g),v);if(g.$$typeof===Xs)return m(y,p,Nc(y,g),v);kc(y,g)}return null}function f(y,p,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(g)||null,o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cc:return y=y.get(v.key===null?g:v.key)||null,c(p,y,v,w);case Uo:return y=y.get(v.key===null?g:v.key)||null,u(p,y,v,w);case Ar:var N=v._init;return v=N(v._payload),f(y,p,g,v,w)}if(Lo(v)||bo(v))return y=y.get(g)||null,d(p,y,v,w,null);if(typeof v.then=="function")return f(y,p,g,Rc(v),w);if(v.$$typeof===Xs)return f(y,p,g,Nc(p,v),w);kc(p,v)}return null}function x(y,p,g,v){for(var w=null,N=null,T=p,_=p=0,A=null;T!==null&&_<g.length;_++){T.index>_?(A=T,T=null):A=T.sibling;var k=m(y,T,g[_],v);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(y,T),p=i(k,p,_),N===null?w=k:N.sibling=k,N=k,T=A}if(_===g.length)return n(y,T),Be&&gi(y,_),w;if(T===null){for(;_<g.length;_++)T=h(y,g[_],v),T!==null&&(p=i(T,p,_),N===null?w=T:N.sibling=T,N=T);return Be&&gi(y,_),w}for(T=s(T);_<g.length;_++)A=f(T,y,_,g[_],v),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?_:A.key),p=i(A,p,_),N===null?w=A:N.sibling=A,N=A);return t&&T.forEach(function(P){return e(y,P)}),Be&&gi(y,_),w}function b(y,p,g,v){if(g==null)throw Error($(151));for(var w=null,N=null,T=p,_=p=0,A=null,k=g.next();T!==null&&!k.done;_++,k=g.next()){T.index>_?(A=T,T=null):A=T.sibling;var P=m(y,T,k.value,v);if(P===null){T===null&&(T=A);break}t&&T&&P.alternate===null&&e(y,T),p=i(P,p,_),N===null?w=P:N.sibling=P,N=P,T=A}if(k.done)return n(y,T),Be&&gi(y,_),w;if(T===null){for(;!k.done;_++,k=g.next())k=h(y,k.value,v),k!==null&&(p=i(k,p,_),N===null?w=k:N.sibling=k,N=k);return Be&&gi(y,_),w}for(T=s(T);!k.done;_++,k=g.next())k=f(T,y,_,k.value,v),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?_:k.key),p=i(k,p,_),N===null?w=k:N.sibling=k,N=k);return t&&T.forEach(function(R){return e(y,R)}),Be&&gi(y,_),w}function C(y,p,g,v){if(typeof g=="object"&&g!==null&&g.type===da&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Cc:e:{for(var w=g.key;p!==null;){if(p.key===w){if(w=g.type,w===da){if(p.tag===7){n(y,p.sibling),v=r(p,g.props.children),v.return=y,y=v;break e}}else if(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ar&&Cb(w)===p.type){n(y,p.sibling),v=r(p,g.props),wo(v,g),v.return=y,y=v;break e}n(y,p);break}else e(y,p);p=p.sibling}g.type===da?(v=Ni(g.props.children,y.mode,v,g.key),v.return=y,y=v):(v=au(g.type,g.key,g.props,null,y.mode,v),wo(v,g),v.return=y,y=v)}return a(y);case Uo:e:{for(w=g.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),v=r(p,g.children||[]),v.return=y,y=v;break e}else{n(y,p);break}else e(y,p);p=p.sibling}v=Jh(g,y.mode,v),v.return=y,y=v}return a(y);case Ar:return w=g._init,g=w(g._payload),C(y,p,g,v)}if(Lo(g))return x(y,p,g,v);if(bo(g)){if(w=bo(g),typeof w!="function")throw Error($(150));return g=w.call(g),b(y,p,g,v)}if(typeof g.then=="function")return C(y,p,Rc(g),v);if(g.$$typeof===Xs)return C(y,p,Nc(y,g),v);kc(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),v=r(p,g),v.return=y,y=v):(n(y,p),v=Xh(g,y.mode,v),v.return=y,y=v),a(y)):n(y,p)}return function(y,p,g,v){try{_l=0;var w=C(y,p,g,v);return Ia=null,w}catch(T){if(T===nc||T===Jd)throw T;var N=Hn(29,T,null,y.mode);return N.lanes=v,N.return=y,N}finally{}}}var qa=ww(!0),Tw=ww(!1),as=Ls(null),Ps=null;function Rr(t){var e=t.alternate;ht(Ut,Ut.current&1),ht(as,t),Ps===null&&(e===null||Fa.current!==null||e.memoizedState!==null)&&(Ps=t)}function Aw(t){if(t.tag===22){if(ht(Ut,Ut.current),ht(as,t),Ps===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ps=t)}}else kr()}function kr(){ht(Ut,Ut.current),ht(as,as.current)}function er(t){Kt(as),Ps===t&&(Ps=null),Kt(Ut)}var Ut=Ls(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Hm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ef(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wm={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Vn(),r=Br(s);r.payload=e,n!=null&&(r.callback=n),e=zr(t,r,s),e!==null&&(Fn(e,t,s),Jo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Vn(),r=Br(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=zr(t,r,s),e!==null&&(Fn(e,t,s),Jo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vn(),s=Br(n);s.tag=2,e!=null&&(s.callback=e),e=zr(t,s,n),e!==null&&(Fn(e,t,n),Jo(e,t,n))}};function wb(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Al(n,s)||!Al(r,i):!0}function Tb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&wm.enqueueReplaceState(e,e.state,null)}function Li(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=ot({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ew(t){Fu(t)}function Nw(t){console.error(t)}function _w(t){Fu(t)}function Gu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Ab(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Tm(t,e,n){return n=Br(n),n.tag=3,n.payload={element:null},n.callback=function(){Gu(t,e)},n}function Rw(t){return t=Br(t),t.tag=3,t}function kw(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){Ab(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Ab(e,n,s),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function ik(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&ec(e,n,r,!0),n=as.current,n!==null){switch(n.tag){case 13:return Ps===null?jm():n.alternate===null&&yt===0&&(yt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===pm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),hf(t,s,r)),!1;case 22:return n.flags|=65536,s===pm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),hf(t,s,r)),!1}throw Error($(435,n.tag))}return hf(t,s,r),jm(),!1}if(Be)return e=as.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==dm&&(t=Error($(422),{cause:s}),El(rs(t,n)))):(s!==dm&&(e=Error($(423),{cause:s}),El(rs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=rs(s,n),r=Tm(t.stateNode,s,r),Zh(t,r),yt!==4&&(yt=2)),!1;var i=Error($(520),{cause:s});if(i=rs(i,n),sl===null?sl=[i]:sl.push(i),yt!==4&&(yt=2),e===null)return!0;s=rs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Tm(n.stateNode,s,t),Zh(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Vr===null||!Vr.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Rw(r),kw(r,t,n,s),Zh(n,r),!1}n=n.return}while(n!==null);return!1}var Ow=Error($(461)),qt=!1;function Zt(t,e,n,s){e.child=t===null?Tw(e,null,n,s):qa(e,t.child,n,s)}function Eb(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return Di(e),s=up(t,e,n,a,i,r),o=dp(),t!==null&&!qt?(hp(t,e,r),ur(t,e,r)):(Be&&o&&sp(e),e.flags|=1,Zt(t,e,s,r),e.child)}function Nb(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!np(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,jw(t,e,i,s,r)):(t=au(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Sp(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(a,s)&&t.ref===e.ref)return ur(t,e,r)}return e.flags|=1,t=sr(i,s),t.ref=e.ref,t.return=e,e.child=t}function jw(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Al(i,s)&&t.ref===e.ref)if(qt=!1,e.pendingProps=s=i,Sp(t,r))t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,ur(t,e,r)}return Am(t,e,n,s,r)}function Iw(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return _b(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ou(e,i!==null?i.cachePool:null),i!==null?gb(e,i):bm(),Aw(e);else return e.lanes=e.childLanes=536870912,_b(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(ou(e,i.cachePool),gb(e,i),kr(),e.memoizedState=null):(t!==null&&ou(e,null),bm(),kr());return Zt(t,e,r,n),e.child}function _b(t,e,n,s){var r=ap();return r=r===null?null:{parent:Dt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&ou(e,null),bm(),Aw(e),t!==null&&ec(t,e,s,!0),null}function uu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Am(t,e,n,s,r){return Di(e),n=up(t,e,n,s,void 0,r),s=dp(),t!==null&&!qt?(hp(t,e,r),ur(t,e,r)):(Be&&s&&sp(e),e.flags|=1,Zt(t,e,n,r),e.child)}function Rb(t,e,n,s,r,i){return Di(e),e.updateQueue=null,n=KC(e,s,n,r),qC(t),s=dp(),t!==null&&!qt?(hp(t,e,i),ur(t,e,i)):(Be&&s&&sp(e),e.flags|=1,Zt(t,e,n,i),e.child)}function kb(t,e,n,s,r){if(Di(e),e.stateNode===null){var i=ba,a=n.contextType;typeof a=="object"&&a!==null&&(i=ln(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=wm,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},op(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?ln(a):ba,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ef(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&wm.enqueueReplaceState(i,i.state,null),Wo(e,s,i,r),Zo(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,c=Li(n,o);i.props=c;var u=i.context,d=n.contextType;a=ba,typeof d=="object"&&d!==null&&(a=ln(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==a)&&Tb(e,i,s,a),Er=!1;var m=e.memoizedState;i.state=m,Wo(e,s,i,r),Zo(),u=e.memoizedState,o||m!==u||Er?(typeof h=="function"&&(ef(e,n,h,s),u=e.memoizedState),(c=Er||wb(e,n,c,s,m,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,ym(t,e),a=e.memoizedProps,d=Li(n,a),i.props=d,h=e.pendingProps,m=i.context,u=n.contextType,c=ba,typeof u=="object"&&u!==null&&(c=ln(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==c)&&Tb(e,i,s,c),Er=!1,m=e.memoizedState,i.state=m,Wo(e,s,i,r),Zo();var f=e.memoizedState;a!==h||m!==f||Er||t!==null&&t.dependencies!==null&&Uu(t.dependencies)?(typeof o=="function"&&(ef(e,n,o,s),f=e.memoizedState),(d=Er||wb(e,n,d,s,m,f,c)||t!==null&&t.dependencies!==null&&Uu(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,f,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,f,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=f),i.props=s,i.state=f,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,uu(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=qa(e,t.child,null,r),e.child=qa(e,null,n,r)):Zt(t,e,n,r),e.memoizedState=i.state,t=e.child):t=ur(t,e,r),t}function Ob(t,e,n,s){return Wl(),e.flags|=256,Zt(t,e,n,s),e.child}var tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nf(t){return{baseLanes:t,cachePool:BC()}}function sf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=is),t}function Mw(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Be){if(r?Rr(e):kr(),Be){var o=pt,c;if(c=o){e:{for(c=o,o=_s;c.nodeType!==8;){if(!o){o=null;break e}if(c=ys(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:_i!==null?{id:Js,overflow:Zs}:null,retryLane:536870912,hydrationErrors:null},c=Hn(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,yn=e,pt=null,c=!0):c=!1}c||Pi(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Hm(o)?e.lanes=32:e.lanes=536870912,null;er(e)}return o=s.children,s=s.fallback,r?(kr(),r=e.mode,o=qu({mode:"hidden",children:o},r),s=Ni(s,r,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,r=e.child,r.memoizedState=nf(n),r.childLanes=sf(t,a,n),e.memoizedState=tf,s):(Rr(e),Em(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(i)e.flags&256?(Rr(e),e.flags&=-257,e=rf(t,e,n)):e.memoizedState!==null?(kr(),e.child=t.child,e.flags|=128,e=null):(kr(),r=s.fallback,o=e.mode,s=qu({mode:"visible",children:s.children},o),r=Ni(r,o,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,qa(e,t.child,null,n),s=e.child,s.memoizedState=nf(n),s.childLanes=sf(t,a,n),e.memoizedState=tf,e=r);else if(Rr(e),Hm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error($(419)),s.stack="",s.digest=a,El({value:s,source:null,stack:null}),e=rf(t,e,n)}else if(qt||ec(t,e,n,!1),a=(n&t.childLanes)!==0,qt||a){if(a=st,a!==null&&(s=n&-n,s=s&42?1:qg(s),s=s&(a.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,io(t,s),Fn(a,t,s),Ow;o.data==="$?"||jm(),e=rf(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,pt=ys(o.nextSibling),yn=e,Be=!0,Ri=null,_s=!1,t!==null&&(es[ts++]=Js,es[ts++]=Zs,es[ts++]=_i,Js=t.id,Zs=t.overflow,_i=e),e=Em(e,s.children),e.flags|=4096);return e}return r?(kr(),r=s.fallback,o=e.mode,c=t.child,u=c.sibling,s=sr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=sr(u,r):(r=Ni(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o===null?o=nf(n):(c=o.cachePool,c!==null?(u=Dt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=BC(),o={baseLanes:o.baseLanes|n,cachePool:c}),r.memoizedState=o,r.childLanes=sf(t,a,n),e.memoizedState=tf,s):(Rr(e),n=t.child,t=n.sibling,n=sr(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Em(t,e){return e=qu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function qu(t,e){return t=Hn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function rf(t,e,n){return qa(e,t.child,null,n),t=Em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jb(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),fm(t.return,e,n)}function af(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Pw(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Zt(t,e,s.children,n),s=Ut.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jb(t,n,e);else if(t.tag===19)jb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(ht(Ut,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),af(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}af(e,!0,n,null,i);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ur(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))if(t!==null){if(ec(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Uu(t)))}function ak(t,e,n){switch(e.tag){case 3:Ru(e,e.stateNode.containerInfo),_r(e,Dt,t.memoizedState.cache),Wl();break;case 27:case 5:tm(e);break;case 4:Ru(e,e.stateNode.containerInfo);break;case 10:_r(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Rr(e),e.flags|=128,null):n&e.child.childLanes?Mw(t,e,n):(Rr(e),t=ur(t,e,n),t!==null?t.sibling:null);Rr(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(ec(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return Pw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ht(Ut,Ut.current),s)break;return null;case 22:case 23:return e.lanes=0,Iw(t,e,n);case 24:_r(e,Dt,t.memoizedState.cache)}return ur(t,e,n)}function Dw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)qt=!0;else{if(!Sp(t,n)&&!(e.flags&128))return qt=!1,ak(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Be&&e.flags&1048576&&LC(e,Du,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")np(s)?(t=Li(s,t),e.tag=1,e=kb(null,e,s,t,n)):(e.tag=0,e=Am(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Vg){e.tag=11,e=Eb(null,e,s,t,n);break e}else if(r===Fg){e.tag=14,e=Nb(null,e,s,t,n);break e}}throw e=Wf(s)||s,Error($(306,e,""))}}return e;case 0:return Am(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Li(s,e.pendingProps),kb(t,e,s,r,n);case 3:e:{if(Ru(e,e.stateNode.containerInfo),t===null)throw Error($(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,ym(t,e),Wo(e,s,null,n);var a=e.memoizedState;if(s=a.cache,_r(e,Dt,s),s!==i.cache&&mm(e,[Dt],n,!0),Zo(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Ob(t,e,s,n);break e}else if(s!==r){r=rs(Error($(424)),e),El(r),e=Ob(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=ys(t.firstChild),yn=e,Be=!0,Ri=null,_s=!0,n=Tw(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wl(),s===r){e=ur(t,e,n);break e}Zt(t,e,s,n)}e=e.child}return e;case 26:return uu(t,e),t===null?(n=Qb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Be||(n=e.type,t=e.pendingProps,s=Zu(Hr.current).createElement(n),s[on]=e,s[Rn]=t,tn(s,n,t),Gt(s),e.stateNode=s):e.memoizedState=Qb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return tm(e),t===null&&Be&&(s=e.stateNode=CT(e.type,e.pendingProps,Hr.current),yn=e,_s=!0,r=pt,oi(e.type)?(Bm=r,pt=ys(s.firstChild)):pt=r),Zt(t,e,e.pendingProps.children,n),uu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Be&&((r=s=pt)&&(s=Mk(s,e.type,e.pendingProps,_s),s!==null?(e.stateNode=s,yn=e,pt=ys(s.firstChild),_s=!1,r=!0):r=!1),r||Pi(e)),tm(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Um(r,i)?s=null:a!==null&&Um(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=up(t,e,Z1,null,null,n),jl._currentValue=r),uu(t,e),Zt(t,e,s,n),e.child;case 6:return t===null&&Be&&((t=n=pt)&&(n=Pk(n,e.pendingProps,_s),n!==null?(e.stateNode=n,yn=e,pt=null,t=!0):t=!1),t||Pi(e)),null;case 13:return Mw(t,e,n);case 4:return Ru(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=qa(e,null,s,n):Zt(t,e,s,n),e.child;case 11:return Eb(t,e,e.type,e.pendingProps,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,_r(e,e.type,s.value),Zt(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Di(e),r=ln(r),s=s(r),e.flags|=1,Zt(t,e,s,n),e.child;case 14:return Nb(t,e,e.type,e.pendingProps,n);case 15:return jw(t,e,e.type,e.pendingProps,n);case 19:return Pw(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=qu(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=sr(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Iw(t,e,n);case 24:return Di(e),s=ln(Dt),t===null?(r=ap(),r===null&&(r=st,i=ip(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},op(e),_r(e,Dt,r)):(t.lanes&n&&(ym(t,e),Wo(e,null,null,n),Zo()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),_r(e,Dt,s)):(s=i.cache,_r(e,Dt,s),s!==r.cache&&mm(e,[Dt],n,!0))),Zt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error($(156,e.tag))}function Vs(t){t.flags|=4}function Ib(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!AT(e)){if(e=as.current,e!==null&&((Ue&4194048)===Ue?Ps!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||e!==Ps))throw Xo=pm,zC;t.flags|=8192}}function Oc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lC():536870912,t.lanes|=e,Ka|=e)}function To(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ok(t,e,n){var s=e.pendingProps;switch(rp(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return ft(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),rr(Dt),Ha(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Co(e)?Vs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cb())),ft(e),null;case 26:return n=e.memoizedState,t===null?(Vs(e),n!==null?(ft(e),Ib(e,n)):(ft(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Vs(e),ft(e),Ib(e,n)):(ft(e),e.flags&=-16777217):(t.memoizedProps!==s&&Vs(e),ft(e),e.flags&=-16777217),null;case 27:ku(e),n=Hr.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Vs(e);else{if(!s){if(e.stateNode===null)throw Error($(166));return ft(e),null}t=Is.current,Co(e)?ob(e):(t=CT(r,s,n),e.stateNode=t,Vs(e))}return ft(e),null;case 5:if(ku(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Vs(e);else{if(!s){if(e.stateNode===null)throw Error($(166));return ft(e),null}if(t=Is.current,Co(e))ob(e);else{switch(r=Zu(Hr.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[on]=e,t[Rn]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(tn(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vs(e)}}return ft(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Vs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error($(166));if(t=Hr.current,Co(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=yn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[on]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||bT(t.nodeValue,n)),t||Pi(e)}else t=Zu(t).createTextNode(s),t[on]=e,e.stateNode=t}return ft(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Co(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error($(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error($(317));r[on]=e}else Wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),r=!1}else r=cb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(er(e),e):(er(e),null)}if(er(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Oc(e,e.updateQueue),ft(e),null;case 4:return Ha(),t===null&&Rp(e.stateNode.containerInfo),ft(e),null;case 10:return rr(e.type),ft(e),null;case 19:if(Kt(Ut),r=e.memoizedState,r===null)return ft(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)To(r,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Vu(t),i!==null){for(e.flags|=128,To(r,!1),t=i.updateQueue,e.updateQueue=t,Oc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)UC(n,t),n=n.sibling;return ht(Ut,Ut.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ms()>$u&&(e.flags|=128,s=!0,To(r,!1),e.lanes=4194304)}else{if(!s)if(t=Vu(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Oc(e,t),To(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Be)return ft(e),null}else 2*Ms()-r.renderingStartTime>$u&&n!==536870912&&(e.flags|=128,s=!0,To(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ms(),e.sibling=null,t=Ut.current,ht(Ut,s?t&1|2:t&1),e):(ft(e),null);case 22:case 23:return er(e),lp(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),n=e.updateQueue,n!==null&&Oc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Kt(ki),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),rr(Dt),ft(e),null;case 25:return null;case 30:return null}throw Error($(156,e.tag))}function lk(t,e){switch(rp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(Dt),Ha(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ku(e),null;case 13:if(er(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(Ut),null;case 4:return Ha(),null;case 10:return rr(e.type),null;case 22:case 23:return er(e),lp(),t!==null&&Kt(ki),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return rr(Dt),null;case 25:return null;default:return null}}function Uw(t,e){switch(rp(e),e.tag){case 3:rr(Dt),Ha();break;case 26:case 27:case 5:ku(e);break;case 4:Ha();break;case 13:er(e);break;case 19:Kt(Ut);break;case 10:rr(e.type);break;case 22:case 23:er(e),lp(),t!==null&&Kt(ki);break;case 24:rr(Dt)}}function ic(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(o){et(e,e.return,o)}}function Wr(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var c=n,u=o;try{u()}catch(d){et(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){et(e,e.return,d)}}function Lw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{GC(e,n)}catch(s){et(t,t.return,s)}}}function Hw(t,e,n){n.props=Li(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){et(t,e,s)}}function tl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){et(t,e,r)}}function Os(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){et(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Bw(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){et(t,t.return,r)}}function of(t,e,n){try{var s=t.stateNode;Rk(s,t.type,n,e),s[Rn]=e}catch(r){et(t,t.return,r)}}function zw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rh));else if(s!==4&&(s===27&&oi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Nm(t,e,n),t=t.sibling;t!==null;)Nm(t,e,n),t=t.sibling}function Ku(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&oi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}function Vw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);tn(e,s,n),e[on]=t,e[Rn]=n}catch(i){et(t,t.return,i)}}var Qs=!1,bt=!1,cf=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function ck(t,e){if(t=t.containerInfo,Pm=nd,t=RC(t),Wg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(o=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===n&&++u===r&&(o=a),m===i&&++d===s&&(c=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dm={focusedElem:t,selectionRange:n},nd=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){switch(e=Ft,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var x=Li(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(x,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(b){et(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Lm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error($(163))}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}}function Fw(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:vr(t,n),s&4&&ic(5,n);break;case 1:if(vr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){et(n,n.return,a)}else{var r=Li(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){et(n,n.return,a)}}s&64&&Lw(n),s&512&&tl(n,n.return);break;case 3:if(vr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{GC(t,e)}catch(a){et(n,n.return,a)}}break;case 27:e===null&&s&4&&Vw(n);case 26:case 5:vr(t,n),e===null&&s&4&&Bw(n),s&512&&tl(n,n.return);break;case 12:vr(t,n);break;case 13:vr(t,n),s&4&&Kw(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=vk.bind(null,n),Dk(t,n))));break;case 22:if(s=n.memoizedState!==null||Qs,!s){e=e!==null&&e.memoizedState!==null||bt,r=Qs;var i=bt;Qs=s,(bt=e)&&!i?Cr(t,n,(n.subtreeFlags&8772)!==0):vr(t,n),Qs=r,bt=i}break;case 30:break;default:vr(t,n)}}function Gw(t){var e=t.alternate;e!==null&&(t.alternate=null,Gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&$g(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,wn=!1;function Fs(t,e,n){for(n=n.child;n!==null;)qw(t,e,n),n=n.sibling}function qw(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 26:bt||Os(n,e),Fs(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:bt||Os(n,e);var s=ct,r=wn;oi(n.type)&&(ct=n.stateNode,wn=!1),Fs(t,e,n),il(n.stateNode),ct=s,wn=r;break;case 5:bt||Os(n,e);case 6:if(s=ct,r=wn,ct=null,Fs(t,e,n),ct=s,wn=r,ct!==null)if(wn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(n.stateNode)}catch(i){et(n,e,i)}else try{ct.removeChild(n.stateNode)}catch(i){et(n,e,i)}break;case 18:ct!==null&&(wn?(t=ct,Kb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Pl(t)):Kb(ct,n.stateNode));break;case 4:s=ct,r=wn,ct=n.stateNode.containerInfo,wn=!0,Fs(t,e,n),ct=s,wn=r;break;case 0:case 11:case 14:case 15:bt||Wr(2,n,e),bt||Wr(4,n,e),Fs(t,e,n);break;case 1:bt||(Os(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Hw(n,e,s)),Fs(t,e,n);break;case 21:Fs(t,e,n);break;case 22:bt=(s=bt)||n.memoizedState!==null,Fs(t,e,n),bt=s;break;default:Fs(t,e,n)}}function Kw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(n){et(e,e.return,n)}}function uk(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Mb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Mb),e;default:throw Error($(435,t.tag))}}function uf(t,e){var n=uk(t);e.forEach(function(s){var r=bk.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function Pn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(oi(o.type)){ct=o.stateNode,wn=!1;break e}break;case 5:ct=o.stateNode,wn=!1;break e;case 3:case 4:ct=o.stateNode.containerInfo,wn=!0;break e}o=o.return}if(ct===null)throw Error($(160));qw(i,a,r),ct=null,wn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)$w(e,t),e=e.sibling}var us=null;function $w(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(e,t),Dn(t),s&4&&(Wr(3,t,t.return),ic(3,t),Wr(5,t,t.return));break;case 1:Pn(e,t),Dn(t),s&512&&(bt||n===null||Os(n,n.return)),s&64&&Qs&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=us;if(Pn(e,t),Dn(t),s&512&&(bt||n===null||Os(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Jl]||i[on]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),tn(i,s,n),i[on]=t,Gt(i),s=i;break e;case"link":var a=Jb("link","href",r).get(s+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(i=a[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}i=r.createElement(s),tn(i,s,n),r.head.appendChild(i);break;case"meta":if(a=Jb("meta","content",r).get(s+(n.content||""))){for(o=0;o<a.length;o++)if(i=a[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}i=r.createElement(s),tn(i,s,n),r.head.appendChild(i);break;default:throw Error($(468,s))}i[on]=t,Gt(i),s=i}t.stateNode=s}else Zb(r,t.type,t.stateNode);else t.stateNode=Xb(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?Zb(r,t.type,t.stateNode):Xb(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&of(t,t.memoizedProps,n.memoizedProps)}break;case 27:Pn(e,t),Dn(t),s&512&&(bt||n===null||Os(n,n.return)),n!==null&&s&4&&of(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Pn(e,t),Dn(t),s&512&&(bt||n===null||Os(n,n.return)),t.flags&32){r=t.stateNode;try{za(r,"")}catch(f){et(t,t.return,f)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,of(t,r,n!==null?n.memoizedProps:r)),s&1024&&(cf=!0);break;case 6:if(Pn(e,t),Dn(t),s&4){if(t.stateNode===null)throw Error($(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(f){et(t,t.return,f)}}break;case 3:if(fu=null,r=us,us=Wu(e.containerInfo),Pn(e,t),us=r,Dn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Pl(e.containerInfo)}catch(f){et(t,t.return,f)}cf&&(cf=!1,Yw(t));break;case 4:s=us,us=Wu(t.stateNode.containerInfo),Pn(e,t),Dn(t),us=s;break;case 12:Pn(e,t),Dn(t);break;case 13:Pn(e,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ep=Ms()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,uf(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Qs,d=bt;if(Qs=u||r,bt=d||c,Pn(e,t),bt=d,Qs=u,Dn(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||Qs||bt||pi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(f){et(c,c.return,f)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){et(c,c.return,f)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,uf(t,n))));break;case 19:Pn(e,t),Dn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,uf(t,s)));break;case 30:break;case 21:break;default:Pn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(zw(s)){n=s;break}s=s.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var r=n.stateNode,i=lf(t);Ku(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(za(a,""),n.flags&=-33);var o=lf(t);Ku(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=lf(t);Nm(t,u,c);break;default:throw Error($(161))}}catch(d){et(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Yw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Fw(t,e.alternate,e),e=e.sibling}function pi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Wr(4,e,e.return),pi(e);break;case 1:Os(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Hw(e,e.return,n),pi(e);break;case 27:il(e.stateNode);case 26:case 5:Os(e,e.return),pi(e);break;case 22:e.memoizedState===null&&pi(e);break;case 30:pi(e);break;default:pi(e)}t=t.sibling}}function Cr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(r,i,n),ic(4,i);break;case 1:if(Cr(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){et(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var o=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)FC(c[r],o)}catch(u){et(s,s.return,u)}}n&&a&64&&Lw(i),tl(i,i.return);break;case 27:Vw(i);case 26:case 5:Cr(r,i,n),n&&s===null&&a&4&&Bw(i),tl(i,i.return);break;case 12:Cr(r,i,n);break;case 13:Cr(r,i,n),n&&a&4&&Kw(r,i);break;case 22:i.memoizedState===null&&Cr(r,i,n),tl(i,i.return);break;case 30:break;default:Cr(r,i,n)}e=e.sibling}}function Cp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&tc(n))}function wp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tc(t))}function Ts(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qw(t,e,n,s),e=e.sibling}function Qw(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Ts(t,e,n,s),r&2048&&ic(9,e);break;case 1:Ts(t,e,n,s);break;case 3:Ts(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tc(t)));break;case 12:if(r&2048){Ts(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,o=i.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){et(e,e.return,c)}}else Ts(t,e,n,s);break;case 13:Ts(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?Ts(t,e,n,s):nl(t,e):i._visibility&2?Ts(t,e,n,s):(i._visibility|=2,oa(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&Cp(a,e);break;case 24:Ts(t,e,n,s),r&2048&&wp(e.alternate,e);break;default:Ts(t,e,n,s)}}function oa(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,a=e,o=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:oa(i,a,o,c,r),ic(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?oa(i,a,o,c,r):nl(i,a):(d._visibility|=2,oa(i,a,o,c,r)),r&&u&2048&&Cp(a.alternate,a);break;case 24:oa(i,a,o,c,r),r&&u&2048&&wp(a.alternate,a);break;default:oa(i,a,o,c,r)}e=e.sibling}}function nl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:nl(n,s),r&2048&&Cp(s.alternate,s);break;case 24:nl(n,s),r&2048&&wp(s.alternate,s);break;default:nl(n,s)}e=e.sibling}}var Bo=8192;function ta(t){if(t.subtreeFlags&Bo)for(t=t.child;t!==null;)Xw(t),t=t.sibling}function Xw(t){switch(t.tag){case 26:ta(t),t.flags&Bo&&t.memoizedState!==null&&Qk(us,t.memoizedState,t.memoizedProps);break;case 5:ta(t);break;case 3:case 4:var e=us;us=Wu(t.stateNode.containerInfo),ta(t),us=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Bo,Bo=16777216,ta(t),Bo=e):ta(t));break;default:ta(t)}}function Jw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ao(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Ft=s,Ww(s,t)}Jw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zw(t),t=t.sibling}function Zw(t){switch(t.tag){case 0:case 11:case 15:Ao(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:Ao(t);break;case 12:Ao(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,du(t)):Ao(t);break;default:Ao(t)}}function du(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Ft=s,Ww(s,t)}Jw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Wr(8,e,e.return),du(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,du(e));break;default:du(e)}t=t.sibling}}function Ww(t,e){for(;Ft!==null;){var n=Ft;switch(n.tag){case 0:case 11:case 15:Wr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:tc(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ft=s;else e:for(n=t;Ft!==null;){s=Ft;var r=s.sibling,i=s.return;if(Gw(s),s===n){Ft=null;break e}if(r!==null){r.return=i,Ft=r;break e}Ft=i}}}var dk={getCacheForType:function(t){var e=ln(Dt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},hk=typeof WeakMap=="function"?WeakMap:Map,Ge=0,st=null,De=null,Ue=0,Ve=0,Ln=null,Dr=!1,ao=!1,Tp=!1,dr=0,yt=0,ei=0,Oi=0,Ap=0,is=0,Ka=0,sl=null,An=null,_m=!1,Ep=0,$u=1/0,Yu=null,Vr=null,en=0,Fr=null,$a=null,Ma=0,Rm=0,km=null,eT=null,rl=0,Om=null;function Vn(){if(Ge&2&&Ue!==0)return Ue&-Ue;if(Ce.T!==null){var t=Va;return t!==0?t:_p()}return dC()}function tT(){is===0&&(is=!(Ue&536870912)||Be?oC():536870912);var t=as.current;return t!==null&&(t.flags|=32),is}function Fn(t,e,n){(t===st&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Ur(t,Ue,is,!1)),Xl(t,n),(!(Ge&2)||t!==st)&&(t===st&&(!(Ge&2)&&(Oi|=n),yt===4&&Ur(t,Ue,is,!1)),Hs(t))}function nT(t,e,n){if(Ge&6)throw Error($(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ql(t,e),r=s?gk(t,e):df(t,e,!0),i=s;do{if(r===0){ao&&!s&&Ur(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!fk(n)){r=df(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;r=sl;var c=o.current.memoizedState.isDehydrated;if(c&&(Ya(o,a).flags|=256),a=df(o,a,!1),a!==2){if(Tp&&!c){o.errorRecoveryDisabledLanes|=i,Oi|=i,r=4;break e}i=An,An=r,i!==null&&(An===null?An=i:An.push.apply(An,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){Ya(t,0),Ur(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error($(345));case 4:if((e&4194048)!==e)break;case 6:Ur(s,e,is,!Dr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error($(329))}if((e&62914560)===e&&(r=Ep+300-Ms(),10<r)){if(Ur(s,e,is,!Dr),qd(s,0,!0)!==0)break e;s.timeoutHandle=ST(Pb.bind(null,s,n,An,Yu,_m,e,is,Oi,Ka,Dr,i,2,-0,0),r);break e}Pb(s,n,An,Yu,_m,e,is,Oi,Ka,Dr,i,0,-0,0)}}break}while(!0);Hs(t)}function Pb(t,e,n,s,r,i,a,o,c,u,d,h,m,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:Yk},Xw(e),h=Xk(),h!==null)){t.cancelPendingCommit=h(Ub.bind(null,t,e,i,n,s,r,a,o,c,d,1,m,f)),Ur(t,i,a,!u);return}Ub(t,e,i,n,s,r,a,o,c)}function fk(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Kn(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(t,e,n,s){e&=~Ap,e&=~Oi,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-zn(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&cC(t,n,e)}function th(){return Ge&6?!0:(ac(0),!1)}function Np(){if(De!==null){if(Ve===0)var t=De.return;else t=De,Ws=Qi=null,fp(t),Ia=null,_l=0,t=De;for(;t!==null;)Uw(t.alternate,t),t=t.return;De=null}}function Ya(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Ok(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Np(),st=t,De=n=sr(t.current,null),Ue=e,Ve=0,Ln=null,Dr=!1,ao=Ql(t,e),Tp=!1,Ka=is=Ap=Oi=ei=yt=0,An=sl=null,_m=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-zn(s),i=1<<r;e|=t[r],s&=~i}return dr=e,Qd(),n}function sT(t,e){Ie=null,Ce.H=zu,e===nc||e===Jd?(e=fb(),Ve=3):e===zC?(e=fb(),Ve=4):Ve=e===Ow?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ln=e,De===null&&(yt=1,Gu(t,rs(e,t.current)))}function rT(){var t=Ce.H;return Ce.H=zu,t===null?zu:t}function iT(){var t=Ce.A;return Ce.A=dk,t}function jm(){yt=4,Dr||(Ue&4194048)!==Ue&&as.current!==null||(ao=!0),!(ei&134217727)&&!(Oi&134217727)||st===null||Ur(st,Ue,is,!1)}function df(t,e,n){var s=Ge;Ge|=2;var r=rT(),i=iT();(st!==t||Ue!==e)&&(Yu=null,Ya(t,e)),e=!1;var a=yt;e:do try{if(Ve!==0&&De!==null){var o=De,c=Ln;switch(Ve){case 8:Np(),a=6;break e;case 3:case 2:case 9:case 6:as.current===null&&(e=!0);var u=Ve;if(Ve=0,Ln=null,Ca(t,o,c,u),n&&ao){a=0;break e}break;default:u=Ve,Ve=0,Ln=null,Ca(t,o,c,u)}}mk(),a=yt;break}catch(d){sT(t,d)}while(!0);return e&&t.shellSuspendCounter++,Ws=Qi=null,Ge=s,Ce.H=r,Ce.A=i,De===null&&(st=null,Ue=0,Qd()),a}function mk(){for(;De!==null;)aT(De)}function gk(t,e){var n=Ge;Ge|=2;var s=rT(),r=iT();st!==t||Ue!==e?(Yu=null,$u=Ms()+500,Ya(t,e)):ao=Ql(t,e);e:do try{if(Ve!==0&&De!==null){e=De;var i=Ln;t:switch(Ve){case 1:Ve=0,Ln=null,Ca(t,e,i,1);break;case 2:case 9:if(hb(i)){Ve=0,Ln=null,Db(e);break}e=function(){Ve!==2&&Ve!==9||st!==t||(Ve=7),Hs(t)},i.then(e,e);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:hb(i)?(Ve=0,Ln=null,Db(e)):(Ve=0,Ln=null,Ca(t,e,i,7));break;case 5:var a=null;switch(De.tag){case 26:a=De.memoizedState;case 5:case 27:var o=De;if(!a||AT(a)){Ve=0,Ln=null;var c=o.sibling;if(c!==null)De=c;else{var u=o.return;u!==null?(De=u,nh(u)):De=null}break t}}Ve=0,Ln=null,Ca(t,e,i,5);break;case 6:Ve=0,Ln=null,Ca(t,e,i,6);break;case 8:Np(),yt=6;break e;default:throw Error($(462))}}pk();break}catch(d){sT(t,d)}while(!0);return Ws=Qi=null,Ce.H=s,Ce.A=r,Ge=n,De!==null?0:(st=null,Ue=0,Qd(),yt)}function pk(){for(;De!==null&&!LR();)aT(De)}function aT(t){var e=Dw(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?nh(t):De=e}function Db(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Rb(n,e,e.pendingProps,e.type,void 0,Ue);break;case 11:e=Rb(n,e,e.pendingProps,e.type.render,e.ref,Ue);break;case 5:fp(e);default:Uw(n,e),e=De=UC(e,dr),e=Dw(n,e,dr)}t.memoizedProps=t.pendingProps,e===null?nh(t):De=e}function Ca(t,e,n,s){Ws=Qi=null,fp(e),Ia=null,_l=0;var r=e.return;try{if(ik(t,r,e,n,Ue)){yt=1,Gu(t,rs(n,t.current)),De=null;return}}catch(i){if(r!==null)throw De=r,i;yt=1,Gu(t,rs(n,t.current)),De=null;return}e.flags&32768?(Be||s===1?t=!0:ao||Ue&536870912?t=!1:(Dr=t=!0,(s===2||s===9||s===3||s===6)&&(s=as.current,s!==null&&s.tag===13&&(s.flags|=16384))),oT(e,t)):nh(e)}function nh(t){var e=t;do{if(e.flags&32768){oT(e,Dr);return}t=e.return;var n=ok(e.alternate,e,dr);if(n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);yt===0&&(yt=5)}function oT(t,e){do{var n=lk(t.alternate,t);if(n!==null){n.flags&=32767,De=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){De=t;return}De=t=n}while(t!==null);yt=6,De=null}function Ub(t,e,n,s,r,i,a,o,c){t.cancelPendingCommit=null;do sh();while(en!==0);if(Ge&6)throw Error($(327));if(e!==null){if(e===t.current)throw Error($(177));if(i=e.lanes|e.childLanes,i|=ep,YR(t,n,i,a,o,c),t===st&&(De=st=null,Ue=0),$a=e,Fr=t,Ma=n,Rm=i,km=r,eT=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,xk(Ou,function(){return hT(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Ce.T,Ce.T=null,r=ze.p,ze.p=2,a=Ge,Ge|=4;try{ck(t,e,n)}finally{Ge=a,ze.p=r,Ce.T=s}}en=1,lT(),cT(),uT()}}function lT(){if(en===1){en=0;var t=Fr,e=$a,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ce.T,Ce.T=null;var s=ze.p;ze.p=2;var r=Ge;Ge|=4;try{$w(e,t);var i=Dm,a=RC(t.containerInfo),o=i.focusedElem,c=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&_C(o.ownerDocument.documentElement,o)){if(c!==null&&Wg(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var f=m.getSelection(),x=o.textContent.length,b=Math.min(c.start,x),C=c.end===void 0?b:Math.min(c.end,x);!f.extend&&b>C&&(a=C,C=b,b=a);var y=rb(o,b),p=rb(o,C);if(y&&p&&(f.rangeCount!==1||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==p.node||f.focusOffset!==p.offset)){var g=h.createRange();g.setStart(y.node,y.offset),f.removeAllRanges(),b>C?(f.addRange(g),f.extend(p.node,p.offset)):(g.setEnd(p.node,p.offset),f.addRange(g))}}}}for(h=[],f=o;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var v=h[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}nd=!!Pm,Dm=Pm=null}finally{Ge=r,ze.p=s,Ce.T=n}}t.current=e,en=2}}function cT(){if(en===2){en=0;var t=Fr,e=$a,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ce.T,Ce.T=null;var s=ze.p;ze.p=2;var r=Ge;Ge|=4;try{Fw(t,e.alternate,e)}finally{Ge=r,ze.p=s,Ce.T=n}}en=3}}function uT(){if(en===4||en===3){en=0,HR();var t=Fr,e=$a,n=Ma,s=eT;e.subtreeFlags&10256||e.flags&10256?en=5:(en=0,$a=Fr=null,dT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Vr=null),Kg(n),e=e.stateNode,Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Yl,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Ce.T,r=ze.p,ze.p=2,Ce.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var o=s[a];i(o.value,{componentStack:o.stack})}}finally{Ce.T=e,ze.p=r}}Ma&3&&sh(),Hs(t),r=t.pendingLanes,n&4194090&&r&42?t===Om?rl++:(rl=0,Om=t):rl=0,ac(0)}}function dT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,tc(e)))}function sh(t){return lT(),cT(),uT(),hT()}function hT(){if(en!==5)return!1;var t=Fr,e=Rm;Rm=0;var n=Kg(Ma),s=Ce.T,r=ze.p;try{ze.p=32>n?32:n,Ce.T=null,n=km,km=null;var i=Fr,a=Ma;if(en=0,$a=Fr=null,Ma=0,Ge&6)throw Error($(331));var o=Ge;if(Ge|=4,Zw(i.current),Qw(i,i.current,a,n),Ge=o,ac(0,!1),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Yl,i)}catch{}return!0}finally{ze.p=r,Ce.T=s,dT(t,e)}}function Lb(t,e,n){e=rs(n,e),e=Tm(t.stateNode,e,2),t=zr(t,e,2),t!==null&&(Xl(t,2),Hs(t))}function et(t,e,n){if(t.tag===3)Lb(t,t,n);else for(;e!==null;){if(e.tag===3){Lb(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vr===null||!Vr.has(s))){t=rs(n,t),n=Rw(2),s=zr(e,n,2),s!==null&&(kw(n,s,e,t),Xl(s,2),Hs(s));break}}e=e.return}}function hf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new hk;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(Tp=!0,r.add(n),t=yk.bind(null,t,e,n),e.then(t,t))}function yk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,st===t&&(Ue&n)===n&&(yt===4||yt===3&&(Ue&62914560)===Ue&&300>Ms()-Ep?!(Ge&2)&&Ya(t,0):Ap|=n,Ka===Ue&&(Ka=0)),Hs(t)}function fT(t,e){e===0&&(e=lC()),t=io(t,e),t!==null&&(Xl(t,e),Hs(t))}function vk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fT(t,n)}function bk(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error($(314))}s!==null&&s.delete(e),fT(t,n)}function xk(t,e){return Gg(t,e)}var Qu=null,la=null,Im=!1,Xu=!1,ff=!1,ji=0;function Hs(t){t!==la&&t.next===null&&(la===null?Qu=la=t:la=la.next=t),Xu=!0,Im||(Im=!0,Ck())}function ac(t,e){if(!ff&&Xu){ff=!0;do for(var n=!1,s=Qu;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-zn(42|t)+1)-1,i&=r&~(a&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Hb(s,i))}else i=Ue,i=qd(s,s===st?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Ql(s,i)||(n=!0,Hb(s,i));s=s.next}while(n);ff=!1}}function Sk(){mT()}function mT(){Xu=Im=!1;var t=0;ji!==0&&(kk()&&(t=ji),ji=0);for(var e=Ms(),n=null,s=Qu;s!==null;){var r=s.next,i=gT(s,e);i===0?(s.next=null,n===null?Qu=r:n.next=r,r===null&&(la=n)):(n=s,(t!==0||i&3)&&(Xu=!0)),s=r}ac(t)}function gT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-zn(i),o=1<<a,c=r[a];c===-1?(!(o&n)||o&s)&&(r[a]=$R(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}if(e=st,n=Ue,n=qd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Lh(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ql(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Lh(s),Kg(n)){case 2:case 8:n=iC;break;case 32:n=Ou;break;case 268435456:n=aC;break;default:n=Ou}return s=pT.bind(null,t),n=Gg(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Lh(s),t.callbackPriority=2,t.callbackNode=null,2}function pT(t,e){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(sh()&&t.callbackNode!==n)return null;var s=Ue;return s=qd(t,t===st?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(nT(t,s,e),gT(t,Ms()),t.callbackNode!=null&&t.callbackNode===n?pT.bind(null,t):null)}function Hb(t,e){if(sh())return null;nT(t,e,!0)}function Ck(){jk(function(){Ge&6?Gg(rC,Sk):mT()})}function _p(){return ji===0&&(ji=oC()),ji}function Bb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:su(""+t)}function zb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function wk(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=Bb((r[Rn]||null).action),a=s.submitter;a&&(e=(e=a[Rn]||null)?Bb(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var o=new Kd("action","action",null,s,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ji!==0){var c=a?zb(r,a):new FormData(r);Cm(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=a?zb(r,a):new FormData(r),Cm(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var mf=0;mf<um.length;mf++){var gf=um[mf],Tk=gf.toLowerCase(),Ak=gf[0].toUpperCase()+gf.slice(1);Cs(Tk,"on"+Ak)}Cs(OC,"onAnimationEnd");Cs(jC,"onAnimationIteration");Cs(IC,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(V1,"onTransitionRun");Cs(F1,"onTransitionStart");Cs(G1,"onTransitionCancel");Cs(MC,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ek=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function yT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){Fu(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){Fu(d)}r.currentTarget=null,i=c}}}}function Pe(t,e){var n=e[sm];n===void 0&&(n=e[sm]=new Set);var s=t+"__bubble";n.has(s)||(vT(e,t,2,!1),n.add(s))}function pf(t,e,n){var s=0;e&&(s|=4),vT(n,t,s,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Rp(t){if(!t[jc]){t[jc]=!0,hC.forEach(function(n){n!=="selectionchange"&&(Ek.has(n)||pf(n,!1,t),pf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jc]||(e[jc]=!0,pf("selectionchange",!1,e))}}function vT(t,e,n,s){switch(kT(e)){case 2:var r=Wk;break;case 8:r=eO;break;default:r=Ip}n=r.bind(null,e,n,t),r=void 0,!om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function yf(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=fa(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}o=o.parentNode}}s=s.return}xC(function(){var u=i,d=Qg(n),h=[];e:{var m=PC.get(t);if(m!==void 0){var f=Kd,x=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":f=x1;break;case"focusin":x="focus",f=Kh;break;case"focusout":x="blur",f=Kh;break;case"beforeblur":case"afterblur":f=Kh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=l1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=w1;break;case OC:case jC:case IC:f=d1;break;case MC:f=A1;break;case"scroll":case"scrollend":f=a1;break;case"wheel":f=N1;break;case"copy":case"cut":case"paste":f=f1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Xv;break;case"toggle":case"beforetoggle":f=R1}var b=(e&4)!==0,C=!b&&(t==="scroll"||t==="scrollend"),y=b?m!==null?m+"Capture":null:m;b=[];for(var p=u,g;p!==null;){var v=p;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||y===null||(v=wl(p,y),v!=null&&b.push(kl(p,v,g))),C)break;p=p.return}0<b.length&&(m=new f(m,x,null,n,d),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&n!==am&&(x=n.relatedTarget||n.fromElement)&&(fa(x)||x[so]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(x=n.relatedTarget||n.toElement,f=u,x=x?fa(x):null,x!==null&&(C=$l(x),b=x.tag,x!==C||b!==5&&b!==27&&b!==6)&&(x=null)):(f=null,x=u),f!==x)){if(b=Yv,v="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Xv,v="onPointerLeave",y="onPointerEnter",p="pointer"),C=f==null?m:Ho(f),g=x==null?m:Ho(x),m=new b(v,p+"leave",f,n,d),m.target=C,m.relatedTarget=g,v=null,fa(d)===u&&(b=new b(y,p+"enter",x,n,d),b.target=g,b.relatedTarget=C,v=b),C=v,f&&x)t:{for(b=f,y=x,p=0,g=b;g;g=na(g))p++;for(g=0,v=y;v;v=na(v))g++;for(;0<p-g;)b=na(b),p--;for(;0<g-p;)y=na(y),g--;for(;p--;){if(b===y||y!==null&&b===y.alternate)break t;b=na(b),y=na(y)}b=null}else b=null;f!==null&&Vb(h,m,f,b,!1),x!==null&&C!==null&&Vb(h,C,x,b,!0)}}e:{if(m=u?Ho(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var w=eb;else if(Wv(m))if(EC)w=H1;else{w=U1;var N=D1}else f=m.nodeName,!f||f.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&Yg(u.elementType)&&(w=eb):w=L1;if(w&&(w=w(t,u))){AC(h,w,n,d);break e}N&&N(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&im(m,"number",m.value)}switch(N=u?Ho(u):window,t){case"focusin":(Wv(N)||N.contentEditable==="true")&&(pa=N,lm=u,Yo=null);break;case"focusout":Yo=lm=pa=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,ib(h,n,d);break;case"selectionchange":if(z1)break;case"keydown":case"keyup":ib(h,n,d)}var T;if(Zg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ga?wC(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(CC&&n.locale!=="ko"&&(ga||_!=="onCompositionStart"?_==="onCompositionEnd"&&ga&&(T=SC()):(Pr=d,Xg="value"in Pr?Pr.value:Pr.textContent,ga=!0)),N=Ju(u,_),0<N.length&&(_=new Qv(_,t,null,n,d),h.push({event:_,listeners:N}),T?_.data=T:(T=TC(n),T!==null&&(_.data=T)))),(T=O1?j1(t,n):I1(t,n))&&(_=Ju(u,"onBeforeInput"),0<_.length&&(N=new Qv("onBeforeInput","beforeinput",null,n,d),h.push({event:N,listeners:_}),N.data=T)),wk(h,t,u,n,d)}yT(h,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=wl(t,n),r!=null&&s.unshift(kl(t,r,i)),r=wl(t,e),r!=null&&s.push(kl(t,r,i))),t.tag===3)return s;t=t.return}return[]}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||u===null||(c=u,r?(u=wl(n,i),u!=null&&a.unshift(kl(n,u,c))):r||(u=wl(n,i),u!=null&&a.push(kl(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Nk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function Fb(t){return(typeof t=="string"?t:""+t).replace(Nk,`
`).replace(_k,"")}function bT(t,e){return e=Fb(e),Fb(t)===e}function rh(){}function Ye(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||za(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&za(t,""+s);break;case"className":Ac(t,"class",s);break;case"tabIndex":Ac(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ac(t,n,s);break;case"style":bC(t,s,i);break;case"data":if(e!=="object"){Ac(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=su(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Ye(t,e,"name",r.name,r,null),Ye(t,e,"formEncType",r.formEncType,r,null),Ye(t,e,"formMethod",r.formMethod,r,null),Ye(t,e,"formTarget",r.formTarget,r,null)):(Ye(t,e,"encType",r.encType,r,null),Ye(t,e,"method",r.method,r,null),Ye(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=su(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=rh);break;case"onScroll":s!=null&&Pe("scroll",t);break;case"onScrollEnd":s!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=su(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),nu(t,"popover",s);break;case"xlinkActuate":zs(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":zs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":zs(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":zs(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":zs(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":zs(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":zs(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":zs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":zs(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":nu(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=r1.get(n)||n,nu(t,n,s))}}function Mm(t,e,n,s,r,i){switch(n){case"style":bC(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));t.innerHTML=n}}break;case"children":typeof s=="string"?za(t,s):(typeof s=="number"||typeof s=="bigint")&&za(t,""+s);break;case"onScroll":s!=null&&Pe("scroll",t);break;case"onScrollEnd":s!=null&&Pe("scrollend",t);break;case"onClick":s!=null&&(t.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[Rn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):nu(t,n,s)}}}function tn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ye(t,e,i,a,n,null)}}r&&Ye(t,e,"srcSet",n.srcSet,n,null),s&&Ye(t,e,"src",n.src,n,null);return;case"input":Pe("invalid",t);var o=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error($(137,e));break;default:Ye(t,e,s,d,n,null)}}pC(t,i,o,c,u,a,r,!1),ju(t);return;case"select":Pe("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:Ye(t,e,r,o,n,null)}e=i,n=a,t.multiple=!!s,e!=null?_a(t,!!s,e,!1):n!=null&&_a(t,!!s,n,!0);return;case"textarea":Pe("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error($(91));break;default:Ye(t,e,a,o,n,null)}vC(t,s,r,i),ju(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ye(t,e,c,s,n,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(s=0;s<Rl.length;s++)Pe(Rl[s],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ye(t,e,u,s,n,null)}return;default:if(Yg(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Mm(t,e,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&Ye(t,e,o,s,n,null))}function Rk(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,o=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(f)||Ye(t,e,f,null,s,h)}}for(var m in s){var f=s[m];if(h=n[m],s.hasOwnProperty(m)&&(f!=null||h!=null))switch(m){case"type":i=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,e));break;default:f!==h&&Ye(t,e,m,f,s,h)}}rm(t,a,o,c,u,d,i,r);return;case"select":f=a=o=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":f=c;default:s.hasOwnProperty(i)||Ye(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:i!==c&&Ye(t,e,r,i,s,c)}e=o,n=a,s=f,m!=null?_a(t,!!n,m,!1):!!s!=!!n&&(e!=null?_a(t,!!n,e,!0):_a(t,!!n,n?[]:"",!1));return;case"textarea":f=m=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ye(t,e,o,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":m=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error($(91));break;default:r!==i&&Ye(t,e,a,r,s,i)}yC(t,m,f);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Ye(t,e,x,null,s,m)}for(c in s)if(m=s[c],f=n[c],s.hasOwnProperty(c)&&m!==f&&(m!=null||f!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ye(t,e,c,m,s,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!s.hasOwnProperty(b)&&Ye(t,e,b,null,s,m);for(u in s)if(m=s[u],f=n[u],s.hasOwnProperty(u)&&m!==f&&(m!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,e));break;default:Ye(t,e,u,m,s,f)}return;default:if(Yg(e)){for(var C in n)m=n[C],n.hasOwnProperty(C)&&m!==void 0&&!s.hasOwnProperty(C)&&Mm(t,e,C,void 0,s,m);for(d in s)m=s[d],f=n[d],!s.hasOwnProperty(d)||m===f||m===void 0&&f===void 0||Mm(t,e,d,m,s,f);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y)&&Ye(t,e,y,null,s,m);for(h in s)m=s[h],f=n[h],!s.hasOwnProperty(h)||m===f||m==null&&f==null||Ye(t,e,h,m,s,f)}var Pm=null,Dm=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function Gb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Um(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vf=null;function kk(){var t=window.event;return t&&t.type==="popstate"?t===vf?!1:(vf=t,!0):(vf=null,!1)}var ST=typeof setTimeout=="function"?setTimeout:void 0,Ok=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,jk=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(t){return qb.resolve(null).then(t).catch(Ik)}:ST;function Ik(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function Kb(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var a=t.ownerDocument;if(n&1&&il(a.documentElement),n&2&&il(a.body),n&4)for(n=a.head,il(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[Jl]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(r===0){t.removeChild(i),Pl(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Pl(e)}function Lm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lm(n),$g(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Mk(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Jl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=ys(t.nextSibling),t===null)break}return null}function Pk(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ys(t.nextSibling),t===null))return null;return t}function Hm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Dk(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Bm=null;function $b(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function CT(t,e,n){switch(e=Zu(n),t){case"html":if(t=e.documentElement,!t)throw Error($(452));return t;case"head":if(t=e.head,!t)throw Error($(453));return t;case"body":if(t=e.body,!t)throw Error($(454));return t;default:throw Error($(451))}}function il(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);$g(t)}var os=new Map,Yb=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pr=ze.d;ze.d={f:Uk,r:Lk,D:Hk,C:Bk,L:zk,m:Vk,X:Gk,S:Fk,M:qk};function Uk(){var t=pr.f(),e=th();return t||e}function Lk(t){var e=ro(t);e!==null&&e.tag===5&&e.type==="form"?gw(e):pr.r(t)}var oo=typeof document>"u"?null:document;function wT(t,e,n){var s=oo;if(s&&typeof e=="string"&&e){var r=ss(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Yb.has(r)||(Yb.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),tn(e,"link",t),Gt(e),s.head.appendChild(e)))}}function Hk(t){pr.D(t),wT("dns-prefetch",t,null)}function Bk(t,e){pr.C(t,e),wT("preconnect",t,e)}function zk(t,e,n){pr.L(t,e,n);var s=oo;if(s&&t&&e){var r='link[rel="preload"][as="'+ss(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ss(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ss(n.imageSizes)+'"]')):r+='[href="'+ss(t)+'"]';var i=r;switch(e){case"style":i=Qa(t);break;case"script":i=lo(t)}os.has(i)||(t=ot({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),os.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(oc(i))||e==="script"&&s.querySelector(lc(i))||(e=s.createElement("link"),tn(e,"link",t),Gt(e),s.head.appendChild(e)))}}function Vk(t,e){pr.m(t,e);var n=oo;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+ss(s)+'"][href="'+ss(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=lo(t)}if(!os.has(i)&&(t=ot({rel:"modulepreload",href:t},e),os.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lc(i)))return}s=n.createElement("link"),tn(s,"link",t),Gt(s),n.head.appendChild(s)}}}function Fk(t,e,n){pr.S(t,e,n);var s=oo;if(s&&t){var r=Na(s).hoistableStyles,i=Qa(t);e=e||"default";var a=r.get(i);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(oc(i)))o.loading=5;else{t=ot({rel:"stylesheet",href:t,"data-precedence":e},n),(n=os.get(i))&&kp(t,n);var c=a=s.createElement("link");Gt(c),tn(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,hu(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(i,a)}}}function Gk(t,e){pr.X(t,e);var n=oo;if(n&&t){var s=Na(n).hoistableScripts,r=lo(t),i=s.get(r);i||(i=n.querySelector(lc(r)),i||(t=ot({src:t,async:!0},e),(e=os.get(r))&&Op(t,e),i=n.createElement("script"),Gt(i),tn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function qk(t,e){pr.M(t,e);var n=oo;if(n&&t){var s=Na(n).hoistableScripts,r=lo(t),i=s.get(r);i||(i=n.querySelector(lc(r)),i||(t=ot({src:t,async:!0,type:"module"},e),(e=os.get(r))&&Op(t,e),i=n.createElement("script"),Gt(i),tn(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Qb(t,e,n,s){var r=(r=Hr.current)?Wu(r):null;if(!r)throw Error($(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Qa(n.href),n=Na(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Qa(n.href);var i=Na(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(oc(t)))&&!i._p&&(a.instance=i,a.state.loading=5),os.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},os.set(t,n),i||Kk(r,t,n,a.state))),e&&s===null)throw Error($(528,""));return a}if(e&&s!==null)throw Error($(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=lo(n),n=Na(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,t))}}function Qa(t){return'href="'+ss(t)+'"'}function oc(t){return'link[rel="stylesheet"]['+t+"]"}function TT(t){return ot({},t,{"data-precedence":t.precedence,precedence:null})}function Kk(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),tn(e,"link",n),Gt(e),t.head.appendChild(e))}function lo(t){return'[src="'+ss(t)+'"]'}function lc(t){return"script[async]"+t}function Xb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ss(n.href)+'"]');if(s)return e.instance=s,Gt(s),s;var r=ot({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Gt(s),tn(s,"style",r),hu(s,n.precedence,t),e.instance=s;case"stylesheet":r=Qa(n.href);var i=t.querySelector(oc(r));if(i)return e.state.loading|=4,e.instance=i,Gt(i),i;s=TT(n),(r=os.get(r))&&kp(s,r),i=(t.ownerDocument||t).createElement("link"),Gt(i);var a=i;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),tn(i,"link",s),e.state.loading|=4,hu(i,n.precedence,t),e.instance=i;case"script":return i=lo(n.src),(r=t.querySelector(lc(i)))?(e.instance=r,Gt(r),r):(s=n,(r=os.get(i))&&(s=ot({},n),Op(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),Gt(r),tn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error($(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,hu(s,n.precedence,t));return e.instance}function hu(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function kp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Op(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fu=null;function Jb(t,e,n){if(fu===null){var s=new Map,r=fu=new Map;r.set(n,s)}else r=fu,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Jl]||i[on]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var o=s.get(a);o?o.push(i):s.set(a,[i])}}return s}function Zb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function $k(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function AT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Ol=null;function Yk(){}function Qk(t,e,n){if(Ol===null)throw Error($(475));var s=Ol;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=Qa(n.href),i=t.querySelector(oc(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=ed.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,Gt(i);return}i=t.ownerDocument||t,n=TT(n),(r=os.get(r))&&kp(n,r),i=i.createElement("link"),Gt(i);var a=i;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),tn(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=ed.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function Xk(){if(Ol===null)throw Error($(475));var t=Ol;return t.stylesheets&&t.count===0&&zm(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&zm(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function ed(){if(this.count--,this.count===0){if(this.stylesheets)zm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var td=null;function zm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,td=new Map,e.forEach(Jk,t),td=null,ed.call(t))}function Jk(t,e){if(!(e.state.loading&4)){var n=td.get(t);if(n)var s=n.get(null);else{n=new Map,td.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=ed.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var jl={$$typeof:Xs,Provider:null,Consumer:null,_currentValue:Ei,_currentValue2:Ei,_threadCount:0};function Zk(t,e,n,s,r,i,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.hiddenUpdates=Hh(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function ET(t,e,n,s,r,i,a,o,c,u,d,h){return t=new Zk(t,e,n,a,o,c,u,h),e=1,i===!0&&(e|=24),i=Hn(3,null,null,e),t.current=i,i.stateNode=t,e=ip(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},op(i),t}function NT(t){return t?(t=ba,t):ba}function _T(t,e,n,s,r,i){r=NT(r),s.context===null?s.context=r:s.pendingContext=r,s=Br(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=zr(t,s,e),n!==null&&(Fn(n,t,e),Jo(n,t,e))}function Wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jp(t,e){Wb(t,e),(t=t.alternate)&&Wb(t,e)}function RT(t){if(t.tag===13){var e=io(t,67108864);e!==null&&Fn(e,t,67108864),jp(t,67108864)}}var nd=!0;function Wk(t,e,n,s){var r=Ce.T;Ce.T=null;var i=ze.p;try{ze.p=2,Ip(t,e,n,s)}finally{ze.p=i,Ce.T=r}}function eO(t,e,n,s){var r=Ce.T;Ce.T=null;var i=ze.p;try{ze.p=8,Ip(t,e,n,s)}finally{ze.p=i,Ce.T=r}}function Ip(t,e,n,s){if(nd){var r=Vm(s);if(r===null)yf(t,e,s,sd,n),ex(t,s);else if(nO(r,t,e,n,s))s.stopPropagation();else if(ex(t,s),e&4&&-1<tO.indexOf(t)){for(;r!==null;){var i=ro(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=mi(i.pendingLanes);if(a!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-zn(a);o.entanglements[1]|=c,a&=~c}Hs(i),!(Ge&6)&&($u=Ms()+500,ac(0))}}break;case 13:o=io(i,2),o!==null&&Fn(o,i,2),th(),jp(i,2)}if(i=Vm(s),i===null&&yf(t,e,s,sd,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else yf(t,e,s,null,n)}}function Vm(t){return t=Qg(t),Mp(t)}var sd=null;function Mp(t){if(sd=null,t=fa(t),t!==null){var e=$l(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=eC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return sd=t,null}function kT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(BR()){case rC:return 2;case iC:return 8;case Ou:case zR:return 32;case aC:return 268435456;default:return 32}default:return 32}}var Fm=!1,Gr=null,qr=null,Kr=null,Il=new Map,Ml=new Map,Or=[],tO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ex(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Eo(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=ro(e),e!==null&&RT(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function nO(t,e,n,s,r){switch(e){case"focusin":return Gr=Eo(Gr,t,e,n,s,r),!0;case"dragenter":return qr=Eo(qr,t,e,n,s,r),!0;case"mouseover":return Kr=Eo(Kr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Il.set(i,Eo(Il.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ml.set(i,Eo(Ml.get(i)||null,t,e,n,s,r)),!0}return!1}function OT(t){var e=fa(t.target);if(e!==null){var n=$l(e);if(n!==null){if(e=n.tag,e===13){if(e=eC(n),e!==null){t.blockedOn=e,QR(t.priority,function(){if(n.tag===13){var s=Vn();s=qg(s);var r=io(n,s);r!==null&&Fn(r,n,s),jp(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);am=s,n.target.dispatchEvent(s),am=null}else return e=ro(n),e!==null&&RT(e),t.blockedOn=n,!1;e.shift()}return!0}function tx(t,e,n){mu(t)&&n.delete(e)}function sO(){Fm=!1,Gr!==null&&mu(Gr)&&(Gr=null),qr!==null&&mu(qr)&&(qr=null),Kr!==null&&mu(Kr)&&(Kr=null),Il.forEach(tx),Ml.forEach(tx)}function Ic(t,e){t.blockedOn===e&&(t.blockedOn=null,Fm||(Fm=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,sO)))}var Mc=null;function nx(t){Mc!==t&&(Mc=t,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(Mp(s||n)===null)continue;break}var i=ro(n);i!==null&&(t.splice(e,3),e-=3,Cm(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Pl(t){function e(c){return Ic(c,t)}Gr!==null&&Ic(Gr,t),qr!==null&&Ic(qr,t),Kr!==null&&Ic(Kr,t),Il.forEach(e),Ml.forEach(e);for(var n=0;n<Or.length;n++){var s=Or[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)OT(n),n.blockedOn===null&&Or.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[Rn]||null;if(typeof i=="function")a||nx(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[Rn]||null)o=a.formAction;else if(Mp(r)!==null)continue}else o=a.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),nx(n)}}}function Pp(t){this._internalRoot=t}ih.prototype.render=Pp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));var n=e.current,s=Vn();_T(n,s,t,e,null,null)};ih.prototype.unmount=Pp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_T(t.current,2,null,t,null,null),th(),e[so]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=dC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&OT(t)}};var sx=ZS.version;if(sx!=="19.1.1")throw Error($(527,sx,"19.1.1"));ze.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=IR(e),t=t!==null?tC(t):null,t=t===null?null:t.stateNode,t};var rO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Ce,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Yl=Pc.inject(rO),Bn=Pc}catch{}}Fd.createRoot=function(t,e){if(!WS(t))throw Error($(299));var n=!1,s="",r=Ew,i=Nw,a=_w,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=ET(t,1,!1,null,null,n,s,r,i,a,o,null),t[so]=e.current,Rp(t),new Pp(e)};Fd.hydrateRoot=function(t,e,n){if(!WS(t))throw Error($(299));var s=!1,r="",i=Ew,a=Nw,o=_w,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=ET(t,1,!0,e,n??null,s,r,i,a,o,c,u),e.context=NT(null),n=e.current,s=Vn(),s=qg(s),r=Br(s),r.callback=null,zr(n,r,s),n=s,e.current.lanes=n,Xl(e,n),Hs(e),t[so]=e.current,Rp(t),new ih(e)};Fd.version="19.1.1";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(t){console.error(t)}}jT(),qS.exports=Fd;var iO=qS.exports;const aO=Dg(iO);/*! @azure/msal-common v15.12.0 2025-08-19 */const q={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Lr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Ci={GET:"GET",POST:"POST"},co=[q.OPENID_SCOPE,q.PROFILE_SCOPE,q.OFFLINE_ACCESS_SCOPE],rx=[...co,q.EMAIL_SCOPE],mn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ix={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},$r={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Dc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},vn={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Dp={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},ah={QUERY:"query",FRAGMENT:"fragment"},oO={QUERY:"query"},IT={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Uc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Dl={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Wt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Up="appmetadata",lO="client_info",rd="1",id={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Un={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Xt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Fe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},al={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},ax={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},sa={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},bf={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},yi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},cO={Pop:"pop"},MT=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const ad="unexpected_error",uO="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const ox={[ad]:"Unexpected error in authentication.",[uO]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Je extends Error{constructor(e,n,s){const r=n?`${e}: ${n}`:e;super(r),Object.setPrototypeOf(this,Je.prototype),this.errorCode=e||q.EMPTY_STRING,this.errorMessage=n||q.EMPTY_STRING,this.subError=s||q.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Gm(t,e){return new Je(t,e?`${ox[t]} ${e}`:ox[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const Lp="client_info_decoding_error",PT="client_info_empty_error",Hp="token_parsing_error",DT="null_or_empty_token",Ys="endpoints_resolution_error",UT="network_error",LT="openid_config_error",HT="hash_not_deserialized",Xa="invalid_state",BT="state_mismatch",qm="state_not_found",zT="nonce_mismatch",Bp="auth_time_not_found",VT="max_age_transpired",dO="multiple_matching_tokens",hO="multiple_matching_accounts",FT="multiple_matching_appMetadata",GT="request_cannot_be_made",qT="cannot_remove_empty_scope",KT="cannot_append_scopeset",Km="empty_input_scopeset",fO="device_code_polling_cancelled",mO="device_code_expired",gO="device_code_unknown_error",zp="no_account_in_silent_request",$T="invalid_cache_record",Vp="invalid_cache_environment",$m="no_account_found",Ym="no_crypto_object",pO="unexpected_credential_type",yO="invalid_assertion",vO="invalid_client_credential",Yr="token_refresh_required",bO="user_timeout_reached",YT="token_claims_cnf_required_for_signedjwt",QT="authorization_code_missing_from_server_response",XT="binding_key_not_removed",JT="end_session_endpoint_not_supported",Fp="key_id_missing",xO="no_network_connectivity",SO="user_canceled",CO="missing_tenant_id_error",Oe="method_not_implemented",wO="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const lx={[Lp]:"The client info could not be parsed/decoded correctly",[PT]:"The client info was empty",[Hp]:"Token cannot be parsed",[DT]:"The token is null or empty",[Ys]:"Endpoints cannot be resolved",[UT]:"Network request failed",[LT]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[HT]:"The hash parameters could not be deserialized",[Xa]:"State was not the expected format",[BT]:"State mismatch error",[qm]:"State not found",[zT]:"Nonce mismatch error",[Bp]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[VT]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[dO]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[hO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[FT]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[GT]:"Token request cannot be made without authorization code or refresh token.",[qT]:"Cannot remove null or empty scope from ScopeSet",[KT]:"Cannot append ScopeSet",[Km]:"Empty input ScopeSet cannot be processed",[fO]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[mO]:"Device code is expired.",[gO]:"Device code stopped polling for unknown reasons.",[zp]:"Please pass an account object, silent flow is not supported without account information",[$T]:"Cache record object was null or undefined.",[Vp]:"Invalid environment when attempting to create cache entry",[$m]:"No account found in cache for given key.",[Ym]:"No crypto object detected.",[pO]:"Unexpected credential type.",[yO]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[vO]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Yr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[bO]:"User defined timeout for device code polling reached",[YT]:"Cannot generate a POP jwt if the token_claims are not populated",[QT]:"Server response does not contain an authorization code to proceed",[XT]:"Could not remove the credential's binding key from storage.",[JT]:"The provided authority does not support logout",[Fp]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[xO]:"No network connectivity. Check your internet connection.",[SO]:"User cancelled the flow.",[CO]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Oe]:"This method has not been implemented",[wO]:"The nested app auth bridge is disabled"};class Gp extends Je{constructor(e,n){super(e,n?`${lx[e]}: ${n}`:lx[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Gp.prototype)}}function ee(t,e){return new Gp(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const od={createNewGuid:()=>{throw ee(Oe)},base64Decode:()=>{throw ee(Oe)},base64Encode:()=>{throw ee(Oe)},base64UrlEncode:()=>{throw ee(Oe)},encodeKid:()=>{throw ee(Oe)},async getPublicKeyThumbprint(){throw ee(Oe)},async removeTokenBindingKey(){throw ee(Oe)},async clearKeystore(){throw ee(Oe)},async signJwt(){throw ee(Oe)},async hashString(){throw ee(Oe)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var ut;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ut||(ut={}));class hr{constructor(e,n,s){this.level=ut.Info;const r=()=>{},i=e||hr.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||r,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:ut.Info,this.correlationId=i.correlationId||q.EMPTY_STRING,this.packageName=n||q.EMPTY_STRING,this.packageVersion=s||q.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ut.Info}}clone(e,n,s){return new hr({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:s||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ut[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,i,n.containsPii||!1)}executeCallback(e,n,s){this.localCallback&&this.localCallback(e,n,s)}error(e,n){this.logMessage(e,{logLevel:ut.Error,containsPii:!1,correlationId:n||q.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ut.Error,containsPii:!0,correlationId:n||q.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ut.Warning,containsPii:!1,correlationId:n||q.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ut.Warning,containsPii:!0,correlationId:n||q.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ut.Info,containsPii:!1,correlationId:n||q.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ut.Info,containsPii:!0,correlationId:n||q.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ut.Verbose,containsPii:!1,correlationId:n||q.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ut.Verbose,containsPii:!0,correlationId:n||q.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ut.Trace,containsPii:!1,correlationId:n||q.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ut.Trace,containsPii:!0,correlationId:n||q.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const ZT="@azure/msal-common",qp="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const Kp={None:"none"};/*! @azure/msal-common v15.12.0 2025-08-19 */const WT="redirect_uri_empty",TO="claims_request_parsing_error",eA="authority_uri_insecure",zo="url_parse_error",tA="empty_url_error",nA="empty_input_scopes_error",$p="invalid_claims",sA="token_request_empty",rA="logout_request_empty",AO="invalid_code_challenge_method",Yp="pkce_params_missing",Qp="invalid_cloud_discovery_metadata",iA="invalid_authority_metadata",aA="untrusted_authority",oh="missing_ssh_jwk",oA="missing_ssh_kid",EO="missing_nonce_authentication_header",NO="invalid_authentication_header",lA="cannot_set_OIDCOptions",cA="cannot_allow_platform_broker",uA="authority_mismatch",dA="invalid_request_method_for_EAR",hA="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const _O={[WT]:"A redirect URI is required for all calls, and none has been set.",[TO]:"Could not parse the given claims request object.",[eA]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[zo]:"URL could not be parsed into appropriate segments.",[tA]:"URL was empty or null.",[nA]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[$p]:"Given claims parameter must be a stringified JSON object.",[sA]:"Token request was empty and not found in cache.",[rA]:"The logout request was null or undefined.",[AO]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Yp]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Qp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[iA]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[aA]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[oh]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[oA]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[EO]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[NO]:"Invalid authentication header provided",[lA]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[cA]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[uA]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[hA]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[dA]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class Xp extends Je{constructor(e){super(e,_O[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Xp.prototype)}}function We(t){return new Xp(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Gn{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},s=e.split("&"),r=i=>decodeURIComponent(i.replace(/\+/g," "));return s.forEach(i=>{if(i.trim()){const[a,o]=i.split(/=(.+)/g,2);a&&o&&(n[r(a)]=r(o))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Lt{constructor(e){const n=e?Gn.trimArrayEntries([...e]):[],s=n?Gn.removeEmptyStringsFromArray(n):[];if(!s||!s.length)throw We(nA);this.scopes=new Set,s.forEach(r=>this.scopes.add(r))}static fromString(e){const s=(e||q.EMPTY_STRING).split(" ");return new Lt(s)}static createSearchScopes(e){const n=e&&e.length>0?e:[...co],s=new Lt(n);return s.containsOnlyOIDCScopes()?s.removeScope(q.OFFLINE_ACCESS_SCOPE):s.removeOIDCScopes(),s}containsScope(e){const n=this.printScopesLowerCase().split(" "),s=new Lt(n);return e?s.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return rx.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw ee(KT)}}removeScope(e){if(!e)throw ee(qT);this.scopes.delete(e.trim())}removeOIDCScopes(){rx.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw ee(Km);const n=new Set;return e.scopes.forEach(s=>n.add(s.toLowerCase())),this.scopes.forEach(s=>n.add(s.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw ee(Km);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),s=e.getScopeCount(),r=this.getScopeCount();return n.size<r+s}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):q.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function cx(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Jp(t,e,n,s){if(s){const{oid:r,sub:i,tid:a,name:o,tfp:c,acr:u,preferred_username:d,upn:h,login_hint:m}=s,f=a||c||u||"";return{tenantId:f,localAccountId:r||i||"",name:o,username:d||h||"",loginHint:m,isHomeTenant:cx(f,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:cx(n,t)}}function Zp(t,e,n,s){let r=t;if(e){const{isHomeTenant:i,...a}=e;r={...t,...a}}if(n){const{isHomeTenant:i,...a}=Jp(t.homeAccountId,t.localAccountId,t.tenantId,n);return r={...r,...a,idTokenClaims:n,idToken:s},r}return r}/*! @azure/msal-common v15.12.0 2025-08-19 */function uo(t,e){const n=RO(t);try{const s=e(n);return JSON.parse(s)}catch{throw ee(Hp)}}function RO(t){if(!t)throw ee(DT);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw ee(Hp);return n[2]}function fA(t,e){if(e===0||Date.now()-3e5>t+e)throw ee(VT)}/*! @azure/msal-common v15.12.0 2025-08-19 */function ux(t){if(!t)return t;let e=t.toLowerCase();return Gn.endsWith(e,"?")?e=e.slice(0,-1):Gn.endsWith(e,"?/")&&(e=e.slice(0,-2)),Gn.endsWith(e,"/")||(e+="/"),e}function mA(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function ld(t){if(!t||t.indexOf("=")<0)return null;try{const e=mA(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw ee(HT)}return null}function Ul(t,e=!0,n){const s=new Array;return t.forEach((r,i)=>{!e&&n&&i in n?s.push(`${i}=${r}`):s.push(`${i}=${encodeURIComponent(r)}`)}),s.join("&")}function dx(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),s=n.origin+n.pathname+n.search;return ux(s)}catch{return ux(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Le{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw We(tA);e.includes("#")||(this._urlString=Le.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Gn.endsWith(n,"?")?n=n.slice(0,-1):Gn.endsWith(n,"?/")&&(n=n.slice(0,-2)),Gn.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw We(zo)}if(!e.HostNameAndPort||!e.PathSegments)throw We(zo);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw We(eA)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Le.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),s=n.PathSegments;return e&&s.length!==0&&(s[0]===$r.COMMON||s[0]===$r.ORGANIZATIONS)&&(s[0]=e),Le.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw We(zo);const s={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let r=s.AbsolutePath.split("/");return r=r.filter(i=>i&&i.length>0),s.PathSegments=r,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=e.match(n);if(!s)throw We(zo);return s[2]}static getAbsoluteUrl(e,n){if(e[0]===q.FORWARD_SLASH){const r=new Le(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Le(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!ld(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const gA={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},hx=gA.endpointMetadata,Wp=gA.instanceDiscoveryMetadata,pA=new Set;Wp.metadata.forEach(t=>{t.aliases.forEach(e=>{pA.add(e)})});function kO(t,e){var r;let n;const s=t.canonicalAuthority;if(s){const i=new Le(s).getUrlComponents().HostNameAndPort;n=fx(i,(r=t.cloudDiscoveryMetadata)==null?void 0:r.metadata,Un.CONFIG,e)||fx(i,Wp.metadata,Un.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function fx(t,e,n,s){if(s==null||s.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const r=cd(e,t);if(r)return s==null||s.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),r.aliases;s==null||s.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function OO(t){return cd(Wp.metadata,t)}function cd(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(s.aliases.includes(e))return s}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const ud="cache_quota_exceeded",ey="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const xf={[ud]:"Exceeded cache storage capacity.",[ey]:"Unexpected error occurred when using cache storage."};class Pa extends Je{constructor(e,n){const s=n||(xf[e]?xf[e]:xf[ey]);super(`${e}: ${s}`),Object.setPrototypeOf(this,Pa.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=s}}function Qm(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Pa(ud):new Pa(t.name,t.message):new Pa(ey)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Xm{constructor(e,n,s,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=s.clone(ZT,qp),this.staticAuthorityOptions=i,this.performanceClient=r}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(r=>!r))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const s=this.getAllAccounts(e,n);return s.length>1?s.sort(i=>i.idTokenClaims?-1:1)[0]:s.length===1?s[0]:null}getBaseAccountInfo(e,n){const s=this.getAccountsFilteredBy(e,n);return s.length>0?s[0].getAccountInfo():null}buildTenantProfiles(e,n,s){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n,s==null?void 0:s.tenantId,s))}getTenantedAccountInfoByFilter(e,n,s,r,i){let a=null,o;if(i&&!this.tenantProfileMatchesFilter(s,i))return null;const c=this.getIdToken(e,r,n,s.tenantId);return c&&(o=uo(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,i))?null:(a=Zp(e,s,o,c==null?void 0:c.secret),a)}getTenantProfilesFromAccountEntity(e,n,s,r){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const o=this.getTokenKeys();if(s){const u=a.get(s);if(u)a=new Map([[s,u]]);else return[]}const c=[];return a.forEach(u=>{const d=this.getTenantedAccountInfoByFilter(i,o,u,n,r);d&&c.push(d)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,s){var r;if(!e)throw ee($T);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(s==null?void 0:s.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(s==null?void 0:s.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(s==null?void 0:s.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(i){throw(r=this.commonLogger)==null||r.error("CacheManager.saveCacheRecord: failed"),i instanceof Je?i:Qm(i)}}async saveAccessToken(e,n){const s={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Lt.fromString(e.target);r.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,s,!1))return;const o=this.getAccessTokenCredential(a,n);o&&this.credentialMatchesFilter(o,s)&&Lt.fromString(o.target).intersectingScopeSets(i)&&this.removeAccessToken(a,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const s=this.getAccountKeys(),r=[];return s.forEach(i=>{var u;const a=this.getAccount(i,n);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const o={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(u=a.tenantProfiles)==null?void 0:u.filter(d=>this.tenantProfileMatchesFilter(d,o));c&&c.length===0||r.push(a)}),r}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Fe.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),s={};return n.forEach(r=>{if(!this.isAppMetadata(r))return;const i=this.getAppMetadata(r);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(s[r]=i))}),s}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let s=null;return n.forEach(r=>{if(!this.isAuthorityMetadata(r)||r.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(r);i&&i.aliases.indexOf(e)!==-1&&(s=i)}),s}removeAllAccounts(e){this.getAllAccounts({},e).forEach(s=>{this.removeAccount(s,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const s=this.getAccountKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.filter(r).forEach(i=>{this.removeItem(i,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const s=this.getTokenKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.idToken.filter(r).forEach(i=>{this.removeIdToken(i,n)}),s.accessToken.filter(r).forEach(i=>{this.removeAccessToken(i,n)}),s.refreshToken.filter(r).forEach(i=>{this.removeRefreshToken(i,n)})}removeAccessToken(e,n){const s=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!s||s.credentialType.toLowerCase()!==Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||s.tokenType!==Fe.POP)return;const r=s.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{var i;this.commonLogger.error(`Failed to remove token binding key ${r}`,n),(i=this.performanceClient)==null||i.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(s=>{this.isAppMetadata(s)&&this.removeItem(s,e)}),!0}getIdToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Wt.ID_TOKEN,clientId:this.clientId,realm:r},o=this.getIdTokensByFilter(a,n,s),c=o.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=o;if(!r){const d=new Map;o.forEach((m,f)=>{m.realm===e.tenantId&&d.set(f,m)});const h=d.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;u=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((d,h)=>{this.removeIdToken(h,n)}),i&&n&&i.addFields({multiMatchedID:o.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,n,s){const r=s&&s.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const o=this.getIdTokenCredential(a,n);o&&this.credentialMatchesFilter(o,e)&&i.set(a,o)}),i}idTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,s,r){const i=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",i);const a=Lt.createSearchScopes(n.scopes),o=n.authenticationScheme||Fe.BEARER,c=o.toLowerCase()!==Fe.BEARER.toLowerCase()?Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Wt.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},d=s&&s.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(f=>{if(this.accessTokenKeyMatchesFilter(f,u,!0)){const x=this.getAccessTokenCredential(f,i);x&&this.credentialMatchesFilter(x,u)&&h.push(x)}});const m=h.length;return m<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",i),null):m>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",i),h.forEach(f=>{this.removeAccessToken(this.generateCredentialKey(f),i)}),this.performanceClient.addFields({multiMatchedAT:h.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",i),h[0])}accessTokenKeyMatchesFilter(e,n,s){const r=e.toLowerCase();if(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&r.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&r.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const i=n.target.asArray();for(let a=0;a<i.length;a++){if(s&&!r.includes(i[a].toLowerCase()))return!1;if(!s&&r.includes(i[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const s=this.getTokenKeys(),r=[];return s.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const a=this.getAccessTokenCredential(i,n);a&&this.credentialMatchesFilter(a,e)&&r.push(a)}),r}getRefreshToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?rd:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Wt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,o)){const m=this.getRefreshTokenCredential(h,s);m&&this.credentialMatchesFilter(m,o)&&u.push(m)}});const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&i&&s&&i.addFields({multiMatchedRT:d},s),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.familyId&&s.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},s=this.getAppMetadataFilteredBy(n),r=Object.keys(s).map(a=>s[a]),i=r.length;if(i<1)return null;if(i>1)throw ee(FT);return r[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===rd)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const s=e.oid||e.sub;return n===s}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var s;return n.toLowerCase()===((s=e.name)==null?void 0:s.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const r=kO(this.staticAuthorityOptions,this.commonLogger);if(r.includes(n)&&r.includes(e.environment))return!0}const s=this.getAuthorityMetadataByAlias(n);return!!(s&&s.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var s;return((s=e.realm)==null?void 0:s.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Wt.ACCESS_TOKEN&&e.credentialType!==Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Lt.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Up)!==-1}isAuthorityMetadata(e){return e.indexOf(id.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${id.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const s in n)e[s]=n[s];return e}}class jO extends Xm{async setAccount(){throw ee(Oe)}getAccount(){throw ee(Oe)}async setIdTokenCredential(){throw ee(Oe)}getIdTokenCredential(){throw ee(Oe)}async setAccessTokenCredential(){throw ee(Oe)}getAccessTokenCredential(){throw ee(Oe)}async setRefreshTokenCredential(){throw ee(Oe)}getRefreshTokenCredential(){throw ee(Oe)}setAppMetadata(){throw ee(Oe)}getAppMetadata(){throw ee(Oe)}setServerTelemetry(){throw ee(Oe)}getServerTelemetry(){throw ee(Oe)}setAuthorityMetadata(){throw ee(Oe)}getAuthorityMetadata(){throw ee(Oe)}getAuthorityMetadataKeys(){throw ee(Oe)}setThrottlingCache(){throw ee(Oe)}getThrottlingCache(){throw ee(Oe)}removeItem(){throw ee(Oe)}getKeys(){throw ee(Oe)}getAccountKeys(){throw ee(Oe)}getTokenKeys(){throw ee(Oe)}generateCredentialKey(){throw ee(Oe)}generateAccountKey(){throw ee(Oe)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const _n={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const O={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},IO={InProgress:1};/*! @azure/msal-common v15.12.0 2025-08-19 */class mx{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class yA{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:IO.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new mx}}startPerformanceMeasurement(){return new mx}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const vA={tokenRenewalOffsetSeconds:MT,preventCorsPreflight:!1},MO={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ut.Info,correlationId:q.EMPTY_STRING},PO={claimsBasedCachingEnabled:!1},DO={async sendGetRequestAsync(){throw ee(Oe)},async sendPostRequestAsync(){throw ee(Oe)}},UO={sku:q.SKU,version:qp,cpu:q.EMPTY_STRING,os:q.EMPTY_STRING},LO={clientSecret:q.EMPTY_STRING,clientAssertion:void 0},HO={azureCloudInstance:Kp.None,tenant:`${q.DEFAULT_COMMON_TENANT}`},BO={application:{appName:"",appVersion:""}};function zO({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:s,storageInterface:r,networkInterface:i,cryptoInterface:a,clientCredentials:o,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:m}){const f={...MO,...n};return{authOptions:VO(t),systemOptions:{...vA,...e},loggerOptions:f,cacheOptions:{...PO,...s},storageInterface:r||new jO(t.clientId,od,new hr(f),new yA),networkInterface:i||DO,cryptoInterface:a||od,clientCredentials:o||LO,libraryInfo:{...UO,...c},telemetry:{...BO,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:m||null}}function VO(t){return{clientCapabilities:[],azureCloudOptions:HO,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function bA(t){return t.authOptions.authority.options.protocolMode===_n.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const ps={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function dd(t,e){if(!t)throw ee(PT);try{const n=e(t);return JSON.parse(n)}catch{throw ee(Lp)}}function Da(t){if(!t)throw ee(Lp);const e=t.split(Dl.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?q.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Hi="client_id",xA="redirect_uri",FO="response_type",GO="response_mode",qO="grant_type",KO="claims",$O="scope",YO="refresh_token",QO="state",XO="nonce",JO="prompt",ZO="code",WO="code_challenge",ej="code_challenge_method",tj="code_verifier",nj="client-request-id",sj="x-client-SKU",rj="x-client-VER",ij="x-client-OS",aj="x-client-CPU",oj="x-client-current-telemetry",lj="x-client-last-telemetry",cj="x-ms-lib-capability",uj="x-app-name",dj="x-app-ver",hj="post_logout_redirect_uri",fj="id_token_hint",mj="client_secret",gj="client_assertion",pj="client_assertion_type",SA="token_type",CA="req_cnf",gx="return_spa_code",yj="nativebroker",vj="logout_hint",bj="sid",xj="login_hint",Sj="domain_hint",Cj="x-client-xtra-sku",hd="brk_client_id",fd="brk_redirect_uri",Jm="instance_aware",wj="ear_jwk",Tj="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function lh(t,e,n){if(!e)return;const s=t.get(Hi);s&&t.has(hd)&&(n==null||n.addFields({embeddedClientId:s,embeddedRedirectUri:t.get(xA)},e))}function ty(t,e){t.set(FO,e)}function Aj(t,e){t.set(GO,e||oO.QUERY)}function Ej(t){t.set(yj,"1")}function ny(t,e,n=!0,s=co){n&&!s.includes("openid")&&!e.includes("openid")&&s.push("openid");const r=n?[...e||[],...s]:e||[],i=new Lt(r);t.set($O,i.printScopes())}function sy(t,e){t.set(Hi,e)}function ry(t,e){t.set(xA,e)}function Nj(t,e){t.set(hj,e)}function _j(t,e){t.set(fj,e)}function Rj(t,e){t.set(Sj,e)}function Lc(t,e){t.set(xj,e)}function md(t,e){t.set(mn.CCS_HEADER,`UPN:${e}`)}function ol(t,e){t.set(mn.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function px(t,e){t.set(bj,e)}function iy(t,e,n){const s=Pj(e,n);try{JSON.parse(s)}catch{throw We($p)}t.set(KO,s)}function ay(t,e){t.set(nj,e)}function oy(t,e){t.set(sj,e.sku),t.set(rj,e.version),e.os&&t.set(ij,e.os),e.cpu&&t.set(aj,e.cpu)}function ly(t,e){e!=null&&e.appName&&t.set(uj,e.appName),e!=null&&e.appVersion&&t.set(dj,e.appVersion)}function kj(t,e){t.set(JO,e)}function wA(t,e){e&&t.set(QO,e)}function Oj(t,e){t.set(XO,e)}function TA(t,e,n){if(e&&n)t.set(WO,e),t.set(ej,n);else throw We(Yp)}function jj(t,e){t.set(ZO,e)}function Ij(t,e){t.set(YO,e)}function Mj(t,e){t.set(tj,e)}function AA(t,e){t.set(mj,e)}function EA(t,e){e&&t.set(gj,e)}function NA(t,e){e&&t.set(pj,e)}function _A(t,e){t.set(qO,e)}function cy(t){t.set(lO,"1")}function RA(t){t.has(Jm)||t.set(Jm,"true")}function Qr(t,e){Object.entries(e).forEach(([n,s])=>{!t.has(n)&&s&&t.set(n,s)})}function Pj(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw We($p)}return e&&e.length>0&&(n.hasOwnProperty(Dc.ACCESS_TOKEN)||(n[Dc.ACCESS_TOKEN]={}),n[Dc.ACCESS_TOKEN][Dc.XMS_CC]={values:e}),JSON.stringify(n)}function uy(t,e){e&&(t.set(SA,Fe.POP),t.set(CA,e))}function kA(t,e){e&&(t.set(SA,Fe.SSH),t.set(CA,e))}function OA(t,e){t.set(oj,e.generateCurrentRequestHeaderValue()),t.set(lj,e.generateLastRequestHeaderValue())}function jA(t){t.set(cj,al.X_MS_LIB_CAPABILITY_VALUE)}function Dj(t,e){t.set(vj,e)}function ch(t,e,n){t.has(hd)||t.set(hd,e),t.has(fd)||t.set(fd,n)}function Uj(t,e){t.set(wj,encodeURIComponent(e)),t.set(Tj,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Lj(t,e){Object.entries(e).forEach(([n,s])=>{s&&t.set(n,s)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const ds={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function Hj(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function Bj(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function zj(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const qn=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}try{const o=t(...i);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),o}catch(o){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o}},F=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}return s==null||s.setPreQueueTime(e,r),t(...i).then(o=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),o)).catch(o=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o})};/*! @azure/msal-common v15.12.0 2025-08-19 */class uh{constructor(e,n,s,r){this.networkInterface=e,this.logger=n,this.performanceClient=s,this.correlationId=r}async detectRegion(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.RegionDiscoveryDetectRegion,this.correlationId);let s=e;if(s)n.region_source=sa.ENVIRONMENT_VARIABLE;else{const i=uh.IMDS_OPTIONS;try{const a=await F(this.getRegionFromIMDS.bind(this),O.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(q.IMDS_VERSION,i);if(a.status===Lr.SUCCESS&&(s=a.body,n.region_source=sa.IMDS),a.status===Lr.BAD_REQUEST){const o=await F(this.getCurrentVersion.bind(this),O.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!o)return n.region_source=sa.FAILED_AUTO_DETECTION,null;const c=await F(this.getRegionFromIMDS.bind(this),O.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(o,i);c.status===Lr.SUCCESS&&(s=c.body,n.region_source=sa.IMDS)}}catch{return n.region_source=sa.FAILED_AUTO_DETECTION,null}}return s||(n.region_source=sa.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(e,n){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(O.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${q.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,q.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(O.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(`${q.IMDS_ENDPOINT}?format=json`,e);return s.status===Lr.BAD_REQUEST&&s.body&&s.body["newest-versions"]&&s.body["newest-versions"].length>0?s.body["newest-versions"][0]:null}catch{return null}}}uh.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function kn(){return Math.round(new Date().getTime()/1e3)}function yx(t){return t.getTime()/1e3}function Ua(t){return t?new Date(Number(t)*1e3):new Date}function gd(t,e){const n=Number(t)||0;return kn()+e>n}function Vj(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function Fj(t){return Number(t)>kn()}/*! @azure/msal-common v15.12.0 2025-08-19 */function dh(t,e,n,s,r){return{credentialType:Wt.ID_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,realm:r,lastUpdatedAt:Date.now().toString()}}function hh(t,e,n,s,r,i,a,o,c,u,d,h,m,f,x){var C,y;const b={homeAccountId:t,credentialType:Wt.ACCESS_TOKEN,secret:n,cachedAt:kn().toString(),expiresOn:a.toString(),extendedExpiresOn:o.toString(),environment:e,clientId:s,realm:r,target:i,tokenType:d||Fe.BEARER,lastUpdatedAt:Date.now().toString()};if(h&&(b.userAssertionHash=h),u&&(b.refreshOn=u.toString()),f&&(b.requestedClaims=f,b.requestedClaimsHash=x),((C=b.tokenType)==null?void 0:C.toLowerCase())!==Fe.BEARER.toLowerCase())switch(b.credentialType=Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case Fe.POP:const p=uo(n,c);if(!((y=p==null?void 0:p.cnf)!=null&&y.kid))throw ee(YT);b.keyId=p.cnf.kid;break;case Fe.SSH:b.keyId=m}return b}function IA(t,e,n,s,r,i,a){const o={credentialType:Wt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,lastUpdatedAt:Date.now().toString()};return i&&(o.userAssertionHash=i),r&&(o.familyId=r),a&&(o.expiresOn=a.toString()),o}function dy(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function vx(t){return t?dy(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Wt.ACCESS_TOKEN||t.credentialType===Wt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Gj(t){return t?dy(t)&&t.hasOwnProperty("realm")&&t.credentialType===Wt.ID_TOKEN:!1}function bx(t){return t?dy(t)&&t.credentialType===Wt.REFRESH_TOKEN:!1}function qj(t,e){const n=t.indexOf(Xt.CACHE_KEY)===0;let s=!0;return e&&(s=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&s}function Kj(t,e){let n=!1;t&&(n=t.indexOf(al.THROTTLING_PREFIX)===0);let s=!0;return e&&(s=e.hasOwnProperty("throttleTime")),n&&s}function $j({environment:t,clientId:e}){return[Up,t,e].join(Dl.CACHE_KEY_SEPARATOR).toLowerCase()}function Yj(t,e){return e?t.indexOf(Up)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function Qj(t,e){return e?t.indexOf(id.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function xx(){return kn()+id.REFRESH_TIME_SECONDS}function Hc(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function Sf(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function Sx(t){return t.expiresAt<=kn()}/*! @azure/msal-common v15.12.0 2025-08-19 */class an{constructor(e,n,s,r,i,a,o,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=s,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new uh(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(q.CIAM_AUTH_URL))return ds.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case q.ADFS:return ds.Adfs;case q.DSTS:return ds.Dsts}return ds.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Le(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw ee(Ys)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw ee(Ys)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw ee(Ys)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ee(JT);return this.replacePath(this.metadata.end_session_endpoint)}else throw ee(Ys)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw ee(Ys)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw ee(Ys)}canReplaceTenant(e){return e.PathSegments.length===1&&!an.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ds.Default&&this.protocolMode!==_n.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const r=new Le(this.metadata.canonical_authority).getUrlComponents(),i=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((o,c)=>{let u=i[c];if(c===0&&this.canReplaceTenant(r)){const d=new Le(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==d&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${d}`),u=d)}o!==u&&(n=n.replace(`/${u}/`,`/${o}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ds.Adfs||this.protocolMode===_n.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await F(this.updateCloudDiscoveryMetadata.bind(this),O.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const s=await F(this.updateEndpointMetadata.bind(this),O.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:s}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:n,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:xx(),jwks_uri:""}),e}updateCachedMetadata(e,n,s){n!==Un.CACHE&&(s==null?void 0:s.source)!==Un.CACHE&&(e.expiresAt=xx(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var r,i,a;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Un.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&n.metadata){const o=await F(this.updateMetadataWithRegionalInformation.bind(this),O.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Hc(e,o,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let s=await F(this.getEndpointMetadataFromNetwork.bind(this),O.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(s=await F(this.updateMetadataWithRegionalInformation.bind(this),O.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(s)),Hc(e,s,!0),Un.NETWORK;throw ee(LT,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Hc(e,n,!1),{source:Un.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const r=this.getEndpointMetadataFromHardcodedValues();if(r)return Hc(e,r,!1),{source:Un.HARDCODED_VALUES,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const s=Sx(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!s?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Un.CACHE}):(s&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Le(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw We(iA)}return null}async getEndpointMetadataFromNetwork(){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(O.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const r=await this.networkInterface.sendGetRequestAsync(n,e);return Hj(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in hx?hx[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(O.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(r=this.authorityOptions.azureRegionConfiguration)==null?void 0:r.azureRegion;if(n){if(n!==q.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=bf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,an.replaceWithRegionalInformation(e,n);const a=await F(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),O.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=bf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,an.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=bf.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const s=await F(this.getCloudDiscoveryMetadataFromNetwork.bind(this),O.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return Sf(e,s,!0),Un.NETWORK;throw We(aA)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||q.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||q.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||q.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Sf(e,n,!1),Un.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const r=OO(this.hostnameAndPort);if(r)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Sf(e,r,!1),Un.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const s=Sx(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!s?(this.logger.verbose("Found cloud discovery metadata in the cache."),Un.CACHE):(s&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ds.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),an.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=cd(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),We(Qp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),an.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${q.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let s=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,n);let a,o;if(Bj(i.body))a=i.body,o=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(zj(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),a=i.body,a.error===q.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),s=cd(o,this.hostnameAndPort)}catch(i){if(i instanceof Je)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const a=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return s||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),s=an.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Le.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let s;if(n&&n.azureCloudInstance!==Kp.None){const r=n.tenant?n.tenant:q.DEFAULT_COMMON_TENANT;s=`${n.azureCloudInstance}/${r}/`}return s||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return q.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw ee(Ys)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return pA.has(e)}static isPublicCloudAuthority(e){return q.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,s){const r=new Le(e);r.validateAsUri();const i=r.getUrlComponents();let a=`${n}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(a=`${n}.${q.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const o=Le.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return s?`${o}?${s}`:o}static replaceWithRegionalInformation(e,n){const s={...e};return s.authorization_endpoint=an.buildRegionalAuthorityString(s.authorization_endpoint,n),s.token_endpoint=an.buildRegionalAuthorityString(s.token_endpoint,n),s.end_session_endpoint&&(s.end_session_endpoint=an.buildRegionalAuthorityString(s.end_session_endpoint,n)),s}static transformCIAMAuthority(e){let n=e;const r=new Le(e).getUrlComponents();if(r.PathSegments.length===0&&r.HostNameAndPort.endsWith(q.CIAM_AUTH_URL)){const i=r.HostNameAndPort.split(".")[0];n=`${n}${i}${q.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}an.reservedTenantDomains=new Set(["{tenant}","{tenantid}",$r.COMMON,$r.CONSUMERS,$r.ORGANIZATIONS]);function Xj(t){var r;const s=(r=new Le(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:r.toLowerCase();switch(s){case $r.COMMON:case $r.ORGANIZATIONS:case $r.CONSUMERS:return;default:return s}}function MA(t){return t.endsWith(q.FORWARD_SLASH)?t:`${t}${q.FORWARD_SLASH}`}function Jj(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw We(Qp)}return{canonicalAuthority:t.authority?MA(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function PA(t,e,n,s,r,i,a){a==null||a.addQueueMeasurement(O.AuthorityFactoryCreateDiscoveredInstance,i);const o=an.transformCIAMAuthority(MA(t)),c=new an(o,e,n,s,r,i,a);try{return await F(c.resolveEndpointsAsync.bind(c),O.AuthorityResolveEndpointsAsync,r,a,i)(),c}catch{throw ee(Ys)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Xi extends Je{constructor(e,n,s,r,i){super(e,n,s),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,Xi.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function fh(t,e,n){var s;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((s=e.tokenBodyParameters)==null?void 0:s.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Rs{static generateThrottlingStorageKey(e){return`${al.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,s){var a;const r=Rs.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r,s);return}throw new Xi(((a=i.errorCodes)==null?void 0:a.join(" "))||q.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,s,r){if(Rs.checkResponseStatus(s)||Rs.checkResponseForRetryAfter(s)){const i={throttleTime:Rs.calculateThrottleTime(parseInt(s.headers[mn.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};e.setThrottlingCache(Rs.generateThrottlingStorageKey(n),i,r)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(mn.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,s=Date.now()/1e3;return Math.floor(Math.min(s+(n||al.DEFAULT_THROTTLE_TIME_SECONDS),s+al.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,s,r){const i=fh(n,s,r),a=this.generateThrottlingStorageKey(i);e.removeItem(a,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class mh extends Je{constructor(e,n,s){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,mh.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=s}}function Vo(t,e,n,s){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${s==null?void 0:s.name}, error.message:${s==null?void 0:s.message}`,new mh(t,e,n)}/*! @azure/msal-common v15.12.0 2025-08-19 */class hy{constructor(e,n){this.config=zO(e),this.logger=new hr(this.config.loggerOptions,ZT,qp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[mn.CONTENT_TYPE]=q.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ps.HOME_ACCOUNT_ID:try{const s=Da(e.credential);n[mn.CCS_HEADER]=`Oid:${s.uid}@${s.utid}`}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case ps.UPN:n[mn.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,s,r,i,a){var c;a&&((c=this.performanceClient)==null||c.addQueueMeasurement(a,i));const o=await this.sendPostRequest(r,e,{body:n,headers:s},i);return this.config.serverTelemetryManager&&o.status<500&&o.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,n,s,r){var a,o,c;Rs.preProcess(this.cacheManager,e,r);let i;try{i=await F(this.networkClient.sendPostRequestAsync.bind(this.networkClient),O.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(n,s);const u=i.headers||{};(o=this.performanceClient)==null||o.addFields({refreshTokenSize:((a=i.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:u[mn.X_MS_HTTP_VERSION]||"",requestId:u[mn.X_MS_REQUEST_ID]||""},r)}catch(u){if(u instanceof mh){const d=u.responseHeaders;throw d&&((c=this.performanceClient)==null||c.addFields({httpVerToken:d[mn.X_MS_HTTP_VERSION]||"",requestId:d[mn.X_MS_REQUEST_ID]||"",contentTypeHeader:d[mn.CONTENT_TYPE]||void 0,contentLengthHeader:d[mn.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},r)),u.error}throw u instanceof Je?u:ee(UT)}return Rs.postProcess(this.cacheManager,e,i,r),i}async updateAuthority(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(O.UpdateTokenEndpointAuthority,n);const s=`https://${e}/${this.authority.tenant}/`,r=await PA(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&ch(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Qr(n,e.tokenQueryParameters),ay(n,e.correlationId),lh(n,e.correlationId,this.performanceClient),Ul(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function DA(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class bs{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,s){var u,d,h,m,f,x,b;const r=new bs;n.authorityType===ds.Adfs?r.authorityType=Uc.ADFS_ACCOUNT_TYPE:n.protocolMode===_n.OIDC?r.authorityType=Uc.GENERIC_ACCOUNT_TYPE:r.authorityType=Uc.MSSTS_ACCOUNT_TYPE;let i;e.clientInfo&&s&&(i=dd(e.clientInfo,s)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw ee(Vp);r.environment=a,r.realm=(i==null?void 0:i.utid)||DA(e.idTokenClaims)||"",r.localAccountId=(i==null?void 0:i.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((d=e.idTokenClaims)==null?void 0:d.sub)||"";const o=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((m=e.idTokenClaims)==null?void 0:m.upn),c=(f=e.idTokenClaims)!=null&&f.emails?e.idTokenClaims.emails[0]:null;if(r.username=o||c||"",r.loginHint=(x=e.idTokenClaims)==null?void 0:x.login_hint,r.name=((b=e.idTokenClaims)==null?void 0:b.name)||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const C=Jp(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[C]}return r}static createFromAccountInfo(e,n,s){var i;const r=new bs;return r.authorityType=e.authorityType||Uc.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.loginHint=e.loginHint,r.cloudGraphHostName=n,r.msGraphHost=s,r.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),r}static generateHomeAccountId(e,n,s,r,i){if(!(n===ds.Adfs||n===ds.Dsts)){if(e)try{const a=dd(e,r.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}s.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,s){if(!e||!n)return!1;let r=!0;if(s){const i=e.idTokenClaims||{},a=n.idTokenClaims||{};r=i.iat===a.iat&&i.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&r}}/*! @azure/msal-common v15.12.0 2025-08-19 */const pd="no_tokens_found",UA="native_account_unavailable",fy="refresh_token_expired",my="ux_not_allowed",Zj="interaction_required",Wj="consent_required",eI="login_required",gh="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const Cx=[Zj,Wj,eI,gh,my],tI=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],nI={[pd]:"No refresh token found in the cache. Please sign-in.",[UA]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[fy]:"Refresh token has expired.",[gh]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[my]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class xs extends Je{constructor(e,n,s,r,i,a,o,c){super(e,n,s),Object.setPrototypeOf(this,xs.prototype),this.timestamp=r||q.EMPTY_STRING,this.traceId=i||q.EMPTY_STRING,this.correlationId=a||q.EMPTY_STRING,this.claims=o||q.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function LA(t,e,n){const s=!!t&&Cx.indexOf(t)>-1,r=!!n&&tI.indexOf(n)>-1,i=!!e&&Cx.some(a=>e.indexOf(a)>-1);return s||i||r}function yd(t){return new xs(t,nI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class ho{static setRequestState(e,n,s){const r=ho.generateLibraryState(e,s);return n?`${r}${q.RESOURCE_DELIM}${n}`:r}static generateLibraryState(e,n){if(!e)throw ee(Ym);const s={id:e.createNewGuid()};n&&(s.meta=n);const r=JSON.stringify(s);return e.base64Encode(r)}static parseRequestState(e,n){if(!e)throw ee(Ym);if(!n)throw ee(Xa);try{const s=n.split(q.RESOURCE_DELIM),r=s[0],i=s.length>1?s.slice(1).join(q.RESOURCE_DELIM):q.EMPTY_STRING,a=e.base64Decode(r),o=JSON.parse(a);return{userRequestState:i||q.EMPTY_STRING,libraryState:o}}catch{throw ee(Xa)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const sI={SW:"sw"};class Ja{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(O.PopTokenGenerateCnf,e.correlationId);const s=await F(this.generateKid.bind(this),O.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(s));return{kid:s.kid,reqCnfString:r}}async generateKid(e){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(O.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:sI.SW}}async signPopToken(e,n,s){return this.signPayload(e,n,s)}async signPayload(e,n,s,r){const{resourceRequestMethod:i,resourceRequestUri:a,shrClaims:o,shrNonce:c,shrOptions:u}=s,d=a?new Le(a):void 0,h=d==null?void 0:d.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:kn(),m:i==null?void 0:i.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:o||void 0,...r},n,u,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class rI{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Bi{constructor(e,n,s,r,i,a,o){this.clientId=e,this.cacheStorage=n,this.cryptoObj=s,this.logger=r,this.serializableCache=i,this.persistencePlugin=a,this.performanceClient=o}validateTokenResponse(e,n){var s;if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||q.NOT_AVAILABLE} - Timestamp: ${e.timestamp||q.NOT_AVAILABLE} - Description: ${e.error_description||q.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||q.NOT_AVAILABLE} - Trace ID: ${e.trace_id||q.NOT_AVAILABLE}`,i=(s=e.error_codes)!=null&&s.length?e.error_codes[0]:void 0,a=new Xi(e.error,r,e.suberror,i,e.status);if(n&&e.status&&e.status>=Lr.SERVER_ERROR_RANGE_START&&e.status<=Lr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=Lr.CLIENT_ERROR_RANGE_START&&e.status<=Lr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw LA(e.error,e.error_description,e.suberror)?new xs(e.error,e.error_description,e.suberror,e.timestamp||q.EMPTY_STRING,e.trace_id||q.EMPTY_STRING,e.correlation_id||q.EMPTY_STRING,e.claims||q.EMPTY_STRING,i):a}}async handleServerTokenResponse(e,n,s,r,i,a,o,c,u){var x;(x=this.performanceClient)==null||x.addQueueMeasurement(O.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=uo(e.id_token||q.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&d.nonce!==i.nonce)throw ee(zT);if(r.maxAge||r.maxAge===0){const b=d.auth_time;if(!b)throw ee(Bp);fA(b,r.maxAge)}}this.homeAccountIdentifier=bs.generateHomeAccountId(e.client_info||q.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,d);let h;i&&i.state&&(h=ho.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const m=this.generateCacheRecord(e,n,s,r,d,a,i);let f;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new rI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(f)),o&&!c&&m.account){const b=this.cacheStorage.generateAccountKey(m.account.getAccountInfo());if(!this.cacheStorage.getAccount(b,r.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Bi.generateAuthenticationResult(this.cryptoObj,n,m,!1,r,d,h,void 0,u)}await this.cacheStorage.saveCacheRecord(m,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&f&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(f))}return Bi.generateAuthenticationResult(this.cryptoObj,n,m,!1,r,d,h,e,u)}generateCacheRecord(e,n,s,r,i,a,o){const c=n.getPreferredCache();if(!c)throw ee(Vp);const u=DA(i);let d,h;e.id_token&&i&&(d=dh(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),h=gy(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,i,e.client_info,c,u,o,void 0,this.logger));let m=null;if(e.access_token){const b=e.scope?Lt.fromString(e.scope):new Lt(r.scopes||[]),C=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,p=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=s+C,v=g+y,w=p&&p>0?s+p:void 0;m=hh(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||n.tenant||"",b.printScopes(),g,v,this.cryptoObj.base64Decode,w,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let f=null;if(e.refresh_token){let b;if(e.refresh_token_expires_in){const C=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;b=s+C}f=IA(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,a,b)}let x=null;return e.foci&&(x={clientId:this.clientId,environment:c,familyId:e.foci}),{account:h,idToken:d,accessToken:m,refreshToken:f,appMetadata:x}}static async generateAuthenticationResult(e,n,s,r,i,a,o,c,u){var g,v,w,N,T;let d=q.EMPTY_STRING,h=[],m=null,f,x,b=q.EMPTY_STRING;if(s.accessToken){if(s.accessToken.tokenType===Fe.POP&&!i.popKid){const _=new Ja(e),{secret:A,keyId:k}=s.accessToken;if(!k)throw ee(Fp);d=await _.signPopToken(A,k,i)}else d=s.accessToken.secret;h=Lt.fromString(s.accessToken.target).asArray(),m=Ua(s.accessToken.expiresOn),f=Ua(s.accessToken.extendedExpiresOn),s.accessToken.refreshOn&&(x=Ua(s.accessToken.refreshOn))}s.appMetadata&&(b=s.appMetadata.familyId===rd?rd:"");const C=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",y=(a==null?void 0:a.tid)||"";c!=null&&c.spa_accountid&&s.account&&(s.account.nativeAccountId=c==null?void 0:c.spa_accountid);const p=s.account?Zp(s.account.getAccountInfo(),void 0,a,(g=s.idToken)==null?void 0:g.secret):null;return{authority:n.canonicalAuthority,uniqueId:C,tenantId:y,scopes:h,account:p,idToken:((v=s==null?void 0:s.idToken)==null?void 0:v.secret)||"",idTokenClaims:a||{},accessToken:d,fromCache:r,expiresOn:m,extExpiresOn:f,refreshOn:x,correlationId:i.correlationId,requestId:u||q.EMPTY_STRING,familyId:b,tokenType:((w=s.accessToken)==null?void 0:w.tokenType)||q.EMPTY_STRING,state:o?o.userRequestState:q.EMPTY_STRING,cloudGraphHostName:((N=s.account)==null?void 0:N.cloudGraphHostName)||q.EMPTY_STRING,msGraphHost:((T=s.account)==null?void 0:T.msGraphHost)||q.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function gy(t,e,n,s,r,i,a,o,c,u,d,h){h==null||h.verbose("setCachedAccount called");const f=t.getAccountKeys().find(p=>p.startsWith(n));let x=null;f&&(x=t.getAccount(f,r));const b=x||bs.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:a,environment:o,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:d},e,s),C=b.tenantProfiles||[],y=c||b.realm;if(y&&!C.find(p=>p.tenantId===y)){const p=Jp(n,b.localAccountId,y,i);C.push(p)}return b.tenantProfiles=C,b}/*! @azure/msal-common v15.12.0 2025-08-19 */async function HA(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.12.0 2025-08-19 */class BA extends hy{constructor(e,n){var s;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes}async acquireToken(e,n){var o,c;if((o=this.performanceClient)==null||o.addQueueMeasurement(O.AuthClientAcquireToken,e.correlationId),!e.code)throw ee(GT);const s=kn(),r=await F(this.executeTokenRequest.bind(this),O.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(c=r.headers)==null?void 0:c[mn.X_MS_REQUEST_ID],a=new Bi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),F(a.handleServerTokenResponse.bind(a),O.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,s,e,n,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw We(rA);const n=this.createLogoutUrlQueryString(e);return Le.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(O.AuthClientExecuteTokenRequest,n.correlationId);const s=this.createTokenQueryParameters(n),r=Le.appendQueryString(e.tokenEndpoint,s),i=await F(this.createTokenRequestBody.bind(this),O.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const d=dd(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${d.uid}${Dl.CLIENT_INFO_SEPARATOR}${d.utid}`,type:ps.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}const o=this.createTokenRequestHeaders(a||n.ccsCredential),c=fh(this.config.authOptions.clientId,n);return F(this.executePostToTokenEndpoint.bind(this),O.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(r,i,o,c,n.correlationId,O.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(sy(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Hi])||this.config.authOptions.clientId),this.includeRedirectUri)ry(n,e.redirectUri);else if(!e.redirectUri)throw We(WT);if(ny(n,e.scopes,!0,this.oidcDefaultScopes),jj(n,e.code),oy(n,this.config.libraryInfo),ly(n,this.config.telemetry.application),jA(n),this.serverTelemetryManager&&!bA(this.config)&&OA(n,this.serverTelemetryManager),e.codeVerifier&&Mj(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&AA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;EA(n,await HA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),NA(n,a.assertionType)}if(_A(n,IT.AUTHORIZATION_CODE_GRANT),cy(n),e.authenticationScheme===Fe.POP){const a=new Ja(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await F(a.generateCnf.bind(a),O.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,uy(n,o)}else if(e.authenticationScheme===Fe.SSH)if(e.sshJwk)kA(n,e.sshJwk);else throw We(oh);(!Gn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&iy(n,e.claims,this.config.authOptions.clientCapabilities);let s;if(e.clientInfo)try{const a=dd(e.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${a.uid}${Dl.CLIENT_INFO_SEPARATOR}${a.utid}`,type:ps.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else s=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case ps.HOME_ACCOUNT_ID:try{const a=Da(s.credential);ol(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ps.UPN:md(n,s.credential);break}return e.embeddedClientId&&ch(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Qr(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[gx])&&Qr(n,{[gx]:"1"}),lh(n,e.correlationId,this.performanceClient),Ul(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&Nj(n,e.postLogoutRedirectUri),e.correlationId&&ay(n,e.correlationId),e.idTokenHint&&_j(n,e.idTokenHint),e.state&&wA(n,e.state),e.logoutHint&&Dj(n,e.logoutHint),e.extraQueryParameters&&Qr(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&RA(n),Ul(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const iI=300;class aI extends hy{constructor(e,n){super(e,n)}async acquireToken(e){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(O.RefreshTokenClientAcquireToken,e.correlationId);const n=kn(),s=await F(this.executeTokenRequest.bind(this),O.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=(o=s.headers)==null?void 0:o[mn.X_MS_REQUEST_ID],i=new Bi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(s.body),F(i.handleServerTokenResponse.bind(i),O.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){var s;if(!e)throw We(sA);if((s=this.performanceClient)==null||s.addQueueMeasurement(O.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw ee(zp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const i=r instanceof xs&&r.errorCode===pd,a=r instanceof Xi&&r.errorCode===ax.INVALID_GRANT_ERROR&&r.subError===ax.CLIENT_MISMATCH_ERROR;if(i||a)return F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var i,a,o;(i=this.performanceClient)==null||i.addQueueMeasurement(O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const s=qn(this.cacheManager.getRefreshToken.bind(this.cacheManager),O.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!s)throw yd(pd);if(s.expiresOn&&gd(s.expiresOn,e.refreshTokenExpirationOffsetSeconds||iI))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),yd(fy);const r={...e,refreshToken:s.secret,authenticationScheme:e.authenticationScheme||Fe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ps.HOME_ACCOUNT_ID}};try{return await F(this.acquireToken.bind(this),O.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(c){if(c instanceof xs&&((o=this.performanceClient)==null||o.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),c.subError===gh)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=this.cacheManager.generateCredentialKey(s);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(O.RefreshTokenClientExecuteTokenRequest,e.correlationId);const s=this.createTokenQueryParameters(e),r=Le.appendQueryString(n.tokenEndpoint,s),i=await F(this.createTokenRequestBody.bind(this),O.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),o=fh(this.config.authOptions.clientId,e);return F(this.executePostToTokenEndpoint.bind(this),O.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,i,a,o,e.correlationId,O.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(O.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(sy(n,e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r[Hi])||this.config.authOptions.clientId),e.redirectUri&&ry(n,e.redirectUri),ny(n,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),_A(n,IT.REFRESH_TOKEN_GRANT),cy(n),oy(n,this.config.libraryInfo),ly(n,this.config.telemetry.application),jA(n),this.serverTelemetryManager&&!bA(this.config)&&OA(n,this.serverTelemetryManager),Ij(n,e.refreshToken),this.config.clientCredentials.clientSecret&&AA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;EA(n,await HA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),NA(n,a.assertionType)}if(e.authenticationScheme===Fe.POP){const a=new Ja(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await F(a.generateCnf.bind(a),O.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,uy(n,o)}else if(e.authenticationScheme===Fe.SSH)if(e.sshJwk)kA(n,e.sshJwk);else throw We(oh);if((!Gn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&iy(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ps.HOME_ACCOUNT_ID:try{const a=Da(e.ccsCredential.credential);ol(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ps.UPN:md(n,e.ccsCredential.credential);break}return e.embeddedClientId&&ch(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Qr(n,e.tokenBodyParameters),lh(n,e.correlationId,this.performanceClient),Ul(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class oI extends hy{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(O.SilentFlowClientAcquireCachedToken,e.correlationId);let n=yi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Gn.isEmptyObj(e.claims))throw this.setCacheOutcome(yi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),ee(Yr);if(!e.account)throw ee(zp);const s=e.account.tenantId||Xj(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,s);if(i){if(Fj(i.cachedAt)||gd(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(yi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),ee(Yr);i.refreshOn&&gd(i.refreshOn,0)&&(n=yi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(yi.NO_CACHED_ACCESS_TOKEN,e.correlationId),ee(Yr);const a=e.authority||this.authority.getPreferredCache(),o={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,r,s,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await F(this.generateResultFromCacheRecord.bind(this),O.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(o,e),n]}setCacheOutcome(e,n){var s,r;(s=this.serverTelemetryManager)==null||s.setCacheOutcome(e),(r=this.performanceClient)==null||r.addFields({cacheOutcome:e},n),e!==yi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let s;if(e.idToken&&(s=uo(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const i=s==null?void 0:s.auth_time;if(!i)throw ee(Bp);fA(i,n.maxAge)}return Bi.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,s)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const lI={sendGetRequestAsync:()=>Promise.reject(ee(Oe)),sendPostRequestAsync:()=>Promise.reject(ee(Oe))};/*! @azure/msal-common v15.12.0 2025-08-19 */function cI(t,e,n,s){var o,c;const r=e.correlationId,i=new Map;sy(i,e.embeddedClientId||((o=e.extraQueryParameters)==null?void 0:o[Hi])||t.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(ny(i,a,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),ry(i,e.redirectUri),ay(i,r),Aj(i,e.responseMode),cy(i),e.prompt&&(kj(i,e.prompt),s==null||s.addFields({prompt:e.prompt},r)),e.domainHint&&(Rj(i,e.domainHint),s==null||s.addFields({domainHintFromRequest:!0},r)),e.prompt!==vn.SELECT_ACCOUNT)if(e.sid&&e.prompt===vn.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),px(i,e.sid),s==null||s.addFields({sidFromRequest:!0},r);else if(e.account){const u=hI(e.account);let d=fI(e.account);if(d&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),d=null),d){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Lc(i,d),s==null||s.addFields({loginHintFromClaim:!0},r);try{const h=Da(e.account.homeAccountId);ol(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===vn.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),px(i,u),s==null||s.addFields({sidFromClaim:!0},r);try{const h=Da(e.account.homeAccountId);ol(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Lc(i,e.loginHint),md(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Lc(i,e.account.username),s==null||s.addFields({loginHintFromUpn:!0},r);try{const h=Da(e.account.homeAccountId);ol(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Lc(i,e.loginHint),md(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Oj(i,e.nonce),e.state&&wA(i,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&iy(i,e.claims,t.clientCapabilities),e.embeddedClientId&&ch(i,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Jm))&&RA(i),i}function py(t,e,n,s){const r=Ul(e,n,s);return Le.appendQueryString(t.authorizationEndpoint,r)}function uI(t,e){if(zA(t,e),!t.code)throw ee(QT);return t}function zA(t,e){if(!t.state||!e)throw t.state?ee(qm,"Cached State"):ee(qm,"Server State");let n,s;try{n=decodeURIComponent(t.state)}catch{throw ee(Xa,t.state)}try{s=decodeURIComponent(e)}catch{throw ee(Xa,t.state)}if(n!==s)throw ee(BT);if(t.error||t.error_description||t.suberror){const r=dI(t);throw LA(t.error,t.error_description,t.suberror)?new xs(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",r):new Xi(t.error||"",t.error_description,t.suberror,r)}}function dI(t){var s,r;const e="code=",n=(s=t.error_uri)==null?void 0:s.lastIndexOf(e);return n&&n>=0?(r=t.error_uri)==null?void 0:r.substring(n+e.length):void 0}function hI(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function fI(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const wx=",",VA="|";function mI(t){const{skus:e,libraryName:n,libraryVersion:s,extensionName:r,extensionVersion:i}=t,a=new Map([[0,[n,s]],[2,[r,i]]]);let o=[];if(e!=null&&e.length){if(o=e.split(wx),o.length<4)return e}else o=Array.from({length:4},()=>VA);return a.forEach((c,u)=>{var d,h;c.length===2&&((d=c[0])!=null&&d.length)&&((h=c[1])!=null&&h.length)&&gI({skuArr:o,index:u,skuName:c[0],skuVersion:c[1]})}),o.join(wx)}function gI(t){const{skuArr:e,index:n,skuName:s,skuVersion:r}=t;n>=e.length||(e[n]=[s,r].join(VA))}class Ll{constructor(e,n){this.cacheOutcome=yi.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||q.EMPTY_STRING,this.wrapperVer=e.wrapperVer||q.EMPTY_STRING,this.telemetryCacheKey=Xt.CACHE_KEY+Dl.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Xt.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],s=this.getNativeBrokerErrorCode();s!=null&&s.length&&n.push(`broker_error=${s}`);const r=n.join(Xt.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),a=[e,i].join(Xt.VALUE_SEPARATOR);return[Xt.SCHEMA_VERSION,a,r].join(Xt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Ll.maxErrorsToSend(e),s=e.failedRequests.slice(0,2*n).join(Xt.VALUE_SEPARATOR),r=e.errors.slice(0,n).join(Xt.VALUE_SEPARATOR),i=e.errors.length,a=n<i?Xt.OVERFLOW_TRUE:Xt.OVERFLOW_FALSE,o=[i,a].join(Xt.VALUE_SEPARATOR);return[Xt.SCHEMA_VERSION,e.cacheHits,s,r,o].join(Xt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=Xt.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Je?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(Xt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Ll.maxErrorsToSend(e),s=e.errors.length;if(n===s)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const r={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let n,s=0,r=0;const i=e.errors.length;for(n=0;n<i;n++){const a=e.failedRequests[2*n]||q.EMPTY_STRING,o=e.failedRequests[2*n+1]||q.EMPTY_STRING,c=e.errors[n]||q.EMPTY_STRING;if(r+=a.toString().length+o.toString().length+c.length+3,r<Xt.MAX_LAST_HEADER_BYTES)s+=1;else break}return s}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||q.EMPTY_STRING),e.push(this.regionSource||q.EMPTY_STRING),e.push(this.regionOutcome||q.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return mI(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const FA="missing_kid_error",GA="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const pI={[FA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[GA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class yy extends Je{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,yy.prototype)}}function Tx(t){return new yy(t,pI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class vy{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Tx(FA);if(!e.alg)throw Tx(GA);const n=new vy({typ:e.typ||cO.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const by="pkce_not_created",xy="ear_jwk_empty",qA="ear_jwe_empty",Zm="crypto_nonexistent",ph="empty_navigate_uri",KA="hash_empty_error",Sy="no_state_in_hash",$A="hash_does_not_contain_known_properties",YA="unable_to_parse_state",QA="state_interaction_type_mismatch",XA="interaction_in_progress",JA="popup_window_error",ZA="empty_window_error",Hl="user_cancelled",yI="monitor_popup_timeout",WA="monitor_window_timeout",eE="redirect_in_iframe",tE="block_iframe_reload",nE="block_nested_popups",vI="iframe_closed_prematurely",yh="silent_logout_unsupported",sE="no_account_error",bI="silent_prompt_value_error",rE="no_token_request_cache_error",iE="unable_to_parse_token_request_cache_error",xI="auth_request_not_set_error",SI="invalid_cache_type",vh="non_browser_environment",ca="database_not_open",vd="no_network_connectivity",aE="post_request_failed",oE="get_request_failed",Wm="failed_to_parse_response",lE="unable_to_load_token",Cy="crypto_key_not_found",cE="auth_code_required",uE="auth_code_or_nativeAccountId_required",dE="spa_code_and_nativeAccountId_present",wy="database_unavailable",hE="unable_to_acquire_token_from_native_platform",fE="native_handshake_timeout",mE="native_extension_not_installed",Ty="native_connection_not_established",ll="uninitialized_public_client_application",gE="native_prompt_not_supported",pE="invalid_base64_string",yE="invalid_pop_token_request",vE="failed_to_build_headers",bE="failed_to_parse_headers",gu="failed_to_decrypt_ear_response",bd="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Gs="For more visit: aka.ms/msaljs/browser-errors",CI={[by]:"The PKCE code challenge and verifier could not be generated.",[xy]:"No EAR encryption key provided. This is unexpected.",[qA]:"Server response does not contain ear_jwe property. This is unexpected.",[Zm]:"The crypto object or function is not available.",[ph]:"Navigation URI is empty. Please check stack trace for more info.",[KA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Gs}`,[Sy]:"Hash does not contain state. Please verify that the request originated from msal.",[$A]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Gs}`,[YA]:"Unable to parse state. Please verify that the request originated from msal.",[QA]:"Hash contains state but the interaction type does not match the caller.",[XA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Gs}`,[JA]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[ZA]:"window.open returned null or undefined window object.",[Hl]:"User cancelled the flow.",[yI]:`Token acquisition in popup failed due to timeout.  ${Gs}`,[WA]:`Token acquisition in iframe failed due to timeout.  ${Gs}`,[eE]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[tE]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Gs}`,[nE]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[vI]:"The iframe being monitored was closed prematurely.",[yh]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[sE]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[bI]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[rE]:"No token request found in cache.",[iE]:"The cached token request could not be parsed.",[xI]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[SI]:"Invalid cache type",[vh]:"Login and token requests are not supported in non-browser environments.",[ca]:"Database is not open!",[vd]:"No network connectivity. Check your internet connection.",[aE]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[oE]:"Network request failed. Please check the network trace to determine root cause.",[Wm]:"Failed to parse network response. Check network trace.",[lE]:"Error loading token to cache.",[Cy]:"Cryptographic Key or Keypair not found in browser storage.",[cE]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[uE]:"An authorization code or nativeAccountId must be provided to this flow.",[dE]:"Request cannot contain both spa code and native account id.",[wy]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[hE]:`Unable to acquire token from native platform.  ${Gs}`,[fE]:"Timed out while attempting to establish connection to browser extension",[mE]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Ty]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Gs}`,[ll]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Gs}`,[gE]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[pE]:"Invalid base64 encoded string.",[yE]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[vE]:"Failed to build request headers object.",[bE]:"Failed to parse response headers",[gu]:"Failed to decrypt ear response",[bd]:"The request timed out."};class cc extends Je{constructor(e,n){super(e,CI[e],n),Object.setPrototypeOf(this,cc.prototype),this.name="BrowserAuthError"}}function ue(t,e){return new cc(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Nn={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},ns={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},No={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ht={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Ax={GET:"GET",POST:"POST"},jr={SIGNIN:"signin",SIGNOUT:"signout"},Nt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Bc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Xe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ye;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ye||(ye={}));const Mt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Ex={scopes:co},xE="jwk",wI={React:"@azure/msal-react"},eg="msal.db",TI=1,AI=`${eg}.keys`,hn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},EI=[hn.Default,hn.Skip,hn.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function zc(t){return encodeURIComponent(Bl(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ti(t){return SE(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bl(t){return SE(new TextEncoder().encode(t))}function SE(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function vs(t){return new TextDecoder().decode(Xr(t))}function Xr(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ue(pE)}const n=atob(e);return Uint8Array.from(n,s=>s.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const NI="RSASSA-PKCS1-v1_5",fo="AES-GCM",CE="HKDF",Ay="SHA-256",_I=2048,RI=new Uint8Array([1,0,1]),Nx="0123456789abcdef",_x=new Uint32Array(1),Ey="raw",wE="encrypt",Ny="decrypt",kI="deriveKey",OI="crypto_subtle_undefined",_y={name:NI,hash:Ay,modulusLength:_I,publicExponent:RI};function jI(t){if(!window)throw ue(vh);if(!window.crypto)throw ue(Zm);if(!t&&!window.crypto.subtle)throw ue(Zm,OI)}async function TE(t,e,n){e==null||e.addQueueMeasurement(O.Sha256Digest,n);const r=new TextEncoder().encode(t);return window.crypto.subtle.digest(Ay,r)}function II(t){return window.crypto.getRandomValues(t)}function Cf(){return window.crypto.getRandomValues(_x),_x[0]}function Ss(){const t=Date.now(),e=Cf()*1024+(Cf()&1023),n=new Uint8Array(16),s=Math.trunc(e/2**30),r=e&2**30-1,i=Cf();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|s>>>8,n[7]=s,n[8]=128|r>>>24,n[9]=r>>>16,n[10]=r>>>8,n[11]=r,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let o=0;o<n.length;o++)a+=Nx.charAt(n[o]>>>4),a+=Nx.charAt(n[o]&15),(o===3||o===5||o===7||o===9)&&(a+="-");return a}async function MI(t,e){return window.crypto.subtle.generateKey(_y,t,e)}async function wf(t){return window.crypto.subtle.exportKey(xE,t)}async function PI(t,e,n){return window.crypto.subtle.importKey(xE,t,_y,e,n)}async function DI(t,e){return window.crypto.subtle.sign(_y,t,e)}async function Ry(){const t=await AE(),n={alg:"dir",kty:"oct",k:ti(new Uint8Array(t))};return Bl(JSON.stringify(n))}async function UI(t){const e=vs(t),s=JSON.parse(e).k,r=Xr(s);return window.crypto.subtle.importKey(Ey,r,fo,!1,[Ny])}async function LI(t,e){const n=e.split(".");if(n.length!==5)throw ue(gu,"jwe_length");const s=await UI(t).catch(()=>{throw ue(gu,"import_key")});try{const r=new TextEncoder().encode(n[0]),i=Xr(n[2]),a=Xr(n[3]),o=Xr(n[4]),c=o.byteLength*8,u=new Uint8Array(a.length+o.length);u.set(a),u.set(o,a.length);const d=await window.crypto.subtle.decrypt({name:fo,iv:i,tagLength:c,additionalData:r},s,u);return new TextDecoder().decode(d)}catch{throw ue(gu,"decrypt")}}async function AE(){const t=await window.crypto.subtle.generateKey({name:fo,length:256},!0,[wE,Ny]);return window.crypto.subtle.exportKey(Ey,t)}async function Rx(t){return window.crypto.subtle.importKey(Ey,t,CE,!1,[kI])}async function EE(t,e,n){return window.crypto.subtle.deriveKey({name:CE,salt:e,hash:Ay,info:new TextEncoder().encode(n)},t,{name:fo,length:256},!1,[wE,Ny])}async function HI(t,e,n){const s=new TextEncoder().encode(e),r=window.crypto.getRandomValues(new Uint8Array(16)),i=await EE(t,r,n),a=await window.crypto.subtle.encrypt({name:fo,iv:new Uint8Array(12)},i,s);return{data:ti(new Uint8Array(a)),nonce:ti(r)}}async function kx(t,e,n,s){const r=Xr(s),i=await EE(t,Xr(e),n),a=await window.crypto.subtle.decrypt({name:fo,iv:new Uint8Array(12)},i,r);return new TextDecoder().decode(a)}async function NE(t){const e=await TE(t),n=new Uint8Array(e);return ti(n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const bh="storage_not_supported",It="stubbed_public_client_application_called",ky="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const pu={[bh]:"Given storage configuration option was not supported.",[It]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[ky]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};pu[bh],pu[It],pu[ky];class Oy extends Je{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Oy.prototype)}}function At(t){return new Oy(t,pu[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function _E(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function BI(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function jy(){return window.parent!==window}function zI(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Nn.POPUP_NAME_PREFIX}.`)===0}function tr(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function VI(){const e=new Le(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function FI(){if(Le.hashContainsKnownProperties(window.location.hash)&&jy())throw ue(tE)}function GI(t){if(jy()&&!t)throw ue(eE)}function qI(){if(zI())throw ue(nE)}function RE(){if(typeof window>"u")throw ue(vh)}function kE(t){if(!t)throw ue(ll)}function Iy(t){RE(),FI(),qI(),kE(t)}function Ox(t,e){if(Iy(t),GI(e.system.allowRedirectInIframe),e.cache.cacheLocation===Ht.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw At(ky)}function OE(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function KI(){return Ss()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class xd{navigateInternal(e,n){return xd.defaultNavigateWindow(e,n)}navigateExternal(e,n){return xd.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((s,r)=>{setTimeout(()=>{r(ue(bd,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class $I{async sendGetRequestAsync(e,n){let s,r={},i=0;const a=jx(n);try{s=await fetch(e,{method:Ax.GET,headers:a})}catch(o){throw Vo(ue(window.navigator.onLine?oE:vd),void 0,void 0,o)}r=Ix(s.headers);try{return i=s.status,{headers:r,body:await s.json(),status:i}}catch(o){throw Vo(ue(Wm),i,r,o)}}async sendPostRequestAsync(e,n){const s=n&&n.body||"",r=jx(n);let i,a=0,o={};try{i=await fetch(e,{method:Ax.POST,headers:r,body:s})}catch(c){throw Vo(ue(window.navigator.onLine?aE:vd),void 0,void 0,c)}o=Ix(i.headers);try{return a=i.status,{headers:o,body:await i.json(),status:a}}catch(c){throw Vo(ue(Wm),a,o,c)}}}function jx(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([s,r])=>{e.append(s,r)}),e}catch(e){throw Vo(ue(vE),void 0,void 0,e)}}function Ix(t){try{const e={};return t.forEach((n,s)=>{e[s]=n}),e}catch{throw ue(bE)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const YI=6e4,tg=1e4,QI=3e4,jE=2e3;function XI({auth:t,cache:e,system:n,telemetry:s},r){const i={clientId:q.EMPTY_STRING,authority:`${q.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:q.EMPTY_STRING,authorityMetadata:q.EMPTY_STRING,redirectUri:typeof window<"u"?tr():"",postLogoutRedirectUri:q.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:_n.AAD,OIDCOptions:{serverResponseType:ah.FRAGMENT,defaultScopes:[q.OPENID_SCOPE,q.PROFILE_SCOPE,q.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Kp.None,tenant:q.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:Ht.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Ht.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Ht.LocalStorage),claimsBasedCachingEnabled:!1},o={loggerCallback:()=>{},logLevel:ut.Info,piiLoggingEnabled:!1},u={...{...vA,loggerOptions:o,networkClient:r?new $I:lI,navigationClient:new xd,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||YI,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||tg,navigateFrameWait:0,redirectNavigationTimeout:QI,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||jE,pollIntervalMilliseconds:Nn.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||o},d={application:{appName:q.EMPTY_STRING,appVersion:q.EMPTY_STRING},client:new yA};if((t==null?void 0:t.protocolMode)!==_n.OIDC&&(t!=null&&t.OIDCOptions)&&new hr(u.loggerOptions).warning(JSON.stringify(We(lA))),t!=null&&t.protocolMode&&t.protocolMode===_n.OIDC&&(u!=null&&u.allowPlatformBroker))throw We(cA);return{auth:{...i,...t,OIDCOptions:{...i.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:u,telemetry:{...d,...s}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const JI="@azure/msal-browser",zi="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Vt="msal",My="browser",Tf="-",wr=1,ng=1,ZI=`${Vt}.${My}.log.level`,WI=`${Vt}.${My}.log.pii`,eM=`${Vt}.${My}.platform.auth.dom`,Mx=`${Vt}.version`,Px="account.keys",Dx="token.keys";function Es(t=ng){return t<1?`${Vt}.${Px}`:`${Vt}.${t}.${Px}`}function wi(t,e=wr){return e<1?`${Vt}.${Dx}.${t}`:`${Vt}.${e}.${Dx}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Py{static loggerCallback(e,n){switch(e){case ut.Error:console.error(n);return;case ut.Info:console.info(n);return;case ut.Verbose:console.debug(n);return;case ut.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=XI(e,this.browserEnvironment);let n;try{n=window[Ht.SessionStorage]}catch{}const s=n==null?void 0:n.getItem(ZI),r=(c=n==null?void 0:n.getItem(WI))==null?void 0:c.toLowerCase(),i=r==="true"?!0:r==="false"?!1:void 0,a={...this.config.system.loggerOptions},o=s&&Object.keys(ut).includes(s)?ut[s]:void 0;o&&(a.loggerCallback=Py.loggerCallback,a.logLevel=o),i!==void 0&&(a.piiLoggingEnabled=i),this.logger=new hr(a,JI,zi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Vi extends Py{getModuleName(){return Vi.MODULE_NAME}getId(){return Vi.ID}async initialize(){return this.available=typeof window<"u",this.available}}Vi.MODULE_NAME="";Vi.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class tM{constructor(){this.dbName=eg,this.version=TI,this.tableName=AI,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",r=>{r.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",r=>{const i=r;this.db=i.target.result,this.dbOpen=!0,e()}),s.addEventListener("error",()=>n(ue(wy)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(ca));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((s,r)=>{if(!this.db)return r(ue(ca));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);o.addEventListener("success",()=>{this.closeConnection(),s()}),o.addEventListener("error",c=>{this.closeConnection(),r(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(ca));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(ue(ca));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",a=>{const o=a;this.closeConnection(),e(o.target.result)}),i.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(ca));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result===1)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const s=window.indexedDB.deleteDatabase(eg),r=setTimeout(()=>n(!1),200);s.addEventListener("success",()=>(clearTimeout(r),e(!0))),s.addEventListener("blocked",()=>(clearTimeout(r),e(!0))),s.addEventListener("error",()=>(clearTimeout(r),n(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class xh{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,s)=>{e.push(s)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class nM{constructor(e){this.inMemoryCache=new xh,this.indexedDBCache=new tM,this.logger=e}handleDatabaseAccessError(e){if(e instanceof cc&&e.errorCode===wy)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(s){this.handleDatabaseAccessError(s)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(s){this.handleDatabaseAccessError(s)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(s){this.handleDatabaseAccessError(s)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class fr{constructor(e,n,s){this.logger=e,jI(s??!1),this.cache=new nM(this.logger),this.performanceClient=n}createNewGuid(){return Ss()}base64Encode(e){return Bl(e)}base64Decode(e){return vs(e)}base64UrlEncode(e){return zc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var d;const n=(d=this.performanceClient)==null?void 0:d.startMeasurement(O.CryptoOptsGetPublicKeyThumbprint,e.correlationId),s=await MI(fr.EXTRACTABLE,fr.POP_KEY_USAGES),r=await wf(s.publicKey),i={e:r.e,kty:r.kty,n:r.n},a=Ux(i),o=await this.hashString(a),c=await wf(s.privateKey),u=await PI(c,!1,["sign"]);return await this.cache.setItem(o,{privateKey:u,publicKey:s.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),o}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw ee(XT)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,s,r){var g;const i=(g=this.performanceClient)==null?void 0:g.startMeasurement(O.CryptoOptsSignJwt,r),a=await this.cache.getItem(n);if(!a)throw ue(Cy);const o=await wf(a.publicKey),c=Ux(o),u=zc(JSON.stringify({kid:n})),d=vy.getShrHeaderString({...s==null?void 0:s.header,alg:o.alg,kid:u}),h=zc(d);e.cnf={jwk:JSON.parse(c)};const m=zc(JSON.stringify(e)),f=`${h}.${m}`,b=new TextEncoder().encode(f),C=await DI(a.privateKey,b),y=ti(new Uint8Array(C)),p=`${f}.${y}`;return i&&i.end({success:!0}),p}async hashString(e){return NE(e)}}fr.POP_KEY_USAGES=["sign","verify"];fr.EXTRACTABLE=!0;function Ux(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const sM=24*60*60*1e3,sg={Lax:"Lax",None:"None"};class IE{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){const i=s[r],[a,...o]=decodeURIComponent(i).trim().split("="),c=o.join("=");if(a===n)return c}return""}getUserData(){throw ee(Oe)}setItem(e,n,s,r=!0,i=sg.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${i};`;if(s){const o=rM(s);a+=`expires=${o};`}(r||i===sg.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(ee(Oe))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(s=>{const r=decodeURIComponent(s).trim().split("=");n.push(r[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function rM(t){const e=new Date;return new Date(e.getTime()+t*sM).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function cl(t,e){const n=t.getItem(Es(e));return n?JSON.parse(n):[]}function ul(t,e,n){const s=e.getItem(wi(t,n));if(s){const r=JSON.parse(s);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function rg(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Lx="msal.cache.encryption",iM="msal.broadcast.cache";class aM{constructor(e,n,s){if(!window.localStorage)throw At(bh);this.memoryStorage=new xh,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=s,this.broadcast=new BroadcastChannel(iM)}async initialize(e){const n=new IE,s=n.getItem(Lx);let r={key:"",id:""};if(s)try{r=JSON.parse(s)}catch{}if(r.key&&r.id){const i=qn(Xr,O.Base64Decode,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await F(Rx,O.GenerateHKDF,this.logger,this.performanceClient,e)(i)}}else{const i=Ss(),a=await F(AE,O.GenerateBaseKey,this.logger,this.performanceClient,e)(),o=qn(ti,O.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:i,key:await F(Rx,O.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const c={id:i,key:o};n.setItem(Lx,JSON.stringify(c),0,!0,sg.None)}await F(this.importExistingCache.bind(this),O.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ue(ll);return this.memoryStorage.getItem(e)}async decryptData(e,n,s){if(!this.initialized||!this.encryptionCookie)throw ue(ll);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},s),null;const r=await F(kx,O.Decrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!r)return null;try{return JSON.parse(r)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},s),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,s,r){if(!this.initialized||!this.encryptionCookie)throw ue(ll);const{data:i,nonce:a}=await F(HI,O.Encrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:a,data:i,lastUpdatedAt:r};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),cl(this).forEach(s=>this.removeItem(s));const n=ul(this.clientId,this);n.idToken.forEach(s=>this.removeItem(s)),n.accessToken.forEach(s=>this.removeItem(s)),n.refreshToken.forEach(s=>this.removeItem(s)),this.getKeys().forEach(s=>{(s.startsWith(Vt)||s.indexOf(this.clientId)!==-1)&&this.removeItem(s)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=cl(this);n=await this.importArray(n,e),n.length?this.setItem(Es(),JSON.stringify(n)):this.removeItem(Es());const s=ul(this.clientId,this);s.idToken=await this.importArray(s.idToken,e),s.accessToken=await this.importArray(s.accessToken,e),s.refreshToken=await this.importArray(s.refreshToken,e),s.idToken.length||s.accessToken.length||s.refreshToken.length?this.setItem(wi(this.clientId),JSON.stringify(s)):this.removeItem(wi(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const s=this.getItem(e);if(!s)return null;let r;try{r=JSON.parse(s)}catch{return null}return rg(r)?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):F(kx,O.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),r)}async importArray(e,n){const s=[],r=[];return e.forEach(i=>{const a=this.getItemFromEncryptedCache(i,n).then(o=>{o?(this.memoryStorage.setItem(i,o),s.push(i)):this.removeItem(i)});r.push(a)}),await Promise.all(r),s}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(O.LocalStorageUpdated);n.add({isBackground:!0});const{key:s,value:r,context:i}=e.data;if(!s){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),n.end({success:!1,errorCode:"contextMismatch"});return}r?(this.memoryStorage.setItem(s,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(s),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class oM{constructor(){if(!window.sessionStorage)throw At(bh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const fe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function Hx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ig extends Xm{constructor(e,n,s,r,i,a,o){super(e,s,r,i,o),this.cacheConfig=n,this.logger=r,this.internalStorage=new xh,this.browserStorage=Bx(e,n.cacheLocation,r,i),this.temporaryCacheStorage=Bx(e,n.temporaryCacheLocation,r,i),this.cookieStorage=new IE,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=cl(this.browserStorage,0),s=ul(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:s.accessToken.length,oldIdCount:s.idToken.length,oldRefreshCount:s.refreshToken.length},e);const r=cl(this.browserStorage,1),i=ul(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:r.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(ng,n,r,e),this.updateV0ToCurrent(wr,s.idToken,i.idToken,e),this.updateV0ToCurrent(wr,s.accessToken,i.accessToken,e),this.updateV0ToCurrent(wr,s.refreshToken,i.refreshToken,e)]),n.length>0?this.browserStorage.setItem(Es(0),JSON.stringify(n)):this.browserStorage.removeItem(Es(0)),r.length>0?this.browserStorage.setItem(Es(1),JSON.stringify(r)):this.browserStorage.removeItem(Es(1)),this.setTokenKeys(s,e,0),this.setTokenKeys(i,e,1)}async updateV0ToCurrent(e,n,s,r){const i=[];for(const a of[...n]){const o=this.browserStorage.getItem(a),c=this.validateAndParseJson(o||"");if(!c){Hx(n,a);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(a,JSON.stringify(c),r));const u=rg(c)?await this.browserStorage.decryptData(a,c,r):c;let d;if(u&&(vx(u)||bx(u))&&(d=u.expiresOn),!u||Vj(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||d&&gd(d,MT)){this.browserStorage.removeItem(a),Hx(n,a),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r);continue}if(this.cacheConfig.cacheLocation!==Ht.LocalStorage||rg(c)){const h=`${Vt}.${e}${Tf}${a}`,m=this.browserStorage.getItem(h);if(m){const f=this.validateAndParseJson(m);if(Number(c.lastUpdatedAt)>Number(f.lastUpdatedAt)){i.push(this.setUserData(h,JSON.stringify(u),r,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},r)}));continue}}else{i.push(this.setUserData(h,JSON.stringify(u),r,c.lastUpdatedAt).then(()=>{s.push(h),this.performanceClient.incrementFields({upgradedCacheCount:1},r)}));continue}}}return Promise.all(i)}trackVersionChanges(e){const n=this.browserStorage.getItem(Mx);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==zi&&this.setItem(Mx,zi,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,s){let r=0,i=[];const a=20;for(let o=0;o<=a;o++)try{this.browserStorage.setItem(e,n),o>0&&(o<=r?this.removeAccessTokenKeys(i.slice(0,o),s,0):(this.removeAccessTokenKeys(i.slice(0,r),s,0),this.removeAccessTokenKeys(i.slice(r,o),s)));break}catch(c){const u=Qm(c);if(u.errorCode===ud&&o<a){if(!i.length){const d=e===wi(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,h=e===wi(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;i=[...d,...h],r=d.length}if(i.length<=o)throw u;this.removeAccessToken(i[o],s,!1)}else throw u}}async setUserData(e,n,s,r){let i=0,a=[];const o=20;for(let c=0;c<=o;c++)try{await F(this.browserStorage.setUserData.bind(this.browserStorage),O.SetUserData,this.logger,this.performanceClient)(e,n,s,r),c>0&&(c<=i?this.removeAccessTokenKeys(a.slice(0,c),s,0):(this.removeAccessTokenKeys(a.slice(0,i),s,0),this.removeAccessTokenKeys(a.slice(i,c),s)));break}catch(u){const d=Qm(u);if(d.errorCode===ud&&c<o){if(!a.length){const h=this.getTokenKeys(0).accessToken,m=this.getTokenKeys().accessToken;a=[...h,...m],i=h.length}if(a.length<=c)throw d;this.removeAccessToken(a[c],s,!1)}else throw d}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const s=this.browserStorage.getUserData(e);if(!s)return this.removeAccountKeyFromMap(e,n),null;const r=this.validateAndParseJson(s);return!r||!bs.isAccountEntity(r)?null:Xm.toObject(new bs,r)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const s=this.generateAccountKey(e.getAccountInfo()),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.addAccountKeyToMap(s,n);this.cacheConfig.cacheLocation===Ht.LocalStorage&&i&&this.eventHandler.emitEvent(fe.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return cl(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const s=this.getAccountKeys();return s.indexOf(e)===-1?(s.push(e),this.setItem(Es(),JSON.stringify(s),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const s=this.getAccountKeys(),r=s.indexOf(e);if(r>-1){if(s.splice(r,1),s.length===0){this.removeItem(Es());return}else this.setItem(Es(),JSON.stringify(s),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const s=this.getActiveAccount(n);(s==null?void 0:s.homeAccountId)===e.homeAccountId&&(s==null?void 0:s.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(r=>{r.includes(e.homeAccountId)&&r.includes(e.environment)&&this.browserStorage.removeItem(r)}),this.cacheConfig.cacheLocation===Ht.LocalStorage&&this.eventHandler.emitEvent(fe.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const s=this.getTokenKeys(),r=s.idToken.indexOf(e);r>-1&&(this.logger.info("idToken removed from tokenKeys map"),s.idToken.splice(r,1),this.setTokenKeys(s,n))}removeAccessToken(e,n,s=!0){super.removeAccessToken(e,n),s&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,s=wr){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys(s);let i=0;if(e.forEach(a=>{const o=r.accessToken.indexOf(a);o>-1&&(r.accessToken.splice(o,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(r,n,s);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const s=this.getTokenKeys(),r=s.refreshToken.indexOf(e);r>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),s.refreshToken.splice(r,1),this.setTokenKeys(s,n))}getTokenKeys(e=wr){return ul(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,s=wr){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(wi(this.clientId,s));return}else this.setItem(wi(this.clientId,s),JSON.stringify(e),n)}getIdTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!Gj(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.idToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(s),this.setTokenKeys(i,n))}getAccessTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const r=this.validateAndParseJson(s);return!r||!vx(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys(),a=i.accessToken.indexOf(s);a!==-1&&i.accessToken.splice(a,1),this.logger.trace(`access token ${a===-1?"added to":"updated in"} map`),i.accessToken.push(s),this.setTokenKeys(i,n)}getRefreshTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!bx(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.refreshToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(s),this.setTokenKeys(i,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!Yj(e,s)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),s)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const s=$j(e);this.setItem(s,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!qj(e,s)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),s)}setServerTelemetry(e,n,s){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),s)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return s&&Qj(e,s)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),s):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Bc.WRAPPER_SKU,e),this.internalStorage.setItem(Bc.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Bc.WRAPPER_SKU)||q.EMPTY_STRING,n=this.internalStorage.getItem(Bc.WRAPPER_VER)||q.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(ix.ACTIVE_ACCOUNT_FILTERS),s=this.browserStorage.getItem(n);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(s);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const s=this.generateCacheKey(ix.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:kn().toString()};this.setItem(s,JSON.stringify(r),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(s);this.eventHandler.emitEvent(fe.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!Kj(e,s)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),s)}setThrottlingCache(e,n,s){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),s)}getTemporaryCache(e,n){const s=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const r=this.temporaryCacheStorage.getItem(s);if(!r){if(this.cacheConfig.cacheLocation===Ht.LocalStorage){const i=this.browserStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,n,s){const r=s?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Vt)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Vt)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(O.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let s=0;n.accessToken.forEach(r=>{const i=this.getAccessTokenCredential(r,e);i!=null&&i.requestedClaimsHash&&r.includes(i.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(r,e),s++)}),s>0&&this.logger.warning(`${s} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Gn.startsWith(e,Vt)?e:`${Vt}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Wt.REFRESH_TOKEN&&e.familyId||e.clientId,s=e.tokenType&&e.tokenType.toLowerCase()!==Fe.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Vt}.${wr}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",s].join(Tf).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Vt}.${ng}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(Tf).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Nt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Nt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Nt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Nt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Nt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const s=Bl(JSON.stringify(e));if(this.setTemporaryCache(Nt.REQUEST_PARAMS,s,!0),n){const r=Bl(n);this.setTemporaryCache(Nt.VERIFIER,r,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Nt.REQUEST_PARAMS,!0);if(!e)throw ue(rE);const n=this.getTemporaryCache(Nt.VERIFIER,!0);let s,r="";try{s=JSON.parse(vs(e)),n&&(r=vs(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ue(iE)}return[s,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Nt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var s;const n=(s=this.getInteractionInProgress())==null?void 0:s.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Vt}.${Nt.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),_E(window),null}}setInteractionInProgress(e,n=jr.SIGNIN){var r;const s=`${Vt}.${Nt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ue(XA);this.setTemporaryCache(s,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((r=this.getInteractionInProgress())==null?void 0:r.clientId)===this.clientId&&this.removeTemporaryItem(s)}async hydrateCache(e,n){var o,c,u;const s=dh((o=e.account)==null?void 0:o.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let r;n.claims&&(r=await this.cryptoImpl.hashString(n.claims));const i=hh((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?yx(e.expiresOn):0,e.extExpiresOn?yx(e.extExpiresOn):0,vs,void 0,e.tokenType,void 0,n.sshKid,n.claims,r),a={idToken:s,accessToken:i};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,n,s){try{await super.saveCacheRecord(e,n,s)}catch(r){if(r instanceof Pa&&this.performanceClient&&n)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},n)}catch{}throw r}}}function Bx(t,e,n,s){try{switch(e){case Ht.LocalStorage:return new aM(t,n,s);case Ht.SessionStorage:return new oM;case Ht.MemoryStorage:default:break}}catch(r){n.error(r)}return new xh}const lM=(t,e,n,s)=>{const r={cacheLocation:Ht.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Ht.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new ig(t,r,od,e,n,s)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function cM(t,e,n,s,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r||{},s):[]}function uM(t,e,n,s){const r=n.getAccountInfoFilteredBy(t,s);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function dM(t,e,n,s){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t},s);return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function hM(t,e,n,s){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t},s);return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function fM(t,e,n,s){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t},s);return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function mM(t,e,n){e.setActiveAccount(t,n)}function gM(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const pM="msal.broadcast.event";class yM{constructor(e){this.eventCallbacks=new Map,this.logger=e||new hr({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(pM)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,s){if(typeof window<"u"){const r=s||KI();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,s,r){var a;const i={eventType:e,interactionType:n||null,payload:s||null,error:r||null,timestamp:Date.now()};switch(e){case fe.ACCOUNT_ADDED:case fe.ACCOUNT_REMOVED:case fe.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,s],r)=>{(s.length===0||s.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${r}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ME{constructor(e,n,s,r,i,a,o,c,u){this.config=e,this.browserStorage=n,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=a,this.platformAuthProvider=c,this.correlationId=u||Ss(),this.logger=r.clone(Nn.MSAL_SKU,zi,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Le.getAbsoluteUrl(n,tr())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const s={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Ll(s,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,s=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(O.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,a=s!=null&&s.length?s==="true":this.config.auth.instanceAware,o=n&&a?this.config.auth.authority.replace(Le.getDomainFromUrl(i),n.environment):i,c=an.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await F(PA,O.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw We(uA);return u}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Dy(t,e,n,s){n.addQueueMeasurement(O.InitializeBaseRequest,t.correlationId);const r=t.authority||e.auth.authority,i=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:r,scopes:i};if(!a.authenticationScheme)a.authenticationScheme=Fe.BEARER,s.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===Fe.SSH){if(!t.sshJwk)throw We(oh);if(!t.sshKid)throw We(oA)}s.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Gn.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await NE(t.claims)),a}async function vM(t,e,n,s,r){s.addQueueMeasurement(O.InitializeSilentRequest,t.correlationId);const i=await F(Dy,O.InitializeBaseRequest,r,s,t.correlationId)(t,n,s,r);return{...t,...i,account:e,forceRefresh:t.forceRefresh||!1}}function PE(t,e){let n;const s=t.httpMethod;if(e===_n.EAR){if(n=s||Ci.POST,n!==Ci.POST)throw We(dA)}else n=s||Ci.GET;if(t.authorizePostBodyParameters&&n!==Ci.POST)throw We(hA);return n}/*! @azure/msal-browser v4.22.1 2025-09-09 */class mo extends ME{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||Ss(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const s=this.getLogoutHintFromIdTokenClaims(e.account);s&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=s)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Le.getAbsoluteUrl(e.postLogoutRedirectUri,tr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Le.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,tr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Le.getAbsoluteUrl(tr(),tr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(O.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new BA(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}=e;this.performanceClient.addQueueMeasurement(O.StandardInteractionClientGetClientConfiguration,this.correlationId);const o=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:Nn.MSAL_SKU,version:zi,cpu:q.EMPTY_STRING,os:q.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(O.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const s=this.getRedirectUri(e.redirectUri),r={interactionType:n},i=ho.setRequestState(this.browserCrypto,e&&e.state||q.EMPTY_STRING,r),o={...await F(Dy,O.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:s,state:i,nonce:e.nonce||Ss(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...o,httpMethod:PE(o,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),c.account=u),c}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function bM(t,e){if(!e)return null;try{return ho.parseRequestState(t,e).libraryState.meta}catch{throw ee(Xa)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function dl(t,e,n){const s=ld(t);if(!s)throw mA(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),ue($A)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ue(KA));return s}function xM(t,e,n){if(!t.state)throw ue(Sy);const s=bM(e,t.state);if(!s)throw ue(YA);if(s.interactionType!==n)throw ue(QA)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class DE{constructor(e,n,s,r,i){this.authModule=e,this.browserStorage=n,this.authCodeRequest=s,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(O.HandleCodeResponse,n.correlationId);let s;try{s=uI(e,n.state)}catch(r){throw r instanceof Xi&&r.subError===Hl?ue(Hl):r}return F(this.handleCodeResponseFromServer.bind(this),O.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(s,n)}async handleCodeResponseFromServer(e,n,s=!0){if(this.performanceClient.addQueueMeasurement(O.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await F(this.authModule.updateAuthority.bind(this.authModule),O.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),s&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(n);i&&(this.authCodeRequest.ccsCredential=i)}return await F(this.authModule.acquireToken.bind(this.authModule),O.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ps.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ps.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const SM="ContentError",UE="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const CM="USER_INTERACTION_REQUIRED",wM="USER_CANCEL",TM="NO_NETWORK",AM="DISABLED",EM="ACCOUNT_UNAVAILABLE",NM="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const _M=-2147186943,RM={[UE]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class ks extends Je{constructor(e,n,s){super(e,n),Object.setPrototypeOf(this,ks.prototype),this.name="NativeAuthError",this.ext=s}}function ua(t){if(t.ext&&t.ext.status&&t.ext.status===AM||t.ext&&t.ext.error&&t.ext.error===_M)return!0;switch(t.errorCode){case SM:return!0;default:return!1}}function Sd(t,e,n){if(n&&n.status)switch(n.status){case EM:return yd(UA);case CM:return new xs(t,e);case wM:return ue(Hl);case TM:return ue(vd);case NM:return yd(my)}return new ks(t,RM[t]||e,n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class LE extends mo{async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),s=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new oI(s,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await F(r.acquireCachedToken.bind(r),O.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(i){throw i instanceof cc&&i.errorCode===Cy&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class yu extends ME{constructor(e,n,s,r,i,a,o,c,u,d,h,m){super(e,n,s,r,i,a,c,u,m),this.apiId=o,this.accountId=d,this.platformAuthProvider=u,this.nativeStorageManager=h,this.silentCacheClient=new LE(e,this.nativeStorageManager,s,r,i,a,c,u,m);const f=this.platformAuthProvider.getExtensionName();this.skus=Ll.makeExtraSkuString({libraryName:Nn.MSAL_SKU,libraryVersion:zi,extensionName:f,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Cj]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(O.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const s=this.performanceClient.startMeasurement(O.NativeInteractionClientAcquireToken,this.correlationId),r=kn(),i=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,a);return s.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===hn.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),s.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(o,a,r).then(c=>(s.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),i.clearNativeBrokerErrorCode(),c)).catch(c=>{throw s.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(a){throw a instanceof ks&&i.setNativeBrokerErrorCode(a.errorCode),s.end({success:!1}),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Lt.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),ee($m);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!s)throw ee($m);try{const r=this.createSilentCacheRequest(n,s),i=await this.silentCacheClient.acquireToken(r),a={...s,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:a}}catch(r){throw r}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...s}=e;delete s.onRedirectNavigate;const r=await this.initializeNativeRequest(s);try{await this.platformAuthProvider.sendMessage(r)}catch(o){if(o instanceof ks&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(o.errorCode),ua(o)))throw o}this.browserStorage.setTemporaryCache(Nt.NATIVE_REQUEST,JSON.stringify(r),!0);const i={apiId:Xe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:r,...i}=s;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Nt.NATIVE_REQUEST));const a=kn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const o=await this.platformAuthProvider.sendMessage(i),c=await this.handleNativeResponse(o,i,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(o){throw o}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,s){var d,h;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=uo(e.id_token,vs),i=this.createHomeAccountIdentifier(e,r),a=(d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:d.homeAccountId;if((h=n.extraParameters)!=null&&h.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==a&&e.account.id!==n.accountId)throw Sd(UE);const o=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=gy(this.browserStorage,o,i,vs,this.correlationId,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,r,c,o.canonicalAuthority,s);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,i,r,e.access_token,u.tenantId,s),u}createHomeAccountIdentifier(e,n){return bs.generateHomeAccountId(e.client_info||q.EMPTY_STRING,ds.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Lt.fromString(n):Lt.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===Fe.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const s=new Ja(this.browserCrypto),r={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw ee(Fp);return s.signPopToken(e.access_token,n.keyId,r)}else return e.access_token}async generateAuthenticationResult(e,n,s,r,i,a){const o=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},d=u.UID||s.oid||s.sub||q.EMPTY_STRING,h=u.TenantId||s.tid||q.EMPTY_STRING,m=Zp(r.getAccountInfo(),void 0,s,e.id_token);m.nativeAccountId!==e.account.id&&(m.nativeAccountId=e.account.id);const f=await this.generatePopAccessToken(e,n),x=n.tokenType===Fe.POP?Fe.POP:Fe.BEARER;return{authority:i,uniqueId:d,tenantId:h,scopes:c.asArray(),account:m,idToken:e.id_token,idTokenClaims:s,accessToken:f,fromCache:o?this.isResponseFromCache(o):!1,expiresOn:Ua(a+e.expires_in),tokenType:x,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,s,r,i,a,o){const c=dh(s,n.authority,e.id_token||"",n.clientId,r.tid||""),u=n.tokenType===Fe.POP?q.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,d=o+u,h=this.generateScopes(e.scope,n.scope),m=hh(s,n.authority,i,n.clientId,r.tid||a,h.printScopes(),d,0,vs,void 0,n.tokenType,void 0,n.keyId),f={idToken:c,accessToken:m};return this.nativeStorageManager.saveCacheRecord(f,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===Fe.POP?q.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:s,...r}=e,i=new Lt(s||[]);i.appendScopes(co);const a={...r,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw ue(yE);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=ns.MATS_TELEMETRY,e.authenticationScheme===Fe.POP){const o={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Ja(this.browserCrypto);let u;if(a.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const d=await F(c.generateCnf.bind(c),O.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(o,this.logger);u=d.reqCnfString,a.keyId=d.kid,a.signPopToken=!0}a.reqCnf=u}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const s=new Le(n);return s.validateAsUri(),s}getPrompt(e){switch(this.apiId){case Xe.ssoSilent:case Xe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),vn.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case vn.NONE:case vn.CONSENT:case vn.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),ue(gE)}}handleExtraBrokerParams(e){var i;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(hd)&&e.extraParameters.hasOwnProperty(fd)&&e.extraParameters.hasOwnProperty(Hi);if(!e.embeddedClientId&&!n)return;let s="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,s=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[fd],s=e.extraParameters[Hi]),e.extraParameters={child_client_id:s,child_redirect_uri:r},(i=this.performanceClient)==null||i.addFields({embeddedClientId:s,embeddedRedirectUri:r},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Uy(t,e,n,s,r){const i=cI({...t.auth,authority:e},n,s,r);if(oy(i,{sku:Nn.MSAL_SKU,version:zi,os:"",cpu:""}),t.auth.protocolMode!==_n.OIDC&&ly(i,t.telemetry.application),n.platformBroker&&(Ej(i),r.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===Fe.POP)){const a=new fr(s,r),o=new Ja(a);let c;n.popKid?c=a.encodeKid(n.popKid):c=(await F(o.generateCnf.bind(o),O.PopTokenGenerateCnf,s,r,n.correlationId)(n,s)).reqCnfString,uy(i,c)}return lh(i,n.correlationId,r),i}async function Ly(t,e,n,s,r){if(!n.codeChallenge)throw We(Yp);const i=await F(Uy,O.GetStandardParams,s,r,n.correlationId)(t,e,n,s,r);return ty(i,Dp.CODE),TA(i,n.codeChallenge,q.S256_CODE_CHALLENGE_METHOD),Qr(i,n.extraQueryParameters||{}),py(e,i,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Hy(t,e,n,s,r,i){if(!s.earJwk)throw ue(xy);const a=await Uy(e,n,s,r,i);ty(a,Dp.IDTOKEN_TOKEN_REFRESHTOKEN),Uj(a,s.earJwk);const o=new Map;Qr(o,s.extraQueryParameters||{});const c=py(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return HE(t,c,a)}async function By(t,e,n,s,r,i){const a=await Uy(e,n,s,r,i);ty(a,Dp.CODE),TA(a,s.codeChallenge,s.codeChallengeMethod||q.S256_CODE_CHALLENGE_METHOD),Lj(a,s.authorizePostBodyParameters||{});const o=new Map;Qr(o,s.extraQueryParameters||{});const c=py(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return HE(t,c,a)}function HE(t,e,n){const s=t.createElement("form");return s.method="post",s.action=e,n.forEach((r,i)=>{const a=t.createElement("input");a.hidden=!0,a.name=i,a.value=r,s.appendChild(a)}),t.body.appendChild(s),s}async function BE(t,e,n,s,r,i,a,o,c,u){if(o.verbose("Account id found, calling WAM for token"),!u)throw ue(Ty);const d=new fr(o,c),h=new yu(s,r,d,o,a,s.system.navigationClient,n,c,u,e,i,t.correlationId),{userRequestState:m}=ho.parseRequestState(d,t.state);return F(h.acquireToken.bind(h),O.NativeInteractionClientAcquireToken,o,c,t.correlationId)({...t,state:m,prompt:void 0})}async function Cd(t,e,n,s,r,i,a,o,c,u,d,h){if(Rs.removeThrottle(a,r.auth.clientId,t),e.accountId)return F(BE,O.HandleResponsePlatformBroker,u,d,t.correlationId)(t,e.accountId,s,r,a,o,c,u,d,h);const m={...t,code:e.code||"",codeVerifier:n},f=new DE(i,a,m,u,d);return await F(f.handleCodeResponse.bind(f),O.HandleCodeResponse,u,d,t.correlationId)(e,t)}async function zy(t,e,n,s,r,i,a,o,c,u,d){if(Rs.removeThrottle(i,s.auth.clientId,t),zA(e,t.state),!e.ear_jwe)throw ue(qA);if(!t.earJwk)throw ue(xy);const h=JSON.parse(await F(LI,O.DecryptEarResponse,c,u,t.correlationId)(t.earJwk,e.ear_jwe));if(h.accountId)return F(BE,O.HandleResponsePlatformBroker,c,u,t.correlationId)(t,h.accountId,n,s,i,a,o,c,u,d);const m=new Bi(s.auth.clientId,i,new fr(c,u),c,null,null,u);m.validateTokenResponse(h);const f={code:"",state:t.state,nonce:t.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await F(m.handleServerTokenResponse.bind(m),O.HandleServerTokenResponse,c,u,t.correlationId)(h,r,kn(),t,f,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const kM=32;async function Sh(t,e,n){t.addQueueMeasurement(O.GeneratePkceCodes,n);const s=qn(OM,O.GenerateCodeVerifier,e,t,n)(t,e,n),r=await F(jM,O.GenerateCodeChallengeFromVerifier,e,t,n)(s,t,e,n);return{verifier:s,challenge:r}}function OM(t,e,n){try{const s=new Uint8Array(kM);return qn(II,O.GetRandomValues,e,t,n)(s),ti(s)}catch{throw ue(by)}}async function jM(t,e,n,s){e.addQueueMeasurement(O.GenerateCodeChallengeFromVerifier,s);try{const r=await F(TE,O.Sha256Digest,n,e,s)(t,e,s);return ti(new Uint8Array(r))}catch{throw ue(by)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class wd{constructor(e,n,s,r){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(O.NativeMessageHandlerHandshake),this.platformAuthType=ns.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:No.GetToken,request:e},s={channel:ns.CHANNEL_ID,extensionId:this.extensionId,responseId:Ss(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(s)}`),this.messageChannel.port1.postMessage(s);const r=await new Promise((a,o)=>{this.resolvers.set(s.responseId,{resolve:a,reject:o})});return this.validatePlatformBrokerResponse(r)}static async createProvider(e,n,s){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const r=new wd(e,n,s,ns.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch{const i=new wd(e,n,s);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:ns.CHANNEL_ID,extensionId:this.extensionId,responseId:Ss(),body:{method:No.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,s)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:s}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),s(ue(fE)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==ns.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===No.HandshakeRequest){const s=this.handshakeResolvers.get(n.responseId);if(!s){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),s.reject(ue(mE))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,s=this.resolvers.get(n.responseId),r=this.handshakeResolvers.get(n.responseId);try{const i=n.body.method;if(i===No.Response){if(!s)return;const a=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")s.reject(Sd(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?s.reject(Sd(a.result.code,a.result.description,a.result.ext)):s.resolve(a.result);else throw Gm(ad,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(i===No.HandshakeResponse){if(!r){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),s?s.reject(i):r&&r.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Gm(ad,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===ns.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Vy{constructor(e,n,s){this.logger=e,this.performanceClient=n,this.correlationId=s,this.platformAuthType=ns.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,s){var r;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(r=window.navigator)!=null&&r.platformAuthentication){const i=await window.navigator.platformAuthentication.getSupportedContracts(ns.MICROSOFT_ENTRA_BROKERID);if(i!=null&&i.includes(ns.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Vy(e,n,s)}}getExtensionId(){return ns.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return ns.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),s=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(s)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:s,authority:r,scope:i,redirectUri:a,correlationId:o,state:c,storeInCache:u,embeddedClientId:d,extraParameters:h,...m}=e,f=this.getDOMExtraParams(m);return{accountId:n,brokerId:this.getExtensionId(),authority:r,clientId:s,correlationId:o||this.correlationId,extraParameters:{...h,...f},isSecurityTokenService:!1,redirectUri:a,scope:i,state:c,storeInCache:u,embeddedClientId:d}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Sd(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw Gm(ad,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((r,[i,a])=>(r[i]=String(a),r),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function IM(t,e,n,s){t.trace("getPlatformAuthProvider called",n);const r=MM();t.trace("Has client allowed platform auth via DOM API: "+r);let i;try{r&&(i=await Vy.createProvider(t,e,n)),i||(t.trace("Platform auth via DOM API not available, checking for extension"),i=await wd.createProvider(t,s||jE,e))}catch(a){t.trace("Platform auth not available",a)}return i}function MM(){let t;try{return t=window[Ht.SessionStorage],(t==null?void 0:t.getItem(eM))==="true"}catch{return!1}}function zl(t,e,n,s){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(s)switch(s){case Fe.BEARER:case Fe.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class PM extends mo{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,o,u,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=i}acquireToken(e,n){let s;try{if(s={popupName:this.generatePopupName(e.scopes||co,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,s,n);{const i={...e,httpMethod:PE(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(i,s,n)}}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),s={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,s,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),s.popup=this.openSizedPopup("about:blank",s),this.logoutPopupAsync(n,s,r,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,s){this.logger.verbose("acquireTokenPopupAsync called");const r=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ye.Popup);n.popup&&OE(r.authority);const i=zl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===_n.EAR?this.executeEarFlow(r,n):this.executeCodeFlow(r,n,s)}async executeCodeFlow(e,n,s){var c;const r=e.correlationId,i=this.initializeServerTelemetryManager(Xe.acquireTokenPopup),a=s||await F(Sh,O.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...e,codeChallenge:a.challenge};try{const u=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account});if(o.httpMethod===Ci.POST)return await this.executeCodeFlowWithPost(o,n,u,a.verifier);{const d=await F(Ly,O.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,u.authority,o,this.logger,this.performanceClient),h=this.initiateAuthRequest(d,n);this.eventHandler.emitEvent(fe.POPUP_OPENED,ye.Popup,{popupWindow:h},null);const m=await this.monitorPopupForHash(h,n.popupWindowParent),f=qn(dl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await F(Cd,O.HandleResponseCode,this.logger,this.performanceClient,r)(e,f,a.verifier,Xe.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(u){throw(c=n.popup)==null||c.close(),u instanceof Je&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const s=e.correlationId,r=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await F(Ry,O.GenerateEarKey,this.logger,this.performanceClient,s)(),a={...e,earJwk:i},o=n.popup||this.openPopup("about:blank",n);(await Hy(o.document,this.config,r,a,this.logger,this.performanceClient)).submit();const u=await F(this.monitorPopupForHash.bind(this),O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(o,n.popupWindowParent),d=qn(dl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return F(zy,O.HandleResponseEar,this.logger,this.performanceClient,s)(a,d,Xe.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,s,r){const i=e.correlationId,a=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=n.popup||this.openPopup("about:blank",n);(await By(o.document,this.config,a,e,this.logger,this.performanceClient)).submit();const u=await F(this.monitorPopupForHash.bind(this),O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(o,n.popupWindowParent),d=qn(dl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return F(Cd,O.HandleResponseCode,this.logger,this.performanceClient,i)(e,d,r,Xe.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,s,r){var a,o,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(fe.LOGOUT_START,ye.Popup,e);const i=this.initializeServerTelemetryManager(Xe.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:s,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===_n.OIDC){if(this.eventHandler.emitEvent(fe.LOGOUT_SUCCESS,ye.Popup,e),r){const m={apiId:Xe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=Le.getAbsoluteUrl(r,tr());await this.navigationClient.navigateInternal(f,m)}(o=n.popup)==null||o.close();return}}const d=u.getLogoutUri(e);this.eventHandler.emitEvent(fe.LOGOUT_SUCCESS,ye.Popup,e);const h=this.openPopup(d,n);if(this.eventHandler.emitEvent(fe.POPUP_OPENED,ye.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,n.popupWindowParent).catch(()=>{}),r){const m={apiId:Xe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},f=Le.getAbsoluteUrl(r,tr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${f}`),await this.navigationClient.navigateInternal(f,m)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof Je&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),this.eventHandler.emitEvent(fe.LOGOUT_FAILURE,ye.Popup,null,u),this.eventHandler.emitEvent(fe.LOGOUT_END,ye.Popup),u}this.eventHandler.emitEvent(fe.LOGOUT_END,ye.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),ue(ph)}monitorPopupForHash(e,n){return new Promise((s,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),r(ue(Hl));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(i);let o="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===ah.QUERY?o=e.location.search:o=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),s(o)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let s;if(n.popup?(s=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),s.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),s=this.openSizedPopup(e,n)),!s)throw ue(ZA);return s.focus&&s.focus(),this.currentWindow=s,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),s}catch(s){throw this.logger.error("error opening popup "+s.message),ue(JA)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:s,popupWindowParent:r}){var f,x,b,C;const i=r.screenLeft?r.screenLeft:r.screenX,a=r.screenTop?r.screenTop:r.screenY,o=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(f=s.popupSize)==null?void 0:f.width,d=(x=s.popupSize)==null?void 0:x.height,h=(b=s.popupPosition)==null?void 0:b.top,m=(C=s.popupPosition)==null?void 0:C.left;return(!u||u<0||u>o)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=Nn.POPUP_WIDTH),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=Nn.POPUP_HEIGHT),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-Nn.POPUP_HEIGHT/2+a)),(!m||m<0||m>o)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,o/2-Nn.POPUP_WIDTH/2+i)),r.open(e,n,`width=${u}, height=${d}, top=${h}, left=${m}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${Nn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${Nn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function DM(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class UM extends mo{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,o,u,d),this.nativeStorage=c}async acquireToken(e){const n=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ye.Redirect);n.platformBroker=zl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const s=i=>{i.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(fe.RESTORE_FROM_BFCACHE,ye.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(Nt.ORIGIN_URI,r,!0),window.addEventListener("pageshow",s);try{this.config.auth.protocolMode===_n.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(i){throw i instanceof Je&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),i}}async executeCodeFlow(e,n){const s=e.correlationId,r=this.initializeServerTelemetryManager(Xe.acquireTokenRedirect),i=await F(Sh,O.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),a={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(a,i.verifier);try{if(a.httpMethod===Ci.POST)return await this.executeCodeFlowWithPost(a);{const o=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),c=await F(Ly,O.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,o.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(o){throw o instanceof Je&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}async executeEarFlow(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await F(Ry,O.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r};return this.browserStorage.cacheAuthorizeRequest(i),(await Hy(document,this.config,s,i,this.logger,this.performanceClient)).submit(),new Promise((o,c)=>{setTimeout(()=>{c(ue(bd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await By(document,this.config,s,e,this.logger,this.performanceClient)).submit(),new Promise((i,a)=>{setTimeout(()=>{a(ue(bd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,s,r){const i=this.initializeServerTelemetryManager(Xe.handleRedirectPromise);try{const[a,o]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),DM()!=="back_forward"?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(Nt.ORIGIN_URI,!0)||q.EMPTY_STRING,u=dx(c),d=dx(window.location.href);if(u===d&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&BI(c),await this.handleResponse(a,n,s,i);if(this.config.auth.navigateToLoginRequestUrl){if(!jy()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Nt.URL_HASH,o,!0);const h={apiId:Xe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let m=!0;if(!c||c==="null"){const f=VI();this.browserStorage.setTemporaryCache(Nt.ORIGIN_URI,f,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),m=await this.navigationClient.navigateInternal(f,h)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),m=await this.navigationClient.navigateInternal(c,h);if(!m)return await this.handleResponse(a,n,s,i)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,s,i);return null}catch(a){throw a instanceof Je&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===ah.QUERY?n=window.location.search:n=window.location.hash);let s=ld(n);if(s){try{xM(s,this.browserCrypto,ye.Redirect)}catch(i){return i instanceof Je&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return _E(window),this.logger.verbose("Hash contains known properties, returning response hash"),[s,n]}const r=this.browserStorage.getTemporaryCache(Nt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Nt.URL_HASH)),r&&(s=ld(r),s)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[s,r]):[null,""]}async handleResponse(e,n,s,r){if(!e.state)throw ue(Sy);if(e.ear_jwe){const o=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return F(zy,O.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Xe.acquireTokenRedirect,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const a=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority});return F(Cd,O.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,s,Xe.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const s={apiId:Xe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=n||this.config.auth.onRedirectNavigate;if(typeof r=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),r(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,s);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,s);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ue(ph)}async logout(e){var r;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),s=this.initializeServerTelemetryManager(Xe.logout);try{this.eventHandler.emitEvent(fe.LOGOUT_START,ye.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const i={apiId:Xe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===_n.OIDC)try{a.authority.endSessionEndpoint}catch{if((r=n.account)!=null&&r.homeAccountId){this.eventHandler.emitEvent(fe.LOGOUT_SUCCESS,ye.Redirect,n);return}}const o=a.getLogoutUri(n);if(this.eventHandler.emitEvent(fe.LOGOUT_SUCCESS,ye.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(o)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,jr.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,jr.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}}catch(i){throw i instanceof Je&&(i.setCorrelationId(this.correlationId),s.cacheFailedRequest(i)),this.eventHandler.emitEvent(fe.LOGOUT_FAILURE,ye.Redirect,null,i),this.eventHandler.emitEvent(fe.LOGOUT_END,ye.Redirect),i}this.eventHandler.emitEvent(fe.LOGOUT_END,ye.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Le.getAbsoluteUrl(n,tr())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function LM(t,e,n,s,r){if(e.addQueueMeasurement(O.SilentHandlerInitiateAuthRequest,s),!t)throw n.info("Navigate url is empty"),ue(ph);return r?F(zM,O.SilentHandlerLoadFrame,n,e,s)(t,r,e,s):qn(VM,O.SilentHandlerLoadFrameSync,n,e,s)(t)}async function HM(t,e,n,s,r){const i=Ch();if(!i.contentDocument)throw"No document associated with iframe!";return(await By(i.contentDocument,t,e,n,s,r)).submit(),i}async function BM(t,e,n,s,r){const i=Ch();if(!i.contentDocument)throw"No document associated with iframe!";return(await Hy(i.contentDocument,t,e,n,s,r)).submit(),i}async function zx(t,e,n,s,r,i,a){return s.addQueueMeasurement(O.SilentHandlerMonitorIframeForHash,i),new Promise((o,c)=>{e<tg&&r.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${tg}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(d),c(ue(WA))},e),d=window.setInterval(()=>{let h="";const m=t.contentWindow;try{h=m?m.location.href:""}catch{}if(!h||h==="about:blank")return;let f="";m&&(a===ah.QUERY?f=m.location.search:f=m.location.hash),window.clearTimeout(u),window.clearInterval(d),o(f)},n)}).finally(()=>{qn(FM,O.RemoveHiddenIframe,r,s,i)(t)})}function zM(t,e,n,s){return n.addQueueMeasurement(O.SilentHandlerLoadFrame,s),new Promise((r,i)=>{const a=Ch();window.setTimeout(()=>{if(!a){i("Unable to load iframe");return}a.src=t,r(a)},e)})}function VM(t){const e=Ch();return e.src=t,e}function Ch(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function FM(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class GM extends mo{constructor(e,n,s,r,i,a,o,c,u,d,h){super(e,n,s,r,i,a,c,d,h),this.apiId=o,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==vn.NONE&&n.prompt!==vn.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${vn.NONE}`),n.prompt=vn.NONE):n.prompt=vn.NONE;const s=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ye.Silent);return s.platformBroker=zl(this.config,this.logger,this.platformAuthProvider,s.authenticationScheme),OE(s.authority),this.config.auth.protocolMode===_n.EAR?this.executeEarFlow(s):this.executeCodeFlow(s)}async executeCodeFlow(e){let n;const s=this.initializeServerTelemetryManager(this.apiId);try{return n=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await F(this.silentTokenHelper.bind(this),O.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(r){if(r instanceof Je&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),!n||!(r instanceof Je)||r.errorCode!==Nn.INVALID_GRANT_ERROR)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await F(this.silentTokenHelper.bind(this),O.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await F(Ry,O.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r},a=await F(BM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,s,i,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,c=await F(zx,O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,o),u=qn(dl,O.DeserializeResponse,this.logger,this.performanceClient,n)(c,o,this.logger);return F(zy,O.HandleResponseEar,this.logger,this.performanceClient,n)(i,u,this.apiId,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ue(yh))}async silentTokenHelper(e,n){const s=n.correlationId;this.performanceClient.addQueueMeasurement(O.SilentIframeClientTokenHelper,s);const r=await F(Sh,O.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),i={...n,codeChallenge:r.challenge};let a;if(n.httpMethod===Ci.POST)a=await F(HM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);else{const d=await F(Ly,O.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);a=await F(LM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(d,this.performanceClient,this.logger,s,this.config.system.navigateFrameWait)}const o=this.config.auth.OIDCOptions.serverResponseType,c=await F(zx,O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,s,o),u=qn(dl,O.DeserializeResponse,this.logger,this.performanceClient,s)(c,o,this.logger);return F(Cd,O.HandleResponseCode,this.logger,this.performanceClient,s)(n,u,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class qM extends mo{async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentRefreshClientAcquireToken,e.correlationId);const n=await F(Dy,O.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),s={...e,...n};e.redirectUri&&(s.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Xe.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:s.authority,azureCloudOptions:s.azureCloudOptions,account:s.account});return F(i.acquireTokenByRefreshToken.bind(i),O.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(s).catch(a=>{throw a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),a})}logout(){return Promise.reject(ue(yh))}async createRefreshTokenClient(e){const n=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new aI(n,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class KM{constructor(e,n,s,r){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=s,this.cryptoObj=r}async loadExternalTokens(e,n,s){if(!this.isBrowserEnvironment)throw ue(vh);const r=e.correlationId||Ss(),i=n.id_token?uo(n.id_token,vs):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new an(an.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Ss()):void 0,c=await this.loadAccount(e,s.clientInfo||n.client_info||"",r,i,o),u=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,r),d=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,s,r),h=await this.loadRefreshToken(n,c.homeAccountId,c.environment,r);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:d,refreshToken:h},i,o)}async loadAccount(e,n,s,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=bs.createFromAccountInfo(e.account);return await this.storage.setAccount(u,s),u}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ue(lE);const a=bs.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),o=r==null?void 0:r.tid,c=gy(this.storage,i,a,vs,s,r,n,i.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(c,s),c}async loadIdToken(e,n,s,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=dh(n,s,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,i),a}async loadAccessToken(e,n,s,r,i,a,o){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?Lt.fromString(n.scope):new Lt(e.scopes),u=a.expiresOn||n.expires_in+kn(),d=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+kn(),h=hh(s,r,n.access_token,this.config.auth.clientId,i,c.printScopes(),u,d,vs);return await this.storage.setAccessTokenCredential(h,o),h}async loadRefreshToken(e,n,s,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=IA(n,s,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,n,s,r){var d,h,m;let i="",a=[],o=null,c;n!=null&&n.accessToken&&(i=n.accessToken.secret,a=Lt.fromString(n.accessToken.target).asArray(),o=Ua(n.accessToken.expiresOn),c=Ua(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:r?r.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:u.getAccountInfo(),idToken:((d=n.idToken)==null?void 0:d.secret)||"",idTokenClaims:s||{},accessToken:i,fromCache:!0,expiresOn:o,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((h=n.refreshToken)==null?void 0:h.familyId)||"",tokenType:((m=n==null?void 0:n.accessToken)==null?void 0:m.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class $M extends BA{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class YM extends mo{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,c,u,d),this.apiId=o}async acquireToken(e){if(!e.code)throw ue(cE);const n=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ye.Silent),s=this.initializeServerTelemetryManager(this.apiId);try{const r={...n,code:e.code},i=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new $M(i);this.logger.verbose("Auth code client created");const o=new DE(a,this.browserStorage,r,this.logger,this.performanceClient);return await F(o.handleCodeResponseFromServer.bind(o),O.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(r){throw r instanceof Je&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),r}}logout(){return Promise.reject(ue(yh))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function QM(t,e,n){var a;const s=((a=window.msal)==null?void 0:a.clientIds)||[],r=s.length,i=s.filter(o=>o===t).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:r,sameClientIdInstanceCount:i})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function As(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Vc(t,e){try{Iy(t)}catch(n){throw e.end({success:!1},n),n}}class wh{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new fr(this.logger,this.performanceClient):od,this.eventHandler=new yM(this.logger),this.browserStorage=this.isBrowserEnvironment?new ig(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,Jj(this.config.auth)):lM(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Ht.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Ht.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new ig(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new KM(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const s=new wh(e);return await s.initialize(n),s}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(fe.INITIALIZE_END);return}const s=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(O.InitializeClientApplication,s);if(this.eventHandler.emitEvent(fe.INITIALIZE_START),!n)try{this.logMultipleInstances(i)}catch{}if(await F(this.browserStorage.initialize.bind(this.browserStorage),O.InitializeCache,this.logger,this.performanceClient,s)(s),r)try{this.platformAuthProvider=await IM(this.logger,this.performanceClient,s,this.config.system.nativeBrokerHandshakeTimeout)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),qn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),O.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,s)(s)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(s),this.initialized=!0,this.eventHandler.emitEvent(fe.INITIALIZE_END),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),kE(this.initialized),this.isBrowserEnvironment){const n=e||"";let s=this.redirectResponse.get(n);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,s),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),s}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===jr.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const s=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&this.platformAuthProvider&&!e;let a;this.eventHandler.emitEvent(fe.HANDLE_REDIRECT_START,ye.Redirect);let o;try{if(i&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(O.AcquireTokenRedirect,(r==null?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const u=new yu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);o=F(u.handleRedirectPromise.bind(u),O.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[u,d]=this.browserStorage.getCachedRequest(),h=u.correlationId;a=this.performanceClient.startMeasurement(O.AcquireTokenRedirect,h),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const m=this.createRedirectClient(h);o=F(m.handleRedirectPromise.bind(m),O.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,u,d,a)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return o.then(u=>(u?(this.browserStorage.resetRequestCache(),s.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(fe.LOGIN_SUCCESS,ye.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_SUCCESS,ye.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:As(u.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(fe.HANDLE_REDIRECT_END,ye.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const d=u;throw s.length>0?this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_FAILURE,ye.Redirect,null,d):this.eventHandler.emitEvent(fe.LOGIN_FAILURE,ye.Redirect,null,d),this.eventHandler.emitEvent(fe.HANDLE_REDIRECT_END,ye.Redirect),a.end({success:!1},d),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const s=this.performanceClient.startMeasurement(O.AcquireTokenPreRedirect,n);s.add({accountType:As(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=a=>{const o=typeof r=="function"?r(a):void 0;return s.add({navigateCallbackResult:o!==!1}),s.event=s.end({success:!0})||s.event,o};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=o=>{const c=typeof a=="function"?a(o):void 0;return s.add({navigateCallbackResult:c!==!1}),s.event=s.end({success:!0})||s.event,c}}const i=this.getAllAccounts().length>0;try{Ox(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,jr.SIGNIN),i?this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_START,ye.Redirect,e):this.eventHandler.emitEvent(fe.LOGIN_START,ye.Redirect,e);let a;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?a=new yu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,s).catch(c=>{if(s.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof ks&&ua(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof xs)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),s.event.status===2?this.performanceClient.startMeasurement(O.AcquireTokenRedirect,n).end({success:!1},a):s.end({success:!1},a),i?this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_FAILURE,ye.Redirect,null,a):this.eventHandler.emitEvent(fe.LOGIN_FAILURE,ye.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(O.AcquireTokenPopup,n);s.add({scenarioId:e.scenarioId,accountType:As(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Vc(this.initialized,s),this.browserStorage.setInteractionInProgress(!0,jr.SIGNIN)}catch(o){return Promise.reject(o)}const r=this.getAllAccounts();r.length>0?this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_START,ye.Popup,e):this.eventHandler.emitEvent(fe.LOGIN_START,ye.Popup,e);let i;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(s.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative({...e,correlationId:n},Xe.acquireTokenPopup).then(o=>(s.end({success:!0,accountType:As(o.account)}),o)).catch(o=>{if(s.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof ks&&ua(o))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(o instanceof xs)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw o})):i=this.createPopupClient(n).acquireToken(e,a),i.then(o=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(fe.LOGIN_SUCCESS,ye.Popup,o):this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_SUCCESS,ye.Popup,o),s.end({success:!0,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:As(o.account)}),o)).catch(o=>(r.length>0?this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_FAILURE,ye.Popup,null,o):this.eventHandler.emitEvent(fe.LOGIN_FAILURE,ye.Popup,null,o),s.end({success:!1},o),Promise.reject(o))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,a,o;const n=this.getRequestCorrelationId(e),s={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(O.SsoSilent,n),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:As(e.account)}),Vc(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(fe.SSO_SILENT_START,ye.Silent,s);let r;return this.canUsePlatformBroker(s)?((o=this.ssoSilentMeasurement)==null||o.add({isPlatformBrokerRequest:!0}),r=this.acquireTokenNative(s,Xe.ssoSilent).catch(c=>{var u;if((u=this.ssoSilentMeasurement)==null||u.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof ks&&ua(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw c})):r=this.createSilentIframeClient(s.correlationId).acquireToken(s),r.then(c=>{var u;return this.eventHandler.emitEvent(fe.SSO_SILENT_SUCCESS,ye.Silent,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:As(c.account)}),c}).catch(c=>{var u;throw this.eventHandler.emitEvent(fe.SSO_SILENT_FAILURE,ye.Silent,null,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const s=this.performanceClient.startMeasurement(O.AcquireTokenByCode,n);Vc(this.initialized,s),this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_BY_CODE_START,ye.Silent,e),s.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ue(dE);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",n),s.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),i=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ye.Silent,a),this.hybridAuthCodeResponses.delete(r),s.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:As(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_BY_CODE_FAILURE,ye.Silent,null,a),s.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(r,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){s.add({isPlatformBrokerRequest:!0});const r=await this.acquireTokenNative({...e,correlationId:n},Xe.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof ks&&ua(i)&&(this.platformAuthProvider=void 0),s.add({brokerErrorName:i.name,brokerErrorCode:i.errorCode}),i});return s.end({accountType:As(r.account),success:!0}),r}else throw ue(hE);else throw ue(uE)}catch(r){throw this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_BY_CODE_FAILURE,ye.Silent,null,r),s.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var r;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(O.AcquireTokenByCodeAsync,e.correlationId),(r=this.acquireTokenByCodeAsyncMeasurement)==null||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:i.fromCache}),i}).catch(i=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(O.AcquireTokenFromCache,e.correlationId),n){case hn.Default:case hn.AccessToken:case hn.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(e.correlationId);return F(s.acquireToken.bind(s),O.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ee(Yr)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(O.AcquireTokenByRefreshToken,e.correlationId),n){case hn.Default:case hn.AccessTokenAndRefreshToken:case hn.RefreshToken:case hn.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(e.correlationId);return F(s.acquireToken.bind(s),O.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw ee(Yr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(O.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return F(n.acquireToken.bind(n),O.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Ox(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,jr.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return Iy(this.initialized),this.browserStorage.setInteractionInProgress(!0,jr.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return cM(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return uM(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return dM(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return hM(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return fM(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();mM(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return gM(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const s=bs.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(s,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,s,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ue(Ty);return new yu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,s||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!zl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case vn.NONE:case vn.CONSENT:case vn.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new PM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new UM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new GM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new LE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new qM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new YM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xe.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return RE(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ht.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ht.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Ss():q.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Ex})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Ex})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(O.AcquireTokenSilent,n);s.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Vc(this.initialized,s),this.logger.verbose("acquireTokenSilent called",n);const r=e.account||this.getActiveAccount();if(!r)throw ue(sE);return s.add({accountType:As(r)}),this.acquireTokenSilentDeduped(e,r,n).then(i=>(s.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:n})).catch(i=>{throw i instanceof Je&&i.setCorrelationId(n),s.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,n,s){const r=fh(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),i=JSON.stringify(r),a=this.activeSilentTokenRequests.get(i);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",s),this.performanceClient.addFields({deduped:!1},s);const o=F(this.acquireTokenSilentAsync.bind(this),O.AcquireTokenSilentAsync,this.logger,this.performanceClient,s)({...e,correlationId:s},n);return this.activeSilentTokenRequests.set(i,o),o.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",s),this.performanceClient.addFields({deduped:!0},s),a}async acquireTokenSilentAsync(e,n){const s=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(O.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_START,ye.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",s);const r=await F(vM,O.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||hn.Default;return this.acquireTokenSilentNoIframe(r,i).catch(async o=>{if(XM(o,i))if(this.activeIframeRequest)if(i!==hn.Skip){const[u,d]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${d}`,r.correlationId);const h=this.performanceClient.startMeasurement(O.AwaitConcurrentIframe,r.correlationId);h.add({awaitIframeCorrelationId:d});const m=await u;if(h.end({success:m}),m)return this.logger.verbose(`Parallel iframe request with correlationId: ${d} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${d} failed. Interaction is required.`),o}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),F(this.acquireTokenBySilentIframe.bind(this),O.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r);else{let u;return this.activeIframeRequest=[new Promise(d=>{u=d}),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),F(this.acquireTokenBySilentIframe.bind(this),O.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r).then(d=>(u(!0),d)).catch(d=>{throw u(!1),d}).finally(()=>{this.activeIframeRequest=void 0})}else throw o}).then(o=>(this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_SUCCESS,ye.Silent,o),e.correlationId&&this.performanceClient.addFields({fromCache:o.fromCache},e.correlationId),o)).catch(o=>{throw this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_FAILURE,ye.Silent,null,o),o}).finally(()=>{document.removeEventListener("visibilitychange",s)})}async acquireTokenSilentNoIframe(e,n){return zl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Xe.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async s=>{throw this.performanceClient.addFields({brokerErrorName:s.name,brokerErrorCode:s.errorCode},e.correlationId),s instanceof ks&&ua(s)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,ee(Yr)):s})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===hn.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),F(this.acquireTokenFromCache.bind(this),O.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(s=>{if(n===hn.AccessToken)throw s;return this.eventHandler.emitEvent(fe.ACQUIRE_TOKEN_NETWORK_START,ye.Silent,e),F(this.acquireTokenByRefreshToken.bind(this),O.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await F(Sh,O.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),QM(n,e,this.logger)}}function XM(t,e){const n=!(t instanceof xs&&t.subError!==gh),s=t.errorCode===Nn.INVALID_GRANT_ERROR||t.errorCode===Yr,r=n&&s||t.errorCode===pd||t.errorCode===fy,i=EI.includes(e);return r&&i}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function JM(t,e){const n=new Vi(t);return await n.initialize(),wh.createController(n,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Fy{static async createPublicClientApplication(e){const n=await JM(e);return new Fy(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new wh(new Vi(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ZM={initialize:()=>Promise.reject(At(It)),acquireTokenPopup:()=>Promise.reject(At(It)),acquireTokenRedirect:()=>Promise.reject(At(It)),acquireTokenSilent:()=>Promise.reject(At(It)),acquireTokenByCode:()=>Promise.reject(At(It)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(At(It)),loginPopup:()=>Promise.reject(At(It)),loginRedirect:()=>Promise.reject(At(It)),logout:()=>Promise.reject(At(It)),logoutRedirect:()=>Promise.reject(At(It)),logoutPopup:()=>Promise.reject(At(It)),ssoSilent:()=>Promise.reject(At(It)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw At(It)},getLogger:()=>{throw At(It)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw At(It)},hydrateCache:()=>Promise.reject(At(It)),clearCache:()=>Promise.reject(At(It))};/*! @azure/msal-browser v4.22.1 2025-09-09 */class WM{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case fe.LOGIN_START:return Mt.Login;case fe.SSO_SILENT_START:return Mt.SsoSilent;case fe.ACQUIRE_TOKEN_START:if(e.interactionType===ye.Redirect||e.interactionType===ye.Popup)return Mt.AcquireToken;break;case fe.HANDLE_REDIRECT_START:return Mt.HandleRedirect;case fe.LOGOUT_START:return Mt.Logout;case fe.SSO_SILENT_SUCCESS:case fe.SSO_SILENT_FAILURE:if(n&&n!==Mt.SsoSilent)break;return Mt.None;case fe.LOGOUT_END:if(n&&n!==Mt.Logout)break;return Mt.None;case fe.HANDLE_REDIRECT_END:if(n&&n!==Mt.HandleRedirect)break;return Mt.None;case fe.LOGIN_SUCCESS:case fe.LOGIN_FAILURE:case fe.ACQUIRE_TOKEN_SUCCESS:case fe.ACQUIRE_TOKEN_FAILURE:case fe.RESTORE_FROM_BFCACHE:if(e.interactionType===ye.Redirect||e.interactionType===ye.Popup){if(n&&n!==Mt.Login&&n!==Mt.AcquireToken)break;return Mt.None}break}return null}}/*! @azure/msal-react v3.0.19 2025-08-19 */const e2={instance:ZM,inProgress:Mt.None,accounts:[],logger:new hr({})},zE=S.createContext(e2);zE.Consumer;/*! @azure/msal-react v3.0.19 2025-08-19 */function Vx(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(s=>{const r=n.shift();return!s||!r?!1:s.homeAccountId===r.homeAccountId&&s.localAccountId===r.localAccountId&&s.username===r.username})}/*! @azure/msal-react v3.0.19 2025-08-19 */const t2="@azure/msal-react",Fx="3.0.19";/*! @azure/msal-react v3.0.19 2025-08-19 */const Td={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},n2=(t,e)=>{const{type:n,payload:s}=e;let r=t.inProgress;switch(n){case Td.UNBLOCK_INPROGRESS:t.inProgress===Mt.Startup&&(r=Mt.None,s.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Td.EVENT:const a=s.message,o=WM.getInteractionStatusFromEvent(a,t.inProgress);o&&(s.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${o}`),r=o);break;default:throw new Error(`Unknown action type: ${n}`)}if(r===Mt.Startup)return t;const i=s.instance.getAllAccounts();return r!==t.inProgress&&!Vx(i,t.accounts)?{...t,inProgress:r,accounts:i}:r!==t.inProgress?{...t,inProgress:r}:Vx(i,t.accounts)?t:{...t,accounts:i}};function s2({instance:t,children:e}){S.useEffect(()=>{t.initializeWrapperLibrary(wI.React,Fx)},[t]);const n=S.useMemo(()=>t.getLogger().clone(t2,Fx),[t]),[s,r]=S.useReducer(n2,void 0,()=>({inProgress:Mt.Startup,accounts:[]}));S.useEffect(()=>{const a=t.addEventCallback(o=>{r({payload:{instance:t,logger:n,message:o},type:Td.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{r({payload:{instance:t,logger:n},type:Td.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(n.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,n]);const i={instance:t,inProgress:s.inProgress,accounts:s.accounts,logger:n};return te.createElement(zE.Provider,{value:i},e)}const Gx="https://dnc-backend-bb96.onrender.com".replace(/\/$/,"");var PS;const r2=typeof window<"u"&&((PS=window.location)==null?void 0:PS.protocol)==="https:",X=r2?Gx.replace(/^http:\/\//,"https://"):Gx,go={PHONE_NUMBERS:`${X}/api/v1/phone-numbers`,CRM_INTEGRATIONS:`${X}/api/v1/crm`};function i2(){try{const t=localStorage.getItem("persist:do-not-call-root");if(console.log(" Raw localStorage data:",t),!t)return{};const e=JSON.parse(t);console.log(" Parsed localStorage:",e);const n=e.demoAuth?JSON.parse(e.demoAuth):null;if(console.log(" Demo auth data:",n),!n)return{};const{organizationId:s,userId:r,role:i}=n;if(!s||!r||!i)return{};const a={"X-Org-Id":String(s),"X-User-Id":String(r),"X-Role":String(i)};return console.log(" Generated headers:",a),a}catch(t){return console.log(" Error getting demo headers:",t),{}}}let Fc=null;async function a2(){try{const t=window.__msalAcquireToken,e="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(t&&e){Fc||(Fc=t([e]).catch(()=>null));const n=await Fc;return Fc=null,n||null}}catch(t){console.warn("Failed to acquire Azure AD token:",t)}return null}const at=async(t,e={})=>{const n=await a2();let s={};n&&(s.Authorization=`Bearer ${n}`);const r=await fetch(t,{headers:{"Content-Type":"application/json",...s,...i2(),...e.headers||{}},...e});if(!r.ok)throw new Error(`API call failed: ${r.status} ${r.statusText}`);return r.json()};var VE={exports:{}},FE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=S;function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var l2=typeof Object.is=="function"?Object.is:o2,c2=uc.useSyncExternalStore,u2=uc.useRef,d2=uc.useEffect,h2=uc.useMemo,f2=uc.useDebugValue;FE.useSyncExternalStoreWithSelector=function(t,e,n,s,r){var i=u2(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=h2(function(){function c(f){if(!u){if(u=!0,d=f,f=s(f),r!==void 0&&a.hasValue){var x=a.value;if(r(x,f))return h=x}return h=f}if(x=h,l2(d,f))return x;var b=s(f);return r!==void 0&&r(x,b)?(d=f,x):(d=f,h=b)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,n,s,r]);var o=c2(t,i[0],i[1]);return d2(function(){a.hasValue=!0,a.value=o},[o]),f2(o),o};VE.exports=FE;var m2=VE.exports;function g2(t){t()}function p2(){let t=null,e=null;return{clear(){t=null,e=null},notify(){g2(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var qx={notify(){},get:()=>[]};function y2(t,e){let n,s=qx,r=0,i=!1;function a(b){d();const C=s.subscribe(b);let y=!1;return()=>{y||(y=!0,C(),h())}}function o(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return i}function d(){r++,n||(n=t.subscribe(c),s=p2())}function h(){r--,n&&r===0&&(n(),n=void 0,s.clear(),s=qx)}function m(){i||(i=!0,d())}function f(){i&&(i=!1,h())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:f,getListeners:()=>s};return x}var v2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b2=v2(),x2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",S2=x2(),C2=()=>b2||S2?S.useLayoutEffect:S.useEffect,w2=C2(),Af=Symbol.for("react-redux-context"),Ef=typeof globalThis<"u"?globalThis:{};function T2(){if(!S.createContext)return{};const t=Ef[Af]??(Ef[Af]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var ni=T2();function A2(t){const{children:e,context:n,serverState:s,store:r}=t,i=S.useMemo(()=>{const c=y2(r);return{store:r,subscription:c,getServerState:s?()=>s:void 0}},[r,s]),a=S.useMemo(()=>r.getState(),[r]);w2(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const o=n||ni;return S.createElement(o.Provider,{value:i},e)}var E2=A2;function Gy(t=ni){return function(){return S.useContext(t)}}var GE=Gy();function qE(t=ni){const e=t===ni?GE:Gy(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var N2=qE();function _2(t=ni){const e=t===ni?N2:qE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var R2=_2(),k2=(t,e)=>t===e;function O2(t=ni){const e=t===ni?GE:Gy(t),n=(s,r={})=>{const{equalityFn:i=k2}=typeof r=="function"?{equalityFn:r}:r,a=e(),{store:o,subscription:c,getServerState:u}=a;S.useRef(!0);const d=S.useCallback({[s.name](m){return s(m)}}[s.name],[s]),h=m2.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,d,i);return S.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var j2=O2();function vu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(n){return typeof n}:vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vu(t)}function I2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function P2(t,e,n){return e&&M2(t.prototype,e),t}function D2(t,e){return e&&(vu(e)==="object"||typeof e=="function")?e:bu(t)}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function bu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&og(t,e)}function og(t,e){return og=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},og(t,e)}function xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var KE=function(t){U2(e,t);function e(){var n,s;I2(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return s=D2(this,(n=ag(e)).call.apply(n,[this].concat(i))),xu(bu(s),"state",{bootstrapped:!1}),xu(bu(s),"_unsubscribe",void 0),xu(bu(s),"handlePersistorState",function(){var o=s.props.persistor,c=o.getState(),u=c.bootstrapped;u&&(s.props.onBeforeLift?Promise.resolve(s.props.onBeforeLift()).finally(function(){return s.setState({bootstrapped:!0})}):s.setState({bootstrapped:!0}),s._unsubscribe&&s._unsubscribe())}),s}return P2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(S.PureComponent);xu(KE,"defaultProps",{children:null,loading:null});var L2=t=>{switch(t){case"success":return z2;case"info":return F2;case"warning":return V2;case"error":return G2;default:return null}},H2=Array(12).fill(0),B2=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},H2.map((n,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),z2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),G2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),q2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),K2=()=>{let[t,e]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lg=1,$2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lg++,i=this.toasts.find(o=>o.id===r),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...t,id:r,title:n}),{...o,...t,id:r,dismissible:a,title:n}):o):this.addToast({title:n,...s,dismissible:a,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0,i,a=s.then(async c=>{if(i=["resolve",c],te.isValidElement(c))r=!1,this.create({id:n,type:"default",message:c});else if(Q2(c)&&!c.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;r&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||lg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},En=new $2,Y2=(t,e)=>{let n=(e==null?void 0:e.id)||lg++;return En.addToast({title:t,...e,id:n}),n},Q2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",X2=Y2,J2=()=>En.toasts,Z2=()=>En.getActiveToasts(),pn=Object.assign(X2,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:J2,getToasts:Z2});function W2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}W2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gc(t){return t.label!==void 0}var eP=3,tP="32px",nP="16px",Kx=4e3,sP=356,rP=14,iP=20,aP=200;function cs(...t){return t.filter(Boolean).join(" ")}function oP(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var lP=t=>{var e,n,s,r,i,a,o,c,u,d,h;let{invert:m,toast:f,unstyled:x,interacting:b,setHeights:C,visibleToasts:y,heights:p,index:g,toasts:v,expanded:w,removeToast:N,defaultRichColors:T,closeButton:_,style:A,cancelButtonStyle:k,actionButtonStyle:P,className:R="",descriptionClassName:I="",duration:H,position:G,gap:M,loadingIcon:Y,expandByDefault:Z,classNames:B,icons:K,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:Q}=t,[J,de]=te.useState(null),[se,ve]=te.useState(null),[we,oe]=te.useState(!1),[he,le]=te.useState(!1),[ge,L]=te.useState(!1),[z,ae]=te.useState(!1),[Ee,Te]=te.useState(!1),[wt,$t]=te.useState(0),[Yt,E]=te.useState(0),j=te.useRef(f.duration||H||Kx),U=te.useRef(null),re=te.useRef(null),W=g===0,ne=g+1<=y,ce=f.type,Re=f.dismissible!==!1,Me=f.className||"",jt=f.descriptionClassName||"",Sn=te.useMemo(()=>p.findIndex(Ne=>Ne.toastId===f.id)||0,[p,f.id]),nn=te.useMemo(()=>{var Ne;return(Ne=f.closeButton)!=null?Ne:_},[f.closeButton,_]),ws=te.useMemo(()=>f.duration||H||Kx,[f.duration,H]),Mn=te.useRef(0),cn=te.useRef(0),ci=te.useRef(0),Qn=te.useRef(null),[Wi,ui]=G.split("-"),yo=te.useMemo(()=>p.reduce((Ne,He,Ze)=>Ze>=Sn?Ne:Ne+He.height,0),[p,Sn]),vo=K2(),bc=f.invert||m,ea=ce==="loading";cn.current=te.useMemo(()=>Sn*M+yo,[Sn,yo]),te.useEffect(()=>{j.current=ws},[ws]),te.useEffect(()=>{oe(!0)},[]),te.useEffect(()=>{let Ne=re.current;if(Ne){let He=Ne.getBoundingClientRect().height;return E(He),C(Ze=>[{toastId:f.id,height:He,position:f.position},...Ze]),()=>C(Ze=>Ze.filter(V=>V.toastId!==f.id))}},[C,f.id]),te.useLayoutEffect(()=>{if(!we)return;let Ne=re.current,He=Ne.style.height;Ne.style.height="auto";let Ze=Ne.getBoundingClientRect().height;Ne.style.height=He,E(Ze),C(V=>V.find(pe=>pe.toastId===f.id)?V.map(pe=>pe.toastId===f.id?{...pe,height:Ze}:pe):[{toastId:f.id,height:Ze,position:f.position},...V])},[we,f.title,f.description,C,f.id]);let ls=te.useCallback(()=>{le(!0),$t(cn.current),C(Ne=>Ne.filter(He=>He.toastId!==f.id)),setTimeout(()=>{N(f)},aP)},[f,N,C,cn]);te.useEffect(()=>{if(f.promise&&ce==="loading"||f.duration===1/0||f.type==="loading")return;let Ne;return w||b||Q&&vo?(()=>{if(ci.current<Mn.current){let He=new Date().getTime()-Mn.current;j.current=j.current-He}ci.current=new Date().getTime()})():j.current!==1/0&&(Mn.current=new Date().getTime(),Ne=setTimeout(()=>{var He;(He=f.onAutoClose)==null||He.call(f,f),ls()},j.current)),()=>clearTimeout(Ne)},[w,b,f,ce,Q,vo,ls]),te.useEffect(()=>{f.delete&&ls()},[ls,f.delete]);function xc(){var Ne,He,Ze;return K!=null&&K.loading?te.createElement("div",{className:cs(B==null?void 0:B.loader,(Ne=f==null?void 0:f.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":ce==="loading"},K.loading):Y?te.createElement("div",{className:cs(B==null?void 0:B.loader,(He=f==null?void 0:f.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":ce==="loading"},Y):te.createElement(B2,{className:cs(B==null?void 0:B.loader,(Ze=f==null?void 0:f.classNames)==null?void 0:Ze.loader),visible:ce==="loading"})}return te.createElement("li",{tabIndex:0,ref:re,className:cs(R,Me,B==null?void 0:B.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[ce],(n=f==null?void 0:f.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:T,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":we,"data-promise":!!f.promise,"data-swiped":Ee,"data-removed":he,"data-visible":ne,"data-y-position":Wi,"data-x-position":ui,"data-index":g,"data-front":W,"data-swiping":ge,"data-dismissible":Re,"data-type":ce,"data-invert":bc,"data-swipe-out":z,"data-swipe-direction":se,"data-expanded":!!(w||Z&&we),style:{"--index":g,"--toasts-before":g,"--z-index":v.length-g,"--offset":`${he?wt:cn.current}px`,"--initial-height":Z?"auto":`${Yt}px`,...A,...f.style},onDragEnd:()=>{L(!1),de(null),Qn.current=null},onPointerDown:Ne=>{ea||!Re||(U.current=new Date,$t(cn.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(L(!0),Qn.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,He,Ze,V;if(z||!Re)return;Qn.current=null;let pe=Number(((Ne=re.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qe=Number(((He=re.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ke=new Date().getTime()-((Ze=U.current)==null?void 0:Ze.getTime()),$e=J==="x"?pe:qe,Qt=Math.abs($e)/Ke;if(Math.abs($e)>=iP||Qt>.11){$t(cn.current),(V=f.onDismiss)==null||V.call(f,f),ve(J==="x"?pe>0?"right":"left":qe>0?"down":"up"),ls(),ae(!0),Te(!1);return}L(!1),de(null)},onPointerMove:Ne=>{var He,Ze,V,pe;if(!Qn.current||!Re||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;let qe=Ne.clientY-Qn.current.y,Ke=Ne.clientX-Qn.current.x,$e=(Ze=t.swipeDirections)!=null?Ze:oP(G);!J&&(Math.abs(Ke)>1||Math.abs(qe)>1)&&de(Math.abs(Ke)>Math.abs(qe)?"x":"y");let Qt={x:0,y:0};J==="y"?($e.includes("top")||$e.includes("bottom"))&&($e.includes("top")&&qe<0||$e.includes("bottom")&&qe>0)&&(Qt.y=qe):J==="x"&&($e.includes("left")||$e.includes("right"))&&($e.includes("left")&&Ke<0||$e.includes("right")&&Ke>0)&&(Qt.x=Ke),(Math.abs(Qt.x)>0||Math.abs(Qt.y)>0)&&Te(!0),(V=re.current)==null||V.style.setProperty("--swipe-amount-x",`${Qt.x}px`),(pe=re.current)==null||pe.style.setProperty("--swipe-amount-y",`${Qt.y}px`)}},nn&&!f.jsx?te.createElement("button",{"aria-label":D,"data-disabled":ea,"data-close-button":!0,onClick:ea||!Re?()=>{}:()=>{var Ne;ls(),(Ne=f.onDismiss)==null||Ne.call(f,f)},className:cs(B==null?void 0:B.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},(i=K==null?void 0:K.close)!=null?i:q2):null,f.jsx||S.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:te.createElement(te.Fragment,null,ce||f.icon||f.promise?te.createElement("div",{"data-icon":"",className:cs(B==null?void 0:B.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||xc():null,f.type!=="loading"?f.icon||(K==null?void 0:K[ce])||L2(ce):null):null,te.createElement("div",{"data-content":"",className:cs(B==null?void 0:B.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},te.createElement("div",{"data-title":"",className:cs(B==null?void 0:B.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?te.createElement("div",{"data-description":"",className:cs(I,jt,B==null?void 0:B.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),S.isValidElement(f.cancel)?f.cancel:f.cancel&&Gc(f.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||k,onClick:Ne=>{var He,Ze;Gc(f.cancel)&&Re&&((Ze=(He=f.cancel).onClick)==null||Ze.call(He,Ne),ls())},className:cs(B==null?void 0:B.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,S.isValidElement(f.action)?f.action:f.action&&Gc(f.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:Ne=>{var He,Ze;Gc(f.action)&&((Ze=(He=f.action).onClick)==null||Ze.call(He,Ne),!Ne.defaultPrevented&&ls())},className:cs(B==null?void 0:B.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function $x(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cP(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,a=i?"--mobile-offset":"--offset",o=i?nP:tP;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(o)}),n}var uP=S.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:f,visibleToasts:x=eP,toastOptions:b,dir:C=$x(),gap:y=rP,loadingIcon:p,icons:g,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w}=t,[N,T]=te.useState([]),_=te.useMemo(()=>Array.from(new Set([s].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,s]),[A,k]=te.useState([]),[P,R]=te.useState(!1),[I,H]=te.useState(!1),[G,M]=te.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=te.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=te.useRef(null),K=te.useRef(!1),D=te.useCallback(Q=>{T(J=>{var de;return(de=J.find(se=>se.id===Q.id))!=null&&de.delete||En.dismiss(Q.id),J.filter(({id:se})=>se!==Q.id)})},[]);return te.useEffect(()=>En.subscribe(Q=>{if(Q.dismiss){T(J=>J.map(de=>de.id===Q.id?{...de,delete:!0}:de));return}setTimeout(()=>{OR.flushSync(()=>{T(J=>{let de=J.findIndex(se=>se.id===Q.id);return de!==-1?[...J.slice(0,de),{...J[de],...Q},...J.slice(de+1)]:[Q,...J]})})})}),[]),te.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:J})=>{M(J?"dark":"light")})}catch{Q.addListener(({matches:de})=>{try{M(de?"dark":"light")}catch(se){console.error(se)}})}},[d]),te.useEffect(()=>{N.length<=1&&R(!1)},[N]),te.useEffect(()=>{let Q=J=>{var de,se;r.every(ve=>J[ve]||J.code===ve)&&(R(!0),(de=Y.current)==null||de.focus()),J.code==="Escape"&&(document.activeElement===Y.current||(se=Y.current)!=null&&se.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),te.useEffect(()=>{if(Y.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,K.current=!1)}},[Y.current]),te.createElement("section",{ref:e,"aria-label":`${v} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((Q,J)=>{var de;let[se,ve]=Q.split("-");return N.length?te.createElement("ol",{key:Q,dir:C==="auto"?$x():C,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":se,"data-lifted":P&&N.length>1&&!i,"data-x-position":ve,style:{"--front-toast-height":`${((de=A[0])==null?void 0:de.height)||0}px`,"--width":`${sP}px`,"--gap":`${y}px`,...f,...cP(c,u)},onBlur:we=>{K.current&&!we.currentTarget.contains(we.relatedTarget)&&(K.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||K.current||(K.current=!0,B.current=we.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{I||R(!1)},onDragEnd:()=>R(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},N.filter(we=>!we.position&&J===0||we.position===Q).map((we,oe)=>{var he,le;return te.createElement(lP,{key:we.id,icons:g,index:oe,toast:we,defaultRichColors:h,duration:(he=b==null?void 0:b.duration)!=null?he:m,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:x,closeButton:(le=b==null?void 0:b.closeButton)!=null?le:a,interacting:I,position:Q,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:D,toasts:N.filter(ge=>ge.position==we.position),heights:A.filter(ge=>ge.position==we.position),setHeights:k,expandByDefault:i,gap:y,loadingIcon:p,expanded:P,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});const $E=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Th=S.createContext({}),Ah=S.createContext(null),Eh=typeof document<"u",qy=Eh?S.useLayoutEffect:S.useEffect,YE=S.createContext({strict:!1}),Ky=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),dP="framerAppearId",QE="data-"+Ky(dP);function hP(t,e,n,s){const{visualElement:r}=S.useContext(Th),i=S.useContext(YE),a=S.useContext(Ah),o=S.useContext($E).reducedMotion,c=S.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;S.useInsertionEffect(()=>{u&&u.update(n,a)});const d=S.useRef(!!(n[QE]&&!window.HandoffComplete));return qy(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function wa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fP(t,e,n){return S.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):wa(n)&&(n.current=s))},[e])}function Vl(t){return typeof t=="string"||Array.isArray(t)}function Nh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...$y];function _h(t){return Nh(t.animate)||Yy.some(e=>Vl(t[e]))}function XE(t){return!!(_h(t)||t.variants)}function mP(t,e){if(_h(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Vl(n)?n:void 0,animate:Vl(s)?s:void 0}}return t.inherit!==!1?e:{}}function gP(t){const{initial:e,animate:n}=mP(t,S.useContext(Th));return S.useMemo(()=>({initial:e,animate:n}),[Yx(e),Yx(n)])}function Yx(t){return Array.isArray(t)?t.join(" "):t}const Qx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fl={};for(const t in Qx)Fl[t]={isEnabled:e=>Qx[t].some(n=>!!e[n])};function pP(t){for(const e in t)Fl[e]={...Fl[e],...t[e]}}const Qy=S.createContext({}),JE=S.createContext({}),yP=Symbol.for("motionComponentSymbol");function vP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&pP(t);function i(o,c){let u;const d={...S.useContext($E),...o,layoutId:bP(o)},{isStatic:h}=d,m=gP(o),f=s(o,h);if(!h&&Eh){m.visualElement=hP(r,f,d,e);const x=S.useContext(JE),b=S.useContext(YE).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,b,t,x))}return S.createElement(Th.Provider,{value:m},u&&m.visualElement?S.createElement(u,{visualElement:m.visualElement,...d}):null,n(r,o,fP(f,m.visualElement,c),f,h,m.visualElement))}const a=S.forwardRef(i);return a[yP]=r,a}function bP({layoutId:t}){const e=S.useContext(Qy).id;return e&&t!==void 0?e+"-"+t:t}function xP(t){function e(s,r={}){return vP(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const SP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xy(t){return typeof t!="string"||t.includes("-")?!1:!!(SP.indexOf(t)>-1||/[A-Z]/.test(t))}const Ad={};function CP(t){Object.assign(Ad,t)}const dc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ji=new Set(dc);function ZE(t,{layout:e,layoutId:n}){return Ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ad[t]||t==="opacity")}const On=t=>!!(t&&t.getVelocity),wP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TP=dc.length;function AP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let i="";for(let a=0;a<TP;a++){const o=dc[a];if(t[o]!==void 0){const c=wP[o]||o;i+=`${c}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(t,s?"":i):n&&s&&(i="none"),i}const WE=t=>e=>typeof e=="string"&&e.startsWith(t),eN=WE("--"),cg=WE("var(--"),EP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,NP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,si=(t,e,n)=>Math.min(Math.max(n,t),e),Zi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hl={...Zi,transform:t=>si(0,1,t)},qc={...Zi,default:1},fl=t=>Math.round(t*1e5)/1e5,Rh=/(-)?([\d]*\.?[\d])+/g,tN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,_P=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hc(t){return typeof t=="string"}const fc=t=>({test:e=>hc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tr=fc("deg"),Ds=fc("%"),Se=fc("px"),RP=fc("vh"),kP=fc("vw"),Xx={...Ds,parse:t=>Ds.parse(t)/100,transform:t=>Ds.transform(t*100)},Jx={...Zi,transform:Math.round},nN={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,size:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:qc,scaleX:qc,scaleY:qc,scaleZ:qc,skew:Tr,skewX:Tr,skewY:Tr,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:hl,originX:Xx,originY:Xx,originZ:Se,zIndex:Jx,fillOpacity:hl,strokeOpacity:hl,numOctaves:Jx};function Jy(t,e,n,s){const{style:r,vars:i,transform:a,transformOrigin:o}=t;let c=!1,u=!1,d=!0;for(const h in e){const m=e[h];if(eN(h)){i[h]=m;continue}const f=nN[h],x=NP(m,f);if(Ji.has(h)){if(c=!0,a[h]=x,!d)continue;m!==(f.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,o[h]=x):r[h]=x}if(e.transform||(c||s?r.transform=AP(t.transform,n,d,s):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:f=0}=o;r.transformOrigin=`${h} ${m} ${f}`}}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sN(t,e,n){for(const s in e)!On(e[s])&&!ZE(s,n)&&(t[s]=e[s])}function OP({transformTemplate:t},e,n){return S.useMemo(()=>{const s=Zy();return Jy(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function jP(t,e,n){const s=t.style||{},r={};return sN(r,s,t),Object.assign(r,OP(t,e,n)),t.transformValues?t.transformValues(r):r}function IP(t,e,n){const s={},r=jP(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const MP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||MP.has(t)}let rN=t=>!Ed(t);function PP(t){t&&(rN=e=>e.startsWith("on")?!Ed(e):t(e))}try{PP(require("@emotion/is-prop-valid").default)}catch{}function DP(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(rN(r)||n===!0&&Ed(r)||!e&&!Ed(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Zx(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function UP(t,e,n){const s=Zx(e,t.x,t.width),r=Zx(n,t.y,t.height);return`${s} ${r}`}const LP={offset:"stroke-dashoffset",array:"stroke-dasharray"},HP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?LP:HP;t[i.offset]=Se.transform(-s);const a=Se.transform(e),o=Se.transform(n);t[i.array]=`${a} ${o}`}function Wy(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h,m){if(Jy(t,u,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:x,dimensions:b}=t;f.transform&&(b&&(x.transform=f.transform),delete f.transform),b&&(r!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=UP(b,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),a!==void 0&&BP(f,a,o,c,!1)}const iN=()=>({...Zy(),attrs:{}}),ev=t=>typeof t=="string"&&t.toLowerCase()==="svg";function zP(t,e,n,s){const r=S.useMemo(()=>{const i=iN();return Wy(i,e,{enableHardwareAcceleration:!1},ev(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};sN(i,t.style,t),r.style={...i,...r.style}}return r}function VP(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(Xy(n)?zP:IP)(s,i,a,n),d={...DP(s,typeof n=="string",t),...c,ref:r},{children:h}=s,m=S.useMemo(()=>On(h)?h.get():h,[h]);return S.createElement(n,{...d,children:m})}}function aN(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const oN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lN(t,e,n,s){aN(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(oN.has(r)?r:Ky(r),e.attrs[r])}function tv(t,e){const{style:n}=t,s={};for(const r in n)(On(n[r])||e.style&&On(e.style[r])||ZE(r,t))&&(s[r]=n[r]);return s}function cN(t,e){const n=tv(t,e);for(const s in t)if(On(t[s])||On(e[s])){const r=dc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function nv(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function uN(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nd=t=>Array.isArray(t),FP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),GP=t=>Nd(t)?t[t.length-1]||0:t;function Su(t){const e=On(t)?t.get():t;return FP(e)?e.toValue():e}function qP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,i){const a={latestValues:KP(s,r,i,t),renderState:e()};return n&&(a.mount=o=>n(s,o,a)),a}const dN=t=>(e,n)=>{const s=S.useContext(Th),r=S.useContext(Ah),i=()=>qP(t,e,s,r);return n?i():uN(i)};function KP(t,e,n,s){const r={},i=s(t,{});for(const m in i)r[m]=Su(i[m]);let{initial:a,animate:o}=t;const c=_h(t),u=XE(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!Nh(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const x=nv(t,f);if(!x)return;const{transitionEnd:b,transition:C,...y}=x;for(const p in y){let g=y[p];if(Array.isArray(g)){const v=d?g.length-1:0;g=g[v]}g!==null&&(r[p]=g)}for(const p in b)r[p]=b[p]}),r}const xt=t=>t;class Wx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function $P(t){let e=new Wx,n=new Wx,s=0,r=!1,i=!1;const a=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const h=d&&r,m=h?e:n;return u&&a.add(c),m.add(c)&&h&&r&&(s=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let u=0;u<s;u++){const d=e.order[u];d(c),a.has(d)&&(o.schedule(d),t())}r=!1,i&&(i=!1,o.process(c))}};return o}const Kc=["prepare","read","update","preRender","render","postRender"],YP=40;function QP(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=Kc.reduce((h,m)=>(h[m]=$P(()=>n=!0),h),{}),a=h=>i[h].process(r),o=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,YP),1),r.timestamp=h,r.isProcessing=!0,Kc.forEach(a),r.isProcessing=!1,n&&e&&(s=!1,t(o))},c=()=>{n=!0,s=!0,r.isProcessing||t(o)};return{schedule:Kc.reduce((h,m)=>{const f=i[m];return h[m]=(x,b=!1,C=!1)=>(n||c(),f.schedule(x,b,C)),h},{}),cancel:h=>Kc.forEach(m=>i[m].cancel(h)),state:r,steps:i}}const{schedule:nt,cancel:mr,state:rn,steps:Nf}=QP(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0),XP={useVisualState:dN({scrapeMotionValuesFromProps:cN,createRenderState:iN,onMount:(t,e,{renderState:n,latestValues:s})=>{nt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),nt.render(()=>{Wy(n,s,{enableHardwareAcceleration:!1},ev(e.tagName),t.transformTemplate),lN(e,n)})}})},JP={useVisualState:dN({scrapeMotionValuesFromProps:tv,createRenderState:Zy})};function ZP(t,{forwardMotionProps:e=!1},n,s){return{...Xy(t)?XP:JP,preloadedFeatures:n,useRender:VP(e),createVisualElement:s,Component:t}}function nr(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const hN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function kh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const WP=t=>e=>hN(e)&&t(e,kh(e));function ir(t,e,n,s){return nr(t,e,WP(n),s)}const eD=(t,e)=>n=>e(t(n)),Jr=(...t)=>t.reduce(eD);function fN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const e0=fN("dragHorizontal"),t0=fN("dragVertical");function mN(t){let e=!1;if(t==="y")e=t0();else if(t==="x")e=e0();else{const n=e0(),s=t0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function gN(){const t=mN(!0);return t?(t(),!1):!0}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}function n0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,a)=>{if(i.pointerType==="touch"||gN())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[s]&&nt.update(()=>o[s](i,a))};return ir(t.current,n,r,{passive:!t.getProps()[s]})}class tD extends li{mount(){this.unmount=Jr(n0(this.node,!0),n0(this.node,!1))}unmount(){}}class nD extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jr(nr(this.node.current,"focus",()=>this.onFocus()),nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pN=(t,e)=>e?t===e?!0:pN(t,e.parentElement):!1;function _f(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,kh(n))}class sD extends li{constructor(){super(...arguments),this.removeStartListeners=xt,this.removeEndListeners=xt,this.removeAccessibleListeners=xt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=ir(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();nt.update(()=>{!h&&!pN(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(s.onTap||s.onPointerUp)}),a=ir(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Jr(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||_f("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&nt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=nr(this.node.current,"keyup",a),_f("down",(o,c)=>{this.startPress(o,c)})},n=nr(this.node.current,"keydown",e),s=()=>{this.isPressing&&_f("cancel",(i,a)=>this.cancelPress(i,a))},r=nr(this.node.current,"blur",s);this.removeAccessibleListeners=Jr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&nt.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!gN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&nt.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=ir(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Jr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ug=new WeakMap,Rf=new WeakMap,rD=t=>{const e=ug.get(t.target);e&&e(t)},iD=t=>{t.forEach(rD)};function aD({root:t,...e}){const n=t||document;Rf.has(n)||Rf.set(n,{});const s=Rf.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(iD,{root:t,...e})),s[r]}function oD(t,e,n){const s=aD(e);return ug.set(t,n),s.observe(t),()=>{ug.delete(t),s.unobserve(t)}}const lD={some:0,all:1};class cD extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:lD[r]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return oD(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uD(e,n))&&this.startObserver()}unmount(){}}function uD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dD={inView:{Feature:cD},tap:{Feature:sD},focus:{Feature:nD},hover:{Feature:tD}};function yN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function hD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function fD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Oh(t,e,n){const s=t.getProps();return nv(s,e,n!==void 0?n:s.custom,hD(t),fD(t))}let sv=xt;const Ii=t=>t*1e3,ar=t=>t/1e3,mD={current:!1},vN=t=>Array.isArray(t)&&typeof t[0]=="number";function bN(t){return!!(!t||typeof t=="string"&&xN[t]||vN(t)||Array.isArray(t)&&t.every(bN))}const Fo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,xN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fo([0,.65,.55,1]),circOut:Fo([.55,0,1,.45]),backIn:Fo([.31,.01,.66,-.59]),backOut:Fo([.33,1.53,.69,.99])};function SN(t){if(t)return vN(t)?Fo(t):Array.isArray(t)?t.map(SN):xN[t]}function gD(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:a="loop",ease:o,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=SN(o);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function pD(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const CN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yD=1e-7,vD=12;function bD(t,e,n,s,r){let i,a,o=0;do a=e+(n-e)/2,i=CN(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>yD&&++o<vD);return a}function mc(t,e,n,s){if(t===e&&n===s)return xt;const r=i=>bD(i,0,1,t,n);return i=>i===0||i===1?i:CN(r(i),e,s)}const xD=mc(.42,0,1,1),SD=mc(0,0,.58,1),wN=mc(.42,0,.58,1),CD=t=>Array.isArray(t)&&typeof t[0]!="number",TN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,AN=t=>e=>1-t(1-e),rv=t=>1-Math.sin(Math.acos(t)),EN=AN(rv),wD=TN(rv),NN=mc(.33,1.53,.69,.99),iv=AN(NN),TD=TN(iv),AD=t=>(t*=2)<1?.5*iv(t):.5*(2-Math.pow(2,-10*(t-1))),ED={linear:xt,easeIn:xD,easeInOut:wN,easeOut:SD,circIn:rv,circInOut:wD,circOut:EN,backIn:iv,backInOut:TD,backOut:NN,anticipate:AD},s0=t=>{if(Array.isArray(t)){sv(t.length===4);const[e,n,s,r]=t;return mc(e,n,s,r)}else if(typeof t=="string")return ED[t];return t},av=(t,e)=>n=>!!(hc(n)&&_P.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),_N=(t,e,n)=>s=>{if(!hc(s))return s;const[r,i,a,o]=s.match(Rh);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},ND=t=>si(0,255,t),kf={...Zi,transform:t=>Math.round(ND(t))},Ti={test:av("rgb","red"),parse:_N("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+kf.transform(t)+", "+kf.transform(e)+", "+kf.transform(n)+", "+fl(hl.transform(s))+")"};function _D(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const dg={test:av("#"),parse:_D,transform:Ti.transform},Ta={test:av("hsl","hue"),parse:_N("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ds.transform(fl(e))+", "+Ds.transform(fl(n))+", "+fl(hl.transform(s))+")"},fn={test:t=>Ti.test(t)||dg.test(t)||Ta.test(t),parse:t=>Ti.test(t)?Ti.parse(t):Ta.test(t)?Ta.parse(t):dg.parse(t),transform:t=>hc(t)?t:t.hasOwnProperty("red")?Ti.transform(t):Ta.transform(t)},mt=(t,e,n)=>-n*t+n*e+t;function Of(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=Of(c,o,t+1/3),i=Of(c,o,t),a=Of(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const jf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},kD=[dg,Ti,Ta],OD=t=>kD.find(e=>e.test(t));function r0(t){const e=OD(t);let n=e.parse(t);return e===Ta&&(n=RD(n)),n}const RN=(t,e)=>{const n=r0(t),s=r0(e),r={...n};return i=>(r.red=jf(n.red,s.red,i),r.green=jf(n.green,s.green,i),r.blue=jf(n.blue,s.blue,i),r.alpha=mt(n.alpha,s.alpha,i),Ti.transform(r))};function jD(t){var e,n;return isNaN(t)&&hc(t)&&(((e=t.match(Rh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(tN))===null||n===void 0?void 0:n.length)||0)>0}const kN={regex:EP,countKey:"Vars",token:"${v}",parse:xt},ON={regex:tN,countKey:"Colors",token:"${c}",parse:fn.parse},jN={regex:Rh,countKey:"Numbers",token:"${n}",parse:Zi.parse};function If(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function _d(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&If(n,kN),If(n,ON),If(n,jN),n}function IN(t){return _d(t).values}function MN(t){const{values:e,numColors:n,numVars:s,tokenised:r}=_d(t),i=e.length;return a=>{let o=r;for(let c=0;c<i;c++)c<s?o=o.replace(kN.token,a[c]):c<s+n?o=o.replace(ON.token,fn.transform(a[c])):o=o.replace(jN.token,fl(a[c]));return o}}const ID=t=>typeof t=="number"?0:t;function MD(t){const e=IN(t);return MN(t)(e.map(ID))}const ri={test:jD,parse:IN,createTransformer:MN,getAnimatableNone:MD},PN=(t,e)=>n=>`${n>0?e:t}`;function DN(t,e){return typeof t=="number"?n=>mt(t,e,n):fn.test(t)?RN(t,e):t.startsWith("var(")?PN(t,e):LN(t,e)}const UN=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,a)=>DN(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},PD=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=DN(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},LN=(t,e)=>{const n=ri.createTransformer(e),s=_d(t),r=_d(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Jr(UN(s.values,r.values),n):PN(t,e)},Gl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},i0=(t,e)=>n=>mt(t,e,n);function DD(t){return typeof t=="number"?i0:typeof t=="string"?fn.test(t)?RN:LN:Array.isArray(t)?UN:typeof t=="object"?PD:i0}function UD(t,e,n){const s=[],r=n||DD(t[0]),i=t.length-1;for(let a=0;a<i;a++){let o=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||xt:e;o=Jr(c,o)}s.push(o)}return s}function HN(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(sv(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=UD(e,s,r),o=a.length,c=u=>{let d=0;if(o>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Gl(t[d],t[d+1],u);return a[d](h)};return n?u=>c(si(t[0],t[i-1],u)):c}function LD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Gl(0,e,s);t.push(mt(n,1,r))}}function HD(t){const e=[0];return LD(e,t.length-1),e}function BD(t,e){return t.map(n=>n*e)}function zD(t,e){return t.map(()=>e||wN).splice(0,t.length-1)}function Rd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=CD(s)?s.map(s0):s0(s),i={done:!1,value:e[0]},a=BD(n&&n.length===e.length?n:HD(e),t),o=HN(a,e,{ease:Array.isArray(r)?r:zD(e,r)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}function BN(t,e){return e?t*(1e3/e):0}const VD=5;function zN(t,e,n){const s=Math.max(e-VD,0);return BN(n-t(s),e-s)}const Mf=.001,FD=.01,GD=10,qD=.05,KD=1;function $D({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,a=1-e;a=si(qD,KD,a),t=si(FD,GD,ar(t)),a<1?(r=u=>{const d=u*a,h=d*t,m=d-n,f=hg(u,a),x=Math.exp(-h);return Mf-m/f*x},i=u=>{const h=u*a*t,m=h*n+n,f=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),b=hg(Math.pow(u,2),a);return(-r(u)+Mf>0?-1:1)*((m-f)*x)/b}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Mf+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,c=QD(r,i,o);if(t=Ii(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const YD=12;function QD(t,e,n){let s=n;for(let r=1;r<YD;r++)s=s-t(s)/e(s);return s}function hg(t,e){return t*Math.sqrt(1-e*e)}const XD=["duration","bounce"],JD=["stiffness","damping","mass"];function a0(t,e){return e.some(n=>t[n]!==void 0)}function ZD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!a0(t,JD)&&a0(t,XD)){const n=$D(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function VN({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],a={done:!1,value:r},{stiffness:o,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=ZD({...s,velocity:-ar(s.velocity||0)}),f=h||0,x=c/(2*Math.sqrt(o*u)),b=i-r,C=ar(Math.sqrt(o/u)),y=Math.abs(b)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(x<1){const g=hg(C,x);p=v=>{const w=Math.exp(-x*C*v);return i-w*((f+x*C*b)/g*Math.sin(g*v)+b*Math.cos(g*v))}}else if(x===1)p=g=>i-Math.exp(-C*g)*(b+(f+C*b)*g);else{const g=C*Math.sqrt(x*x-1);p=v=>{const w=Math.exp(-x*C*v),N=Math.min(g*v,300);return i-w*((f+x*C*b)*Math.sinh(N)+g*b*Math.cosh(N))/g}}return{calculatedDuration:m&&d||null,next:g=>{const v=p(g);if(m)a.done=g>=d;else{let w=f;g!==0&&(x<1?w=zN(p,g,v):w=0);const N=Math.abs(w)<=n,T=Math.abs(i-v)<=e;a.done=N&&T}return a.value=a.done?i:v,a}}}function o0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},f=_=>o!==void 0&&_<o||c!==void 0&&_>c,x=_=>o===void 0?c:c===void 0||Math.abs(o-_)<Math.abs(c-_)?o:c;let b=n*e;const C=h+b,y=a===void 0?C:a(C);y!==C&&(b=y-h);const p=_=>-b*Math.exp(-_/s),g=_=>y+p(_),v=_=>{const A=p(_),k=g(_);m.done=Math.abs(A)<=u,m.value=m.done?y:k};let w,N;const T=_=>{f(m.value)&&(w=_,N=VN({keyframes:[m.value,x(m.value)],velocity:zN(g,_,m.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:_=>{let A=!1;return!N&&w===void 0&&(A=!0,v(_),T(_)),w!==void 0&&_>w?N.next(_-w):(!A&&v(_),m)}}}const WD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>nt.update(e,!0),stop:()=>mr(e),now:()=>rn.isProcessing?rn.timestamp:performance.now()}},l0=2e4;function c0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<l0;)e+=n,s=t.next(e);return e>=l0?1/0:e}const eU={decay:o0,inertia:o0,tween:Rd,keyframes:Rd,spring:VN};function kd({autoplay:t=!0,delay:e=0,driver:n=WD,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...m}){let f=1,x=!1,b,C;const y=()=>{C=new Promise(D=>{b=D})};y();let p;const g=eU[r]||Rd;let v;g!==Rd&&typeof s[0]!="number"&&(v=HN([0,100],s,{clamp:!1}),s=[0,100]);const w=g({...m,keyframes:s});let N;o==="mirror"&&(N=g({...m,keyframes:[...s].reverse(),velocity:-(m.velocity||0)}));let T="idle",_=null,A=null,k=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=c0(w));const{calculatedDuration:P}=w;let R=1/0,I=1/0;P!==null&&(R=P+a,I=R*(i+1)-a);let H=0;const G=D=>{if(A===null)return;f>0&&(A=Math.min(A,D)),f<0&&(A=Math.min(D-I/f,A)),_!==null?H=_:H=Math.round(D-A)*f;const Q=H-e*(f>=0?1:-1),J=f>=0?Q<0:Q>I;H=Math.max(Q,0),T==="finished"&&_===null&&(H=I);let de=H,se=w;if(i){const he=Math.min(H,I)/R;let le=Math.floor(he),ge=he%1;!ge&&he>=1&&(ge=1),ge===1&&le--,le=Math.min(le,i+1),!!(le%2)&&(o==="reverse"?(ge=1-ge,a&&(ge-=a/R)):o==="mirror"&&(se=N)),de=si(0,1,ge)*R}const ve=J?{done:!1,value:s[0]}:se.next(de);v&&(ve.value=v(ve.value));let{done:we}=ve;!J&&P!==null&&(we=f>=0?H>=I:H<=0);const oe=_===null&&(T==="finished"||T==="running"&&we);return h&&h(ve.value),oe&&Z(),ve},M=()=>{p&&p.stop(),p=void 0},Y=()=>{T="idle",M(),b(),y(),A=k=null},Z=()=>{T="finished",d&&d(),M(),b()},B=()=>{if(x)return;p||(p=n(G));const D=p.now();c&&c(),_!==null?A=D-_:(!A||T==="finished")&&(A=D),T==="finished"&&y(),k=A,_=null,T="running",p.start()};t&&B();const K={then(D,Q){return C.then(D,Q)},get time(){return ar(H)},set time(D){D=Ii(D),H=D,_!==null||!p||f===0?_=D:A=p.now()-D/f},get duration(){const D=w.calculatedDuration===null?c0(w):w.calculatedDuration;return ar(D)},get speed(){return f},set speed(D){D===f||!p||(f=D,K.time=ar(H))},get state(){return T},play:B,pause:()=>{T="paused",_=H},stop:()=>{x=!0,T!=="idle"&&(T="idle",u&&u(),Y())},cancel:()=>{k!==null&&G(k),Y()},complete:()=>{T="finished"},sample:D=>(A=0,G(D))};return K}function tU(t){let e;return()=>(e===void 0&&(e=t()),e)}const nU=tU(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$c=10,rU=2e4,iU=(t,e)=>e.type==="spring"||t==="backgroundColor"||!bN(e.ease);function aU(t,e,{onUpdate:n,onComplete:s,...r}){if(!(nU()&&sU.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,o,c,u=!1;const d=()=>{c=new Promise(g=>{o=g})};d();let{keyframes:h,duration:m=300,ease:f,times:x}=r;if(iU(e,r)){const g=kd({...r,repeat:0,delay:0});let v={done:!1,value:h[0]};const w=[];let N=0;for(;!v.done&&N<rU;)v=g.sample(N),w.push(v.value),N+=$c;x=void 0,h=w,m=N-$c,f="linear"}const b=gD(t.owner.current,e,h,{...r,duration:m,ease:f,times:x}),C=()=>{u=!1,b.cancel()},y=()=>{u=!0,nt.update(C),o(),d()};return b.onfinish=()=>{u||(t.set(pD(h,r)),s&&s(),y())},{then(g,v){return c.then(g,v)},attachTimeline(g){return b.timeline=g,b.onfinish=null,xt},get time(){return ar(b.currentTime||0)},set time(g){b.currentTime=Ii(g)},get speed(){return b.playbackRate},set speed(g){b.playbackRate=g},get duration(){return ar(m)},play:()=>{a||(b.play(),mr(C))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:g}=b;if(g){const v=kd({...r,autoplay:!1});t.setWithVelocity(v.sample(g-$c).value,v.sample(g).value,$c)}y()},complete:()=>{u||b.finish()},cancel:y}}function oU({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:xt,pause:xt,stop:xt,then:i=>(i(),Promise.resolve()),cancel:xt,complete:xt});return e?kd({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const lU={type:"spring",stiffness:500,damping:25,restSpeed:10},cU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),uU={type:"keyframes",duration:.8},dU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hU=(t,{keyframes:e})=>e.length>2?uU:Ji.has(t)?t.startsWith("scale")?cU(e[1]):lU:dU,fg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ri.test(e)||e==="0")&&!e.startsWith("url(")),fU=new Set(["brightness","contrast","saturate","opacity"]);function mU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Rh)||[];if(!s)return t;const r=n.replace(s,"");let i=fU.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const gU=/([a-z-]*)\(.*?\)/g,mg={...ri,getAnimatableNone:t=>{const e=t.match(gU);return e?e.map(mU).join(" "):t}},pU={...nN,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:mg,WebkitFilter:mg},ov=t=>pU[t];function FN(t,e){let n=ov(t);return n!==mg&&(n=ri),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GN=t=>/^0[^.\s]+$/.test(t);function yU(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||GN(t)}function vU(t,e,n,s){const r=fg(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=s.from!==void 0?s.from:t.get();let o;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),yU(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(r&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];i[d]=FN(e,o)}return i}function bU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function lv(t,e){return t[e]||t.default||t}const xU={skipAnimations:!1},cv=(t,e,n,s={})=>r=>{const i=lv(s,t)||{},a=i.delay||s.delay||0;let{elapsed:o=0}=s;o=o-Ii(a);const c=vU(e,t,n,i),u=c[0],d=c[c.length-1],h=fg(t,u),m=fg(t,d);let f={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:x=>{e.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(bU(i)||(f={...f,...hU(t,f)}),f.duration&&(f.duration=Ii(f.duration)),f.repeatDelay&&(f.repeatDelay=Ii(f.repeatDelay)),!h||!m||mD.current||i.type===!1||xU.skipAnimations)return oU(f);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=aU(e,t,f);if(x)return x}return kd(f)};function Od(t){return!!(On(t)&&t.add)}const qN=t=>/^\-?\d*\.?\d+$/.test(t);function uv(t,e){t.indexOf(e)===-1&&t.push(e)}function dv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hv{constructor(){this.subscriptions=[]}add(e){return uv(this.subscriptions,e),()=>dv(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const SU=t=>!isNaN(parseFloat(t));class CU{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:a}=rn;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,nt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=SU(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hv);const s=this.events[e].add(n);return e==="change"?()=>{s(),nt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Za(t,e){return new CU(t,e)}const KN=t=>e=>e.test(t),wU={test:t=>t==="auto",parse:t=>t},$N=[Zi,Se,Ds,Tr,kP,RP,wU],_o=t=>$N.find(KN(t)),TU=[...$N,fn,ri],AU=t=>TU.find(KN(t));function EU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Za(n))}function NU(t,e){const n=Oh(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const a in i){const o=GP(i[a]);EU(t,a,o)}}function _U(t,e,n){var s,r;const i=Object.keys(e).filter(o=>!t.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const c=i[o],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),d!=null&&(typeof d=="string"&&(qN(d)||GN(d))?d=parseFloat(d):!AU(d)&&ri.test(u)&&(d=FN(c,u)),t.addValue(c,Za(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function RU(t,e){return e?(e[t]||e.default||e).from:void 0}function kU(t,e,n){const s={};for(const r in t){const i=RU(r,e);if(i!==void 0)s[r]=i;else{const a=n.getValue(r);a&&(s[r]=a.get())}}return s}function OU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function jU(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function YN(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(i=s);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in o){const m=t.getValue(h),f=o[h];if(!m||f===void 0||d&&OU(d,h))continue;const x={delay:n,elapsed:0,...lv(i||{},h)};if(window.HandoffAppearAnimations){const y=t.getProps()[QE];if(y){const p=window.HandoffAppearAnimations(y,h,m,nt);p!==null&&(x.elapsed=p,x.isHandoff=!0)}}let b=!x.isHandoff&&!jU(m,f);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(b=!1),m.animation&&(b=!1),b)continue;m.start(cv(h,m,f,t.shouldReduceMotion&&Ji.has(h)?{type:!1}:x));const C=m.animation;Od(c)&&(c.add(h),C.then(()=>c.remove(h))),u.push(C)}return a&&Promise.all(u).then(()=>{a&&NU(t,a)}),u}function gg(t,e,n={}){const s=Oh(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(YN(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return IU(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[c,u]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function IU(t,e,n=0,s=0,r=1,i){const a=[],o=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>o-u*s;return Array.from(t.variantChildren).sort(MU).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(gg(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function MU(t,e){return t.sortNodePosition(e)}function PU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>gg(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=gg(t,e,n);else{const r=typeof e=="function"?Oh(t,e,n.custom):e;s=Promise.all(YN(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const DU=[...$y].reverse(),UU=$y.length;function LU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>PU(t,n,s)))}function HU(t){let e=LU(t);const n=zU();let s=!0;const r=(c,u)=>{const d=Oh(t,u);if(d){const{transition:h,transitionEnd:m,...f}=d;c={...c,...f,...m}}return c};function i(c){e=c(t)}function a(c,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},m=[],f=new Set;let x={},b=1/0;for(let y=0;y<UU;y++){const p=DU[y],g=n[p],v=d[p]!==void 0?d[p]:h[p],w=Vl(v),N=p===u?g.isActive:null;N===!1&&(b=y);let T=v===h[p]&&v!==d[p]&&w;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...x},!g.isActive&&N===null||!v&&!g.prevProp||Nh(v)||typeof v=="boolean")continue;let A=BU(g.prevProp,v)||p===u&&g.isActive&&!T&&w||y>b&&w,k=!1;const P=Array.isArray(v)?v:[v];let R=P.reduce(r,{});N===!1&&(R={});const{prevResolvedValues:I={}}=g,H={...I,...R},G=M=>{A=!0,f.has(M)&&(k=!0,f.delete(M)),g.needsAnimating[M]=!0};for(const M in H){const Y=R[M],Z=I[M];if(x.hasOwnProperty(M))continue;let B=!1;Nd(Y)&&Nd(Z)?B=!yN(Y,Z):B=Y!==Z,B?Y!==void 0?G(M):f.add(M):Y!==void 0&&f.has(M)?G(M):g.protectedKeys[M]=!0}g.prevProp=v,g.prevResolvedValues=R,g.isActive&&(x={...x,...R}),s&&t.blockInitialAnimation&&(A=!1),A&&(!T||k)&&m.push(...P.map(M=>({animation:M,options:{type:p,...c}})))}if(f.size){const y={};f.forEach(p=>{const g=t.getBaseTarget(p);g!==void 0&&(y[p]=g)}),m.push({animation:y})}let C=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(m):Promise.resolve()}function o(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var x;return(x=f.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const m=a(d,c);for(const f in n)n[f].protectedKeys={};return m}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n}}function BU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yN(e,t):!1}function fi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zU(){return{animate:fi(!0),whileInView:fi(),whileHover:fi(),whileTap:fi(),whileDrag:fi(),whileFocus:fi(),exit:fi()}}class VU extends li{constructor(e){super(e),e.animationState||(e.animationState=HU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Nh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let FU=0;class GU extends li{constructor(){super(...arguments),this.id=FU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const qU={animation:{Feature:VU},exit:{Feature:GU}},u0=(t,e)=>Math.abs(t-e);function KU(t,e){const n=u0(t.x,e.x),s=u0(t.y,e.y);return Math.sqrt(n**2+s**2)}class QN{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Df(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=KU(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:x}=h,{timestamp:b}=rn;this.history.push({...x,timestamp:b});const{onStart:C,onMove:y}=this.handlers;m||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pf(m,this.transformPagePoint),nt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Df(h.type==="pointercancel"?this.lastMoveEventInfo:Pf(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,C),x&&x(h,C)},!hN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=kh(e),o=Pf(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=rn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Df(o,this.history)),this.removeListeners=Jr(ir(this.contextWindow,"pointermove",this.handlePointerMove),ir(this.contextWindow,"pointerup",this.handlePointerUp),ir(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function Pf(t,e){return e?{point:e(t.point)}:t}function d0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Df({point:t},e){return{point:t,delta:d0(t,XN(e)),offset:d0(t,$U(e)),velocity:YU(e,.1)}}function $U(t){return t[0]}function XN(t){return t[t.length-1]}function YU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=XN(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Ii(e)));)n--;if(!s)return{x:0,y:0};const i=ar(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function $n(t){return t.max-t.min}function pg(t,e=0,n=.01){return Math.abs(t-e)<=n}function h0(t,e,n,s=.5){t.origin=s,t.originPoint=mt(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),(pg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(pg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ml(t,e,n,s){h0(t.x,e.x,n.x,s?s.originX:void 0),h0(t.y,e.y,n.y,s?s.originY:void 0)}function f0(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function QU(t,e,n){f0(t.x,e.x,n.x),f0(t.y,e.y,n.y)}function m0(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function gl(t,e,n){m0(t.x,e.x,n.x),m0(t.y,e.y,n.y)}function XU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?mt(n,t,s.max):Math.min(t,n)),t}function g0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function JU(t,{top:e,left:n,bottom:s,right:r}){return{x:g0(t.x,n,r),y:g0(t.y,e,s)}}function p0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ZU(t,e){return{x:p0(t.x,e.x),y:p0(t.y,e.y)}}function WU(t,e){let n=.5;const s=$n(t),r=$n(e);return r>s?n=Gl(e.min,e.max-s,t.min):s>r&&(n=Gl(t.min,t.max-r,e.min)),si(0,1,n)}function eL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yg=.35;function tL(t=yg){return t===!1?t=0:t===!0&&(t=yg),{x:y0(t,"left","right"),y:y0(t,"top","bottom")}}function y0(t,e,n){return{min:v0(t,e),max:v0(t,n)}}function v0(t,e){return typeof t=="number"?t:t[e]||0}const b0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:b0(),y:b0()}),x0=()=>({min:0,max:0}),Et=()=>({x:x0(),y:x0()});function Jn(t){return[t("x"),t("y")]}function JN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function nL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Uf(t){return t===void 0||t===1}function vg({scale:t,scaleX:e,scaleY:n}){return!Uf(t)||!Uf(e)||!Uf(n)}function vi(t){return vg(t)||ZN(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ZN(t){return S0(t.x)||S0(t.y)}function S0(t){return t&&t!=="0%"}function jd(t,e,n){const s=t-n,r=e*s;return n+r}function C0(t,e,n,s,r){return r!==void 0&&(t=jd(t,r,s)),jd(t,n,s)+e}function bg(t,e=0,n=1,s,r){t.min=C0(t.min,e,n,s,r),t.max=C0(t.max,e,n,s,r)}function WN(t,{x:e,y:n}){bg(t.x,e.translate,e.scale,e.originPoint),bg(t.y,n.translate,n.scale,n.originPoint)}function rL(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let o=0;o<r;o++){i=n[o],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ea(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,WN(t,a)),s&&vi(i.latestValues)&&Ea(t,i.latestValues))}e.x=w0(e.x),e.y=w0(e.y)}function w0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Nr(t,e){t.min=t.min+e,t.max=t.max+e}function T0(t,e,[n,s,r]){const i=e[r]!==void 0?e[r]:.5,a=mt(t.min,t.max,i);bg(t,e[n],e[s],a,e.scale)}const iL=["x","scaleX","originX"],aL=["y","scaleY","originY"];function Ea(t,e){T0(t.x,e,iL),T0(t.y,e,aL)}function e_(t,e){return JN(sL(t.getBoundingClientRect(),e))}function oL(t,e,n){const s=e_(t,n),{scroll:r}=e;return r&&(Nr(s.x,r.offset.x),Nr(s.y,r.offset.y)),s}const t_=({current:t})=>t?t.ownerDocument.defaultView:null,lL=new WeakMap;class cL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kh(d,"page").point)},i=(d,h)=>{const{drag:m,dragPropagation:f,onDragStart:x}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mN(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(C=>{let y=this.getAxisMotionValue(C).get()||0;if(Ds.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[C];g&&(y=$n(g)*(parseFloat(y)/100))}}this.originPoint[C]=y}),x&&nt.update(()=>x(d,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:x,onDrag:b}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:C}=h;if(f&&this.currentDirection===null){this.currentDirection=uL(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),b&&b(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Jn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new QN(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:t_(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&nt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Yc(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=XU(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&wa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=JU(r.layoutBox,n):this.constraints=!1,this.elastic=tL(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=eL(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wa(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=oL(s,r.root,this.visualElement.getTransformPagePoint());let a=ZU(r.layout.layoutBox,i);if(n){const o=n(nL(a));this.hasMutatedConstraints=!!o,o&&(a=JN(o))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Jn(d=>{if(!Yc(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,f=r?40:1e7,x={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(cv(e,s,0,n))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:s}=this.getProps();if(!Yc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];i.set(e[n]-mt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!wa(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Jn(a=>{const o=this.getAxisMotionValue(a);if(o){const c=o.get();r[a]=WU({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Jn(a=>{if(!Yc(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(mt(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;lL.set(this.visualElement,this);const e=this.visualElement.current,n=ir(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();wa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const a=nr(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=yg,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Yc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dL extends li{constructor(e){super(e),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new cL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const A0=t=>(e,n)=>{t&&nt.update(()=>t(e,n))};class hL extends li{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(e){this.session=new QN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:t_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:A0(e),onStart:A0(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&nt.update(()=>r(i,a))}}}mount(){this.removePointerDownListener=ir(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function fL(){const t=S.useContext(Ah);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=S.useId();return S.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=E0(t,e.target.x),s=E0(t,e.target.y);return`${n}% ${s}%`}},mL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=ri.parse(t);if(r.length>5)return s;const i=ri.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=c;const u=mt(o,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class gL extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;CP(pL),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||nt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n_(t){const[e,n]=fL(),s=S.useContext(Qy);return te.createElement(gL,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(JE),isPresent:e,safeToRemove:n})}const pL={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:mL},s_=["TopLeft","TopRight","BottomLeft","BottomRight"],yL=s_.length,N0=t=>typeof t=="string"?parseFloat(t):t,_0=t=>typeof t=="number"||Se.test(t);function vL(t,e,n,s,r,i){r?(t.opacity=mt(0,n.opacity!==void 0?n.opacity:1,bL(s)),t.opacityExit=mt(e.opacity!==void 0?e.opacity:1,0,xL(s))):i&&(t.opacity=mt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<yL;a++){const o=`border${s_[a]}Radius`;let c=R0(e,o),u=R0(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_0(c)===_0(u)?(t[o]=Math.max(mt(N0(c),N0(u),s),0),(Ds.test(u)||Ds.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,s))}function R0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bL=r_(0,.5,EN),xL=r_(.5,.95,xt);function r_(t,e,n){return s=>s<t?0:s>e?1:n(Gl(t,e,s))}function k0(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){k0(t.x,e.x),k0(t.y,e.y)}function O0(t,e,n,s,r){return t-=e,t=jd(t,1/n,s),r!==void 0&&(t=jd(t,1/r,s)),t}function SL(t,e=0,n=1,s=.5,r,i=t,a=t){if(Ds.test(e)&&(e=parseFloat(e),e=mt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=mt(i.min,i.max,s);t===i&&(o-=e),t.min=O0(t.min,e,n,o,r),t.max=O0(t.max,e,n,o,r)}function j0(t,e,[n,s,r],i,a){SL(t,e[n],e[s],e[r],e.scale,i,a)}const CL=["x","scaleX","originX"],wL=["y","scaleY","originY"];function I0(t,e,n,s){j0(t.x,e,CL,n?n.x:void 0,s?s.x:void 0),j0(t.y,e,wL,n?n.y:void 0,s?s.y:void 0)}function M0(t){return t.translate===0&&t.scale===1}function i_(t){return M0(t.x)&&M0(t.y)}function TL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function a_(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function P0(t){return $n(t.x)/$n(t.y)}class AL{constructor(){this.members=[]}add(e){uv(this.members,e),e.scheduleRender()}remove(e){if(dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D0(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(s+=`scale(${a}, ${o})`),s||"none"}const EL=(t,e)=>t.depth-e.depth;class NL{constructor(){this.children=[],this.isDirty=!1}add(e){uv(this.children,e),this.isDirty=!0}remove(e){dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EL),this.isDirty=!1,this.children.forEach(e)}}function _L(t,e){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(mr(s),t(i-e))};return nt.read(s,!0),()=>mr(s)}function RL(t){window.MotionDebug&&window.MotionDebug.record(t)}function kL(t){return t instanceof SVGElement&&t.tagName!=="svg"}function OL(t,e,n){const s=On(t)?t:Za(t);return s.start(cv("",s,e,n)),s.animation}const U0=["","X","Y","Z"],jL={visibility:"hidden"},L0=1e3;let IL=0;const bi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function o_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=IL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bi.totalNodes=bi.resolvedTargetDeltas=bi.recalculatedProjection=0,this.nodes.forEach(DL),this.nodes.forEach(zL),this.nodes.forEach(VL),this.nodes.forEach(UL),RL(bi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new NL)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hv),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kL(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_L(m,250),Cu.hasAnimatedSinceResize&&(Cu.hasAnimatedSinceResize=!1,this.nodes.forEach(B0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||$L,{onLayoutAnimationStart:C,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!a_(this.targetLayout,x)||f,g=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const v={...lv(b,"layout"),onPlay:C,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else m||B0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H0);return}this.isUpdating||this.nodes.forEach(HL),this.isUpdating=!1,this.nodes.forEach(BL),this.nodes.forEach(ML),this.nodes.forEach(PL),this.clearAllSnapshots();const o=performance.now();rn.delta=si(0,1e3/60,o-rn.timestamp),rn.timestamp=o,rn.isProcessing=!0,Nf.update.process(rn),Nf.preRender.process(rn),Nf.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(LL),this.sharedNodes.forEach(GL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!i_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||vi(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),YL(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Et();const o=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Nr(o.x,c.offset.x),Nr(o.y,c.offset.y)),o}removeElementScroll(a){const o=Et();Xn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Xn(o,a);const{scroll:m}=this.root;m&&(Nr(o.x,-m.offset.x),Nr(o.y,-m.offset.y))}Nr(o.x,d.offset.x),Nr(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const c=Et();Xn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ea(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vi(d.latestValues)&&Ea(c,d.latestValues)}return vi(this.latestValues)&&Ea(c,this.latestValues),c}removeTransform(a){const o=Et();Xn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vi(u.latestValues))continue;vg(u.latestValues)&&u.updateSnapshot();const d=Et(),h=u.measurePageBox();Xn(d,h),I0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vi(this.latestValues)&&I0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),gl(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),WN(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),gl(this.relativeTargetOrigin,this.target,f.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vg(this.parent.latestValues)||ZN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Xn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;rL(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:x}=o;if(!x){this.projectionTransform&&(this.projectionDelta=Aa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa());const b=this.projectionTransform;ml(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=D0(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==m||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),bi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=Et(),f=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=f!==x,C=this.getStack(),y=!C||C.members.length<=1,p=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(KL));this.animationProgress=0;let g;this.mixTargetDelta=v=>{const w=v/1e3;z0(h.x,a.x,w),z0(h.y,a.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qL(this.relativeTarget,this.relativeTargetOrigin,m,w),g&&TL(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Et()),Xn(g,this.relativeTarget)),b&&(this.animationValues=d,vL(d,u,this.latestValues,w,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nt.update(()=>{Cu.hasAnimatedSinceResize=!0,this.currentAnimation=OL(0,L0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&l_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Et();const h=$n(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=$n(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Xn(o,c),Ea(o,d),ml(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new AL),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<U0.length;d++){const h="rotate"+U0[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jL;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Su(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Su(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vi(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=D0(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:f,y:x}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Ad){if(m[b]===void 0)continue;const{correct:C,applyTo:y}=Ad[b],p=u.transform==="none"?m[b]:C(m[b],h);if(y){const g=y.length;for(let v=0;v<g;v++)u[y[v]]=p}else u[b]=p}return this.options.layoutId&&(u.pointerEvents=h===this?Su(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(H0),this.root.sharedNodes.clear()}}}function ML(t){t.updateLayout()}function PL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Jn(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],f=$n(m);m.min=s[h].min,m.max=m.min+f}):l_(i,n.layoutBox,s)&&Jn(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],f=$n(s[h]);m.max=m.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const o=Aa();ml(o,s,n.layoutBox);const c=Aa();a?ml(c,t.applyTransform(r,!0),n.measuredBox):ml(c,s,n.layoutBox);const u=!i_(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const x=Et();gl(x,n.layoutBox,m.layoutBox);const b=Et();gl(b,s,f.layoutBox),a_(x,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function DL(t){bi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LL(t){t.clearSnapshot()}function H0(t){t.clearMeasurements()}function HL(t){t.isLayoutDirty=!1}function BL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zL(t){t.resolveTargetDelta()}function VL(t){t.calcProjection()}function FL(t){t.resetRotation()}function GL(t){t.removeLeadSnapshot()}function z0(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function V0(t,e,n,s){t.min=mt(e.min,n.min,s),t.max=mt(e.max,n.max,s)}function qL(t,e,n,s){V0(t.x,e.x,n.x,s),V0(t.y,e.y,n.y,s)}function KL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $L={duration:.45,ease:[.4,0,.1,1]},F0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),G0=F0("applewebkit/")&&!F0("chrome/")?Math.round:xt;function q0(t){t.min=G0(t.min),t.max=G0(t.max)}function YL(t){q0(t.x),q0(t.y)}function l_(t,e,n){return t==="position"||t==="preserve-aspect"&&!pg(P0(e),P0(n),.2)}const QL=o_({attachResizeListener:(t,e)=>nr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lf={current:void 0},c_=o_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lf.current){const t=new QL({});t.mount(window),t.setOptions({layoutScroll:!0}),Lf.current=t}return Lf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XL={pan:{Feature:hL},drag:{Feature:dL,ProjectionNode:c_,MeasureLayout:n_}},JL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ZL(t){const e=JL.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function xg(t,e,n=1){const[s,r]=ZL(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return qN(a)?parseFloat(a):a}else return cg(r)?xg(r,e,n+1):r}function WL(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!cg(i))return;const a=xg(i,s);a&&r.set(a)});for(const r in e){const i=e[r];if(!cg(i))continue;const a=xg(i,s);a&&(e[r]=a,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const eH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),u_=t=>eH.has(t),tH=t=>Object.keys(t).some(u_),K0=t=>t===Zi||t===Se,$0=(t,e)=>parseFloat(t.split(", ")[e]),Y0=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return $0(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?$0(i[1],t):0}},nH=new Set(["x","y","z"]),sH=dc.filter(t=>!nH.has(t));function rH(t){const e=[];return sH.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Y0(4,13),y:Y0(5,14)};Wa.translateX=Wa.x;Wa.translateY=Wa.y;const iH=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:a}=i,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Wa[u](s,i)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(o[u]),t[u]=Wa[u](c,i)}),t},aH=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(u_);let i=[],a=!1;const o=[];if(r.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],h=_o(d);const m=e[c];let f;if(Nd(m)){const x=m.length,b=m[0]===null?1:0;d=m[b],h=_o(d);for(let C=b;C<x&&m[C]!==null;C++)f?sv(_o(m[C])===f):f=_o(m[C])}else f=_o(m);if(h!==f)if(K0(h)&&K0(f)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&f===Se&&(e[c]=m.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(d===0||m===0)?d===0?u.set(f.transform(d)):e[c]=h.transform(m):(a||(i=rH(t),a=!0),o.push(c),s[c]=s[c]!==void 0?s[c]:e[c],u.jump(m))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=iH(e,t,o);return i.length&&i.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Eh&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:e,transitionEnd:s}};function oH(t,e,n,s){return tH(e)?aH(t,e,n,s):{target:e,transitionEnd:s}}const lH=(t,e,n,s)=>{const r=WL(t,e,s);return e=r.target,s=r.transitionEnd,oH(t,e,n,s)},Sg={current:null},d_={current:!1};function cH(){if(d_.current=!0,!!Eh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sg.current=t.matches;t.addListener(e),e()}else Sg.current=!1}function uH(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],a=n[r];if(On(i))t.addValue(r,i),Od(s)&&s.add(r);else if(On(a))t.addValue(r,Za(i,{owner:t})),Od(s)&&s.remove(r);else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Za(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Q0=new WeakMap,h_=Object.keys(Fl),dH=h_.length,X0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hH=Yy.length;class fH{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nt.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=_h(n),this.isVariantNode=XE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const m=d[h];o[h]!==void 0&&On(m)&&(m.set(o[h],!1),Od(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Q0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),d_.current||cH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Q0.delete(this.current),this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Ji.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&nt.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let a,o;for(let c=0;c<dH;c++){const u=h_[c],{isEnabled:d,Feature:h,ProjectionNode:m,MeasureLayout:f}=Fl[u];m&&(a=m),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(o=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&wa(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:f})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<X0.length;s++){const r=X0[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=uH(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<hH;s++){const r=Yy[s],i=this.props[r];(Vl(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Za(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=nv(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!On(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class f_ extends fH{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let a=kU(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),a&&(a=r(a))),i){_U(this,s,a);const o=lH(this,s,a,n);n=o.transitionEnd,s=o.target}return{transition:e,transitionEnd:n,...s}}}function mH(t){return window.getComputedStyle(t)}class gH extends f_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Ji.has(n)){const s=ov(n);return s&&s.default||0}else{const s=mH(e),r=(eN(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return e_(e,n)}build(e,n,s,r){Jy(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return tv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;On(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){aN(e,n,s,r)}}class pH extends f_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ji.has(n)){const s=ov(n);return s&&s.default||0}return n=oN.has(n)?n:Ky(n),e.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(e,n){return cN(e,n)}build(e,n,s,r){Wy(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){lN(e,n,s,r)}mount(e){this.isSVGTag=ev(e.tagName),super.mount(e)}}const yH=(t,e)=>Xy(t)?new pH(e,{enableHardwareAcceleration:!1}):new gH(e,{enableHardwareAcceleration:!0}),vH={layout:{ProjectionNode:c_,MeasureLayout:n_}},bH={...qU,...dD,...XL,...vH},Pt=xP((t,e)=>ZP(t,e,bH,yH));function m_(){const t=S.useRef(!1);return qy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function xH(){const t=m_(),[e,n]=S.useState(0),s=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>nt.postRender(s),[s]),e]}class SH extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CH({children:t,isPresent:e}){const n=S.useId(),s=S.useRef(null),r=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:c}=r.current;if(e||!s.current||!i||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(SH,{isPresent:e,childRef:s,sizeRef:r},S.cloneElement(t,{ref:s}))}const Hf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const o=uN(wH),c=S.useId(),u=S.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;s&&s()},register:d=>(o.set(d,!1),()=>o.delete(d))}),i?void 0:[n]);return S.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),S.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),a==="popLayout"&&(t=S.createElement(CH,{isPresent:n},t)),S.createElement(Ah.Provider,{value:u},t)};function wH(){return new Map}function TH(t){return S.useEffect(()=>()=>t(),[])}const xi=t=>t.key||"";function AH(t,e){t.forEach(n=>{const s=xi(n);e.set(s,n)})}function EH(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const NH=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=S.useContext(Qy).forceRender||xH()[0],c=m_(),u=EH(t);let d=u;const h=S.useRef(new Map).current,m=S.useRef(d),f=S.useRef(new Map).current,x=S.useRef(!0);if(qy(()=>{x.current=!1,AH(u,f),m.current=d}),TH(()=>{x.current=!0,f.clear(),h.clear()}),x.current)return S.createElement(S.Fragment,null,d.map(p=>S.createElement(Hf,{key:xi(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));d=[...d];const b=m.current.map(xi),C=u.map(xi),y=b.length;for(let p=0;p<y;p++){const g=b[p];C.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((p,g)=>{if(C.indexOf(g)!==-1)return;const v=f.get(g);if(!v)return;const w=b.indexOf(g);let N=p;if(!N){const T=()=>{h.delete(g);const _=Array.from(f.keys()).filter(A=>!C.includes(A));if(_.forEach(A=>f.delete(A)),m.current=u.filter(A=>{const k=xi(A);return k===g||_.includes(k)}),!h.size){if(c.current===!1)return;o(),s&&s()}};N=S.createElement(Hf,{key:xi(v),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:a},v),h.set(g,N)}d.splice(w,0,N)}),d=d.map(p=>{const g=p.key;return h.has(g)?p:S.createElement(Hf,{key:xi(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),S.createElement(S.Fragment,null,h.size?d:d.map(p=>S.cloneElement(p)))};function Jt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _H=typeof Symbol=="function"&&Symbol.observable||"@@observable",J0=_H,Bf=()=>Math.random().toString(36).substring(7).split("").join("."),RH={INIT:`@@redux/INIT${Bf()}`,REPLACE:`@@redux/REPLACE${Bf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bf()}`},Id=RH;function fv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mv(t,e,n){if(typeof t!="function")throw new Error(Jt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Jt(1));return n(mv)(t,e)}let s=t,r=e,i=new Map,a=i,o=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((C,y)=>{a.set(y,C)}))}function d(){if(c)throw new Error(Jt(3));return r}function h(C){if(typeof C!="function")throw new Error(Jt(4));if(c)throw new Error(Jt(5));let y=!0;u();const p=o++;return a.set(p,C),function(){if(y){if(c)throw new Error(Jt(6));y=!1,u(),a.delete(p),i=null}}}function m(C){if(!fv(C))throw new Error(Jt(7));if(typeof C.type>"u")throw new Error(Jt(8));if(typeof C.type!="string")throw new Error(Jt(17));if(c)throw new Error(Jt(9));try{c=!0,r=s(r,C)}finally{c=!1}return(i=a).forEach(p=>{p()}),C}function f(C){if(typeof C!="function")throw new Error(Jt(10));s=C,m({type:Id.REPLACE})}function x(){const C=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Jt(11));function p(){const v=y;v.next&&v.next(d())}return p(),{unsubscribe:C(p)}},[J0](){return this}}}return m({type:Id.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:f,[J0]:x}}function kH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Id.INIT})>"u")throw new Error(Jt(12));if(typeof n(void 0,{type:Id.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function g_(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const s=Object.keys(n);let r;try{kH(n)}catch(i){r=i}return function(a={},o){if(r)throw r;let c=!1;const u={};for(let d=0;d<s.length;d++){const h=s[d],m=n[h],f=a[h],x=m(f,o);if(typeof x>"u")throw o&&o.type,new Error(Jt(14));u[h]=x,c=c||x!==f}return c=c||s.length!==Object.keys(a).length,c?u:a}}function Md(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function OH(...t){return e=>(n,s)=>{const r=e(n,s);let i=()=>{throw new Error(Jt(15))};const a={getState:r.getState,dispatch:(c,...u)=>i(c,...u)},o=t.map(c=>c(a));return i=Md(...o)(r.dispatch),{...r,dispatch:i}}}function jH(t){return fv(t)&&"type"in t&&typeof t.type=="string"}var p_=Symbol.for("immer-nothing"),Z0=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state");function hs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var eo=Object.getPrototypeOf;function Fi(t){return!!t&&!!t[Yn]}function gr(t){var e;return t?y_(t)||Array.isArray(t)||!!t[Z0]||!!((e=t.constructor)!=null&&e[Z0])||gc(t)||Ih(t):!1}var IH=Object.prototype.constructor.toString();function y_(t){if(!t||typeof t!="object")return!1;const e=eo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IH}function Pd(t,e){jh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function jh(t){const e=t[Yn];return e?e.type_:Array.isArray(t)?1:gc(t)?2:Ih(t)?3:0}function Cg(t,e){return jh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function v_(t,e,n){const s=jh(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function MH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gc(t){return t instanceof Map}function Ih(t){return t instanceof Set}function Si(t){return t.copy_||t.base_}function wg(t,e){if(gc(t))return new Map(t);if(Ih(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=y_(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[Yn];let r=Reflect.ownKeys(s);for(let i=0;i<r.length;i++){const a=r[i],o=s[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(eo(t),s)}else{const s=eo(t);if(s!==null&&n)return{...t};const r=Object.create(s);return Object.assign(r,t)}}function gv(t,e=!1){return Mh(t)||Fi(t)||!gr(t)||(jh(t)>1&&Object.defineProperties(t,{set:{value:Qc},add:{value:Qc},clear:{value:Qc},delete:{value:Qc}}),Object.freeze(t),e&&Object.values(t).forEach(n=>gv(n,!0))),t}function Qc(){hs(2)}function Mh(t){return Object.isFrozen(t)}var PH={};function Gi(t){const e=PH[t];return e||hs(0,t),e}var ql;function b_(){return ql}function DH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function W0(t,e){e&&(Gi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Tg(t){Ag(t),t.drafts_.forEach(UH),t.drafts_=null}function Ag(t){t===ql&&(ql=t.parent_)}function eS(t){return ql=DH(ql,t)}function UH(t){const e=t[Yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Yn].modified_&&(Tg(e),hs(4)),gr(t)&&(t=Dd(e,t),e.parent_||Ud(e,t)),e.patches_&&Gi("Patches").generateReplacementPatches_(n[Yn].base_,t,e.patches_,e.inversePatches_)):t=Dd(e,n,[]),Tg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==p_?t:void 0}function Dd(t,e,n){if(Mh(e))return e;const s=e[Yn];if(!s)return Pd(e,(r,i)=>nS(t,s,e,r,i,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return Ud(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const r=s.copy_;let i=r,a=!1;s.type_===3&&(i=new Set(r),r.clear(),a=!0),Pd(i,(o,c)=>nS(t,s,r,o,c,n,a)),Ud(t,r,!1),n&&t.patches_&&Gi("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function nS(t,e,n,s,r,i,a){if(Fi(r)){const o=i&&e&&e.type_!==3&&!Cg(e.assigned_,s)?i.concat(s):void 0,c=Dd(t,r,o);if(v_(n,s,c),Fi(c))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(gr(r)&&!Mh(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Dd(t,r),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(gc(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&Ud(t,r)}}function Ud(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&gv(e,n)}function LH(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:b_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=s,i=pv;n&&(r=[s],i=Kl);const{revoke:a,proxy:o}=Proxy.revocable(r,i);return s.draft_=o,s.revoke_=a,o}var pv={get(t,e){if(e===Yn)return t;const n=Si(t);if(!Cg(n,e))return HH(t,n,e);const s=n[e];return t.finalized_||!gr(s)?s:s===zf(t.base_,e)?(Vf(t),t.copy_[e]=Ng(s,t)):s},has(t,e){return e in Si(t)},ownKeys(t){return Reflect.ownKeys(Si(t))},set(t,e,n){const s=x_(Si(t),e);if(s!=null&&s.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const r=zf(Si(t),e),i=r==null?void 0:r[Yn];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(MH(n,r)&&(n!==void 0||Cg(t.base_,e)))return!0;Vf(t),Eg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return zf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Vf(t),Eg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Si(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){hs(11)},getPrototypeOf(t){return eo(t.base_)},setPrototypeOf(){hs(12)}},Kl={};Pd(pv,(t,e)=>{Kl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kl.deleteProperty=function(t,e){return Kl.set.call(this,t,e,void 0)};Kl.set=function(t,e,n){return pv.set.call(this,t[0],e,n,t[0])};function zf(t,e){const n=t[Yn];return(n?Si(n):t)[e]}function HH(t,e,n){var r;const s=x_(e,n);return s?"value"in s?s.value:(r=s.get)==null?void 0:r.call(t.draft_):void 0}function x_(t,e){if(!(e in t))return;let n=eo(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=eo(n)}}function Eg(t){t.modified_||(t.modified_=!0,t.parent_&&Eg(t.parent_))}function Vf(t){t.copy_||(t.copy_=wg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var BH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(c=i,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&hs(6),s!==void 0&&typeof s!="function"&&hs(7);let r;if(gr(e)){const i=eS(this),a=Ng(e,void 0);let o=!0;try{r=n(a),o=!1}finally{o?Tg(i):Ag(i)}return W0(i,s),tS(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===p_&&(r=void 0),this.autoFreeze_&&gv(r,!0),s){const i=[],a=[];Gi("Patches").generateReplacementPatches_(e,r,i,a),s(i,a)}return r}else hs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,c=>e(c,...o));let s,r;return[this.produce(e,n,(a,o)=>{s=a,r=o}),s,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){gr(t)||hs(8),Fi(t)&&(t=zH(t));const e=eS(this),n=Ng(t,void 0);return n[Yn].isManual_=!0,Ag(e),n}finishDraft(t,e){const n=t&&t[Yn];(!n||!n.isManual_)&&hs(9);const{scope_:s}=n;return W0(s,e),tS(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const s=Gi("Patches").applyPatches_;return Fi(t)?s(t,e):this.produce(t,r=>s(r,e))}};function Ng(t,e){const n=gc(t)?Gi("MapSet").proxyMap_(t,e):Ih(t)?Gi("MapSet").proxySet_(t,e):LH(t,e);return(e?e.scope_:b_()).drafts_.push(n),n}function zH(t){return Fi(t)||hs(10,t),S_(t)}function S_(t){if(!gr(t)||Mh(t))return t;const e=t[Yn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=wg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=wg(t,!0);return Pd(n,(s,r)=>{v_(n,s,S_(r))}),e&&(e.finalized_=!1),n}var VH=new BH,C_=VH.produce;function w_(t){return({dispatch:n,getState:s})=>r=>i=>typeof i=="function"?i(n,s,t):r(i)}var FH=w_(),GH=w_,qH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Md:Md.apply(null,arguments)},KH=t=>t&&typeof t.match=="function";function pl(t,e){function n(...s){if(e){let r=e(...s);if(!r)throw new Error(or(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>jH(s)&&s.type===t,n}var T_=class Go extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Go.prototype)}static get[Symbol.species](){return Go}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Go(...e[0].concat(this)):new Go(...e.concat(this))}};function sS(t){return gr(t)?C_(t,()=>{}):t}function Xc(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $H(t){return typeof t=="boolean"}var YH=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let a=new T_;return n&&($H(n)?a.push(FH):a.push(GH(n.extraArgument))),a},QH="RTK_autoBatch",rS=t=>e=>{setTimeout(e,t)},XH=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let r=!0,i=!1,a=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rS(10):t.type==="callback"?t.queueNotification:rS(t.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},s,{subscribe(d){const h=()=>r&&d(),m=s.subscribe(h);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[QH]),i=!r,i&&(a||(a=!0,c(u))),s.dispatch(d)}finally{r=!0}}})},JH=t=>function(n){const{autoBatch:s=!0}=n??{};let r=new T_(t);return s&&r.push(XH(typeof s=="object"?s:void 0)),r};function ZH(t){const e=YH(),{reducer:n=void 0,middleware:s,devTools:r=!0,preloadedState:i=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(fv(n))o=g_(n);else throw new Error(or(1));let c;typeof s=="function"?c=s(e):c=e();let u=Md;r&&(u=qH({trace:!1,...typeof r=="object"&&r}));const d=OH(...c),h=JH(d);let m=typeof a=="function"?a(h):h();const f=u(...m);return mv(o,i,f)}function A_(t){const e={},n=[];let s;const r={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(or(28));if(o in e)throw new Error(or(29));return e[o]=a,r},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),r},addMatcher(i,a){return n.push({matcher:i,reducer:a}),r},addDefaultCase(i){return s=i,r}};return t(r),[e,n,s]}function WH(t){return typeof t=="function"}function eB(t,e){let[n,s,r]=A_(e),i;if(WH(t))i=()=>sS(t());else{const o=sS(t);i=()=>o}function a(o=i(),c){let u=[n[c.type],...s.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(Fi(d)){const f=h(d,c);return f===void 0?d:f}else{if(gr(d))return C_(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return a.getInitialState=i,a}var tB=(t,e)=>KH(t)?t.match(e):t(e);function nB(...t){return e=>t.some(n=>tB(n,e))}var sB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rB=(t=21)=>{let e="",n=t;for(;n--;)e+=sB[Math.random()*64|0];return e},iB=["name","message","stack","code"],Ff=class{constructor(t,e){Dh(this,"_type");this.payload=t,this.meta=e}},iS=class{constructor(t,e){Dh(this,"_type");this.payload=t,this.meta=e}},aB=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of iB)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},aS="External signal was aborted",Bs=(()=>{function t(e,n,s){const r=pl(e+"/fulfilled",(c,u,d,h)=>({payload:c,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=pl(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),a=pl(e+"/rejected",(c,u,d,h,m)=>({payload:h,error:(s&&s.serializeError||aB)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function o(c,{signal:u}={}){return(d,h,m)=>{const f=s!=null&&s.idGenerator?s.idGenerator(c):rB(),x=new AbortController;let b,C;function y(g){C=g,x.abort()}u&&(u.aborted?y(aS):u.addEventListener("abort",()=>y(aS),{once:!0}));const p=async function(){var w,N;let g;try{let T=(w=s==null?void 0:s.condition)==null?void 0:w.call(s,c,{getState:h,extra:m});if(lB(T)&&(T=await T),T===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const _=new Promise((A,k)=>{b=()=>{k({name:"AbortError",message:C||"Aborted"})},x.signal.addEventListener("abort",b)});d(i(f,c,(N=s==null?void 0:s.getPendingMeta)==null?void 0:N.call(s,{requestId:f,arg:c},{getState:h,extra:m}))),g=await Promise.race([_,Promise.resolve(n(c,{dispatch:d,getState:h,extra:m,requestId:f,signal:x.signal,abort:y,rejectWithValue:(A,k)=>new Ff(A,k),fulfillWithValue:(A,k)=>new iS(A,k)})).then(A=>{if(A instanceof Ff)throw A;return A instanceof iS?r(A.payload,f,c,A.meta):r(A,f,c)})])}catch(T){g=T instanceof Ff?a(null,f,c,T.payload,T.meta):a(T,f,c)}finally{b&&x.signal.removeEventListener("abort",b)}return s&&!s.dispatchConditionRejection&&a.match(g)&&g.meta.condition||d(g),g}();return Object.assign(p,{abort:y,requestId:f,arg:c,unwrap(){return p.then(oB)}})}}return Object.assign(o,{pending:i,rejected:a,fulfilled:r,settled:nB(a,r),typePrefix:e})}return t.withTypes=()=>t,t})();function oB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function lB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var cB=Symbol.for("rtk-slice-createasyncthunk");function uB(t,e){return`${t}/${e}`}function dB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[cB];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(or(11));const o=(typeof r.reducers=="function"?r.reducers(fB()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(v,w){const N=typeof v=="string"?v:v.type;if(!N)throw new Error(or(12));if(N in u.sliceCaseReducersByType)throw new Error(or(13));return u.sliceCaseReducersByType[N]=w,d},addMatcher(v,w){return u.sliceMatchers.push({matcher:v,reducer:w}),d},exposeAction(v,w){return u.actionCreators[v]=w,d},exposeCaseReducer(v,w){return u.sliceCaseReducersByName[v]=w,d}};c.forEach(v=>{const w=o[v],N={reducerName:v,type:uB(i,v),createNotation:typeof r.reducers=="function"};gB(w)?yB(N,w,d,e):mB(N,w,d)});function h(){const[v={},w=[],N=void 0]=typeof r.extraReducers=="function"?A_(r.extraReducers):[r.extraReducers],T={...v,...u.sliceCaseReducersByType};return eB(r.initialState,_=>{for(let A in T)_.addCase(A,T[A]);for(let A of u.sliceMatchers)_.addMatcher(A.matcher,A.reducer);for(let A of w)_.addMatcher(A.matcher,A.reducer);N&&_.addDefaultCase(N)})}const m=v=>v,f=new Map,x=new WeakMap;let b;function C(v,w){return b||(b=h()),b(v,w)}function y(){return b||(b=h()),b.getInitialState()}function p(v,w=!1){function N(_){let A=_[v];return typeof A>"u"&&w&&(A=Xc(x,N,y)),A}function T(_=m){const A=Xc(f,w,()=>new WeakMap);return Xc(A,_,()=>{const k={};for(const[P,R]of Object.entries(r.selectors??{}))k[P]=hB(R,_,()=>Xc(x,_,y),w);return k})}return{reducerPath:v,getSelectors:T,get selectors(){return T(N)},selectSlice:N}}const g={name:i,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...p(a),injectInto(v,{reducerPath:w,...N}={}){const T=w??a;return v.inject({reducerPath:T,reducer:C},N),{...g,...p(T,!0)}}};return g}}function hB(t,e,n,s){function r(i,...a){let o=e(i);return typeof o>"u"&&s&&(o=n()),t(o,...a)}return r.unwrapped=t,r}var pc=dB();function fB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function mB({type:t,reducerName:e,createNotation:n},s,r){let i,a;if("reducer"in s){if(n&&!pB(s))throw new Error(or(17));i=s.reducer,a=s.prepare}else i=s;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?pl(t,a):pl(t))}function gB(t){return t._reducerDefinitionType==="asyncThunk"}function pB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yB({type:t,reducerName:e},n,s,r){if(!r)throw new Error(or(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:c,settled:u,options:d}=n,h=r(t,i,d);s.exposeAction(e,h),a&&s.addCase(h.fulfilled,a),o&&s.addCase(h.pending,o),c&&s.addCase(h.rejected,c),u&&s.addMatcher(h.settled,u),s.exposeCaseReducer(e,{fulfilled:a||Jc,pending:o||Jc,rejected:c||Jc,settled:u||Jc})}function Jc(){}function or(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yv="persist:",E_="persist/FLUSH",vv="persist/REHYDRATE",N_="persist/PAUSE",__="persist/PERSIST",R_="persist/PURGE",k_="persist/REGISTER",vB=-1;function wu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(n){return typeof n}:wu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wu(t)}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function bB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(n,!0).forEach(function(s){xB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SB(t,e,n,s){s.debug;var r=bB({},n);return t&&wu(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(r[i]=t[i])}),r}function CB(t){var e=t.blacklist||null,n=t.whitelist||null,s=t.transforms||[],r=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:yv).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(w){return w}:typeof t.serialize=="function"?o=t.serialize:o=wB;var c=t.writeFailHandler||null,u={},d={},h=[],m=null,f=null,x=function(w){Object.keys(w).forEach(function(N){y(N)&&u[N]!==w[N]&&h.indexOf(N)===-1&&h.push(N)}),Object.keys(u).forEach(function(N){w[N]===void 0&&y(N)&&h.indexOf(N)===-1&&u[N]!==void 0&&h.push(N)}),m===null&&(m=setInterval(b,r)),u=w};function b(){if(h.length===0){m&&clearInterval(m),m=null;return}var v=h.shift(),w=s.reduce(function(N,T){return T.in(N,v,u)},u[v]);if(w!==void 0)try{d[v]=o(w)}catch(N){console.error("redux-persist/createPersistoid: error serializing state",N)}else delete d[v];h.length===0&&C()}function C(){Object.keys(d).forEach(function(v){u[v]===void 0&&delete d[v]}),f=a.setItem(i,o(d)).catch(p)}function y(v){return!(n&&n.indexOf(v)===-1&&v!=="_persist"||e&&e.indexOf(v)!==-1)}function p(v){c&&c(v)}var g=function(){for(;h.length!==0;)b();return f||Promise.resolve()};return{update:x,flush:g}}function wB(t){return JSON.stringify(t)}function TB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:yv).concat(t.key),s=t.storage;t.debug;var r;return t.deserialize===!1?r=function(a){return a}:typeof t.deserialize=="function"?r=t.deserialize:r=AB,s.getItem(n).then(function(i){if(i)try{var a={},o=r(i);return Object.keys(o).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,o)},r(o[c]))}),a}catch(c){throw c}else return})}function AB(t){return JSON.parse(t)}function EB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:yv).concat(t.key);return e.removeItem(n,NB)}function NB(t){}function lS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lS(n,!0).forEach(function(s){_B(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RB(t,e){if(t==null)return{};var n=kB(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function kB(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var OB=5e3;function jB(t,e){var n=t.version!==void 0?t.version:vB;t.debug;var s=t.stateReconciler===void 0?SB:t.stateReconciler,r=t.getStoredState||TB,i=t.timeout!==void 0?t.timeout:OB,a=null,o=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var m=d||{},f=m._persist,x=RB(m,["_persist"]),b=x;if(h.type===__){var C=!1,y=function(_,A){C||(h.rehydrate(t.key,_,A),C=!0)};if(i&&setTimeout(function(){!C&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,a||(a=CB(t)),f)return qs({},e(b,h),{_persist:f});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),r(t).then(function(T){var _=t.migrate||function(A,k){return Promise.resolve(A)};_(T,n).then(function(A){y(A)},function(A){y(void 0,A)})},function(T){y(void 0,T)}),qs({},e(b,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===R_)return o=!0,h.result(EB(t)),qs({},e(b,h),{_persist:f});if(h.type===E_)return h.result(a&&a.flush()),qs({},e(b,h),{_persist:f});if(h.type===N_)c=!0;else if(h.type===vv){if(o)return qs({},b,{_persist:qs({},f,{rehydrated:!0})});if(h.key===t.key){var p=e(b,h),g=h.payload,v=s!==!1&&g!==void 0?s(g,d,p,t):p,w=qs({},v,{_persist:qs({},f,{rehydrated:!0})});return u(w)}}}if(!f)return e(d,h);var N=e(b,h);return N===b?d:u(qs({},N,{_persist:f}))}}function cS(t){return PB(t)||MB(t)||IB()}function IB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function MB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function PB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function uS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uS(n,!0).forEach(function(s){DB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function DB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O_={registry:[],bootstrapped:!1},UB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k_:return _g({},e,{registry:[].concat(cS(e.registry),[n.key])});case vv:var s=e.registry.indexOf(n.key),r=cS(e.registry);return r.splice(s,1),_g({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function LB(t,e,n){var s=mv(UB,O_,void 0),r=function(c){s.dispatch({type:k_,key:c})},i=function(c,u,d){var h={type:vv,payload:u,err:d,key:c};t.dispatch(h),s.dispatch(h)},a=_g({},s,{purge:function(){var c=[];return t.dispatch({type:R_,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:E_,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){t.dispatch({type:N_})},persist:function(){t.dispatch({type:__,register:r,rehydrate:i})}});return a.persist(),a}var bv={},xv={};xv.__esModule=!0;xv.default=zB;function Tu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(n){return typeof n}:Tu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Tu(t)}function Gf(){}var HB={getItem:Gf,setItem:Gf,removeItem:Gf};function BB(t){if((typeof self>"u"?"undefined":Tu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function zB(t){var e="".concat(t,"Storage");return BB(e)?self[e]:HB}bv.__esModule=!0;bv.default=GB;var VB=FB(xv);function FB(t){return t&&t.__esModule?t:{default:t}}function GB(t){var e=(0,VB.default)(t);return{getItem:function(s){return new Promise(function(r,i){r(e.getItem(s))})},setItem:function(s,r){return new Promise(function(i,a){i(e.setItem(s,r))})},removeItem:function(s){return new Promise(function(r,i){r(e.removeItem(s))})}}}var j_=void 0,qB=KB(bv);function KB(t){return t&&t.__esModule?t:{default:t}}var $B=(0,qB.default)("local");j_=$B;const YB={phoneNumbers:[],isLoading:!1,error:null,selectedPhoneNumbers:[],filters:{status:[],search:""}},Au=Bs("phoneNumbers/addBulk",async t=>at(`${go.PHONE_NUMBERS}/bulk`,{method:"POST",body:JSON.stringify(t)})),yl=Bs("phoneNumbers/fetchAll",async()=>at(`${go.PHONE_NUMBERS}/`)),QB=Bs("phoneNumbers/updateStatus",async({id:t,status:e})=>at(`${go.PHONE_NUMBERS}/${t}`,{method:"PUT",body:JSON.stringify({status:e})})),I_=pc({name:"phoneNumbers",initialState:YB,reducers:{setSelectedPhoneNumbers:(t,e)=>{t.selectedPhoneNumbers=e.payload},togglePhoneNumberSelection:(t,e)=>{const n=e.payload,s=t.selectedPhoneNumbers.indexOf(n);s>-1?t.selectedPhoneNumbers.splice(s,1):t.selectedPhoneNumbers.push(n)},clearSelection:t=>{t.selectedPhoneNumbers=[]},setStatusFilter:(t,e)=>{t.filters.status=e.payload},setSearchFilter:(t,e)=>{t.filters.search=e.payload},clearFilters:t=>{t.filters={status:[],search:""}},resetLoadingState:t=>{t.isLoading=!1,t.error=null}},extraReducers:t=>{t.addCase(Au.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Au.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers.push(...n.payload.phone_numbers)}).addCase(Au.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to add phone numbers"}).addCase(yl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yl.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers=n.payload}).addCase(yl.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch phone numbers"}).addCase(QB.fulfilled,(e,n)=>{const s=e.phoneNumbers.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.phoneNumbers[s]=n.payload)})}}),{setSelectedPhoneNumbers:_3,togglePhoneNumberSelection:R3,clearSelection:k3,setStatusFilter:O3,setSearchFilter:j3,clearFilters:I3,resetLoadingState:ko}=I_.actions,XB=I_.reducer,JB={crmStatuses:[],isLoading:!1,error:null,demoTotal:0,stats:{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}}},vl=Bs("crmStatus/fetchAll",async()=>at(`${go.CRM_INTEGRATIONS}/statuses`)),ZB=Bs("crmStatus/fetchByPhone",async t=>at(`${go.CRM_INTEGRATIONS}/status/${t}`)),WB=Bs("crmStatus/retryRemoval",async({phoneNumberId:t,crmSystem:e})=>at(`${go.CRM_INTEGRATIONS}/retry-removal`,{method:"POST",body:JSON.stringify({phone_number_id:t,crm_system:e})})),M_=pc({name:"crmStatus",initialState:JB,reducers:{updateCRMStatus:(t,e)=>{const n=t.crmStatuses.findIndex(s=>s.id===e.payload.id);n!==-1?t.crmStatuses[n]=e.payload:t.crmStatuses.push(e.payload),t.stats=Oo(t.crmStatuses)},addCRMStatus:(t,e)=>{t.crmStatuses.push(e.payload),t.stats=Oo(t.crmStatuses)},clearCRMStatuses:t=>{t.crmStatuses=[],t.stats={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},t.demoTotal=0},initDemoStats:(t,e)=>{const n=e.payload,s={total:0,pending:n,processing:0,completed:0,failed:0};t.stats={logics:{...s},genesys:{...s},ringcentral:{...s},convoso:{...s},ytel:{...s}},t.demoTotal=n},setCRMStats:(t,e)=>{const{crm:n,stats:s}=e.payload;t.stats[n]=s},clearDemoTotal:t=>{t.demoTotal=0}},extraReducers:t=>{t.addCase(vl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vl.fulfilled,(e,n)=>{e.isLoading=!1,e.crmStatuses=n.payload,e.stats=Oo(n.payload)}).addCase(vl.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch CRM statuses"}).addCase(ZB.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.crmStatuses.findIndex(i=>i.id===s.id);r!==-1?e.crmStatuses[r]=s:e.crmStatuses.push(s)}),e.stats=Oo(e.crmStatuses)}).addCase(WB.fulfilled,(e,n)=>{const s=e.crmStatuses.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.crmStatuses[s]=n.payload),e.stats=Oo(e.crmStatuses)})}});function Oo(t){const e={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}};return t.forEach(n=>{const s=n.crm_system;e[s]&&(e[s].total++,e[s][n.status]++)}),e}const{updateCRMStatus:M3,addCRMStatus:P3,clearCRMStatuses:D3,initDemoStats:e4,setCRMStats:t4}=M_.actions,n4=M_.reducer,s4={consents:[],isLoading:!1,error:null,filters:{consent_type:[],status:[],search:""}},qf=Bs("consent/fetchAll",async()=>{const t=await fetch("/api/v1/consent");if(!t.ok)throw new Error("Failed to fetch consents");return t.json()}),r4=Bs("consent/fetchByPhone",async t=>{const e=await fetch(`/api/v1/consent/${t}`);if(!e.ok)throw new Error("Failed to fetch consent for phone number");return e.json()}),i4=Bs("consent/update",async t=>{const e=await fetch(`/api/v1/consent/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to update consent");return e.json()}),a4=Bs("consent/add",async t=>{const e=await fetch("/api/v1/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to add consent");return e.json()}),P_=pc({name:"consent",initialState:s4,reducers:{setConsentTypeFilter:(t,e)=>{t.filters.consent_type=e.payload},setConsentStatusFilter:(t,e)=>{t.filters.status=e.payload},setConsentSearchFilter:(t,e)=>{t.filters.search=e.payload},clearConsentFilters:t=>{t.filters={consent_type:[],status:[],search:""}}},extraReducers:t=>{t.addCase(qf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qf.fulfilled,(e,n)=>{e.isLoading=!1,e.consents=n.payload}).addCase(qf.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch consents"}).addCase(r4.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.consents.findIndex(i=>i.id===s.id);r!==-1?e.consents[r]=s:e.consents.push(s)})}).addCase(i4.fulfilled,(e,n)=>{const s=e.consents.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.consents[s]=n.payload)}).addCase(a4.fulfilled,(e,n)=>{e.consents.push(n.payload)})}}),{setConsentTypeFilter:U3,setConsentStatusFilter:L3,setConsentSearchFilter:H3,clearConsentFilters:B3}=P_.actions,o4=P_.reducer,l4={notifications:[],isLoading:!1,error:null,success:null},D_=pc({name:"ui",initialState:l4,reducers:{addNotification:(t,e)=>{const n={...e.payload,id:Date.now().toString(),timestamp:Date.now()};t.notifications.push(n)},removeNotification:(t,e)=>{t.notifications=t.notifications.filter(n=>n.id!==e.payload)},clearNotifications:t=>{t.notifications=[]},setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload},setSuccess:(t,e)=>{t.success=e.payload},clearMessages:t=>{t.error=null,t.success=null}}}),{addNotification:jo,removeNotification:z3,clearNotifications:V3,setLoading:F3,setError:G3,setSuccess:q3,clearMessages:K3}=D_.actions,c4=D_.reducer,u4={organizationId:1,userId:1,role:"member"},U_=pc({name:"demoAuth",initialState:u4,reducers:{setRole(t,e){t.role=e.payload},setOrganization(t,e){t.organizationId=e.payload},setUser(t,e){t.userId=e.payload},setSuperAdmin(t){t.role="superadmin",t.userId=1,t.organizationId=1}}}),{setRole:Zc,setOrganization:$3,setUser:Y3,setSuperAdmin:Q3}=U_.actions,d4=U_.reducer,h4={key:"do-not-call-root",storage:j_,whitelist:["ui","demoAuth"]},f4=g_({phoneNumbers:XB,crmStatus:n4,consent:o4,ui:c4,demoAuth:d4}),m4=jB(h4,f4),L_=ZH({reducer:m4,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),g4=LB(L_);var yc=t=>t.type==="checkbox",Ai=t=>t instanceof Date,gn=t=>t==null;const H_=t=>typeof t=="object";var Ct=t=>!gn(t)&&!Array.isArray(t)&&H_(t)&&!Ai(t),p4=t=>Ct(t)&&t.target?yc(t.target)?t.target.checked:t.target.value:t,y4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,v4=(t,e)=>t.has(y4(e)),b4=t=>{const e=t.constructor&&t.constructor.prototype;return Ct(e)&&e.hasOwnProperty("isPrototypeOf")},Sv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Sv&&(t instanceof Blob||s))&&(n||Ct(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!b4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=zt(t[r]));else return t;return e}var Ph=t=>/^\w*$/.test(t),Rt=t=>t===void 0,Cv=t=>Array.isArray(t)?t.filter(Boolean):[],wv=t=>Cv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(t,e,n)=>{if(!e||!Ct(t))return n;const s=(Ph(e)?[e]:wv(e)).reduce((r,i)=>gn(r)?r:r[i],t);return Rt(s)||s===t?Rt(t[e])?n:t[e]:s},Ns=t=>typeof t=="boolean",lt=(t,e,n)=>{let s=-1;const r=Ph(e)?[e]:wv(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let c=n;if(s!==a){const u=t[o];c=Ct(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const dS={BLUR:"blur",FOCUS_OUT:"focusout"},fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ks={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x4=te.createContext(null);x4.displayName="HookFormContext";var S4=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==fs.all&&(e._proxyFormState[a]=!s||fs.all),t[a]}});return r};const C4=typeof window<"u"?te.useLayoutEffect:te.useEffect;var js=t=>typeof t=="string",w4=(t,e,n,s,r)=>js(t)?(s&&e.watch.add(t),me(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),me(n,i))):(s&&(e.watchAll=!0),n),Rg=t=>gn(t)||!H_(t);function Ir(t,e,n=new WeakSet){if(Rg(t)||Rg(e))return t===e;if(Ai(t)&&Ai(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ai(a)&&Ai(o)||Ct(a)&&Ct(o)||Array.isArray(a)&&Array.isArray(o)?!Ir(a,o,n):a!==o)return!1}}return!0}var T4=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},bl=t=>Array.isArray(t)?t:[t],hS=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},Tn=t=>Ct(t)&&!Object.keys(t).length,Tv=t=>t.type==="file",ms=t=>typeof t=="function",Ld=t=>{if(!Sv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},B_=t=>t.type==="select-multiple",Av=t=>t.type==="radio",A4=t=>Av(t)||yc(t),Kf=t=>Ld(t)&&t.isConnected;function E4(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Rt(t)?s++:t[e[s++]];return t}function N4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Rt(t[e]))return!1;return!0}function Tt(t,e){const n=Array.isArray(e)?e:Ph(e)?[e]:wv(e),s=n.length===1?t:E4(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(Ct(s)&&Tn(s)||Array.isArray(s)&&N4(s))&&Tt(t,n.slice(0,-1)),t}var z_=t=>{for(const e in t)if(ms(t[e]))return!0;return!1};function Hd(t,e={}){const n=Array.isArray(t);if(Ct(t)||n)for(const s in t)Array.isArray(t[s])||Ct(t[s])&&!z_(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Hd(t[s],e[s])):gn(t[s])||(e[s]=!0);return e}function V_(t,e,n){const s=Array.isArray(t);if(Ct(t)||s)for(const r in t)Array.isArray(t[r])||Ct(t[r])&&!z_(t[r])?Rt(e)||Rg(n[r])?n[r]=Array.isArray(t[r])?Hd(t[r],[]):{...Hd(t[r])}:V_(t[r],gn(e)?{}:e[r],n[r]):n[r]=!Ir(t[r],e[r]);return n}var Io=(t,e)=>V_(t,e,Hd(e));const fS={value:!1,isValid:!1},mS={value:!0,isValid:!0};var F_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Rt(t[0].attributes.value)?Rt(t[0].value)||t[0].value===""?mS:{value:t[0].value,isValid:!0}:mS:fS}return fS},G_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Rt(t)?t:e?t===""?NaN:t&&+t:n&&js(t)?new Date(t):s?s(t):t;const gS={isValid:!1,value:null};var q_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,gS):gS;function pS(t){const e=t.ref;return Tv(e)?e.files:Av(e)?q_(t.refs).value:B_(e)?[...e.selectedOptions].map(({value:n})=>n):yc(e)?F_(t.refs).value:G_(Rt(e.value)?t.ref.value:e.value,t)}var _4=(t,e,n,s)=>{const r={};for(const i of t){const a=me(e,i);a&&lt(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Bd=t=>t instanceof RegExp,Mo=t=>Rt(t)?t:Bd(t)?t.source:Ct(t)?Bd(t.value)?t.value.source:t.value:t,yS=t=>({isOnSubmit:!t||t===fs.onSubmit,isOnBlur:t===fs.onBlur,isOnChange:t===fs.onChange,isOnAll:t===fs.all,isOnTouch:t===fs.onTouched});const vS="AsyncFunction";var R4=t=>!!t&&!!t.validate&&!!(ms(t.validate)&&t.validate.constructor.name===vS||Ct(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vS)),k4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),bS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const xl=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=me(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(xl(o,e))break}else if(Ct(o)&&xl(o,e))break}}};function xS(t,e,n){const s=me(t,n);if(s||Ph(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=me(e,i),o=me(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var O4=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return Tn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||fs.all))},j4=(t,e,n)=>!t||!e||t===e||bl(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),I4=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,M4=(t,e)=>!Cv(me(t,e)).length&&Tt(t,e),P4=(t,e,n)=>{const s=bl(me(t,n));return lt(s,"root",e[n]),lt(t,n,s),t},Eu=t=>js(t);function SS(t,e,n="validate"){if(Eu(t)||Array.isArray(t)&&t.every(Eu)||Ns(t)&&!t)return{type:n,message:Eu(t)?t:"",ref:e}}var ra=t=>Ct(t)&&!Bd(t)?t:{value:t,message:""},CS=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:h,max:m,pattern:f,validate:x,name:b,valueAsNumber:C,mount:y}=t._f,p=me(n,b);if(!y||e.has(b))return{};const g=o?o[0]:a,v=R=>{r&&g.reportValidity&&(g.setCustomValidity(Ns(R)?"":R||""),g.reportValidity())},w={},N=Av(a),T=yc(a),_=N||T,A=(C||Tv(a))&&Rt(a.value)&&Rt(p)||Ld(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,k=T4.bind(null,b,s,w),P=(R,I,H,G=Ks.maxLength,M=Ks.minLength)=>{const Y=R?I:H;w[b]={type:R?G:M,message:Y,ref:a,...k(R?G:M,Y)}};if(i?!Array.isArray(p)||!p.length:c&&(!_&&(A||gn(p))||Ns(p)&&!p||T&&!F_(o).isValid||N&&!q_(o).isValid)){const{value:R,message:I}=Eu(c)?{value:!!c,message:c}:ra(c);if(R&&(w[b]={type:Ks.required,message:I,ref:g,...k(Ks.required,I)},!s))return v(I),w}if(!A&&(!gn(h)||!gn(m))){let R,I;const H=ra(m),G=ra(h);if(!gn(p)&&!isNaN(p)){const M=a.valueAsNumber||p&&+p;gn(H.value)||(R=M>H.value),gn(G.value)||(I=M<G.value)}else{const M=a.valueAsDate||new Date(p),Y=K=>new Date(new Date().toDateString()+" "+K),Z=a.type=="time",B=a.type=="week";js(H.value)&&p&&(R=Z?Y(p)>Y(H.value):B?p>H.value:M>new Date(H.value)),js(G.value)&&p&&(I=Z?Y(p)<Y(G.value):B?p<G.value:M<new Date(G.value))}if((R||I)&&(P(!!R,H.message,G.message,Ks.max,Ks.min),!s))return v(w[b].message),w}if((u||d)&&!A&&(js(p)||i&&Array.isArray(p))){const R=ra(u),I=ra(d),H=!gn(R.value)&&p.length>+R.value,G=!gn(I.value)&&p.length<+I.value;if((H||G)&&(P(H,R.message,I.message),!s))return v(w[b].message),w}if(f&&!A&&js(p)){const{value:R,message:I}=ra(f);if(Bd(R)&&!p.match(R)&&(w[b]={type:Ks.pattern,message:I,ref:a,...k(Ks.pattern,I)},!s))return v(I),w}if(x){if(ms(x)){const R=await x(p,n),I=SS(R,g);if(I&&(w[b]={...I,...k(Ks.validate,I.message)},!s))return v(I.message),w}else if(Ct(x)){let R={};for(const I in x){if(!Tn(R)&&!s)break;const H=SS(await x[I](p,n),g,I);H&&(R={...H,...k(I,H.message)},v(H.message),s&&(w[b]=R))}if(!Tn(R)&&(w[b]={ref:g,...R},!s))return w}}return v(!0),w};const D4={mode:fs.onSubmit,reValidateMode:fs.onChange,shouldFocusError:!0};function U4(t={}){let e={...D4,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ms(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=Ct(e.defaultValues)||Ct(e.values)?zt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:zt(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:hS(),state:hS()},f=e.criteriaMode===fs.all,x=E=>j=>{clearTimeout(u),u=setTimeout(E,j)},b=async E=>{if(!e.disabled&&(d.isValid||h.isValid||E)){const j=e.resolver?Tn((await T()).errors):await A(s,!0);j!==n.isValid&&m.state.next({isValid:j})}},C=(E,j)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((E||Array.from(o.mount)).forEach(U=>{U&&(j?lt(n.validatingFields,U,j):Tt(n.validatingFields,U))}),m.state.next({validatingFields:n.validatingFields,isValidating:!Tn(n.validatingFields)}))},y=(E,j=[],U,re,W=!0,ne=!0)=>{if(re&&U&&!e.disabled){if(a.action=!0,ne&&Array.isArray(me(s,E))){const ce=U(me(s,E),re.argA,re.argB);W&&lt(s,E,ce)}if(ne&&Array.isArray(me(n.errors,E))){const ce=U(me(n.errors,E),re.argA,re.argB);W&&lt(n.errors,E,ce),M4(n.errors,E)}if((d.touchedFields||h.touchedFields)&&ne&&Array.isArray(me(n.touchedFields,E))){const ce=U(me(n.touchedFields,E),re.argA,re.argB);W&&lt(n.touchedFields,E,ce)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Io(r,i)),m.state.next({name:E,isDirty:P(E,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else lt(i,E,j)},p=(E,j)=>{lt(n.errors,E,j),m.state.next({errors:n.errors})},g=E=>{n.errors=E,m.state.next({errors:n.errors,isValid:!1})},v=(E,j,U,re)=>{const W=me(s,E);if(W){const ne=me(i,E,Rt(U)?me(r,E):U);Rt(ne)||re&&re.defaultChecked||j?lt(i,E,j?ne:pS(W._f)):H(E,ne),a.mount&&b()}},w=(E,j,U,re,W)=>{let ne=!1,ce=!1;const Re={name:E};if(!e.disabled){if(!U||re){(d.isDirty||h.isDirty)&&(ce=n.isDirty,n.isDirty=Re.isDirty=P(),ne=ce!==Re.isDirty);const Me=Ir(me(r,E),j);ce=!!me(n.dirtyFields,E),Me?Tt(n.dirtyFields,E):lt(n.dirtyFields,E,!0),Re.dirtyFields=n.dirtyFields,ne=ne||(d.dirtyFields||h.dirtyFields)&&ce!==!Me}if(U){const Me=me(n.touchedFields,E);Me||(lt(n.touchedFields,E,U),Re.touchedFields=n.touchedFields,ne=ne||(d.touchedFields||h.touchedFields)&&Me!==U)}ne&&W&&m.state.next(Re)}return ne?Re:{}},N=(E,j,U,re)=>{const W=me(n.errors,E),ne=(d.isValid||h.isValid)&&Ns(j)&&n.isValid!==j;if(e.delayError&&U?(c=x(()=>p(E,U)),c(e.delayError)):(clearTimeout(u),c=null,U?lt(n.errors,E,U):Tt(n.errors,E)),(U?!Ir(W,U):W)||!Tn(re)||ne){const ce={...re,...ne&&Ns(j)?{isValid:j}:{},errors:n.errors,name:E};n={...n,...ce},m.state.next(ce)}},T=async E=>{C(E,!0);const j=await e.resolver(i,e.context,_4(E||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return C(E),j},_=async E=>{const{errors:j}=await T(E);if(E)for(const U of E){const re=me(j,U);re?lt(n.errors,U,re):Tt(n.errors,U)}else n.errors=j;return j},A=async(E,j,U={valid:!0})=>{for(const re in E){const W=E[re];if(W){const{_f:ne,...ce}=W;if(ne){const Re=o.array.has(ne.name),Me=W._f&&R4(W._f);Me&&d.validatingFields&&C([re],!0);const jt=await CS(W,o.disabled,i,f,e.shouldUseNativeValidation&&!j,Re);if(Me&&d.validatingFields&&C([re]),jt[ne.name]&&(U.valid=!1,j))break;!j&&(me(jt,ne.name)?Re?P4(n.errors,jt,ne.name):lt(n.errors,ne.name,jt[ne.name]):Tt(n.errors,ne.name))}!Tn(ce)&&await A(ce,j,U)}}return U.valid},k=()=>{for(const E of o.unMount){const j=me(s,E);j&&(j._f.refs?j._f.refs.every(U=>!Kf(U)):!Kf(j._f.ref))&&we(E)}o.unMount=new Set},P=(E,j)=>!e.disabled&&(E&&j&&lt(i,E,j),!Ir(K(),r)),R=(E,j,U)=>w4(E,o,{...a.mount?i:Rt(j)?r:js(E)?{[E]:j}:j},U,j),I=E=>Cv(me(a.mount?i:r,E,e.shouldUnregister?me(r,E,[]):[])),H=(E,j,U={})=>{const re=me(s,E);let W=j;if(re){const ne=re._f;ne&&(!ne.disabled&&lt(i,E,G_(j,ne)),W=Ld(ne.ref)&&gn(j)?"":j,B_(ne.ref)?[...ne.ref.options].forEach(ce=>ce.selected=W.includes(ce.value)):ne.refs?yc(ne.ref)?ne.refs.forEach(ce=>{(!ce.defaultChecked||!ce.disabled)&&(Array.isArray(W)?ce.checked=!!W.find(Re=>Re===ce.value):ce.checked=W===ce.value||!!W)}):ne.refs.forEach(ce=>ce.checked=ce.value===W):Tv(ne.ref)?ne.ref.value="":(ne.ref.value=W,ne.ref.type||m.state.next({name:E,values:zt(i)})))}(U.shouldDirty||U.shouldTouch)&&w(E,W,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&B(E)},G=(E,j,U)=>{for(const re in j){if(!j.hasOwnProperty(re))return;const W=j[re],ne=E+"."+re,ce=me(s,ne);(o.array.has(E)||Ct(W)||ce&&!ce._f)&&!Ai(W)?G(ne,W,U):H(ne,W,U)}},M=(E,j,U={})=>{const re=me(s,E),W=o.array.has(E),ne=zt(j);lt(i,E,ne),W?(m.array.next({name:E,values:zt(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&U.shouldDirty&&m.state.next({name:E,dirtyFields:Io(r,i),isDirty:P(E,ne)})):re&&!re._f&&!gn(ne)?G(E,ne,U):H(E,ne,U),bS(E,o)&&m.state.next({...n,name:E}),m.state.next({name:a.mount?E:void 0,values:zt(i)})},Y=async E=>{a.mount=!0;const j=E.target;let U=j.name,re=!0;const W=me(s,U),ne=Me=>{re=Number.isNaN(Me)||Ai(Me)&&isNaN(Me.getTime())||Ir(Me,me(i,U,Me))},ce=yS(e.mode),Re=yS(e.reValidateMode);if(W){let Me,jt;const Sn=j.type?pS(W._f):p4(E),nn=E.type===dS.BLUR||E.type===dS.FOCUS_OUT,ws=!k4(W._f)&&!e.resolver&&!me(n.errors,U)&&!W._f.deps||I4(nn,me(n.touchedFields,U),n.isSubmitted,Re,ce),Mn=bS(U,o,nn);lt(i,U,Sn),nn?(!j||!j.readOnly)&&(W._f.onBlur&&W._f.onBlur(E),c&&c(0)):W._f.onChange&&W._f.onChange(E);const cn=w(U,Sn,nn),ci=!Tn(cn)||Mn;if(!nn&&m.state.next({name:U,type:E.type,values:zt(i)}),ws)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?nn&&b():nn||b()),ci&&m.state.next({name:U,...Mn?{}:cn});if(!nn&&Mn&&m.state.next({...n}),e.resolver){const{errors:Qn}=await T([U]);if(ne(Sn),re){const Wi=xS(n.errors,s,U),ui=xS(Qn,s,Wi.name||U);Me=ui.error,U=ui.name,jt=Tn(Qn)}}else C([U],!0),Me=(await CS(W,o.disabled,i,f,e.shouldUseNativeValidation))[U],C([U]),ne(Sn),re&&(Me?jt=!1:(d.isValid||h.isValid)&&(jt=await A(s,!0)));re&&(W._f.deps&&B(W._f.deps),N(U,jt,Me,cn))}},Z=(E,j)=>{if(me(n.errors,j)&&E.focus)return E.focus(),1},B=async(E,j={})=>{let U,re;const W=bl(E);if(e.resolver){const ne=await _(Rt(E)?E:W);U=Tn(ne),re=E?!W.some(ce=>me(ne,ce)):U}else E?(re=(await Promise.all(W.map(async ne=>{const ce=me(s,ne);return await A(ce&&ce._f?{[ne]:ce}:ce)}))).every(Boolean),!(!re&&!n.isValid)&&b()):re=U=await A(s);return m.state.next({...!js(E)||(d.isValid||h.isValid)&&U!==n.isValid?{}:{name:E},...e.resolver||!E?{isValid:U}:{},errors:n.errors}),j.shouldFocus&&!re&&xl(s,Z,E?W:o.mount),re},K=E=>{const j={...a.mount?i:r};return Rt(E)?j:js(E)?me(j,E):E.map(U=>me(j,U))},D=(E,j)=>({invalid:!!me((j||n).errors,E),isDirty:!!me((j||n).dirtyFields,E),error:me((j||n).errors,E),isValidating:!!me(n.validatingFields,E),isTouched:!!me((j||n).touchedFields,E)}),Q=E=>{E&&bl(E).forEach(j=>Tt(n.errors,j)),m.state.next({errors:E?n.errors:{}})},J=(E,j,U)=>{const re=(me(s,E,{_f:{}})._f||{}).ref,W=me(n.errors,E)||{},{ref:ne,message:ce,type:Re,...Me}=W;lt(n.errors,E,{...Me,...j,ref:re}),m.state.next({name:E,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&re&&re.focus&&re.focus()},de=(E,j)=>ms(E)?m.state.subscribe({next:U=>"values"in U&&E(R(void 0,j),U)}):R(E,j,!0),se=E=>m.state.subscribe({next:j=>{j4(E.name,j.name,E.exact)&&O4(j,E.formState||d,wt,E.reRenderRoot)&&E.callback({values:{...i},...n,...j,defaultValues:r})}}).unsubscribe,ve=E=>(a.mount=!0,h={...h,...E.formState},se({...E,formState:h})),we=(E,j={})=>{for(const U of E?bl(E):o.mount)o.mount.delete(U),o.array.delete(U),j.keepValue||(Tt(s,U),Tt(i,U)),!j.keepError&&Tt(n.errors,U),!j.keepDirty&&Tt(n.dirtyFields,U),!j.keepTouched&&Tt(n.touchedFields,U),!j.keepIsValidating&&Tt(n.validatingFields,U),!e.shouldUnregister&&!j.keepDefaultValue&&Tt(r,U);m.state.next({values:zt(i)}),m.state.next({...n,...j.keepDirty?{isDirty:P()}:{}}),!j.keepIsValid&&b()},oe=({disabled:E,name:j})=>{(Ns(E)&&a.mount||E||o.disabled.has(j))&&(E?o.disabled.add(j):o.disabled.delete(j))},he=(E,j={})=>{let U=me(s,E);const re=Ns(j.disabled)||Ns(e.disabled);return lt(s,E,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:E}},name:E,mount:!0,...j}}),o.mount.add(E),U?oe({disabled:Ns(j.disabled)?j.disabled:e.disabled,name:E}):v(E,!0,j.value),{...re?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:Mo(j.min),max:Mo(j.max),minLength:Mo(j.minLength),maxLength:Mo(j.maxLength),pattern:Mo(j.pattern)}:{},name:E,onChange:Y,onBlur:Y,ref:W=>{if(W){he(E,j),U=me(s,E);const ne=Rt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,ce=A4(ne),Re=U._f.refs||[];if(ce?Re.find(Me=>Me===ne):ne===U._f.ref)return;lt(s,E,{_f:{...U._f,...ce?{refs:[...Re.filter(Kf),ne,...Array.isArray(me(r,E))?[{}]:[]],ref:{type:ne.type,name:E}}:{ref:ne}}}),v(E,!1,void 0,ne)}else U=me(s,E,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(v4(o.array,E)&&a.action)&&o.unMount.add(E)}}},le=()=>e.shouldFocusError&&xl(s,Z,o.mount),ge=E=>{Ns(E)&&(m.state.next({disabled:E}),xl(s,(j,U)=>{const re=me(s,U);re&&(j.disabled=re._f.disabled||E,Array.isArray(re._f.refs)&&re._f.refs.forEach(W=>{W.disabled=re._f.disabled||E}))},0,!1))},L=(E,j)=>async U=>{let re;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let W=zt(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:ce}=await T();n.errors=ne,W=zt(ce)}else await A(s);if(o.disabled.size)for(const ne of o.disabled)Tt(W,ne);if(Tt(n.errors,"root"),Tn(n.errors)){m.state.next({errors:{}});try{await E(W,U)}catch(ne){re=ne}}else j&&await j({...n.errors},U),le(),setTimeout(le);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},z=(E,j={})=>{me(s,E)&&(Rt(j.defaultValue)?M(E,zt(me(r,E))):(M(E,j.defaultValue),lt(r,E,zt(j.defaultValue))),j.keepTouched||Tt(n.touchedFields,E),j.keepDirty||(Tt(n.dirtyFields,E),n.isDirty=j.defaultValue?P(E,zt(me(r,E))):P()),j.keepError||(Tt(n.errors,E),d.isValid&&b()),m.state.next({...n}))},ae=(E,j={})=>{const U=E?zt(E):r,re=zt(U),W=Tn(E),ne=W?r:re;if(j.keepDefaultValues||(r=U),!j.keepValues){if(j.keepDirtyValues){const ce=new Set([...o.mount,...Object.keys(Io(r,i))]);for(const Re of Array.from(ce))me(n.dirtyFields,Re)?lt(ne,Re,me(i,Re)):M(Re,me(ne,Re))}else{if(Sv&&Rt(E))for(const ce of o.mount){const Re=me(s,ce);if(Re&&Re._f){const Me=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Ld(Me)){const jt=Me.closest("form");if(jt){jt.reset();break}}}}if(j.keepFieldsRef)for(const ce of o.mount)M(ce,me(ne,ce));else s={}}i=e.shouldUnregister?j.keepDefaultValues?zt(r):{}:zt(ne),m.array.next({values:{...ne}}),m.state.next({values:{...ne}})}o={mount:j.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,a.watch=!!e.shouldUnregister,m.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:W?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!Ir(E,r)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Io(r,i):n.dirtyFields:j.keepDefaultValues&&E?Io(r,E):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ee=(E,j)=>ae(ms(E)?E(i):E,j),Te=(E,j={})=>{const U=me(s,E),re=U&&U._f;if(re){const W=re.refs?re.refs[0]:re.ref;W.focus&&(W.focus(),j.shouldSelect&&ms(W.select)&&W.select())}},wt=E=>{n={...n,...E}},Yt={control:{register:he,unregister:we,getFieldState:D,handleSubmit:L,setError:J,_subscribe:se,_runSchema:T,_focusError:le,_getWatch:R,_getDirty:P,_setValid:b,_setFieldArray:y,_setDisabledField:oe,_setErrors:g,_getFieldArray:I,_reset:ae,_resetDefaultValues:()=>ms(e.defaultValues)&&e.defaultValues().then(E=>{Ee(E,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:ge,_subjects:m,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(E){a=E},get _defaultValues(){return r},get _names(){return o},set _names(E){o=E},get _formState(){return n},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:ve,trigger:B,register:he,handleSubmit:L,watch:de,setValue:M,getValues:K,reset:Ee,resetField:z,clearErrors:Q,unregister:we,setError:J,setFocus:Te,getFieldState:D};return{...Yt,formControl:Yt}}function L4(t={}){const e=te.useRef(void 0),n=te.useRef(void 0),[s,r]=te.useState({isDirty:!1,isValidating:!1,isLoading:ms(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ms(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!ms(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=U4(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,C4(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),te.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),te.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),te.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),te.useEffect(()=>{t.values&&!Ir(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),te.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=S4(s,i),e.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ot=(t,e)=>{const n=S.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>S.createElement("svg",{ref:d,...H4,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${B4(t)}`,o].join(" "),...u},[...e.map(([h,m])=>S.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Ot("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Ot("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Ot("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Ot("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Ot("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=Ot("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function TS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Q4(...t){return e=>{let n=!1;const s=t.map(r=>{const i=TS(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():TS(t[r],null)}}}}function $_(t){const e=J4(t),n=S.forwardRef((s,r)=>{const{children:i,...a}=s,o=S.Children.toArray(i),c=o.find(W4);if(c){const u=c.props.children,d=o.map(h=>h===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...a,ref:r,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var X4=$_("Slot");function J4(t){const e=S.forwardRef((n,s)=>{const{children:r,...i}=n;if(S.isValidElement(r)){const a=tz(r),o=ez(i,r.props);return r.type!==S.Fragment&&(o.ref=s?Q4(s,a):a),S.cloneElement(r,o)}return S.Children.count(r)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Z4=Symbol("radix.slottable");function W4(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Z4}function ez(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const c=i(...o);return r(...o),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function tz(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Y_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Y_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Q_(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Y_(t))&&(s&&(s+=" "),s+=e);return s}const AS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ES=Q_,Ev=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return ES(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=AS(d)||AS(h);return r[u][m]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...f}=d;return Object.entries(f).every(x=>{let[b,C]=x;return Array.isArray(C)?C.includes({...i,...o}[b]):{...i,...o}[b]===C})?[...u,h,m]:u},[]);return ES(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Nv="-",nz=t=>{const e=rz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(Nv);return o[0]===""&&o.length!==1&&o.shift(),X_(o,e)||sz(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&s[a]?[...c,...s[a]]:c}}},X_=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?X_(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Nv);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},NS=/^\[(.+)\]$/,sz=t=>{if(NS.test(t)){const e=NS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},rz=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return az(Object.entries(t.classGroups),n).forEach(([i,a])=>{Mg(a,s,i,e)}),s},Mg=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:_S(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(iz(r)){Mg(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Mg(a,_S(e,i),n,s)})})},_S=(t,e)=>{let n=t;return e.split(Nv).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},iz=t=>t.isThemeGetter,az=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,oz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},J_="!",lz=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const c=[];let u=0,d=0,h;for(let C=0;C<o.length;C++){let y=o[C];if(u===0){if(y===r&&(s||o.slice(C,C+i)===e)){c.push(o.slice(d,C)),d=C+i;continue}if(y==="/"){h=C;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?o:o.substring(d),f=m.startsWith(J_),x=f?m.substring(1):m,b=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:a}):a},cz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},uz=t=>({cache:oz(t.cacheSize),parseClassName:lz(t),...nz(t)}),dz=/\s+/,hz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(dz);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=n(u);let x=!!f,b=s(x?m.substring(0,f):m);if(!b){if(!x){o=u+(o.length>0?" "+o:o);continue}if(b=s(m),!b){o=u+(o.length>0?" "+o:o);continue}x=!1}const C=cz(d).join(":"),y=h?C+J_:C,p=y+b;if(i.includes(p))continue;i.push(p);const g=r(b,x);for(let v=0;v<g.length;++v){const w=g[v];i.push(y+w)}o=u+(o.length>0?" "+o:o)}return o};function fz(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Z_(e))&&(s&&(s+=" "),s+=n);return s}const Z_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Z_(t[s]))&&(n&&(n+=" "),n+=e);return n};function mz(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=uz(u),s=n.cache.get,r=n.cache.set,i=o,o(c)}function o(c){const u=s(c);if(u)return u;const d=hz(c,n);return r(c,d),d}return function(){return i(fz.apply(null,arguments))}}const it=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},W_=/^\[(?:([a-z-]+):)?(.+)\]$/i,gz=/^\d+\/\d+$/,pz=new Set(["px","full","screen"]),yz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$s=t=>La(t)||pz.has(t)||gz.test(t),br=t=>po(t,"length",Rz),La=t=>!!t&&!Number.isNaN(Number(t)),$f=t=>po(t,"number",La),Po=t=>!!t&&Number.isInteger(Number(t)),Cz=t=>t.endsWith("%")&&La(t.slice(0,-1)),ke=t=>W_.test(t),xr=t=>yz.test(t),wz=new Set(["length","size","percentage"]),Tz=t=>po(t,wz,eR),Az=t=>po(t,"position",eR),Ez=new Set(["image","url"]),Nz=t=>po(t,Ez,Oz),_z=t=>po(t,"",kz),Do=()=>!0,po=(t,e,n)=>{const s=W_.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Rz=t=>vz.test(t)&&!bz.test(t),eR=()=>!1,kz=t=>xz.test(t),Oz=t=>Sz.test(t),jz=()=>{const t=it("colors"),e=it("spacing"),n=it("blur"),s=it("brightness"),r=it("borderColor"),i=it("borderRadius"),a=it("borderSpacing"),o=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),h=it("invert"),m=it("gap"),f=it("gradientColorStops"),x=it("gradientColorStopPositions"),b=it("inset"),C=it("margin"),y=it("opacity"),p=it("padding"),g=it("saturate"),v=it("scale"),w=it("sepia"),N=it("skew"),T=it("space"),_=it("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ke,e],R=()=>[ke,e],I=()=>["",$s,br],H=()=>["auto",La,ke],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",ke],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[La,ke];return{cacheSize:500,separator:":",theme:{colors:[Do],spacing:[$s,br],blur:["none","",xr,ke],brightness:D(),borderColor:[t],borderRadius:["none","","full",xr,ke],borderSpacing:R(),borderWidth:I(),contrast:D(),grayscale:B(),hueRotate:D(),invert:B(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Cz,br],inset:P(),margin:P(),opacity:D(),padding:R(),saturate:D(),scale:D(),sepia:B(),skew:D(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[xr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ke]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,ke]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Po,ke]}],"grid-cols":[{"grid-cols":[Do]}],"col-start-end":[{col:["auto",{span:["full",Po,ke]},ke]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Do]}],"row-start-end":[{row:["auto",{span:[Po,ke]},ke]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[xr]},xr]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xr,br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$f]}],"font-family":[{font:[Do]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",La,$f]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$s,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$s,br]}],"underline-offset":[{"underline-offset":["auto",$s,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Az]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[$s,ke]}],"outline-w":[{outline:[$s,br]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[$s,br]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xr,_z]}],"shadow-color":[{shadow:[Do]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",xr,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Po,ke]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$s,br,$f]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Iz=mz(jz);function jn(...t){return Iz(Q_(t))}function Mz(t){const e=t.replace(/\D/g,"");return e.length===10||e.length===11}function RS(t){const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("1")?e.slice(1):e}const Pz=Ev("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",info:"bg-info text-info-foreground hover:bg-info/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=S.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?X4:"button";return l.jsx(a,{className:jn(Pz({variant:e,size:n,className:t})),ref:i,...r})});ie.displayName="Button";const be=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:jn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));be.displayName="Card";const Ae=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:jn("flex flex-col space-y-1.5 p-6",t),...e}));Ae.displayName="CardHeader";const _e=S.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:jn("text-2xl font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const gs=S.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:jn("text-sm text-muted-foreground",t),...e}));gs.displayName="CardDescription";const xe=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:jn("p-6 pt-0",t),...e}));xe.displayName="CardContent";const Dz=S.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:jn("flex items-center p-6 pt-0",t),...e}));Dz.displayName="CardFooter";const qi=S.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:jn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));qi.displayName="Textarea";var Uz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_v=Uz.reduce((t,e)=>{const n=$_(`Primitive.${e}`),s=S.forwardRef((r,i)=>{const{asChild:a,...o}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Lz="Label",tR=S.forwardRef((t,e)=>l.jsx(_v.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tR.displayName=Lz;var nR=tR;const Hz=Ev("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gt=S.forwardRef(({className:t,...e},n)=>l.jsx(nR,{ref:n,className:jn(Hz(),t),...e}));gt.displayName=nR.displayName;const Rv=R2,Us=j2,Bz=({onNumbersSubmit:t,isLoading:e})=>{const[n,s]=S.useState(!1),[r,i]=S.useState(null),[a,o]=S.useState(null),[c,u]=S.useState(["voice"]),{role:d,organizationId:h,userId:m}=Us(N=>N.demoAuth),{register:f,handleSubmit:x,formState:{errors:b},reset:C}=L4(),y=async N=>{s(!0),i(null),o(null);try{const T=N.phone_numbers.split(`
`).map(A=>A.trim()).filter(A=>A.length>0).map(RS);if(T.length===0){i("Please enter at least one phone number");return}const _=T.filter(A=>!Mz(A));if(_.length>0){i(`Invalid phone numbers: ${_.join(", ")}`);return}await t(T,N.notes),o(`Successfully submitted ${T.length} phone numbers`)}catch(T){i(T instanceof Error?T.message:"An error occurred")}finally{s(!1)}},p=()=>{C(),i(null),o(null)},g=async()=>{var N,T;try{const _=h||1,A=m||1,k=((N=document.getElementById("phone_numbers"))==null?void 0:N.value.split(`
`).find(H=>H.trim()))||"",P=RS(k.trim());if(!P){i("Enter at least one phone number to request DNC");return}const R=((T=document.getElementById("dnc_reason"))==null?void 0:T.value)||"user request",I={"X-Org-Id":String(_),"X-User-Id":String(A),"X-Role":String(d||"member"),"Content-Type":"application/json"};try{const H=window.__msalAcquireToken,G="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(H&&G){const M=await H([G]);M&&(I.Authorization=`Bearer ${M}`)}}catch{}if(!c.length){i("Select at least one channel (Call, SMS, Email)");return}for(const H of c)if(!(await fetch(`${X}/api/v1/tenants/dnc-requests/${_}`,{method:"POST",headers:I,body:JSON.stringify({phone_e164:P,reason:R,channel:H})})).ok)throw new Error("Failed to submit DNC request");o("DNC request submitted for review")}catch(_){i(_ instanceof Error?_.message:"Failed to submit DNC request")}},v=d==="admin"||d==="owner"||d==="superadmin",w=d==="member";return l.jsxs(be,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ae,{children:[l.jsxs(_e,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(to,{className:"h-5 w-5"}),"Add Phone Numbers"]}),l.jsx(gs,{children:"Enter phone numbers to be removed from Do Not Call lists across all CRM systems"})]}),l.jsx(xe,{children:l.jsxs("form",{onSubmit:x(y),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(gt,{htmlFor:"phone_numbers",className:"text-sm font-medium text-gray-700",children:"Phone Numbers (one per line)"}),l.jsx(qi,{id:"phone_numbers",placeholder:`Enter phone numbers here...
Example:
555-123-4567
(555) 987-6543
555.123.4567`,className:jn("mt-1 min-h-[120px] resize-none",b.phone_numbers&&"border-red-300 focus:border-red-500 focus:ring-red-500"),...f("phone_numbers",{required:"Phone numbers are required",validate:N=>N.trim()?N.split(`
`).filter(_=>_.trim().length>0).length===0?"Please enter at least one phone number":!0:"Phone numbers are required"})}),b.phone_numbers&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.phone_numbers.message})]}),l.jsxs("div",{children:[l.jsx(gt,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),l.jsx(qi,{id:"notes",placeholder:"Add any notes about these phone numbers...",className:"mt-1 resize-none",...f("notes")})]}),r&&l.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx(vc,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:r})]})}),a&&l.jsx(Pt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[l.jsx(ii,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:a})]})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[v&&l.jsx(ie,{type:"submit",disabled:n||e,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:n||e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Submitting...":"Loading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ig,{className:"h-4 w-4 mr-2"}),"Run Number Check"]})}),w&&l.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Channels"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"voice",label:"Call"},{key:"sms",label:"SMS"},{key:"email",label:"Email"}].map(N=>l.jsx("button",{type:"button",onClick:()=>u(T=>T.includes(N.key)?T.filter(_=>_!==N.key):[...T,N.key]),className:jn("px-3 py-1 rounded border text-sm",c.includes(N.key)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:N.label},N.key))})]}),l.jsxs("div",{children:[l.jsx(gt,{htmlFor:"dnc_reason",className:"text-xs",children:"Reason"}),l.jsx("input",{id:"dnc_reason",className:"border rounded px-2 py-1 text-sm",placeholder:"Customer opt-out"})]})]}),w&&l.jsx(ie,{type:"button",variant:"outline",onClick:g,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Request DNC"}),l.jsx(ie,{type:"button",variant:"outline",onClick:p,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Clear"})]})]})})]})},zz=({title:t,status:e,count:n,total:s,icon:r,onRetry:i,isLoading:a=!1})=>{const o=d=>{switch(d){case"completed":return"text-green-600 bg-green-50 border-green-200";case"failed":return"text-red-600 bg-red-50 border-red-200";case"processing":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=(d,h)=>{switch(d){case"completed":return l.jsx(ii,{className:"w-5 h-5"});case"failed":return l.jsx(vc,{className:"w-5 h-5"});case"processing":return h>0?l.jsx(jg,{className:"w-5 h-5 animate-spin"}):l.jsx(Mi,{className:"w-5 h-5"});case"pending":return l.jsx(Mi,{className:"w-5 h-5"});default:return l.jsx(to,{className:"w-5 h-5"})}},u=s>0?Math.round(n/s*100):0;return l.jsx(Pt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:l.jsxs(be,{className:`border-2 ${o(e)} hover:shadow-md transition-shadow`,children:[l.jsx(Ae,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[r,l.jsx(_e,{className:"text-lg font-semibold",children:t})]}),c(e,n)]})}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:n}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"% of total"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e==="completed"?"bg-green-500":e==="failed"?"bg-red-500":e==="processing"?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${u}%`}})}),i&&e==="failed"&&l.jsx(ie,{variant:"outline",size:"sm",onClick:i,disabled:a,className:"w-full",children:a?l.jsxs(l.Fragment,{children:[l.jsx(jg,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Retry Failed"]})})]})})]})})},Vz=()=>{const{stats:t,isLoading:e,demoTotal:n}=Us(h=>h.crmStatus),{phoneNumbers:s}=Us(h=>h.phoneNumbers),r=n||s.length,i=h=>{switch(h){case"logics":return"Logics";case"genesys":return"Genesys";case"ringcentral":return"Ring Central";case"convoso":return"Convoso";case"ytel":return"Ytel";default:return h}},a=h=>{switch(h){case"logics":return l.jsx(z4,{className:"w-5 h-5"});case"genesys":return l.jsx(F4,{className:"w-5 h-5"});case"ringcentral":return l.jsx(q4,{className:"w-5 h-5"});case"convoso":return l.jsx(Y4,{className:"w-5 h-5"});case"ytel":return l.jsx(to,{className:"w-5 h-5"});default:return l.jsx(to,{className:"w-5 h-5"})}},o=h=>{console.log(`Retrying failed removals for ${h}`)},u={...{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},...t},d=h=>h.failed>0?"failed":h.processing>0?"processing":h.pending>0?"pending":(h.completed>0,"completed");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CRM Status Dashboard"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Phone Numbers: ",r]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(u).map(([h,m])=>l.jsx(zz,{title:i(h),status:d(m),count:m.total,total:r,icon:a(h),onRetry:m.failed>0?()=>o(h):void 0,isLoading:e},h))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(be,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Processed"}),l.jsx("p",{className:"text-2xl font-bold",children:Object.values(u).reduce((h,m)=>h+m.total,0)})]}),l.jsx(K_,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(be,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(()=>{const h=Object.values(u).reduce((f,x)=>f+x.total,0),m=Object.values(u).reduce((f,x)=>f+x.completed,0);return h>0?Math.round(m/h*100):0})(),"%"]})]}),l.jsx(ii,{className:"w-8 h-8 text-green-500"})]})})}),l.jsx(be,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Object.values(u).reduce((h,m)=>h+m.processing,0)})]}),Object.values(u).reduce((m,f)=>m+f.processing,0)>0?l.jsx(jg,{className:"w-8 h-8 text-blue-500 animate-spin"}):l.jsx(Mi,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(be,{children:l.jsx(xe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Failed"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:Object.values(u).reduce((h,m)=>h+m.failed,0)})]}),l.jsx(vc,{className:"w-8 h-8 text-red-500"})]})})})]})]})},sn=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},Fz=({numbers:t,onAutomationComplete:e})=>{const[n,s]=S.useState({}),[r,i]=S.useState({}),[,a]=S.useState(null),[o,c]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState(!1),[f,x]=S.useState({total:0,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),b=async g=>{var v,w,N,T,_;console.log(" Starting DNC check for phone:",g),console.log(" Demo headers:",sn()),i(A=>({...A,[g]:!0}));try{const A={};try{const k=await fetch(`${X}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json();A.dnc={listed:!!(P!=null&&P.is_dnc)}}}catch{}try{const k=await fetch(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(v=P==null?void 0:P.data)==null?void 0:v.is_on_dnc;R===null?A.ringcentral={listed:null,status:"unknown"}:A.ringcentral={listed:R||!1}}}catch{}try{const k=await fetch(`${X}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(w=P==null?void 0:P.data)==null?void 0:w.is_on_dnc;R===null?A.convoso={listed:null,status:"unknown"}:A.convoso={listed:R||!1}}}catch{}try{const k=await fetch(`${X}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(N=P==null?void 0:P.data)==null?void 0:N.is_on_dnc,I=(T=P==null?void 0:P.data)==null?void 0:T.status;R===null||I==="unknown"?A.ytel={listed:null,status:"unknown"}:A.ytel={listed:R||!1,status:I}}}catch{}await p(g);try{const k=await fetch(`${X}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(_=P==null?void 0:P.data)==null?void 0:_.is_on_dnc;R===null?A.genesys={listed:null,status:"unknown"}:A.genesys={listed:R||!1}}}catch{}s(k=>{var P;return{...k,[g]:{phone_number:g,providers:{...((P=k[g])==null?void 0:P.providers)||{},...A}}}}),a(null),console.log(" Search history saving is DISABLED - should not make any calls")}catch{a("Cannot reach backend (check that it is running)")}finally{i(A=>({...A,[g]:!1}))}};S.useEffect(()=>{t.forEach(g=>b(g))},[t.join(",")]);const C=(g,v)=>g===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):g===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",v?`  ${v}`:""]}),y=async(g,v)=>{var w,N,T,_,A,k,P;c(`${g}:${v}`);try{console.log(`Pushing ${v} to ${g}...`);try{await fetch(`${X}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"pending",attempt_no:1})})}catch{}if(g==="ringcentral"){const R=await fetch(`${X}/api/v1/ringcentral/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:v})});console.log(`RingCentral response: ${R.status}`)}else if(g==="convoso"){const R=await fetch(`${X}/api/v1/convoso/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:v})});console.log(`Convoso response: ${R.status}`)}else if(g==="ytel"){const R=await fetch(`${X}/api/v1/ytel/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:v})});if(console.log(`Ytel response: ${R.status}`),R.ok){const I=await R.json();console.log(`Ytel message: ${I.message}`),(w=I.data)!=null&&w.already_on_dnc?alert(` ${I.message}`):((N=I.data)!=null&&N.added_to_dnc||(T=I.data)!=null&&T.added_to_global_dnc)&&alert(` ${I.message}`)}}else if(g==="genesys"){const R=await fetch(`${X}/api/v1/genesys/dnclists/d4a6a02e-4ab9-495b-a141-4c65aee551db/phonenumbers`,{method:"PATCH",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({action:"Add",phone_numbers:[v],expiration_date_time:""})});console.log(`Genesys response: ${R.status}`)}else if(g==="logics"){const R=n[v],I=(P=(k=(A=(_=R==null?void 0:R.providers)==null?void 0:_.logics)==null?void 0:A.cases)==null?void 0:k[0])==null?void 0:P.CaseID;if(I){const H=await fetch(`${X}/api/v1/logics/update-case`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({caseId:I,statusId:2})});console.log(`Logics response: ${H.status}`)}}console.log(`Successfully pushed ${v} to ${g}`),await b(v),x(R=>({...R,completed:R.completed+1,per:{...R.per,[g]:{...R.per[g],completed:R.per[g].completed+1}},logs:[...R.logs,`${g}  ${v}`].slice(-200)}));try{await fetch(`${X}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"success",attempt_no:1})})}catch{}}catch(R){console.error(`Failed to push ${v} to ${g}:`,R),alert(`Failed to push ${v} to ${g}: ${(R==null?void 0:R.message)||"Unknown error"}`),x(I=>({...I,failed:I.failed+1,per:{...I.per,[g]:{...I.per[g],failed:I.per[g].failed+1}},logs:[...I.logs,`${g}  ${v} ${(R==null?void 0:R.message)||""}`].slice(-200)}));try{await fetch(`${X}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"failed",error_message:(R==null?void 0:R.message)||"failed",attempt_no:1})})}catch{}}finally{c(null)}},p=async g=>{var v,w,N;try{const T=await fetch(`${X}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:g})});if(!T.ok)return;const _=await T.json(),A=((v=_==null?void 0:_.data)==null?void 0:v.is_found)||!1,k=((N=(w=_==null?void 0:_.data)==null?void 0:w.raw_response)==null?void 0:N.Data)||[];s(P=>{const R=P[g]||{phone_number:g,providers:{}};return{...P,[g]:{...R,providers:{...R.providers,logics:{listed:A,count:k.length,cases:k}}}}})}catch{}};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Systems Check Results"})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:t.map(g=>{var N,T,_,A,k,P,R,I,H,G,M,Y,Z,B,K,D,Q,J,de,se;const v=n[g],w=(v==null?void 0:v.providers)||{};return l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:g}),r[g]&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),r[g]&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"DNC (Federal)"}),l.jsx("div",{className:"flex items-center gap-2",children:w.dnc?w.dnc.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not on DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((N=w.ringcentral)==null?void 0:N.listed),(((T=w.ringcentral)==null?void 0:T.listed)===!1||((_=w.ringcentral)==null?void 0:_.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ringcentral",g),disabled:o===`ringcentral:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((A=w.convoso)==null?void 0:A.listed),(((k=w.convoso)==null?void 0:k.listed)===!1||((P=w.convoso)==null?void 0:P.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("convoso",g),disabled:o===`convoso:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[w.logics?((I=(R=w.logics.cases)==null?void 0:R[0])==null?void 0:I.CaseID)==="57"?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):(G=(H=w.logics.cases)==null?void 0:H[0])!=null&&G.CaseID?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Found"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((M=w.logics)==null?void 0:M.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[w.logics.count," case(s)"]})]}),((B=(Z=(Y=w.logics)==null?void 0:Y.cases)==null?void 0:Z[0])==null?void 0:B.CaseID)&&w.logics.cases[0].CaseID!=="57"&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>d({phone:g,caseId:w.logics.cases[0].CaseID}),disabled:o===`logics:${g}`,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((K=w.genesys)==null?void 0:K.listed),(((D=w.genesys)==null?void 0:D.listed)===!1||((Q=w.genesys)==null?void 0:Q.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("genesys",g),disabled:o===`genesys:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((J=w.ytel)==null?void 0:J.listed,"search"),(((de=w.ytel)==null?void 0:de.listed)===!1||((se=w.ytel)==null?void 0:se.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ytel",g),disabled:o===`ytel:${g}`,children:"Push"})]})]})]})]},g)})})})]}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ie,{onClick:async()=>{try{if(m(!0),x({total:t.length,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),(await fetch(`${X}/api/v1/tenants/dnc/orchestrate`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({mode:"push",phone_numbers:t})})).ok){x(v=>({...v,completed:t.length,logs:[...v.logs,`orchestrate  ${t.length} numbers`]}));for(const v of t)await b(v)}else x(v=>({...v,failed:t.length,logs:[...v.logs,"orchestrate "]}))}finally{e==null||e(t.length)}},disabled:o!==null,children:"Add All Remaining Numbers to DNC Lists"})}),h&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-lg font-semibold",children:"Push Progress"}),l.jsx("button",{className:"text-sm text-gray-600",onClick:()=>m(!1),children:"Close"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"Overall"}),l.jsxs("div",{children:["Completed: ",f.completed," / ",f.total]}),l.jsxs("div",{children:["Failed: ",f.failed]}),l.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 bg-blue-600",style:{width:`${Math.min(100,f.completed/Math.max(1,f.total)*100)}%`}})})]}),l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"By Provider"}),["ringcentral","convoso","ytel","logics","genesys"].map(g=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"capitalize",children:g}),l.jsxs("span",{children:[f.per[g].completed,"  / ",f.per[g].failed," "]})]},g))]})]}),l.jsx("div",{className:"mt-3 max-h-40 overflow-y-auto text-xs bg-gray-50 border rounded p-2",children:f.logs.map((g,v)=>l.jsx("div",{children:g},v))})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:" SERIOUS WARNING"}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Phone:"})," ",u.phone,l.jsx("br",{}),l.jsx("strong",{children:"Case ID:"})," ",u.caseId]}),l.jsxs("p",{className:"mb-4 text-gray-700",children:[l.jsx("strong",{children:"Are you absolutely sure?"})," Adding this number to DNC will ",l.jsx("strong",{children:"END their case"})," in Logics. This action cannot be undone and will permanently close their case."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(ie,{variant:"outline",onClick:()=>d(null),className:"flex-1",children:"Cancel"}),l.jsx(ie,{onClick:async()=>{await y("logics",u.phone),d(null)},disabled:o===`logics:${u.phone}`,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Yes, End Case"})]})]})})]})},Gz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState(!1),[a,o]=S.useState(null),c=async()=>{const h={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const m=window.__msalAcquireToken,f="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(m&&f){const x=await m([f]);x&&(h.Authorization=`Bearer ${x}`)}}catch{}return h},u=async()=>{o(null),i(!0);try{const h=await c(),f=await(await fetch(`${X}/api/v1/tenants/dnc-requests/org/${t}?status=pending&limit=10`,{headers:h})).json();s(f||[])}catch(h){o(h instanceof Error?h.message:"Failed to load pending requests")}finally{i(!1)}};S.useEffect(()=>{u()},[]);const d=async(h,m)=>{o(null);try{const f=await c();if(!(await fetch(`${X}/api/v1/tenants/dnc-requests/${h}/${m}`,{method:"POST",headers:f,body:JSON.stringify({notes:""})})).ok)throw new Error("Action failed");s(b=>b.filter(C=>C.id!==h))}catch(f){o(f instanceof Error?f.message:"Action failed")}};return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Pending Requests"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[l.jsx("div",{className:"text-gray-600",children:"Top 10 newest pending."}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ie,{size:"sm",variant:"outline",onClick:u,disabled:r,children:"Refresh"})})]}),a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),r?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((h,m)=>l.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},m))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests."}):l.jsx("div",{className:"space-y-2",children:n.map(h=>l.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[h.phone_e164,"  ",h.channel||"n/a"]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",h.reason||""]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>d(h.id,"approve"),children:"Approve"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>d(h.id,"deny"),children:"Deny"})]})]},h.id))})]})]})},St=S.forwardRef(({className:t,type:e,...n},s)=>l.jsx("input",{type:e,className:jn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));St.displayName="Input";const qz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState(""),[a,o]=S.useState(null),[c,u]=S.useState(!1),[d,h]=S.useState(!1),[m,f]=S.useState(""),[x,b]=S.useState(""),[C,y]=S.useState(""),[p,g]=S.useState(""),v=async()=>{const T={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const _=window.__msalAcquireToken,A="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(_&&A){const k=await _([A]);k&&(T.Authorization=`Bearer ${k}`)}}catch{}return T},w=async(T=!1)=>{h(!0);const _=new URLSearchParams;r&&_.set("q",r),a&&_.set("cursor",String(a)),_.set("limit","50");const A=await v(),P=await(await fetch(`${X}/api/v1/tenants/litigations/${t}?${_.toString()}`,{headers:A})).json();s(T?[...n,...P]:P),u(P.length===50),o(P.length?P[P.length-1].id:null),h(!1)};S.useEffect(()=>{o(null),w(!1)},[r]);const N=async()=>{if(!m||!x)return;const T=await v();await fetch(`${X}/api/v1/tenants/litigations/${t}`,{method:"POST",headers:T,body:JSON.stringify({phone_e164:m,company:x,case_number:C,notes:p})}),f(""),b(""),y(""),g(""),o(null),w(!1)};return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"TCPA Litigation Records"})}),l.jsxs(xe,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(gt,{className:"text-xs",children:"Search"}),l.jsx(St,{placeholder:"Phone, company, case #",value:r,onChange:T=>i(T.target.value)})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-xs",children:"Phone (digits)"}),l.jsx(St,{value:m,onChange:T=>f(T.target.value),placeholder:"e.g. 5618189087"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(gt,{className:"text-xs",children:"Company"}),l.jsx(St,{value:x,onChange:T=>b(T.target.value),placeholder:"Company name"})]}),l.jsxs("div",{children:[l.jsx(gt,{className:"text-xs",children:"Case #"}),l.jsx(St,{value:C,onChange:T=>y(T.target.value),placeholder:"Optional"})]}),l.jsx("div",{className:"md:col-span-2 flex items-end",children:l.jsx(ie,{onClick:N,children:"Add"})})]}),d&&n.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((T,_)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},_))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No litigation records"}):l.jsxs("div",{className:"space-y-2",children:[n.map(T=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[T.phone_e164,"  ",T.company]}),l.jsxs("div",{className:"text-gray-600",children:["Case: ",T.case_number||"","  Status: ",T.status]})]})},T.id)),c&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(ie,{variant:"outline",onClick:()=>w(!0),children:"Load more"})})]})]})]})},Kz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState({}),[a,o]=S.useState(!1),c=async()=>{const m={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const f=window.__msalAcquireToken,x="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(f&&x){const b=await f([x]);b&&(m.Authorization=`Bearer ${b}`)}}catch{}return m},u=async()=>{o(!0);const m=await c(),x=await(await fetch(`${X}/api/v1/tenants/dnc-samples/${t}?only_gaps=true&limit=200`,{headers:m})).json();s(x),o(!1)};S.useEffect(()=>{u()},[]);const d=S.useMemo(()=>Object.entries(r).filter(([,m])=>m).map(([m])=>Number(m)),[r]),h=async()=>{if(d.length===0)return;const m=await c();await fetch(`${X}/api/v1/tenants/dnc-samples/${t}/bulk_add_to_dnc`,{method:"POST",headers:m,body:JSON.stringify({ids:d})}),i({}),u()};return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"National DNC Gaps (not in org DNC)"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(ie,{variant:"outline",onClick:h,disabled:d.length===0,children:"Add selected to DNC"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",d.length]})]}),a?l.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((m,f)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},f))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No gaps found."}):l.jsx("div",{className:"space-y-2",children:n.map(m=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!r[m.id],onChange:f=>i({...r,[m.id]:f.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:m.phone_e164}),l.jsxs("div",{className:"text-gray-600",children:["Sample: ",new Date(m.sample_date).toLocaleString()]})]})]})},m.id))})]})]})},$z=({request:t,onBack:e})=>{var g,v,w,N,T,_,A,k,P,R,I,H,G,M,Y,Z,B,K,D,Q,J,de;const[n,s]=S.useState(!1),[r,i]=S.useState(null),[a,o]=S.useState(null),[c,u]=S.useState([]),[d,h]=S.useState(""),[m,f]=S.useState(!1),[x,b]=S.useState({}),[C,y]=S.useState(!1);S.useEffect(()=>{(async()=>{var ve,we,oe,he,le,ge;s(!0),i(null);try{const L={};try{const z=await at(`${X}/api/check_number`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})});L.dnc={listed:!!(z!=null&&z.is_dnc)}}catch{}try{const z=await at(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(ve=z==null?void 0:z.data)==null?void 0:ve.is_on_dnc;ae===null?L.ringcentral={listed:null,status:"unknown"}:L.ringcentral={listed:ae||!1}}catch{}try{const z=await at(`${X}/api/v1/convoso/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(we=z==null?void 0:z.data)==null?void 0:we.is_on_dnc;ae===null?L.convoso={listed:null,status:"unknown"}:L.convoso={listed:ae||!1}}catch{}try{const z=await at(`${X}/api/v1/ytel/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(oe=z==null?void 0:z.data)==null?void 0:oe.is_on_dnc;ae===null?L.ytel={listed:null,status:"unknown"}:L.ytel={listed:ae||!1}}catch{}try{const z=await at(`${X}/api/v1/logics/search-by-phone`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=((le=(he=z==null?void 0:z.data)==null?void 0:he.raw_response)==null?void 0:le.Data)||[];L.logics={listed:ae.length>0,count:ae.length,cases:ae},u(ae)}catch{}try{const z=await at(`${X}/api/v1/genesys/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(ge=z==null?void 0:z.data)==null?void 0:ge.is_on_dnc;ae===null?L.genesys={listed:null,status:"unknown"}:L.genesys={listed:ae||!1}}catch{}o({phone_number:t.phone_e164,providers:L})}catch(L){i(L instanceof Error?L.message:"Failed to load details")}finally{s(!1)}})()},[t.id]);const p=async se=>{if(se==="approve"){f(!0),i(null),y(!1);const ve=["RingCentral","Convoso","Ytel","Genesys","Logics","DNC History"],we={};ve.forEach(oe=>{we[oe]="pending"}),b(we);try{b(he=>({...he,"DNC History":"loading"})),await at(`${X}/api/v1/tenants/dnc-requests/${t.id}/approve`,{method:"POST",body:JSON.stringify({notes:d})}),b(he=>({...he,"DNC History":"success"}));const oe=["RingCentral","Convoso","Ytel","Genesys","Logics"];for(const he of oe)b(le=>({...le,[he]:"loading"})),await new Promise(le=>setTimeout(le,1e3)),b(le=>({...le,[he]:"success"}));y(!0),setTimeout(()=>{e()},3e3)}catch(oe){i(oe instanceof Error?oe.message:"Approval failed"),b(he=>{const le={...he};return Object.keys(le).forEach(ge=>{le[ge]==="loading"&&(le[ge]="error")}),le})}finally{f(!1)}}else try{await at(`${X}/api/v1/tenants/dnc-requests/${t.id}/deny`,{method:"POST",body:JSON.stringify({notes:d})}),e()}catch(ve){i(ve instanceof Error?ve.message:"Denial failed")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-semibold",children:["Request #",t.id]}),l.jsx(ie,{variant:"outline",onClick:e,children:"Back"})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Request Info"})}),l.jsx(xe,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone_e164]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Channel:"})," ",t.channel||"n/a"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Reason:"})," ",t.reason||""]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Requested by:"})," #",t.requested_by_user_id]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Systems Check"})}),l.jsx(xe,{children:n?"Loading":a?l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsx("div",{className:"flex items-center gap-2",children:((v=(g=a.providers)==null?void 0:g.dnc)==null?void 0:v.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((N=(w=a.providers)==null?void 0:w.dnc)==null?void 0:N.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsx("div",{className:"flex items-center gap-2",children:((_=(T=a.providers)==null?void 0:T.ringcentral)==null?void 0:_.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((k=(A=a.providers)==null?void 0:A.ringcentral)==null?void 0:k.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsx("div",{className:"flex items-center gap-2",children:((R=(P=a.providers)==null?void 0:P.convoso)==null?void 0:R.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((H=(I=a.providers)==null?void 0:I.convoso)==null?void 0:H.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsx("div",{className:"flex items-center gap-2",children:((M=(G=a.providers)==null?void 0:G.ytel)==null?void 0:M.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((Z=(Y=a.providers)==null?void 0:Y.ytel)==null?void 0:Z.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics"}),l.jsx("div",{className:"flex items-center gap-2",children:(K=(B=a.providers)==null?void 0:B.logics)!=null&&K.listed?l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 font-medium",children:["Active Case (",a.providers.logics.count," case",a.providers.logics.count!==1?"s":"",")"]}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"No Cases"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsx("div",{className:"flex items-center gap-2",children:((Q=(D=a.providers)==null?void 0:D.genesys)==null?void 0:Q.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((de=(J=a.providers)==null?void 0:J.genesys)==null?void 0:de.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]})]}):l.jsx("div",{className:"text-gray-600 text-sm",children:"No data"})})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsxs(_e,{className:"flex items-center gap-2",children:["Logics Cases",c.length>0&&l.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:[c.length," Active Case",c.length!==1?"s":""]})]})}),l.jsx(xe,{children:n?"Loading":c.length?l.jsx("div",{className:"space-y-3",children:c.map((se,ve)=>l.jsxs("div",{className:"border border-blue-200 rounded-lg p-3 bg-blue-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded font-medium",children:"ACTIVE CASE"}),l.jsxs("span",{className:"font-semibold text-blue-900",children:["Case #",se.CaseID]})]}),l.jsx("a",{href:`https://tps.logiqs.com/Cases/Case.aspx?CaseID=${se.CaseID}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",children:"View in Logics "})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:[se.FirstName,se.MiddleName,se.LastName].filter(Boolean).join(" ")||"N/A"})]}),se.Email&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:se.Email})]}),se.CreatedDate&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:new Date(se.CreatedDate).toLocaleString()})]}),se.TaxAmount&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tax Amount:"}),l.jsxs("span",{className:"ml-1 text-gray-900",children:["$",se.TaxAmount.toLocaleString()]})]}),se.StatusID&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:se.StatusID})]})]})]},ve))}):l.jsxs("div",{className:"text-gray-600 text-sm text-center py-4",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:""}),"No Logics cases found"]})})]})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Decision"})}),l.jsxs(xe,{children:[r&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:r}),C&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"font-medium",children:"Request approved successfully!"})]}),l.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Number has been added to DNC lists and will appear in DNC History. This window will close automatically."})]}),m&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"font-medium",children:"Approving request and pushing to systems..."})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(x).map(([se,ve])=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-700",children:se}),l.jsxs("div",{className:"flex items-center gap-2",children:[ve==="pending"&&l.jsx("span",{className:"text-gray-400",children:" Pending"}),ve==="loading"&&l.jsx("span",{className:"text-blue-600",children:" Processing..."}),ve==="success"&&l.jsx("span",{className:"text-green-600",children:" Success"}),ve==="error"&&l.jsx("span",{className:"text-red-600",children:" Failed"})]})]},se))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(St,{placeholder:"Decision notes (optional)",value:d,onChange:se=>h(se.target.value),disabled:m}),l.jsx(ie,{onClick:()=>p("approve"),className:"bg-green-600 hover:bg-green-700",disabled:m,children:m?"Approving...":"Approve"}),l.jsx(ie,{variant:"outline",onClick:()=>p("deny"),disabled:m,children:"Deny"})]})]})]})]})},Yz=({phone:t,requestedBy:e,reason:n,submitted:s,systemsCheckResults:r,onApprove:i,onCancel:a})=>{const[o,c]=S.useState(""),[u,d]=S.useState(!1),[h,m]=S.useState({ringcentral:!0,convoso:!0,ytel:!0,logics:!0,genesys:!0,dnc:!0}),f=(p,g)=>m(v=>({...v,[p]:g})),x=["dnc","ringcentral","convoso","ytel","logics","genesys"],b=p=>{var g,v;return!!((v=(g=r==null?void 0:r.providers)==null?void 0:g[p])!=null&&v.listed)},C=x.filter(p=>h[p]),y=async()=>{d(!0),await i(o,C),d(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Approve DNC Request?"}),l.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[l.jsxs("div",{children:["Phone: ",l.jsx("span",{className:"font-medium",children:t})]}),e&&l.jsxs("div",{children:["Requested by: ",e]}),n&&l.jsxs("div",{children:["Reason: ",n]}),s&&l.jsxs("div",{children:["Submitted: ",s]})]}),l.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"Current Status Across Systems"}),l.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:x.map(p=>l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"capitalize",children:p==="dnc"?"National DNC":p}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`px-1 py-0.5 rounded ${b(p)?"bg-green-100 text-green-800":r?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:r?b(p)?"On DNC":"Not Listed":"Unknown"}),l.jsx("input",{type:"checkbox",checked:h[p],onChange:g=>f(p,g.target.checked),disabled:b(p)})]})]},p))}),l.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:["Will update ",C.length," of ",x.length," systems"]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-xs text-gray-700 mb-1",children:"Decision Notes (optional)"}),l.jsx(qi,{value:o,onChange:p=>c(p.target.value),rows:3})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ie,{variant:"outline",onClick:a,children:"Cancel"}),l.jsx(ie,{onClick:y,disabled:u||!r,children:u?"Approving":"Approve & Propagate Selected"})]})]})})},Qz=({phone:t,onReject:e,onCancel:n})=>{const[s,r]=S.useState(""),[i,a]=S.useState(!1),[o,c]=S.useState(null),u=async()=>{if(!s.trim()){c("Rejection notes are required");return}c(null),a(!0),await e(s),a(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Reject DNC Request?"}),l.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Phone: ",l.jsx("span",{className:"font-medium",children:t})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-xs text-gray-700 mb-1",children:"Please provide a reason for rejection"}),l.jsx(qi,{value:s,onChange:d=>r(d.target.value),rows:3}),o&&l.jsx("div",{className:"text-xs text-red-600 mt-1",children:o})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ie,{variant:"outline",onClick:n,children:"Cancel"}),l.jsx(ie,{onClick:u,disabled:i,children:i?"Rejecting":"Reject Request"})]})]})})};function Xz(t,e=[]){let n=[];function s(i,a){const o=S.createContext(a),c=n.length;n=[...n,a];const u=h=>{var y;const{scope:m,children:f,...x}=h,b=((y=m==null?void 0:m[t])==null?void 0:y[c])||o,C=S.useMemo(()=>x,Object.values(x));return l.jsx(b.Provider,{value:C,children:f})};u.displayName=i+"Provider";function d(h,m){var b;const f=((b=m==null?void 0:m[t])==null?void 0:b[c])||o,x=S.useContext(f);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>S.createContext(a));return function(o){const c=(o==null?void 0:o[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return r.scopeName=t,[s,Jz(r,...e)]}function Jz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var kv="Progress",Ov=100,[Zz,X3]=Xz(kv),[Wz,e3]=Zz(kv),sR=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=t3,...a}=t;(r||r===0)&&!kS(r)&&console.error(n3(`${r}`,"Progress"));const o=kS(r)?r:Ov;s!==null&&!OS(s,o)&&console.error(s3(`${s}`,"Progress"));const c=OS(s,o)?s:null,u=zd(c)?i(c,o):void 0;return l.jsx(Wz,{scope:n,value:c,max:o,children:l.jsx(_v.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":zd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":aR(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});sR.displayName=kv;var rR="ProgressIndicator",iR=S.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=e3(rR,n);return l.jsx(_v.div,{"data-state":aR(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});iR.displayName=rR;function t3(t,e){return`${Math.round(t/e*100)}%`}function aR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function zd(t){return typeof t=="number"}function kS(t){return zd(t)&&!isNaN(t)&&t>0}function OS(t,e){return zd(t)&&!isNaN(t)&&t<=e&&t>=0}function n3(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ov}\`.`}function s3(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ov} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oR=sR,r3=iR;const jv=S.forwardRef(({className:t,value:e,...n},s)=>l.jsx(oR,{ref:s,className:jn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(r3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));jv.displayName=oR.displayName;const i3=({status:t,className:e})=>{const n={pending:"bg-gray-100 text-gray-800 border border-gray-300",in_progress:"bg-blue-100 text-blue-800 border border-blue-300",success:"bg-green-100 text-green-800 border border-green-300",failed:"bg-red-100 text-red-800 border border-red-300",approved:"bg-green-100 text-green-800 border border-green-300",denied:"bg-red-100 text-red-800 border border-red-300",completed:"bg-green-100 text-green-800 border border-green-300",skipped:"bg-gray-100 text-gray-700 border border-gray-300"};return l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${n[t]} ${e||""}`,children:t.replace("_"," ")})},a3=({requestId:t,phone:e,onClose:n})=>{const[s,r]=S.useState([]),[,i]=S.useState(!0),[,a]=S.useState({}),[o,c]=S.useState({}),u=async()=>{i(!0);try{const f=await at(`${X}/api/v1/tenants/dnc-requests/${t}/status`);a(f.aggregate||{}),r(f.attempts||[])}finally{i(!1)}};S.useEffect(()=>{u();const f=setInterval(u,1e3);return()=>clearInterval(f)},[t]);const d=S.useMemo(()=>{const f=s.filter(C=>C.status!=="skipped"),x=f.length||5,b=f.filter(C=>C.status==="success"||C.status==="failed").length;return Math.round(b/x*100)},[s]),h=f=>!f&&f!==0?"":`${f.toFixed(1)}s`,m=async f=>{c(x=>({...x,[f]:!0}));try{await at(`${X}/api/v1/tenants/propagation/retry`,{method:"POST",body:JSON.stringify({request_id:t,service_key:f,phone_e164:e})}),r(x=>x.map(b=>b.service_key===f?{...b,status:"in_progress",finished_at:null,error_message:void 0}:b)),await u()}catch{}finally{c(x=>({...x,[f]:!1}))}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"font-semibold",children:["Propagating Request #",t,"  ",e]}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Progress: ",d,"%"]}),l.jsx(jv,{value:d})]}),l.jsx("div",{className:"border rounded",children:["ringcentral","convoso","ytel","logics","genesys"].map(f=>{const x=s.find(C=>C.service_key===f),b=(x==null?void 0:x.status)||"pending";return l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-28 font-medium capitalize",children:f}),l.jsx(i3,{status:b})]}),l.jsx("div",{className:"text-xs text-gray-600",children:x!=null&&x.finished_at?new Date(x.finished_at).toLocaleTimeString():x!=null&&x.started_at?"In progress":"Pending"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs text-gray-600 w-12 text-right",children:h(x==null?void 0:x.duration_seconds)}),b==="failed"&&l.jsx(ie,{variant:"outline",onClick:()=>m(f),disabled:!!o[f],children:o[f]?"Retrying":"Retry"})]})]},f)})}),l.jsx("div",{className:"mt-3 flex justify-end gap-2",children:l.jsx(ie,{variant:"outline",onClick:n,children:"Close"})})]})})},o3=({organizationId:t,adminUserId:e})=>{var le,ge;const[n,s]=S.useState([]),[r,i]=S.useState(!1),[a,o]=S.useState(null),[c,u]=S.useState("pending"),[d,h]=S.useState(""),[m,f]=S.useState(""),[x,b]=S.useState(""),[C,y]=S.useState(null),[p,g]=S.useState(!1),[v,w]=S.useState({}),[N,T]=S.useState(""),[_,A]=S.useState({}),[k,P]=S.useState(null),[R,I]=S.useState({}),[H,G]=S.useState(new Set),[M,Y]=S.useState(new Set),[Z,B]=S.useState(null),[K,D]=S.useState(null),[Q,J]=S.useState(null),de=async(L=!1)=>{i(!0),o(null);try{const z=new URLSearchParams;c&&z.set("status",c),L&&C&&z.set("cursor",String(C)),z.set("limit","50"),console.log(" FETCHING PENDING REQUESTS:",{organizationId:t,status:c,cursor:C,append:L});const ae=await at(`${X}/api/v1/tenants/dnc-requests/org/${t}?${z.toString()}`);console.log(" PENDING REQUESTS LOADED:",ae),s(L?[...n,...ae]:ae),g(ae.length===50),y(ae.length?ae[ae.length-1].id:null)}catch(z){console.error(" FAILED TO LOAD REQUESTS:",z),o(z instanceof Error?z.message:"Failed to load")}finally{i(!1)}};S.useEffect(()=>{y(null),de(!1)},[c]),S.useEffect(()=>{(async()=>{try{console.log(" LOADING USERS for organization:",t);const L=await at(`${X}/api/v1/tenants/users`),z={};L.forEach(ae=>{z[ae.id]=ae}),A(z),console.log(" USERS LOADED:",z)}catch(L){console.error(" FAILED TO LOAD USERS:",L),A({})}})()},[]);const se=async(L,z,ae,Ee)=>{Y(Te=>new Set(Te).add(L));try{console.log(` ${z.toUpperCase()} REQUEST:`,L);let Te=`${X}/api/v1/tenants/dnc-requests/${L}/${z}`,wt="POST";z==="approve"&&(Te=`${X}/api/v1/tenants/dnc-requests/${L}/decide`,wt="PATCH");const $t=JSON.stringify(z==="approve"?{decision:"approved",notes:ae??N,propagate_to:Ee||void 0}:{notes:ae??N}),Yt=await at(Te,{method:wt,body:$t});if(console.log(` ${z.toUpperCase()} SUCCESS:`,Yt),await de(!1),pn.success(z==="approve"?"Request approved successfully!":"Request denied"),z==="approve"){const E=n.find(j=>j.id===L);E&&J({requestId:E.id,phone:E.phone_e164})}}catch(Te){console.error(` ${z.toUpperCase()} FAILED:`,Te),o(Te instanceof Error?Te.message:"Action failed"),pn.error(`${z==="approve"?"Approval":"Denial"} failed`)}finally{Y(Te=>{const wt=new Set(Te);return wt.delete(L),wt})}},ve=S.useMemo(()=>Object.entries(v).filter(([,L])=>L).map(([L])=>Number(L)),[v]),we=async L=>{if(ve.length!==0)try{if(L==="approve"){pn.info(`Checking systems for ${ve.length} requests before approval...`);const Ee=n.filter(Te=>ve.includes(Te.id));for(const Te of Ee)await oe(Te.phone_e164);await new Promise(Te=>setTimeout(Te,3e3))}const z=`${X}/api/v1/tenants/dnc-requests/bulk/${L}`;console.log(` BULK ${L.toUpperCase()}:`,ve);const ae=await at(z,{method:"POST",body:JSON.stringify({ids:ve,notes:N})});console.log(` BULK ${L.toUpperCase()} SUCCESS:`,ae),w({}),await de(!1),pn.success(`${L==="approve"?"Approved":"Denied"} ${ve.length} requests successfully!`)}catch(z){console.error(` BULK ${L.toUpperCase()} FAILED:`,z),pn.error(`Bulk ${L} failed: ${z instanceof Error?z.message:"Unknown error"}`)}},oe=async L=>{var ae,Ee,Te,wt,$t,Yt;if(H.has(L))return;G(E=>new Set(E).add(L));const z={};try{try{const E=await fetch(`${X}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json();z.dnc={listed:!!(j!=null&&j.is_dnc)}}}catch{}try{const E=await fetch(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(ae=j==null?void 0:j.data)==null?void 0:ae.is_on_dnc;U===null?z.ringcentral={listed:null,status:"unknown"}:z.ringcentral={listed:U||!1}}}catch{}try{const E=await fetch(`${X}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(Ee=j==null?void 0:j.data)==null?void 0:Ee.is_on_dnc;U===null?z.convoso={listed:null,status:"unknown"}:z.convoso={listed:U||!1}}}catch{}try{const E=await fetch(`${X}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(Te=j==null?void 0:j.data)==null?void 0:Te.is_on_dnc;U===null?z.ytel={listed:null,status:"unknown"}:z.ytel={listed:U||!1}}}catch{}try{const E=await fetch(`${X}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(($t=(wt=j==null?void 0:j.data)==null?void 0:wt.raw_response)==null?void 0:$t.Data)||[];z.logics={listed:U.length>0,count:U.length,cases:U}}}catch{}try{const E=await fetch(`${X}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(Yt=j==null?void 0:j.data)==null?void 0:Yt.is_on_dnc;U===null?z.genesys={listed:null,status:"unknown"}:z.genesys={listed:U||!1}}}catch{}I(E=>({...E,[L]:{phone_number:L,providers:z}}))}finally{G(E=>{const j=new Set(E);return j.delete(L),j})}},he=L=>L===!0?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):L===!1?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"});return k?l.jsx($z,{organizationId:t,adminUserId:e,request:k,onBack:()=>{P(null),de(!1)}}):l.jsxs(l.Fragment,{children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Pending DNC Requests"})}),l.jsxs(xe,{children:[a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-xs",children:"Status"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:c,onChange:L=>u(L.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(gt,{className:"text-xs",children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:m,onChange:L=>f(L.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]}),l.jsxs("div",{children:[l.jsx(gt,{className:"text-xs",children:"Requester"}),l.jsx(St,{value:x,onChange:L=>b(L.target.value),placeholder:"name or email"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(gt,{className:"text-xs",children:"Search phone"}),l.jsx(St,{value:d,onChange:L=>h(L.target.value),placeholder:"digits only"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(St,{placeholder:"Decision notes (optional)",value:N,onChange:L=>T(L.target.value)}),l.jsx(ie,{variant:"outline",onClick:()=>we("approve"),disabled:ve.length===0,children:"Approve selected"}),l.jsx(ie,{variant:"outline",onClick:()=>we("deny"),disabled:ve.length===0,children:"Deny selected"}),l.jsx(ie,{variant:"outline",onClick:()=>{n.filter(z=>z.status==="pending").map(z=>z.phone_e164).forEach(z=>oe(z))},disabled:H.size>0,children:"Check All Systems"})]}),r&&n.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((L,z)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},z))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests"}):l.jsxs("div",{className:"space-y-2",children:[n.filter(L=>{if(d&&!L.phone_e164.includes(d)||m&&L.channel!==m)return!1;if(x){const z=_[L.requested_by_user_id];if(!`${(z==null?void 0:z.name)||""} ${(z==null?void 0:z.email)||""}`.toLowerCase().includes(x.toLowerCase()))return!1}return!0}).map(L=>{var Ee,Te,wt,$t,Yt,E,j,U,re,W,ne,ce,Re,Me,jt,Sn,nn,ws,Mn;const z=R[L.phone_e164],ae=H.has(L.phone_e164);return l.jsxs("div",{className:"border rounded p-3 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!v[L.id],onChange:cn=>w({...v,[L.id]:cn.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-medium",children:[L.phone_e164,"  ",L.channel||"n/a"]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.status==="pending"?"bg-yellow-100 text-yellow-800":L.status==="approved"?"bg-green-100 text-green-800":L.status==="denied"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.status.toUpperCase()}),M.has(L.id)&&l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 animate-pulse",children:"PROCESSING..."})]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",L.reason||"","  Requested by ",((Ee=L.requested_by)==null?void 0:Ee.name)||((Te=_[L.requested_by_user_id])==null?void 0:Te.name)||"User",(wt=L.requested_by)!=null&&wt.email?` (${($t=L.requested_by)==null?void 0:$t.email})`:(Yt=_[L.requested_by_user_id])!=null&&Yt.email?` (${(E=_[L.requested_by_user_id])==null?void 0:E.email})`:""]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"outline",onClick:()=>P(L),children:"View"}),l.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:()=>B(L),disabled:M.has(L.id),children:M.has(L.id)?"Processing...":"Approve"}),l.jsx(ie,{variant:"outline",onClick:()=>D(L),disabled:M.has(L.id),children:M.has(L.id)?"Processing...":"Deny"})]})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Systems Check"}),l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>oe(L.phone_e164),disabled:ae,children:ae?"Checking...":z?"Re-check":"Check Systems"})]}),z?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"National DNC"}),he((U=(j=z.providers)==null?void 0:j.dnc)==null?void 0:U.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"RingCentral"}),he((W=(re=z.providers)==null?void 0:re.ringcentral)==null?void 0:W.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Convoso"}),he((ce=(ne=z.providers)==null?void 0:ne.convoso)==null?void 0:ce.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Ytel"}),he((Me=(Re=z.providers)==null?void 0:Re.ytel)==null?void 0:Me.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Logics"}),(jt=z.providers)!=null&&jt.logics?z.providers.logics.listed?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),((nn=(Sn=z.providers)==null?void 0:Sn.logics)==null?void 0:nn.count)&&l.jsxs("span",{className:"text-xs text-gray-600 mt-1",children:[z.providers.logics.count," case(s)"]})]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Genesys"}),he((Mn=(ws=z.providers)==null?void 0:ws.genesys)==null?void 0:Mn.listed)]})]}):l.jsx("div",{className:"text-sm text-gray-500 italic",children:'Click "Check Systems" to see DNC status across all CRM systems'})]})]},L.id)}),p&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(ie,{variant:"outline",onClick:()=>de(!0),children:"Load more"})})]})]})]}),Z&&l.jsx(Yz,{phone:Z.phone_e164,requestedBy:((le=_[Z.requested_by_user_id])==null?void 0:le.name)||((ge=_[Z.requested_by_user_id])==null?void 0:ge.email),reason:Z.reason,submitted:Z.created_at,systemsCheckResults:R[Z.phone_e164],onApprove:async(L,z)=>{await se(Z.id,"approve",L,z),B(null)},onCancel:()=>B(null)}),K&&l.jsx(Qz,{phone:K.phone_e164,onReject:async L=>{await se(K.id,"deny",L),D(null)},onCancel:()=>D(null)}),Q&&l.jsx(a3,{requestId:Q.requestId,phone:Q.phone,onClose:()=>J(null)})]})},dn=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},l3=({initialPhones:t})=>{var Z,B,K,D,Q,J,de,se,ve,we;const[e,n]=S.useState((t==null?void 0:t[0])||""),[s,r]=S.useState(!1),[i,a]=S.useState(null),[o,c]=S.useState(null),[u,d]=S.useState(null),[h,m]=S.useState({}),[f,x]=S.useState(!1),[b,C]=S.useState(null),[y,p]=S.useState(null),[g,v]=S.useState(null),w=async()=>{var he,le,ge,L,z;if(!e.trim())return;r(!0),a(null),c(null),p(null),C(null),v(null);const oe={};try{try{const ae=await fetch(`${X}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json();oe.dnc={listed:!!(Ee!=null&&Ee.is_dnc)}}}catch{}try{const ae=await fetch(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json(),Te=(he=Ee==null?void 0:Ee.data)==null?void 0:he.is_on_dnc;Te===null?oe.ringcentral={listed:null,status:"unknown"}:oe.ringcentral={listed:Te||!1}}}catch{}try{const ae=await fetch(`${X}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json(),Te=(le=Ee==null?void 0:Ee.data)==null?void 0:le.is_on_dnc;Te===null?oe.convoso={listed:null,status:"unknown"}:oe.convoso={listed:Te||!1}}}catch{}try{const ae=await fetch(`${X}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json(),Te=(ge=Ee==null?void 0:Ee.data)==null?void 0:ge.is_on_dnc;Te===null?oe.ytel={listed:null,status:"unknown"}:oe.ytel={listed:Te||!1}}}catch{}try{const ae=await fetch(`${X}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json(),Te=((L=Ee==null?void 0:Ee.data)==null?void 0:L.cases)||[];oe.logics={listed:Te.length>0,count:Te.length,cases:Te}}}catch{}try{const ae=await fetch(`${X}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const Ee=await ae.json(),Te=(z=Ee==null?void 0:Ee.data)==null?void 0:z.is_on_dnc;Te===null?oe.genesys={listed:null,status:"unknown"}:oe.genesys={listed:Te||!1}}}catch{}c({phone_number:e,providers:oe}),Y(e)}catch(ae){a(ae instanceof Error?ae.message:"Failed systems check")}finally{r(!1)}},N=(oe,he)=>oe===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):oe===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),T=(o==null?void 0:o.providers)||{},_=async()=>{if(o){d("ringcentral");try{const oe=await fetch(`${X}/api/v1/ringcentral/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await oe.text();let le=he;try{le=JSON.parse(he)}catch{}m(ge=>({...ge,ringcentral:{provider:"ringcentral",ok:oe.ok,status:oe.status,body:le,at:new Date().toISOString()}})),await w()}finally{d(null)}}},A=async()=>{if(o){d("convoso");try{const oe=await fetch(`${X}/api/v1/convoso/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await oe.text();let le=he;try{le=JSON.parse(he)}catch{}m(ge=>({...ge,convoso:{provider:"convoso",ok:oe.ok,status:oe.status,body:le,at:new Date().toISOString()}})),await w()}finally{d(null)}}},k=async()=>{if(o){d("ytel");try{const oe=await fetch(`${X}/api/v1/ytel/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await oe.text();let le=he;try{le=JSON.parse(he)}catch{}m(ge=>({...ge,ytel:{provider:"ytel",ok:oe.ok,status:oe.status,body:le,at:new Date().toISOString()}})),await w()}finally{d(null)}}},P=async()=>{var he,le,ge;if(!(!o||!((ge=(le=(he=T.logics)==null?void 0:he.cases)==null?void 0:le[0])!=null&&ge.CaseID))){d("logics");try{const L=await fetch(`${X}/api/v1/logics/add-to-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),z=await L.text();let ae=z;try{ae=JSON.parse(z)}catch{}m(Ee=>({...Ee,logics:{provider:"logics",ok:L.ok,status:L.status,body:ae,at:new Date().toISOString()}})),await w()}finally{d(null)}}},R=async()=>{var oe,he,le;o&&((oe=T.ringcentral)!=null&&oe.listed||await _(),(he=T.convoso)!=null&&he.listed||await A(),await k(),(le=T.logics)!=null&&le.listed||await P())},I=async oe=>{try{const he=await fetch(`${X}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:oe})});if(!he.ok)return;const le=await he.text();let ge=le;try{ge=JSON.parse(le)}catch{}m(L=>({...L,logics_lookup:{provider:"logics_lookup",ok:!0,status:200,body:ge,at:new Date().toISOString()}})),c(L=>{var ae;if(!L)return L;const z=Array.isArray((ae=ge==null?void 0:ge.data)==null?void 0:ae.cases)?ge.data.cases:[];return{...L,providers:{...L.providers,logics:{listed:z.length>0,count:z.length,cases:z}}}})}catch{}},H=async oe=>{const he=(oe||e||"").trim();if(he)try{const le=await fetch(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),ge=await le.text();let L=ge;try{L=JSON.parse(ge)}catch{}m(z=>({...z,ringcentral_lookup:{provider:"ringcentral_lookup",ok:le.ok,status:le.status,body:L,at:new Date().toISOString()}}))}catch{}},G=async oe=>{const he=(oe||e||"").trim();if(he)try{const le=await fetch(`${X}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),ge=await le.text();let L=ge;try{L=JSON.parse(ge)}catch{}m(z=>({...z,convoso_lookup:{provider:"convoso_lookup",ok:le.ok,status:le.status,body:L,at:new Date().toISOString()}}))}catch{}},M=async oe=>{const he=(oe||e||"").trim();if(he)try{const le=await fetch(`${X}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),ge=await le.text();let L=ge;try{L=JSON.parse(ge)}catch{}m(z=>({...z,ytel_lookup:{provider:"ytel_lookup",ok:le.ok,status:le.status,body:L,at:new Date().toISOString()}}))}catch{}},Y=async oe=>{var le;const he=(oe||e||"").trim();if(he){x(!0),C(null),p(null),v(null);try{const L=await(await fetch(`${X}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_numbers:[he]})})).text();let z=L;try{z=JSON.parse(L)}catch{}v(z);const ae=(le=z==null?void 0:z.results)==null?void 0:le[0],Ee=typeof(ae==null?void 0:ae.is_dnc)=="boolean"?ae.is_dnc:Array.isArray(z==null?void 0:z.matches)?z.matches.length>0:null;p(Ee)}catch(ge){C(ge instanceof Error?ge.message:"Failed DNC check")}finally{x(!1)}}};return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Systems Check"})}),l.jsxs(xe,{children:[i&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:i}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx(St,{placeholder:"Enter phone (any format)",value:e,onChange:oe=>n(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&w()}}),l.jsx(ie,{onClick:w,disabled:s,children:s?"Checking":"Run Check"})]}),o&&l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:o.phone_number}),s&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),s&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsxs("div",{className:"flex items-center gap-2",children:[f?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"}):y===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):y===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>Y(o.phone_number),disabled:f,children:"Check"})]})]}),(b||g)&&l.jsx("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:b?l.jsx("div",{className:"text-red-600",children:b}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-1",children:"DNC API Response"}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof g=="string"?g:JSON.stringify(g,null,2)})]})}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((Z=T.ringcentral)==null?void 0:Z.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>H(o.phone_number),children:"Lookup"}),!((B=T.ringcentral)!=null&&B.listed)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:_,disabled:u==="ringcentral",children:"Push"})]})]}),h.ringcentral_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.ringcentral_lookup.status,")  ",new Date(h.ringcentral_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ringcentral_lookup.body=="string"?h.ringcentral_lookup.body:JSON.stringify(h.ringcentral_lookup.body,null,2)})]}),h.ringcentral&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.ringcentral.status,")  ",new Date(h.ringcentral.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ringcentral.body=="string"?h.ringcentral.body:JSON.stringify(h.ringcentral.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((K=T.convoso)==null?void 0:K.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>G(o.phone_number),children:"Lookup"}),!((D=T.convoso)!=null&&D.listed)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:A,disabled:u==="convoso",children:"Push"})]})]}),h.convoso_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.convoso_lookup.status,")  ",new Date(h.convoso_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.convoso_lookup.body=="string"?h.convoso_lookup.body:JSON.stringify(h.convoso_lookup.body,null,2)})]}),h.convoso&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.convoso.status,")  ",new Date(h.convoso.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.convoso.body=="string"?h.convoso.body:JSON.stringify(h.convoso.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[T.logics?T.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"True"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"False"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((Q=T.logics)==null?void 0:Q.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[T.logics.count," case(s)"]})]}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>I(o.phone_number),children:"Lookup"}),((se=(de=(J=T.logics)==null?void 0:J.cases)==null?void 0:de[0])==null?void 0:se.CaseID)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:P,disabled:u==="logics",children:"Push"})]})]}),h.logics_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.logics_lookup.status,")  ",new Date(h.logics_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.logics_lookup.body=="string"?h.logics_lookup.body:JSON.stringify(h.logics_lookup.body,null,2)})]}),h.logics&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.logics.status,")  ",new Date(h.logics.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.logics.body=="string"?h.logics.body:JSON.stringify(h.logics.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((ve=T.ytel)==null?void 0:ve.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>M(o.phone_number),children:"Lookup"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:k,disabled:u==="ytel",children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((we=T.genesys)==null?void 0:we.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Lookup"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Push"})]})]}),h.ytel_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.ytel_lookup.status,")  ",new Date(h.ytel_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ytel_lookup.body=="string"?h.ytel_lookup.body:JSON.stringify(h.ytel_lookup.body,null,2)})]}),h.ytel&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.ytel.status,")  ",new Date(h.ytel.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ytel.body=="string"?h.ytel.body:JSON.stringify(h.ytel.body,null,2)})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx(ie,{onClick:R,disabled:u!==null,children:"Push DNC to remaining"})}),l.jsxs("div",{className:"mt-3 text-xs text-gray-600 space-y-1",children:[l.jsx("div",{children:l.jsx("strong",{children:"Current behavior:"})}),l.jsx("div",{children:' RingCentral: search blocked list; "Listed" if found on DNC.'}),l.jsx("div",{children:' Convoso: search DNC leads; "Listed" if found on DNC.'}),l.jsx("div",{children:' Logics (TPS): search cases by phone; "Listed" if cases found.'}),l.jsx("div",{children:' Ytel: two-step DNC check; "Listed" if on DNC or global DNC.'}),l.jsx("div",{children:' Genesys: search DNC list; "Listed" if found on DNC.'})]})]})]})]})},c3=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState([]),[a,o]=S.useState({}),[c,u]=S.useState(!1),[d,h]=S.useState(""),[m,f]=S.useState(""),[x,b]=S.useState(""),C=Us(A=>{var k;return((k=A.demoAuth)==null?void 0:k.role)||"member"}),y=async()=>{const A={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const k=window.__msalAcquireToken,P="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(k&&P){const R=await k([P]);R&&(A.Authorization=`Bearer ${R}`)}}catch(k){console.warn("Failed to acquire token:",k)}return A},p=async()=>{u(!0);try{const A=await y();try{const k=await fetch(`${X}/api/v1/tenants/propagation/attempts/${t}`,{headers:A});if(k.ok){const P=await k.json();s(P||[])}else console.warn("Failed to fetch propagation attempts:",k.status,k.statusText),s([])}catch(k){console.error("Error fetching propagation attempts:",k),s([])}try{const k=await fetch(`${X}/api/v1/tenants/dnc-requests/org/${t}?limit=500`,{headers:A});if(k.ok){const P=await k.json();i(P||[])}else console.warn("Failed to fetch DNC requests:",k.status,k.statusText),i([])}catch(k){console.error("Error fetching DNC requests:",k),i([])}try{const k=await fetch(`${X}/api/v1/tenants/users`,{headers:A});if(k.ok){const P=await k.json(),R={};P.forEach(I=>{R[I.id]=I}),o(R)}else console.warn("Failed to fetch users:",k.status,k.statusText)}catch(k){console.error("Error fetching users:",k)}}finally{u(!1)}};S.useEffect(()=>{p()},[]);const g=S.useMemo(()=>{const A={};return n.forEach(R=>{d&&!R.phone_e164.includes(d)||m&&R.service_key!==m||x&&R.status!==x||(A[R.phone_e164]||(A[R.phone_e164]=[]),A[R.phone_e164].push(R))}),Object.keys(A).map(R=>{const I=A[R].sort((K,D)=>new Date(D.started_at).getTime()-new Date(K.started_at).getTime()),H={};I.forEach(K=>{H[K.service_key]||(H[K.service_key]=K)});const G=r.find(K=>K.phone_e164===R),M=a[e],Y=String(C).toLowerCase()==="superadmin",Z=I[0],B=Z?new Date(Z.started_at).getTime():0;return{phone:R,providers:H,requested_by:G?a[G.requested_by_user_id]:Y?M:void 0,approved_by:G&&G.reviewed_by_user_id?a[G.reviewed_by_user_id]:Y?M:void 0,decided_at:G==null?void 0:G.decided_at,most_recent_timestamp:B}}).sort((R,I)=>I.most_recent_timestamp-R.most_recent_timestamp)},[n,r,a,d,m,x]),v=["ringcentral","convoso","ytel","logics","genesys"],w=()=>{const k=[["phone","provider","status","attempt_no","started_at","finished_at","error","requested_by","approved_by"].join(",")];g.forEach(H=>{v.forEach(G=>{const M=H.providers[G];M&&k.push([H.phone,G,M.status,String(M.attempt_no),M.started_at,M.finished_at||"",(M.error_message||"").replace(/\n|\r|,/g," "),H.requested_by?`${H.requested_by.email}`:"",H.approved_by?`${H.approved_by.email}`:""].join(","))})});const P=new Blob([k.join(`
`)],{type:"text/csv"}),R=URL.createObjectURL(P),I=document.createElement("a");I.href=R,I.download="dnc_history_export.csv",I.click(),URL.revokeObjectURL(R)},N=A=>{if(!A)return l.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:""});const k=A==="success"?"bg-green-100 text-green-800":A==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${k}`,children:A})},T=async(A,k)=>{try{if(console.log(` RETRYING ${A.toUpperCase()}:`,k),pn.info(`Retrying ${A} for ${k}...`),A==="ringcentral")await at(`${X}/api/v1/ringcentral/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k,label:"API Block"})});else if(A==="convoso")await at(`${X}/api/v1/convoso/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k})});else if(A==="ytel")await at(`${X}/api/v1/ytel/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k})});else if(A==="genesys")await at(`${X}/api/v1/genesys/dnclists/d4a6a02e-4ab9-495b-a141-4c65aee551db/phonenumbers`,{method:"PATCH",body:JSON.stringify({action:"Add",phone_numbers:[k],expiration_date_time:""})});else if(A==="logics"){pn.warning("Logics retry requires case-specific updates. Use Systems Check flow.");return}console.log(` RETRY SUCCESS: ${A} for ${k}`),pn.success(`Successfully retried ${A} for ${k}`),await p()}catch(P){console.error(` RETRY FAILED: ${A} for ${k}:`,P),pn.error(`Retry failed for ${A}: ${P instanceof Error?P.message:"Unknown error"}`)}},_=async A=>{try{console.log(" RETRYING ALL SERVICES FOR:",A),pn.info(`Retrying all services for ${A}...`);const k=["ringcentral","convoso","ytel","genesys"];for(const P of k)try{await T(P,A),await new Promise(R=>setTimeout(R,1e3))}catch(R){console.error(`Failed to retry ${P} for ${A}:`,R)}console.log(` RETRY ALL COMPLETE: ${A}`),pn.success(`Completed retry for all services for ${A}`),await p()}catch(k){console.error(` RETRY ALL FAILED: ${A}:`,k),pn.error(`Retry all failed for ${A}: ${k instanceof Error?k.message:"Unknown error"}`)}};return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"DNC History Monitor"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-3 text-sm",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Search phone"}),l.jsx("input",{className:"border rounded px-2 py-1",placeholder:"digits",value:d,onChange:A=>h(A.target.value)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Provider"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:m,onChange:A=>f(A.target.value),children:[l.jsx("option",{value:"",children:"Any"}),v.map(A=>l.jsx("option",{value:A,children:A},A))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:x,onChange:A=>b(A.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"success",children:"success"}),l.jsx("option",{value:"failed",children:"failed"}),l.jsx("option",{value:"pending",children:"pending"})]})]}),l.jsx(ie,{onClick:p,disabled:c,children:"Refresh"}),l.jsx(ie,{variant:"outline",onClick:w,children:"Export CSV"})]}),c?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):g.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No DNC history yet."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"p-2 text-left",children:"Phone"}),l.jsx("th",{className:"p-2 text-left",children:"Requested By"}),l.jsx("th",{className:"p-2 text-left",children:"Approved By"}),l.jsx("th",{className:"p-2 text-left",children:"Services"}),l.jsx("th",{className:"p-2 text-left",children:"Last Updated"})]})}),l.jsx("tbody",{children:g.map(A=>{var k;return l.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 font-medium",children:A.phone}),l.jsx("td",{className:"p-2",children:A.requested_by?A.requested_by.name||A.requested_by.email:""}),l.jsx("td",{className:"p-2",children:A.approved_by?A.approved_by.name||A.approved_by.email:""}),l.jsxs("td",{className:"p-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.map(P=>{const R=A.providers[P];return R?l.jsxs("div",{className:"flex items-center gap-1",children:[N(R.status),l.jsx("span",{className:"text-xs text-gray-600 capitalize",children:P}),R.status==="failed"&&l.jsx("button",{className:"text-xs text-blue-600 underline hover:text-blue-800",onClick:()=>T(P,A.phone),title:`Retry ${P} for ${A.phone}`,children:"Retry"})]},P):null}),Object.keys(A.providers).length===0&&l.jsx("span",{className:"text-xs text-gray-400",children:"No services"})]}),Object.keys(A.providers).length>0&&l.jsx("div",{className:"mt-2",children:l.jsx("button",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 transition-colors",onClick:()=>_(A.phone),title:`Retry all services for ${A.phone}`,children:"Retry All"})})]}),l.jsx("td",{className:"p-2 text-xs text-gray-500",children:A.decided_at?new Date(A.decided_at).toLocaleString():(k=Object.values(A.providers).find(P=>P==null?void 0:P.finished_at))!=null&&k.finished_at?new Date(Object.values(A.providers).find(P=>P==null?void 0:P.finished_at).finished_at).toLocaleString():""})]},A.phone)})})]})})]})]})},u3=(t,e)=>{const n={};return t.forEach(s=>{const r=e(s);n[r]||(n[r]=[]),n[r].push(s)}),n},d3=t=>{const e=t.toUpperCase();return["GET","POST","PUT","DELETE","PATCH"].includes(e)?e:null},h3=()=>{const[t,e]=S.useState("5618189087"),[n,s]=S.useState([]),[r,i]=S.useState({}),[a,o]=S.useState({}),[c,u]=S.useState(!1),[d,h]=S.useState(null),[m,f]=S.useState(null),[x,b]=S.useState(void 0),[C,y]=S.useState({}),[p,g]=S.useState({}),v=I=>I.replace(/\{[^/}]+\}/g,encodeURIComponent(t||"")),w=S.useMemo(()=>u3(n,I=>I.tags&&I.tags[0]||I.url.split("/").slice(0,4).join("/")||"Untagged"),[n]),N=async()=>{var I;u(!0),f(null);try{const H=await fetch(`${X}/openapi.json`);if(!H.ok)throw new Error(`OpenAPI fetch failed: ${H.status}`);const G=await H.json(),M=G.servers&&((I=G.servers[0])==null?void 0:I.url)||void 0;b(M);const Y=[],Z=G.paths||{};Object.entries(Z).forEach(([Q,J])=>{Object.entries(J||{}).forEach(([de,se])=>{var wt,$t,Yt,E,j,U,re;const ve=d3(de);if(!ve)return;const we=`${ve}-${Q}`,oe=Array.isArray(se==null?void 0:se.parameters)?se.parameters.filter(W=>(W==null?void 0:W.in)==="query").map(W=>W==null?void 0:W.name).filter(Boolean):[],he=oe.length?`?${oe.map(W=>`${W}={${W}}`).join("&")}`:"",le=`${Q}${he}`,ge=(se==null?void 0:se.summary)||`${ve} ${Q}`,L=Array.isArray(se==null?void 0:se.tags)?se.tags:["Untagged"];let z;try{z=((Yt=($t=(wt=se==null?void 0:se.requestBody)==null?void 0:wt.content)==null?void 0:$t["application/json"])==null?void 0:Yt.example)||((re=(U=(j=(E=se==null?void 0:se.requestBody)==null?void 0:E.content)==null?void 0:j["application/json"])==null?void 0:U.examples)==null?void 0:re[0])}catch{}const ae=!!(se!=null&&se.requestBody),Ee=le.includes("/ringcentral/")&&!le.includes("/auth")?[{id:"rc-auth",name:"RingCentral Auth",url:"/api/ringcentral/auth",method:"POST",tags:["RingCentral"]}]:[],Te=ae?{"Content-Type":"application/json"}:void 0;Y.push({id:we,name:ge,url:le,method:ve,tags:L,description:se==null?void 0:se.description,requestBodyExample:z,headers:Te,prereqs:Ee,hasBody:ae})})});const B=f3(),K=new Set(Y.map(Q=>Q.id)),D=[...Y];B.forEach(Q=>{K.has(Q.id)||(D.push(Q),K.add(Q.id))}),s(D),h(new Date().toISOString())}catch(H){f((H==null?void 0:H.message)||String(H))}finally{u(!1)}};S.useEffect(()=>{N()},[]);const T=I=>{if(/^https?:\/\//i.test(I))return I;const G=(x&&/^https?:\/\//i.test(x)?x:X).replace(/\/$/,""),Y=(I.startsWith("/")?I:`/${I}`).replace(/\{[^/}]+\}/g,encodeURIComponent(t||""));return`${G}${Y}`},_=async(I,H,G,M,Y)=>{const Z=performance.now();try{let B=Y;if(["POST","PUT","PATCH"].includes(H)){const de=C[G];if(de&&de.trim().length)try{B=JSON.parse(de)}catch{}}const K=B!==void 0?typeof B=="string"?B:JSON.stringify(jS(B)):void 0,D=await fetch(T(k(G)),{method:H,headers:M,body:K}),Q=await D.text();let J=Q;try{J=JSON.parse(Q)}catch{}return{title:I,ok:D.ok,status:D.status,ms:Math.round(performance.now()-Z),body:J}}catch(B){return{title:I,ok:!1,status:0,ms:Math.round(performance.now()-Z),body:String((B==null?void 0:B.message)||B)}}},A=I=>{const H=I.indexOf("?");return H===-1?[]:I.slice(H+1).split("&").map(M=>M.split("=")[0]).filter(Boolean)},k=I=>{const H=p[I];if(!H||Object.keys(H).length===0)return I;const G=I.indexOf("?"),M=G===-1?I:I.slice(0,G),Y=new URLSearchParams(G===-1?"":I.slice(G+1));Object.entries(H).forEach(([B,K])=>{K==null||String(K).trim()===""||Y.set(B,String(K))});const Z=Y.toString();return Z?`${M}?${Z}`:M},P=async I=>{o(B=>({...B,[I.id]:!0}));const H=[],G=performance.now();if(I.prereqs&&I.prereqs.length)for(const B of I.prereqs){const K=v(B.url||"")||v(I.url),D=await _(B.name||"OAuth / Prereq",B.method||"GET",K,B.headers);if(H.push(D),!D.ok)break}if(H.every(B=>B.ok)){const B=v(I.url),K=await _("API Call",I.method,B,I.headers,I.hasBody?I.requestBodyExample:void 0);H.push(K)}const M=Math.round(performance.now()-G),Y=H.length>0&&H.every(B=>B.ok),Z={id:I.id,ok:Y,totalMs:M,steps:H,when:new Date().toISOString()};i(B=>({...B,[I.id]:Z})),o(B=>({...B,[I.id]:!1}))},R=I=>l.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${I==="GET"?"bg-green-100 text-green-800":I==="POST"?"bg-blue-100 text-blue-800":I==="PUT"?"bg-yellow-100 text-yellow-800":I==="DELETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:I});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"API Endpoint Tester"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"Test Value (replaces path parameters in URLs)"}),l.jsx(St,{value:t,onChange:I=>e(I.target.value),placeholder:"5618189087"})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:N,disabled:c,children:c?"Syncing":"Sync with OpenAPI"}),l.jsx("div",{className:"text-xs text-gray-600",children:d?`Last synced: ${new Date(d).toLocaleTimeString()}  ${n.length} endpoints`:"Not synced yet"})]})]}),m&&l.jsx("div",{className:"text-sm text-red-600 mt-2",children:m})]})]}),Object.entries(w).map(([I,H])=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:[I,"  ",H.length]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:H.map(G=>{const M=r[G.id],Y=["POST","PUT","PATCH"].includes(G.method),Z=G.url.includes("?"),B=JSON.stringify(jS(G.requestBodyExample??{phoneNumber:"{phoneNumber}"}),null,2);return l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsxs(_e,{className:"flex items-center justify-between text-base",children:[l.jsx("span",{children:G.name}),R(G.method)]})}),l.jsxs(xe,{children:[G.description&&l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:G.description}),l.jsx("div",{className:"text-xs font-mono break-all bg-gray-50 border rounded p-2 mb-2",children:v(G.url)}),Z&&l.jsxs("div",{className:"mb-2 space-y-1",children:[l.jsx("div",{className:"text-xs text-gray-600",children:"Query Parameters"}),A(G.url).map(K=>{var D;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs w-32 text-gray-700",children:K}),l.jsx(St,{value:((D=p[G.url])==null?void 0:D[K])??"",onChange:Q=>g(J=>({...J,[G.url]:{...J[G.url]||{},[K]:Q.target.value}})),placeholder:K==="phoneNumber"?t:""})]},K)})]}),Y&&G.hasBody&&l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Request JSON Body"}),l.jsx("textarea",{className:"w-full text-xs font-mono border rounded p-2 bg-white",rows:6,defaultValue:B,onChange:K=>y(D=>({...D,[G.url]:K.target.value}))})]}),l.jsx("div",{className:"flex items-center justify-end gap-2",children:l.jsx(ie,{onClick:()=>P(G),disabled:!!a[G.id],children:a[G.id]?"Testing":"Test"})}),M&&l.jsxs("div",{className:"mt-3 border-t pt-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:`flex items-center gap-2 ${M.ok?"text-green-700":"text-red-700"}`,children:l.jsx("span",{className:"font-semibold",children:M.ok?"Success":"Error"})}),l.jsxs("div",{className:"text-xs text-gray-600",children:[new Date(M.when).toLocaleString(),"  ",M.totalMs," ms"]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:M.steps.map((K,D)=>l.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"font-medium",children:[D+1,". ",K.title]}),l.jsxs("div",{className:`text-xs ${K.ok?"text-green-700":"text-red-700"}`,children:[K.ok?"":""," ",K.status,"  ",K.ms," ms"]})]}),l.jsx("pre",{className:"mt-1 text-xs whitespace-pre-wrap break-words",children:typeof K.body=="string"?K.body:JSON.stringify(K.body,null,2)})]},D))})]})]})]},G.id)})})]},I))]})};function Pg(t,e){if(typeof t=="string"){let n=t;return Object.entries(e).forEach(([s,r])=>{n=n.split(`{${s}}`).join(r)}),n}if(Array.isArray(t))return t.map(n=>Pg(n,e));if(t&&typeof t=="object"){const n={};return Object.entries(t).forEach(([s,r])=>{n[s]=Pg(r,e)}),n}return t}function f3(){const t={"Content-Type":"application/json"},e=Object.assign({},t,{"X-Org-Id":"1","X-User-Id":"1","X-Role":"superadmin"});return[{id:"GET-/api/v1/statuses",name:"CRM Statuses",url:"/api/v1/statuses",method:"GET",tags:["Core"]},{id:"POST-/api/check_number",name:"Check Single Number",url:"/api/check_number",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/check_tps_database",name:"Check TPS DB DNC",url:"/api/check_tps_database",method:"POST",tags:["Core"],headers:t,requestBodyExample:{limit:100}},{id:"POST-/api/cases_by_phone",name:"Cases By Phone (TPS)",url:"/api/cases_by_phone",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/run_automation",name:"Run DNC Automation (stub)",url:"/api/run_automation",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/cookies/refresh",name:"Refresh FreeDNC Cookies",url:"/api/cookies/refresh",method:"POST",tags:["Core"]},{id:"GET-/api/v1/tenants/propagation/attempts",name:"Tenant DNC History (by Org)",url:"/api/v1/tenants/propagation/attempts/1",method:"GET",tags:["Tenants"],headers:e},{id:"GET-/api/v1/tenants/system/services",name:"System Services (admin)",url:"/api/v1/tenants/system/services",method:"GET",tags:["Tenants"],headers:e},{id:"POST-/api/v1/tenants/system/test",name:"System Provider Test (admin)",url:"/api/v1/tenants/system/test/{phoneNumber}",method:"POST",tags:["Tenants"],headers:e}]}function jS(t){var s;if(t===void 0)return;const e=((s=document.querySelector('input[placeholder="5618189087"]'))==null?void 0:s.value)||"";return Pg(t,{phoneNumber:e,phone_number:e})}const m3=Ev("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wc({className:t,variant:e,...n}){return l.jsx("div",{className:jn(m3({variant:e}),t),...n})}const eu="https://dnc-backend-bb96.onrender.com",tu=()=>({"X-Org-Id":"1","X-User-Id":"1","X-Role":"admin"});function g3(){const[t,e]=S.useState(null),[n,s]=S.useState([]),[r,i]=S.useState(!0),[a,o]=S.useState(!1),[c,u]=S.useState(null),d=async()=>{try{const C=await fetch(`${eu}/api/v1/dnc-sync/stats`,{headers:tu()});if(C.ok){const y=await C.json();e(y)}}catch(C){console.error("Error fetching sync stats:",C)}},h=async()=>{try{const C=await fetch(`${eu}/api/v1/dnc-sync/sync-jobs?limit=10`,{headers:tu()});if(C.ok){const y=await C.json();s(y)}}catch(C){console.error("Error fetching sync jobs:",C)}},m=async()=>{o(!0),u(null);try{(await fetch(`${eu}/api/v1/dnc-sync/sync-from-convoso`,{method:"POST",headers:{"Content-Type":"application/json",...tu()}})).ok?setTimeout(()=>{d(),h()},2e3):u("Failed to start sync from Convoso")}catch{u("Error starting sync from Convoso")}finally{o(!1)}},f=async()=>{o(!0),u(null);try{(await fetch(`${eu}/api/v1/dnc-sync/sync-to-providers`,{method:"POST",headers:{"Content-Type":"application/json",...tu()},body:JSON.stringify({providers:["ringcentral","genesys","ytel","logics"]})})).ok?setTimeout(()=>{d(),h()},2e3):u("Failed to start sync to providers")}catch{u("Error starting sync to providers")}finally{o(!1)}};S.useEffect(()=>{const C=async()=>{i(!0),await Promise.all([d(),h()]),i(!1)};C();const y=setInterval(C,3e4);return()=>clearInterval(y)},[]);const x=C=>{switch(C){case"completed":return l.jsx(ii,{className:"h-4 w-4 text-green-500"});case"failed":return l.jsx(Sl,{className:"h-4 w-4 text-red-500"});case"running":return l.jsx(Nu,{className:"h-4 w-4 text-blue-500 animate-spin"});case"pending":return l.jsx(Mi,{className:"h-4 w-4 text-yellow-500"});default:return l.jsx(vc,{className:"h-4 w-4 text-gray-500"})}},b=C=>{const y={completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",running:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800"};return l.jsx(Wc,{className:y[C]||"bg-gray-100 text-gray-800",children:C})};return r?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Nu,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading sync data..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"DNC Sync Dashboard"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ie,{onClick:m,disabled:a,className:"flex items-center gap-2",children:[l.jsx(kg,{className:"h-4 w-4"}),"Sync from Convoso"]}),l.jsxs(ie,{onClick:f,disabled:a,variant:"outline",className:"flex items-center gap-2",children:[l.jsx(K4,{className:"h-4 w-4"}),"Sync to Providers"]})]})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(Sl,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Total DNC Entries"}),l.jsx(kg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.total_dnc_entries)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Master DNC list"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Active Sync Jobs"}),l.jsx(Nu,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:n.filter(C=>C.status==="running").length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Total Synced"}),l.jsx(ii,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.synced,0):0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all providers"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Failed Syncs"}),l.jsx(Sl,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.failed,0):0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Provider Sync Status"})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-4",children:t&&Object.entries(t.provider_stats).map(([C,y])=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"font-medium capitalize",children:C}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Wc,{variant:"outline",className:"text-green-600",children:[y.synced," synced"]}),l.jsxs(Wc,{variant:"outline",className:"text-red-600",children:[y.failed," failed"]}),l.jsxs(Wc,{variant:"outline",className:"text-yellow-600",children:[y.pending," pending"]})]})]}),l.jsx("div",{className:"w-32",children:l.jsx(jv,{value:y.total>0?y.synced/y.total*100:0,className:"h-2"})})]},C))})})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Recent Sync Jobs"})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-4",children:n.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[x(C.status),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium capitalize",children:C.job_type.replace("_"," ")}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.processed_entries," / ",C.total_entries," processed"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium",children:[C.successful_syncs," success, ",C.failed_syncs," failed"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(C.created_at).toLocaleString()})]}),b(C.status)]})]},C.id))})})]})]})}const p3=({onPhoneSelect:t})=>{const[e,n]=S.useState([]),[s,r]=S.useState(!0),i=async()=>{try{n([])}catch(c){console.error("Failed to fetch recent searches:",c)}finally{r(!1)}};S.useEffect(()=>{i()},[]);const a=c=>new Date(c).toLocaleString(),o=c=>Object.values(c).some(d=>(d==null?void 0:d.listed)===!0)?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"On DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Clear"});return s?l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Recent Searches"})}),l.jsx(xe,{children:l.jsx("div",{className:"text-center text-gray-500",children:"Loading..."})})]}):e.length===0?l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Recent Searches"})}),l.jsx(xe,{children:l.jsx("div",{className:"text-center text-gray-500",children:"No recent searches found"})})]}):l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Recent Searches"})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-2",children:e.map(c=>{var u;return l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50 cursor-pointer",onClick:()=>t==null?void 0:t(c.phone_number),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm",children:c.phone_number}),((u=c.search_results)==null?void 0:u.providers)&&o(c.search_results.providers)]}),l.jsx("div",{className:"text-xs text-gray-500",children:a(c.created_at)})]}),l.jsx(ie,{size:"sm",variant:"outline",onClick:d=>{d.stopPropagation(),t==null||t(c.phone_number)},children:"Re-check"})]},c.id)})})})]})},y3=()=>{const t=Rv(),{phoneNumbers:e}=Us(g=>g.phoneNumbers),{crmStatuses:n,stats:s}=Us(g=>g.crmStatus),[r,i]=S.useState("pending"),a=1,o=1,[c,u]=S.useState({total:0,success:0,failed:0}),[d,h]=S.useState(0),[m,f]=S.useState(!1);S.useEffect(()=>{t(yl()),t(vl())},[t]);const x=async()=>{const g={"Content-Type":"application/json","X-Org-Id":String(a),"X-User-Id":String(o),"X-Role":"superadmin"};try{const v=window.__msalAcquireToken,w="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(v&&w){const N=await v([w]);N&&(g.Authorization=`Bearer ${N}`)}}catch{}return g},b=async()=>{f(!0);try{const g=await x(),v=await fetch(`${X}/api/v1/tenants/propagation/attempts/${a}?limit=200`,{headers:g});if(v.ok){const N=await v.json(),T=N.length,_=N.filter(k=>k.status==="success").length,A=N.filter(k=>k.status==="failed").length;u({total:T,success:_,failed:A})}else u({total:0,success:0,failed:0});const w=await fetch(`${X}/api/v1/tenants/dnc-entries/${a}`,{headers:g});if(w.ok){const N=await w.json();h(N.length)}else h(0)}catch{u({total:0,success:0,failed:0}),h(0)}finally{f(!1)}};S.useEffect(()=>{b()},[]);const C=e.length,y=n.length,p=g=>{switch(g.toLowerCase()){case"completed":return l.jsx(ii,{className:"w-4 h-4 text-green-600"});case"failed":return l.jsx(Sl,{className:"w-4 h-4 text-red-600"});case"processing":return l.jsx(Mi,{className:"w-4 h-4 text-yellow-600"});case"pending":return l.jsx(Mi,{className:"w-4 h-4 text-blue-600"});default:return l.jsx(Mi,{className:"w-4 h-4 text-gray-600"})}};return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor phone number removals and CRM system status"})]}),l.jsx(ie,{onClick:b,disabled:m,children:"Refresh Data"})]}),l.jsx("div",{className:"border-b",children:l.jsx("nav",{className:"flex flex-wrap gap-2 -mb-px text-sm",children:[{key:"pending",label:"Pending"},{key:"propagation",label:"DNC History"},{key:"systems",label:"Systems Check"},{key:"litigation",label:"Litigation"},{key:"samples",label:"Samples & Gaps"},{key:"overview",label:"Overview"},{key:"tester",label:"Tester"},{key:"sync",label:"Sync"}].map(g=>l.jsx("button",{className:`px-3 py-2 border-b-2 ${r===g.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,onClick:()=>i(g.key),children:g.label},g.key))})}),r==="pending"&&l.jsx(o3,{organizationId:1,adminUserId:1}),r==="propagation"&&l.jsx(c3,{organizationId:1,adminUserId:1}),r==="systems"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(l3,{})}),l.jsx("div",{children:l.jsx(p3,{onPhoneSelect:g=>console.log("Selected phone:",g)})})]}),r==="litigation"&&l.jsx(qz,{organizationId:1,adminUserId:1}),r==="samples"&&l.jsx(Kz,{organizationId:1,adminUserId:1}),r==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Total Phone Numbers"}),l.jsx(to,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:d||C}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m?"Loading...":"Phone numbers in org DNC"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"CRM Status Records"}),l.jsx(kg,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.total||y}),l.jsx("p",{className:"text-xs text-muted-foreground",children:m?"Loading...":"Provider attempts (recent)"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Completed Removals"}),l.jsx(ii,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.success}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully pushed to providers (recent)"})]})]}),l.jsxs(be,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(_e,{className:"text-sm font-medium",children:"Failed Removals"}),l.jsx(Sl,{className:"h-4 w-4 text-red-600"})]}),l.jsxs(xe,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.failed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed provider attempts (recent)"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{children:"Logics Statistics"}),l.jsx(gs,{children:"Removal status for Logics CRM"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.logics).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{children:"Genesys Statistics"}),l.jsx(gs,{children:"Removal status for Genesys CRM"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.genesys).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{children:"Ring Central Statistics"}),l.jsx(gs,{children:"Removal status for Ring Central CRM"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.ringcentral).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{children:"Convoso Statistics"}),l.jsx(gs,{children:"Removal status for Convoso CRM"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.convoso).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{children:"Ytel Statistics"}),l.jsx(gs,{children:"Removal status for Ytel CRM"})]}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.ytel).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]})]})]}),r==="tester"&&l.jsx(h3,{}),r==="sync"&&l.jsx(g3,{})]})},v3=({userId:t})=>{const[e,n]=S.useState([]),[s,r]=S.useState(!1),[i,a]=S.useState(""),[o,c]=S.useState(""),[u,d]=S.useState(null),[h,m]=S.useState(!1),[f,x]=S.useState(null),b=async()=>{const C={"Content-Type":"application/json"};try{const y=window.__msalAcquireToken,p="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(y&&p){const g=await y([p]);g&&(C.Authorization=`Bearer ${g}`)}}catch{}return C};return S.useEffect(()=>{const C=async(y=!1)=>{r(!0);try{let p=f;try{const _=await b(),A=await fetch(`${X}/api/v1/tenants/auth/me`,{headers:_});if(A.ok){const k=await A.json();k!=null&&k.user_id&&(p=Number(k.user_id),f!==p&&x(p))}}catch{}const g=new URLSearchParams;i&&g.set("status",i),o&&g.set("channel",o),u&&g.set("cursor",String(u)),g.set("limit","50");const v=await b(),T=await(await fetch(`${X}/api/v1/tenants/dnc-requests/user/${p||f||t}?${g.toString()}`,{headers:v})).json();n(y?[...e,...T]:T),m(T.length===50),d(T.length?T[T.length-1].id:null)}finally{r(!1)}};d(null),C(!1)},[t,i,o,f]),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Your DNC Requests"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx(gt,{className:"text-sm font-medium text-gray-700",children:"Status"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:C=>a(C.target.value),children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(gt,{className:"text-sm font-medium text-gray-700",children:"Channel"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:C=>c(C.target.value),children:[l.jsx("option",{value:"",children:"All Channels"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{a(""),c("")},children:"Clear Filters"})})]}),s?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):e.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No requests yet."}):l.jsxs("div",{className:"space-y-2",children:[e.map(C=>{const y=p=>{switch(p.toLowerCase()){case"approved":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800 font-medium",children:"Approved"});case"pending":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800 font-medium",children:"Pending"});case"denied":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800 font-medium",children:"Denied"});default:return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-800 font-medium",children:p})}};return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-gray-50",children:[l.jsxs("div",{className:"text-sm flex-1",children:[l.jsxs("div",{className:"font-medium text-gray-900",children:[C.phone_e164,"  ",C.channel||"n/a"]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y(C.status),l.jsx("span",{className:"text-gray-500 text-xs",children:" user request"})]})]}),l.jsx("div",{className:"text-xs text-gray-500 ml-4",children:C.created_at?new Date(C.created_at).toLocaleString():""})]},C.id)}),h&&l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{(async()=>{const y=await b(),v=await(await fetch(`${X}/api/v1/tenants/dnc-requests/user/${f||t}?cursor=${u||""}&limit=50`,{headers:y})).json();n([...e,...v]),m(v.length===50),d(v.length?v[v.length-1].id:null)})()},children:"Load More"})})]})]})]})};function Yf(t){return(t||"").replace(/\D+/g,"")}const b3=({organizationId:t,onClose:e,phoneNumber:n})=>{const[s,r]=S.useState(()=>n?Yf(n):""),[i,a]=S.useState("Customer opt-out"),[o,c]=S.useState("voice"),[u,d]=S.useState(""),[h,m]=S.useState(!1),f=S.useMemo(()=>{const b={};return Yf(s).length<10&&(b.phone="Enter a valid 10+ digit phone number"),i||(b.reason="Select a reason"),o||(b.channel="Select a channel"),b},[s,i,o]),x=async()=>{if(Object.keys(f).length){pn.error("Please fix validation errors");return}m(!0);try{await at(`${X}/api/v1/tenants/dnc-requests/${t}`,{method:"POST",body:JSON.stringify({phone_e164:Yf(s),reason:i,channel:o,notes:u})}),pn.success("Request submitted successfully"),e()}catch(b){pn.error(`Failed to submit: ${(b==null?void 0:b.message)||"Unknown error"}`)}finally{m(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"font-semibold",children:"Request DNC"}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(gt,{children:"Phone Number"}),l.jsx(St,{value:s,onChange:b=>r(b.target.value),placeholder:"(555) 123-4567"}),f.phone&&l.jsx("div",{className:"text-xs text-red-600 mt-1",children:f.phone})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(gt,{children:"Reason"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:i,onChange:b=>a(b.target.value),children:[l.jsx("option",{children:"Customer opt-out"}),l.jsx("option",{children:"Legal request"}),l.jsx("option",{children:"Internal block"}),l.jsx("option",{children:"Litigation risk"})]})]}),l.jsxs("div",{children:[l.jsx(gt,{children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:o,onChange:b=>c(b.target.value),children:[l.jsx("option",{value:"voice",children:"Call"}),l.jsx("option",{value:"sms",children:"SMS"})]})]})]}),l.jsxs("div",{children:[l.jsx(gt,{children:"Notes (optional)"}),l.jsx(qi,{value:u,onChange:b=>d(b.target.value),rows:3})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(ie,{variant:"outline",onClick:e,children:"Cancel"}),l.jsx(ie,{onClick:x,disabled:h,children:h?"Submitting":"Submit"})]})]})]})})},x3=()=>{var nn,ws,Mn,cn,ci,Qn,Wi,ui,yo,vo,bc,ea,ls,xc,Ne,He,Ze;const[t,e]=S.useState(null),[n,s]=S.useState(0),[r,i]=S.useState(!1),[a,o]=S.useState(null),[c,u]=S.useState(null),[d,h]=S.useState(""),m=S.useRef(null),[f,x]=S.useState(""),[b,C]=S.useState(""),[y,p]=S.useState(null),[g,v]=S.useState(null),[w,N]=S.useState(!1),[T,_]=S.useState(!1),[A,k]=S.useState(""),[P,R]=S.useState(null),[I,H]=S.useState(null),[G,M]=S.useState(null),[Y]=S.useState(!1),[Z,B]=S.useState(!1),[K]=S.useState("systems"),[D,Q]=S.useState(""),[J,de]=S.useState(null),[se,ve]=S.useState(!1),[we,oe]=S.useState(!1),[he,le]=S.useState(!1),[ge,L]=S.useState(""),z=localStorage.getItem("role")||"user",ae=["admin","superadmin","owner"].includes(z),Ee=V=>{var qe;const pe=(qe=V.target.files)==null?void 0:qe[0];pe&&pe.type==="text/csv"?(e(pe),o(null)):o("Please select a valid CSV file")},Te=V=>{V.preventDefault()},wt=V=>{V.preventDefault();const pe=V.dataTransfer.files[0];pe&&pe.type==="text/csv"?(e(pe),o(null)):o("Please drop a valid CSV file")},$t=async()=>{if(t){i(!0),o(null),h("Uploading CSV file...");try{const V=new FormData;V.append("file",t),V.append("column_index",n.toString()),V.append("format","json"),h("Processing CSV with DNC checking...");const pe=await fetch(`${X}/api/dnc/process`,{method:"POST",body:V});if(!pe.ok){const tt=await pe.json();throw new Error(tt.detail||"Failed to process file")}const qe=await pe.json();console.log("API Response:",qe),h("Downloading processed results...");const Ke=`${X}/api/dnc${qe.file}`;console.log("Downloading from:",Ke);const $e=await fetch(Ke);if(!$e.ok)throw new Error("Failed to download processed file");const Qt=await $e.text(),di=Yt(Qt);u(di),h("Processing complete!")}catch(V){o(V instanceof Error?V.message:"An error occurred"),h("")}finally{i(!1)}}},Yt=V=>{const pe=V.split(`
`);if(pe.length<2)return[];const qe=pe[0].split(",").map($e=>$e.trim().replace(/"/g,"")),Ke=[];for(let $e=1;$e<pe.length;$e++)if(pe[$e].trim()){const Qt=pe[$e].split(",").map(tt=>tt.trim().replace(/"/g,"")),di={};qe.forEach((tt,rt)=>{di[tt]=Qt[rt]||""}),Ke.push(di)}return Ke},E=()=>{if(!c)return;const V=[Object.keys(c[0]),...c.map($e=>Object.values($e))].map($e=>$e.map(Qt=>`"${Qt}"`).join(",")).join(`
`),pe=new Blob([V],{type:"text/csv"}),qe=window.URL.createObjectURL(pe),Ke=document.createElement("a");Ke.href=qe,Ke.download=`dnc_results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),window.URL.revokeObjectURL(qe)},j=async()=>{if(f.trim()){N(!0),o(null),p(null);try{const V=await fetch(`${X}/api/dnc/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:f.trim()})});if(!V.ok){const qe=await V.json();throw new Error(qe.detail||"Failed to check phone number")}const pe=await V.json();p(pe)}catch(V){o(V instanceof Error?V.message:"An error occurred")}finally{N(!1)}}},U=async()=>{if(b.trim()){_(!0),o(null),v(null);try{const V=b.split(/[,\n\s]+/).map(Ke=>Ke.trim()).filter(Ke=>Ke.length>0);if(V.length===0)throw new Error("No valid phone numbers found");if(V.length>1e3)throw new Error("Maximum 1000 phone numbers per batch");const pe=await fetch(`${X}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_numbers:V})});if(!pe.ok){const Ke=await pe.json();throw new Error(Ke.detail||"Failed to check batch phone numbers")}const qe=await pe.json();v(qe)}catch(V){o(V instanceof Error?V.message:"An error occurred")}finally{_(!1)}}},re=async()=>{if(A.trim()){B(!0),o(null),R(null);try{const V=await fetch(`${X}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:A.trim()})});if(!V.ok){const qe=await V.json();throw new Error(qe.detail||"Failed to fetch TPS cases")}const pe=await V.json();R(pe.cases||[])}catch(V){o(V instanceof Error?V.message:"Failed to fetch TPS cases")}finally{B(!1)}}},W=V=>{if(!V)return"";try{const pe=new Date(V);return Number.isNaN(pe.getTime())?"":pe.toLocaleString()}catch{return""}},ne=async()=>{if(I)try{const V=await fetch(`${X}/api/dnc/run_automation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:I})});if(!V.ok){const pe=await V.json();throw new Error(pe.detail||"Automation failed to start")}}catch(V){o(V instanceof Error?V.message:"Automation failed")}},ce=async()=>{var pe,qe,Ke,$e,Qt,di;if(!D.trim())return;ve(!0),o(null),de(null),oe(!1);const V={};try{try{const tt=await fetch(`${X}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json();V.dnc={listed:!!(rt!=null&&rt.is_dnc)}}}catch{}try{const tt=await fetch(`${X}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json(),un=(pe=rt==null?void 0:rt.data)==null?void 0:pe.is_on_dnc;un===null?V.ringcentral={listed:null,status:"unknown"}:V.ringcentral={listed:un||!1}}}catch{}try{const tt=await fetch(`${X}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json(),un=(qe=rt==null?void 0:rt.data)==null?void 0:qe.is_on_dnc;un===null?V.convoso={listed:null,status:"unknown"}:V.convoso={listed:un||!1}}}catch{}try{const tt=await fetch(`${X}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json(),un=(Ke=rt==null?void 0:rt.data)==null?void 0:Ke.is_on_dnc;un===null?V.ytel={listed:null,status:"unknown"}:V.ytel={listed:un||!1}}}catch{}try{const tt=await fetch(`${X}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json(),un=((Qt=($e=rt==null?void 0:rt.data)==null?void 0:$e.raw_response)==null?void 0:Qt.Data)||[];V.logics={listed:un.length>0,count:un.length,cases:un}}}catch{}try{const tt=await fetch(`${X}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(tt.ok){const rt=await tt.json(),un=(di=rt==null?void 0:rt.data)==null?void 0:di.is_on_dnc;un===null?V.genesys={listed:null,status:"unknown"}:V.genesys={listed:un||!1}}}catch{}de({phone_number:D,providers:V})}catch(tt){o(tt instanceof Error?tt.message:"Failed systems check")}finally{ve(!1)}},Re=()=>{e(null),s(0),u(null),x(""),C(""),p(null),v(null),Q(""),de(null),o(null),h(""),m.current&&(m.current.value="")},Me=(V,pe)=>V===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):V===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),jt=V=>{L(V||D||""),le(!0)},Sn=()=>{le(!1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DNC Checker"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys) to ensure compliance and avoid calling restricted numbers."})]}),l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:K==="quick"?"Quick Phone Number Check":K==="systems"?"Systems Check":"TPS2 Database Check"}),l.jsx("p",{className:"text-gray-600",children:K==="quick"?"Check individual phone numbers or batches without CSV upload":K==="systems"?"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys)":"Find possible DNC matches from TPS and view case details"})]}),l.jsxs(xe,{className:"space-y-4",children:[K==="quick"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(gt,{htmlFor:"single-phone",children:"Single Phone Number"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(St,{id:"single-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:f,onChange:V=>x(V.target.value),className:"flex-1"}),l.jsx(ie,{onClick:j,disabled:!f.trim()||w,className:"bg-blue-600 hover:bg-blue-700",children:w?"Checking...":"Check"})]}),y&&l.jsxs("div",{className:`p-3 rounded-lg border ${y.is_dnc?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[l.jsxs("div",{className:"font-medium",children:[y.phone_number,": ",y.is_dnc?"Yes - On DNC List":"No - Not on DNC"]}),l.jsx("div",{className:"text-sm opacity-75",children:y.notes})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(gt,{htmlFor:"batch-phones",children:"Batch Phone Numbers"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(qi,{id:"batch-phones",placeholder:`Enter phone numbers separated by commas, spaces, or new lines
Example:
5173715410
555-000-1234
555-111-5678`,value:b,onChange:V=>C(V.target.value),rows:4,className:"font-mono text-sm"}),l.jsx(ie,{onClick:U,disabled:!b.trim()||T,className:"bg-blue-600 hover:bg-blue-700 w-full",children:T?"Checking...":`Check ${b.split(/[,\n\s]+/).filter(V=>V.trim()).length} Numbers`})]}),g&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:g.results.map((V,pe)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${V.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("span",{className:"font-medium",children:V.phone_number}),":",l.jsx("span",{className:V.is_dnc?"text-red-700":"text-green-700",children:V.is_dnc?" DNC":" Safe"})]},pe))})]})]})]}),K==="systems"&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(gt,{htmlFor:"systems-phone",children:"Phone Number"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(St,{id:"systems-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:D,onChange:V=>Q(V.target.value),className:"flex-1"}),l.jsx(ie,{onClick:ce,disabled:!D.trim()||se,className:"bg-blue-600 hover:bg-blue-700",children:se?"Checking...":"Check All Systems"})]}),J&&l.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:J.phone_number}),se&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsx("div",{className:"flex items-center gap-2",children:Me((ws=(nn=J.providers)==null?void 0:nn.dnc)==null?void 0:ws.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsx("div",{className:"flex items-center gap-2",children:Me((cn=(Mn=J.providers)==null?void 0:Mn.ringcentral)==null?void 0:cn.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsx("div",{className:"flex items-center gap-2",children:Me((Qn=(ci=J.providers)==null?void 0:ci.convoso)==null?void 0:Qn.listed)})]}),l.jsxs("div",{className:"border rounded p-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[(Wi=J.providers)!=null&&Wi.logics?J.providers.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Active Case"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((yo=(ui=J.providers)==null?void 0:ui.logics)==null?void 0:yo.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[J.providers.logics.count," case(s)"]})]}),((bc=(vo=J.providers)==null?void 0:vo.logics)==null?void 0:bc.cases)&&J.providers.logics.cases.length>0&&l.jsx("button",{onClick:()=>oe(!we),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:we?"Hide Details":"Show Details"})]})]}),we&&((ls=(ea=J.providers)==null?void 0:ea.logics)==null?void 0:ls.cases)&&J.providers.logics.cases.length>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Case Details:"}),l.jsx("div",{className:"space-y-1",children:J.providers.logics.cases.map((V,pe)=>l.jsx("div",{className:"bg-gray-50 p-2 rounded text-xs",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Case ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:V.CaseID||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:V.StatusID||"N/A"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:[V.FirstName,V.MiddleName,V.LastName].filter(Boolean).join(" ")||"N/A"})]}),V.Email&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:V.Email})]}),V.CreatedDate&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:new Date(V.CreatedDate).toLocaleString()})]}),V.TaxAmount&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tax Amount:"}),l.jsxs("span",{className:"ml-1 text-gray-900",children:["$",V.TaxAmount.toLocaleString()]})]})]})},pe))})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsx("div",{className:"flex items-center gap-2",children:Me((Ne=(xc=J.providers)==null?void 0:xc.ytel)==null?void 0:Ne.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsx("div",{className:"flex items-center gap-2",children:Me((Ze=(He=J.providers)==null?void 0:He.genesys)==null?void 0:Ze.listed)})]})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-600",children:l.jsxs("div",{children:[l.jsx("strong",{children:"Note:"})," This shows DNC status across all systems.",ae?" You can add numbers to DNC lists directly from the Admin Dashboard.":" Only admins can add numbers to DNC lists."]})}),!ae&&l.jsx(ie,{onClick:()=>jt(J.phone_number),className:"bg-red-600 hover:bg-red-700 text-white text-sm px-4 py-2",children:"Request DNC"})]})]})]})}),K==="tps"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(gt,{htmlFor:"tps-phone",children:"TPS (Logiqs) Cases"})}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(St,{id:"tps-phone",type:"tel",placeholder:"Enter phone number",value:A,onChange:V=>k(V.target.value),className:"flex-1"}),l.jsx(ie,{onClick:re,disabled:Z,className:"bg-purple-600 hover:bg-purple-700",children:Z?"Finding cases":"Find cases"})]}),P&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Found ",P.length," case(s)"]}),l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:P.map((V,pe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",V.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",W(V.CreatedDate)," | Last Modified: ",W(V.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:V.StatusName||`Status ${V.StatusID}`})]},pe))})]})]})]})]})}),K==="tps"&&I&&l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(_e,{className:"text-purple-700",children:I}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{onClick:ne,className:"bg-red-600 hover:bg-red-700",children:"RUN DNC Automation"}),l.jsx(ie,{variant:"outline",onClick:()=>{H(null),M(null)},children:"Close"})]})]}),l.jsx(gs,{children:"All cases for this number with created/last modified/status."})]}),l.jsx(xe,{children:Y?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading cases..."}):l.jsx("div",{className:"space-y-2",children:G&&G.length>0?l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:G.map((V,pe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",V.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",W(V.CreatedDate)," | Last Modified: ",W(V.LastModifiedDate)]})]}),l.jsxs("div",{className:"text-xs text-gray-700",children:[V.StatusName||`Status ${V.StatusID}`,"  ",V.PhoneType]})]},pe))}):l.jsx("div",{className:"text-sm text-gray-600",children:"No cases found for this number."})})})]})}),K==="csv"&&l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(be,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ae,{children:[l.jsxs(_e,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(Ig,{className:"h-5 w-5"}),"Upload CSV File"]}),l.jsx(gs,{children:"Drag and drop your CSV file here, or click to browse"})]}),l.jsx(xe,{children:l.jsxs("div",{className:`relative p-8 text-center transition-colors ${t?"bg-blue-50":"bg-gray-50"}`,onDragOver:Te,onDrop:wt,children:[l.jsx("input",{ref:m,type:"file",accept:".csv",onChange:Ee,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ig,{className:"h-12 w-12 mx-auto text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:t?`Selected: ${t.name}`:"Click to select or drag and drop CSV file"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Only CSV files are supported"})]})]})})]})}),K==="csv"&&l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{className:"text-blue-600",children:"Phone Number Column"}),l.jsx(gs,{children:"Specify which column contains the phone numbers (0-based index)"})]}),l.jsx(xe,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(gt,{htmlFor:"columnIndex",children:"Column Index:"}),l.jsx(St,{id:"columnIndex",type:"number",min:"0",value:n,onChange:V=>s(parseInt(V.target.value)||0),className:"w-20"}),l.jsx("span",{className:"text-sm text-gray-500",children:"(0 = first column, 1 = second column, etc.)"})]})})]})}),K==="csv"&&l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:l.jsx(ie,{onClick:$t,disabled:!t||r,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Og,{className:"h-5 w-5 mr-2"}),"Process DNC Check"]})})}),K==="csv"&&d&&l.jsx(Pt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[l.jsx(ii,{className:"h-4 w-4 mr-2"}),d]})}),a&&l.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center p-4 bg-red-100 border border-red-300 rounded-lg",children:[l.jsx(vc,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:a}),l.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:l.jsx($4,{className:"h-4 w-4"})})]}),K==="csv"&&c&&l.jsxs(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{className:"text-green-600",children:"Processing Results"})}),l.jsx(xe,{children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),l.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.filter(V=>V.DNC_Status==="DNC_MATCH").length}),l.jsx("div",{className:"text-sm text-red-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(V=>V.DNC_Status==="SAFE").length}),l.jsx("div",{className:"text-sm text-green-600",children:"Safe to Call"})]})]})})]}),l.jsx("div",{className:"text-center",children:l.jsxs(ie,{onClick:E,className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(V4,{className:"h-4 w-4 mr-2"}),"Download Results CSV"]})}),l.jsxs(be,{children:[l.jsxs(Ae,{children:[l.jsx(_e,{className:"text-blue-600",children:"Results in JSON Format"}),l.jsx(gs,{children:"Processed data from FreeDNCList.com API"})]}),l.jsx(xe,{children:l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto max-h-96",children:l.jsx("pre",{className:"text-sm",children:JSON.stringify(c,null,2)})})})]}),l.jsx("div",{className:"text-center",children:l.jsx(ie,{onClick:Re,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Process Another File"})})]}),he&&l.jsx(b3,{organizationId:Number(localStorage.getItem("org_id")||"1"),onClose:Sn,phoneNumber:ge})]})},S3=({activeTab:t,onTabChange:e})=>{var v,w;const{role:n,organizationId:s,userId:r}=Us(N=>N.demoAuth),i=Rv(),a=N=>N==="admin"||N==="superadmin",o=N=>N==="superadmin",[c,u]=S.useState(""),[d,h]=S.useState(""),[m,f]=S.useState(null),x=m||d||c||n,b=o(x),C=a(x),[y,p]=S.useState(""),g=S.useRef(!1);return S.useEffect(()=>{var N;try{const T=window.__msalInstance,_=(N=T==null?void 0:T.getAllAccounts)==null?void 0:N.call(T)[0];_&&p(_.name||_.username||"")}catch{}(async()=>{if(!g.current){try{const T={"Content-Type":"application/json"},_=window.__msalAcquireToken,A="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";let k="";_&&A&&(k=await _([A]),k&&(T.Authorization=`Bearer ${k}`)),console.log(" Auth headers being sent:",T);const P=await fetch(`${X}/api/v1/tenants/auth/me`,{headers:T});if(P.ok){const R=await P.json();console.log(" Auth response:",R);const I=String(R.role||"").toLowerCase();if(console.log(" Backend role:",I),I){u(I),d||h(I),I!==n&&i(Zc(I)),g.current=!0;return}}if(k)try{const R=JSON.parse(atob(k.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),I=Array.isArray(R.roles)?R.roles.map(M=>String(M).toLowerCase()):[],H=new Set(I.map(M=>M.replace(/[^a-z0-9]/g,"")));let G="member";I.includes("all")||I.includes("superadmin")||H.has("superadmin")?G="superadmin":I.includes("owner")||H.has("owner")?G="owner":(I.includes("approve_requests")||I.includes("admin")||H.has("admin"))&&(G="admin"),u(G),d||h(G),G!==n&&i(Zc(G))}catch{}}catch{}g.current=!0}})()},[]),l.jsx("nav",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(to,{className:"h-6 w-6 text-blue-600"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TRA DNC Portal"})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsxs(ie,{variant:t==="main"?"default":"ghost",onClick:()=>e("main"),className:"flex items-center space-x-2",children:[l.jsx(G4,{className:"h-4 w-4"}),l.jsx("span",{children:"Main View"})]}),l.jsxs(ie,{variant:t==="dnc-checker"?"default":"ghost",onClick:()=>e("dnc-checker"),className:"flex items-center space-x-2",children:[l.jsx(Og,{className:"h-4 w-4"}),l.jsx("span",{children:"DNC Checker"})]}),!C&&l.jsxs(ie,{variant:t==="requests"?"default":"ghost",onClick:()=>e("requests"),className:"flex items-center space-x-2",children:[l.jsx(Og,{className:"h-4 w-4"}),l.jsx("span",{children:"My Requests"})]}),C&&l.jsxs(ie,{variant:t==="admin"?"default":"ghost",onClick:()=>e("admin"),className:"flex items-center space-x-2",children:[l.jsx(K_,{className:"h-4 w-4"}),l.jsx("span",{children:"Admin"})]}),b&&l.jsxs(ie,{variant:t==="settings"?"default":"ghost",onClick:()=>e("settings"),className:"flex items-center space-x-2",children:[l.jsx(wS,{className:"h-4 w-4"}),l.jsx("span",{children:"Settings"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[d==="superadmin"&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("span",{children:"Role:"}),l.jsxs("select",{value:x,onChange:N=>{const T=N.target.value;f(T),i(Zc(T))},className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"member",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-700 mr-2",children:[y&&l.jsx("span",{className:"mr-2 truncate max-w-[220px]",title:y,children:y}),l.jsx("span",{className:"px-2 py-0.5 border rounded bg-gray-50",children:x})]}),l.jsxs(ie,{variant:"outline",size:"sm",onClick:async()=>{var T,_;const N="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";try{const A=window.__msalAcquireToken,k=window.__msalLogout,P=window.__msalInstance,R=(((T=P==null?void 0:P.getAllAccounts)==null?void 0:T.call(P))||[]).length>0;if(!R&&A){await A([N]);const I=(_=P==null?void 0:P.getAllAccounts)==null?void 0:_.call(P)[0];I&&p(I.name||I.username||"");const H={"X-Role":String(n),"X-Org-Id":String(s),"X-User-Id":String(r)};try{const M=window.__msalAcquireToken;if(M&&N){const Y=await M([N]);Y&&(H.Authorization=`Bearer ${Y}`)}}catch{}const G=await fetch(`${X}/api/v1/tenants/auth/me`,{headers:H});if(G.ok){const M=await G.json();u(M.role),M.role&&i(Zc(M.role))}}else R&&k&&(await k(),p(""),u(""))}catch{}},children:[l.jsx(wS,{className:"h-4 w-4 mr-2"}),(w=(v=window.__msalInstance)==null?void 0:v.getAllAccounts)!=null&&w.call(v).length?"Sign Out":"Sign In"]})]})]})})})},IS=(t,e,n)=>({"Content-Type":"application/json","X-Role":t,"X-Org-Id":String(e||1),"X-User-Id":String(n||1)}),C3=()=>{const{role:t,organizationId:e,userId:n}=Us(D=>D.demoAuth),s=t==="superadmin",[r]=S.useState(!0),[i,a]=S.useState([]),[o,c]=S.useState([]),[u,d]=S.useState(""),[h,m]=S.useState(""),[f,x]=S.useState({}),[b,C]=S.useState(!1),[y,p]=S.useState("5551234567"),[g,v]=S.useState(""),[w,N]=S.useState(""),[T,_]=S.useState(!1),[A,k]=S.useState(!1),[P,R]=S.useState("");S.useEffect(()=>{!r||!s||(async()=>{try{const D=await H(),Q=await fetch(`${X}/api/v1/tenants/system/services`,{headers:D});Q.ok&&a(await Q.json());const J=await fetch(`${X}/api/v1/tenants/users`,{headers:D});J.ok&&c(await J.json())}catch{}})()},[r,s]);const I=async(D,Q)=>{try{const J=await H();(await fetch(`${X}/api/v1/tenants/system/services/${D}`,{method:"PUT",headers:J,body:JSON.stringify({enabled:Q})})).ok&&a(se=>se.map(ve=>ve.key===D?{...ve,enabled:Q}:ve))}catch{}},H=async()=>{const D=IS(t,e,n);try{const Q=window.__msalAcquireToken,J="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(Q&&J){const de=await Q([J]);de&&(D.Authorization=`Bearer ${de}`)}}catch{}return D},G=async()=>{k(!0),R("");try{const D=await H(),Q=await fetch(`${X}/api/v1/tenants/admin/entra/sync-users`,{method:"POST",headers:D}),J=await Q.json().catch(()=>({}));Q.ok?R(`Synced: upserted ${J.upserted??0}, linked ${J.linked??0}`):R(`Error: ${J.detail||Q.status}`)}catch(D){R(`Error: ${D.message}`)}finally{k(!1)}},M=async D=>{C(!0),v("");try{const J=await(await fetch(`${X}/api/v1/tenants/system/test/${D}`,{method:"POST",headers:IS(t,e,n),body:JSON.stringify({phone_e164:y})})).json();v(`${D}: ${J.success?"OK":"FAILED"} (${J.status_code})
${J.response||""}`)}catch(Q){v(`${D}: ERROR ${Q.message}`)}finally{C(!1)}},Y=async()=>{_(!0),N("");try{const D=await H(),J=await(await fetch(`${X}/api/v1/ringcentral/auth/status`,{headers:D})).json();N(JSON.stringify(J,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},Z=async()=>{_(!0);try{const D=await H(),J=await(await fetch(`${X}/api/v1/ringcentral/dnc/list`,{headers:D})).json();N(JSON.stringify(J,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},B=async()=>{_(!0);try{const D=encodeURIComponent(y),Q=await H(),de=await(await fetch(`${X}/api/v1/ringcentral/dnc/search/${D}`,{headers:Q})).json();N(JSON.stringify(de,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},K=async()=>{_(!0);try{const D=await H(),Q=`${X}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(y)}&label=${encodeURIComponent("API Block")}`,de=await(await fetch(Q,{method:"POST",headers:D})).json();N(JSON.stringify(de,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}};return s&&r?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Providers"})}),l.jsx(xe,{children:l.jsx("div",{className:"space-y-2",children:i.map(D=>l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("span",{className:"capitalize",children:D.key}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:D.enabled?"Enabled":"Disabled"}),l.jsx("input",{type:"checkbox",checked:D.enabled,onChange:Q=>I(D.key,Q.target.checked)})]})]},D.key))})})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Test Endpoints"})}),l.jsxs(xe,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(St,{value:y,onChange:D=>p(D.target.value),placeholder:"E.164 or digits"})}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["ringcentral","convoso","ytel","logics"].map(D=>l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>M(D),disabled:b,children:D},D))}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:g||"Run a test to see response here."})]})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Directory Sync (Entra  DB)"})}),l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{size:"sm",onClick:G,disabled:A,children:A?"Syncing":"Sync Entra users"}),P&&l.jsx("span",{className:"text-sm text-gray-600",children:P})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requires Graph app permissions and superadmin role."})]})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Maintenance"})}),l.jsxs(xe,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ie,{size:"sm",variant:"destructive",onClick:async()=>{if(confirm("Delete ALL DNC requests? This cannot be undone."))try{const D=await H(),Q=await fetch(`${X}/api/v1/tenants/admin/purge/dnc-requests`,{method:"POST",headers:D}),J=await Q.json().catch(()=>({}));alert(Q.ok?`Deleted ${J.deleted??0} request(s)`:J.detail||"Failed")}catch(D){alert(`Error: ${D.message}`)}},children:"Purge DNC requests"})}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Superadmin only. Deletes rows; keeps table."})]})]}),l.jsxs(be,{children:[l.jsx(Ae,{children:l.jsx(_e,{children:"RingCentral Auth & DNC"})}),l.jsxs(xe,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(St,{value:y,onChange:D=>p(D.target.value),placeholder:"Phone to add/search"})}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[l.jsx(ie,{size:"sm",variant:"outline",onClick:Y,disabled:T,children:"Check Auth"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:Z,disabled:T,children:"List Blocked"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:B,disabled:T,children:"Search Blocked"}),l.jsx(ie,{size:"sm",variant:"default",onClick:K,disabled:T,children:"Add to DNC"})]}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:w||"Use the buttons above to interact with RingCentral."})]})]}),l.jsxs(be,{className:"md:col-span-2",children:[l.jsx(Ae,{children:l.jsx(_e,{children:"Users & Roles (minimal)"})}),l.jsx(xe,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(St,{placeholder:"Email",value:u,onChange:D=>d(D.target.value)}),l.jsx(St,{placeholder:"Name",value:h,onChange:D=>m(D.target.value)}),l.jsx(ie,{onClick:async()=>{try{const D=await H(),Q=await fetch(`${X}/api/v1/tenants/users`,{method:"POST",headers:{...D,"Content-Type":"application/json"},body:JSON.stringify({email:u,name:h})});if(Q.ok){const J=await Q.json();c([J,...o]),d(""),m("")}}catch{}},children:"Add"})]}),l.jsx("div",{className:"border rounded divide-y",children:o.map(D=>l.jsxs("div",{className:"p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:D.email}),l.jsx("div",{className:"text-gray-600",children:D.name||""})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:"System Admin"}),l.jsx("input",{type:"checkbox",checked:!!f[D.id],onChange:Q=>x({...f,[D.id]:Q.target.checked})})]})]},D.id))})]})})]})]}):null},MS=()=>{const[t,e]=S.useState(!1),[n,s]=S.useState(null),r="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";S.useEffect(()=>{location.pathname!=="/login"&&window.history.replaceState({},"","/login")},[]);const i=async()=>{s(null),e(!0);try{const a=window.__msalAcquireToken;if(!a)throw new Error("Auth not initialized");await a([r]),location.pathname!=="/"&&window.history.replaceState({},"","/")}catch(a){s((a==null?void 0:a.message)||"Login failed")}finally{e(!1)}};return l.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white border rounded",children:[l.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Sign in"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use your Microsoft account to sign in."}),n&&l.jsx("div",{className:"mb-3 text-sm text-red-600",children:n}),l.jsx(ie,{onClick:i,disabled:t,children:t?"Signing in":"Sign in with Microsoft"})]})},w3=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},T3=()=>{const t=Rv(),{isLoading:e,error:n}=Us(g=>g.phoneNumbers),s=Us(g=>g.demoAuth.role),[r,i]=S.useState("dnc-checker"),[a,o]=S.useState("none"),[c,u]=S.useState([]),[d]=S.useState(null),[h,m]=S.useState(null),[f]=S.useState(!1);S.useEffect(()=>{t(ko());const g=setTimeout(()=>{t(ko())},100);return t(yl()),t(vl()),()=>{clearTimeout(g),t(ko())}},[t]);const x=async(g,v)=>{if(s==="admin"||s==="superadmin"){u(g),o("systems"),t(jo({type:"info",message:'Checking systems Use "Put on DNC List (all remaining)" to push.',duration:5e3}));return}try{const w=await t(Au({phone_numbers:g,notes:v})).unwrap();t(jo({type:"success",message:`Successfully submitted ${w.success_count} phone numbers for removal`,duration:5e3})),w.failed_count>0&&t(jo({type:"warning",message:`${w.failed_count} phone numbers failed validation`,duration:5e3}));const N=g.length;t(e4(N));const T=["logics","genesys","ringcentral","convoso","ytel"];let _=0;o("crm");const A=setInterval(()=>{_++,T.forEach(k=>{const P=Math.min(N,Math.round(_/5*N)),R=_===5?Math.floor(P*.1):0,I=_<5?Math.max(0,N-P):0,H=Math.max(0,N-P-I);t(t4({crm:k,stats:{total:P,pending:H,processing:I,completed:P-R,failed:R}}))}),_>=5&&clearInterval(A)},800);t(ko())}catch{t(jo({type:"error",message:"Failed to submit phone numbers for removal",duration:5e3})),t(ko())}},b=async g=>{try{m({phone:g,cases:[]});const v=await fetch(`${X}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json",...w3()},body:JSON.stringify({phone_number:g})});if(!v.ok)throw new Error("Failed to fetch details");const w=await v.json();m({phone:g,cases:w.cases||[]})}catch(v){t(jo({type:"error",message:v instanceof Error?v.message:"Failed to fetch details",duration:4e3}))}},C=g=>{if(!g)return"";const v=new Date(g);return isNaN(v.getTime())?"":v.toLocaleString()},y=a!=="none",p=()=>{var w;const g=window.__msalInstance;if((((w=g==null?void 0:g.getAllAccounts)==null?void 0:w.call(g))||[]).length===0)return l.jsx(MS,{});switch(r){case"main":return l.jsxs(l.Fragment,{children:[l.jsxs(Pt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TRA Do Not Call List Manager"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Manage phone number removals from Do Not Call lists across multiple CRM systems"})]}),l.jsx("div",{className:`${y?"max-w-7xl":"max-w-3xl"} mx-auto w-full transition-all duration-300`,children:l.jsxs(Pt.div,{layout:!0,transition:{duration:.35,ease:"easeInOut"},className:`grid gap-8 ${y?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"} ${y?"":"justify-items-center"}`,children:[l.jsx(Pt.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:`${y?"":"w-full max-w-3xl"}`,children:l.jsx(Bz,{onNumbersSubmit:x,isLoading:e})}),y&&l.jsxs(Pt.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a==="crm"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(Gz,{organizationId:1,adminUserId:1}),l.jsx(Vz,{})]}),a==="systems"&&l.jsx(Fz,{numbers:c}),a==="precheck"&&d&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:d.results.slice(0,20).map((N,T)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${N.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"} flex items-center justify-between`,children:[l.jsx("span",{className:"font-medium",children:N.phone_number}),l.jsx("span",{className:N.is_dnc?"text-red-700":"text-green-700",children:N.is_dnc?" DNC":" Safe"}),l.jsx("button",{className:"ml-2 px-2 py-1 text-xs border rounded hover:bg-gray-50",onClick:()=>b(N.phone_number),children:"View details"})]},T))}),h&&l.jsxs("div",{className:"p-3 rounded border bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:h.phone}),l.jsx("button",{className:"text-xs text-gray-500 underline",onClick:()=>m(null),children:"Close"})]}),f?l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Loading details..."}):h.cases.length?l.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[l.jsxs("div",{className:"text-gray-700",children:["Cases found: ",h.cases.length]}),l.jsx("div",{className:"max-h-40 overflow-y-auto divide-y",children:h.cases.map((N,T)=>l.jsxs("div",{className:"py-1 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-gray-800",children:["Case ",N.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",C(N.CreatedDate),"  Last Modified: ",C(N.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:N.StatusName||`Status ${N.StatusID}`})]},T))})]}):l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No cases found for this number."})]})]})]})]})}),l.jsx(NH,{children:n&&l.jsx(Pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:"Error:"}),l.jsx("span",{children:n})]})})})]});case"dnc-checker":return l.jsx(x3,{});case"requests":return s==="admin"||s==="superadmin"?l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"No personal requests for admins"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Admins submit removals directly and review member requests on the Admin page."})]}):l.jsxs("div",{children:[l.jsx(Pt.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold mb-4",children:"Your DNC Requests"}),l.jsx(v3,{userId:0})]});case"admin":return s==="admin"||s==="superadmin"?l.jsx(y3,{}):l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"Admin access required"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Switch role to Admin in the top-right selector to view the Admin dashboard."})]});case"settings":return s==="superadmin"?l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"System Settings"}),l.jsx(C3,{})]}):l.jsx(MS,{});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsx(S3,{activeTab:r,onTabChange:i}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p(),l.jsx(Pt.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-16 text-center text-gray-500 text-sm",children:l.jsx("p",{children:"TRA Do Not Call List Management System  Built with React, TypeScript, and FastAPI"})})]})]})},A3=()=>l.jsx(E2,{store:L_,children:l.jsxs(KE,{loading:null,persistor:g4,children:[l.jsx(T3,{}),l.jsx(uP,{position:"top-right",richColors:!0,closeButton:!0,duration:5e3})]})}),Sr=new Fy({auth:{clientId:"a2a6c2c2-cb10-411e-a354-da61bfa4a3b2",authority:"https://login.microsoftonline.com/185fc38c-2c1b-4307-a164-24a4072e83e1",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"localStorage"}});(async()=>{try{await Sr.initialize()}catch(e){console.error("MSAL initialize failed:",e)}window.__msalInstance=Sr;let t=null;window.__msalAcquireToken=async e=>t||(t=(async()=>{try{const n=Sr.getAllAccounts();if(n.length>0)try{const s={account:n[0],scopes:e};return(await Sr.acquireTokenSilent(s)).accessToken}catch{}try{return(await Sr.loginPopup({scopes:e})).accessToken}catch(s){const r=(s==null?void 0:s.errorCode)||(s==null?void 0:s.message)||"";if(String(r).includes("interaction_in_progress"))return null;throw s}}finally{t=null}})(),t),window.__msalLogout=async()=>{try{await Sr.logoutPopup()}catch{await Sr.logoutRedirect()}},aO.createRoot(document.getElementById("root")).render(l.jsx(te.StrictMode,{children:l.jsx(s2,{instance:Sr,children:l.jsx(A3,{})})}))})();
//# sourceMappingURL=index-C-c41xY5.js.map
