var aR=Object.defineProperty;var oR=(t,e,n)=>e in t?aR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mh=(t,e,n)=>oR(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var MS={exports:{}},Bd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lR=Symbol.for("react.transitional.element"),cR=Symbol.for("react.fragment");function PS(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:lR,type:t,key:s,ref:e!==void 0?e:null,props:n}}Bd.Fragment=cR;Bd.jsx=PS;Bd.jsxs=PS;MS.exports=Bd;var l=MS.exports,DS={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=Symbol.for("react.transitional.element"),uR=Symbol.for("react.portal"),dR=Symbol.for("react.fragment"),hR=Symbol.for("react.strict_mode"),fR=Symbol.for("react.profiler"),mR=Symbol.for("react.consumer"),gR=Symbol.for("react.context"),pR=Symbol.for("react.forward_ref"),yR=Symbol.for("react.suspense"),vR=Symbol.for("react.memo"),US=Symbol.for("react.lazy"),kv=Symbol.iterator;function bR(t){return t===null||typeof t!="object"?null:(t=kv&&t[kv]||t["@@iterator"],typeof t=="function"?t:null)}var LS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HS=Object.assign,BS={};function eo(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||LS}eo.prototype.isReactComponent={};eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zS(){}zS.prototype=eo.prototype;function Pg(t,e,n){this.props=t,this.context=e,this.refs=BS,this.updater=n||LS}var Dg=Pg.prototype=new zS;Dg.constructor=Pg;HS(Dg,eo.prototype);Dg.isPureReactComponent=!0;var Ov=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},VS=Object.prototype.hasOwnProperty;function Ug(t,e,n,s,r,i){return n=i.ref,{$$typeof:Mg,type:t,key:e,ref:n!==void 0?n:null,props:i}}function xR(t,e){return Ug(t.type,e,void 0,void 0,void 0,t.props)}function Lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mg}function SR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jv=/\/+/g;function Ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SR(""+t.key):e.toString(36)}function Iv(){}function CR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Iv,Iv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function sa(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mg:case uR:a=!0;break;case US:return a=t._init,sa(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+Ph(t,0):s,Ov(r)?(n="",a!=null&&(n=a.replace(jv,"$&/")+"/"),sa(r,e,n,"",function(u){return u})):r!=null&&(Lg(r)&&(r=xR(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(jv,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=s===""?".":s+":";if(Ov(t))for(var c=0;c<t.length;c++)s=t[c],i=o+Ph(s,c),a+=sa(s,e,n,i,r);else if(c=bR(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=o+Ph(s,c++),a+=sa(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return sa(CR(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function bc(t,e,n){if(t==null)return t;var s=[],r=0;return sa(t,s,"","",function(i){return e.call(n,i,r++)}),s}function wR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function TR(){}je.Children={map:bc,forEach:function(t,e,n){bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!Lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=eo;je.Fragment=dR;je.Profiler=fR;je.PureComponent=Pg;je.StrictMode=hR;je.Suspense=yR;je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct;je.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ct.H.useMemoCache(t)}};je.cache=function(t){return function(){return t.apply(null,arguments)}};je.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=HS({},t.props),r=t.key,i=void 0;if(e!=null)for(a in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!VS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];s.children=o}return Ug(t.type,r,void 0,void 0,i,s)};je.createContext=function(t){return t={$$typeof:gR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:mR,_context:t},t};je.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)VS.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return Ug(t,i,void 0,void 0,null,r)};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:pR,render:t}};je.isValidElement=Lg;je.lazy=function(t){return{$$typeof:US,_payload:{_status:-1,_result:t},_init:wR}};je.memo=function(t,e){return{$$typeof:vR,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=ct.T,n={};ct.T=n;try{var s=t(),r=ct.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(TR,Mv)}catch(i){Mv(i)}finally{ct.T=e}};je.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()};je.use=function(t){return ct.H.use(t)};je.useActionState=function(t,e,n){return ct.H.useActionState(t,e,n)};je.useCallback=function(t,e){return ct.H.useCallback(t,e)};je.useContext=function(t){return ct.H.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t,e){return ct.H.useDeferredValue(t,e)};je.useEffect=function(t,e,n){var s=ct.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(t,e)};je.useId=function(){return ct.H.useId()};je.useImperativeHandle=function(t,e,n){return ct.H.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return ct.H.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ct.H.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ct.H.useMemo(t,e)};je.useOptimistic=function(t,e){return ct.H.useOptimistic(t,e)};je.useReducer=function(t,e,n){return ct.H.useReducer(t,e,n)};je.useRef=function(t){return ct.H.useRef(t)};je.useState=function(t){return ct.H.useState(t)};je.useSyncExternalStore=function(t,e,n){return ct.H.useSyncExternalStore(t,e,n)};je.useTransition=function(){return ct.H.useTransition()};je.version="19.1.1";DS.exports=je;var x=DS.exports;const te=Ig(x);var FS={exports:{}},zd={},GS={exports:{}},qS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,Y){var Z=M.length;M.push(Y);e:for(;0<Z;){var z=Z-1>>>1,K=M[z];if(0<r(K,Y))M[z]=Y,M[Z]=K,Z=z;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var Y=M[0],Z=M.pop();if(Z!==Y){M[0]=Z;e:for(var z=0,K=M.length,D=K>>>1;z<D;){var Q=2*(z+1)-1,X=M[Q],de=Q+1,se=M[de];if(0>r(X,Z))de<K&&0>r(se,X)?(M[z]=se,M[de]=Z,z=de):(M[z]=X,M[Q]=Z,z=Q);else if(de<K&&0>r(se,Z))M[z]=se,M[de]=Z,z=de;else break e}}return Y}function r(M,Y){var Z=M.sortIndex-Y.sortIndex;return Z!==0?Z:M.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,m=!1,S=!1,b=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(M){for(var Y=n(u);Y!==null;){if(Y.callback===null)s(u);else if(Y.startTime<=M)s(u),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(u)}}function w(M){if(b=!1,v(M),!S)if(n(c)!==null)S=!0,N||(N=!0,R());else{var Y=n(u);Y!==null&&G(w,Y.startTime-M)}}var N=!1,T=-1,_=5,A=-1;function k(){return C?!0:!(t.unstable_now()-A<_)}function P(){if(C=!1,N){var M=t.unstable_now();A=M;var Y=!0;try{e:{S=!1,b&&(b=!1,p(T),T=-1),m=!0;var Z=f;try{t:{for(v(M),h=n(c);h!==null&&!(h.expirationTime>M&&k());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=M);if(M=t.unstable_now(),typeof K=="function"){h.callback=K,v(M),Y=!0;break t}h===n(c)&&s(c),v(M)}else s(c);h=n(c)}if(h!==null)Y=!0;else{var D=n(u);D!==null&&G(w,D.startTime-M),Y=!1}}break e}finally{h=null,f=Z,m=!1}Y=void 0}}finally{Y?R():N=!1}}}var R;if(typeof g=="function")R=function(){g(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=P,R=function(){B.postMessage(null)}}else R=function(){y(P,0)};function G(M,Y){T=y(function(){M(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var Z=f;f=Y;try{return M()}finally{f=Z}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(M,Y){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=f;f=M;try{return Y()}finally{f=Z}},t.unstable_scheduleCallback=function(M,Y,Z){var z=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?z+Z:z):Z=z,M){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,M={id:d++,callback:Y,priorityLevel:M,startTime:Z,expirationTime:K,sortIndex:-1},Z>z?(M.sortIndex=Z,e(u,M),n(c)===null&&M===n(u)&&(b?(p(T),T=-1):b=!0,G(w,Z-z))):(M.sortIndex=K,e(c,M),S||m||(S=!0,N||(N=!0,R()))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var Y=f;return function(){var Z=f;f=Y;try{return M.apply(this,arguments)}finally{f=Z}}}})(qS);GS.exports=qS;var AR=GS.exports,KS={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=x;function $S(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pr(){}var bn={d:{f:pr,r:function(){throw Error($S(522))},D:pr,C:pr,L:pr,m:pr,X:pr,S:pr,M:pr},p:0,findDOMNode:null},NR=Symbol.for("react.portal");function _R(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:NR,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var Fo=ER.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=bn;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error($S(299));return _R(t,e,null,n)};xn.flushSync=function(t){var e=Fo.T,n=bn.p;try{if(Fo.T=null,bn.p=2,t)return t()}finally{Fo.T=e,bn.p=n,bn.d.f()}};xn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,bn.d.C(t,e))};xn.prefetchDNS=function(t){typeof t=="string"&&bn.d.D(t)};xn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Vd(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?bn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&bn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};xn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Vd(e.as,e.crossOrigin);bn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&bn.d.M(t)};xn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Vd(n,e.crossOrigin);bn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};xn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Vd(e.as,e.crossOrigin);bn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else bn.d.m(t)};xn.requestFormReset=function(t){bn.d.r(t)};xn.unstable_batchedUpdates=function(t,e){return t(e)};xn.useFormState=function(t,e,n){return Fo.H.useFormState(t,e,n)};xn.useFormStatus=function(){return Fo.H.useHostTransitionStatus()};xn.version="19.1.1";function YS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YS)}catch(t){console.error(t)}}YS(),KS.exports=xn;var QS=KS.exports;const RR=Ig(QS);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lt=AR,XS=x,kR=QS;function $(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function JS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pv(t){if(ql(t)!==t)throw Error($(188))}function OR(t){var e=t.alternate;if(!e){if(e=ql(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Pv(r),t;if(i===s)return Pv(r),e;i=i.sibling}throw Error($(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error($(189))}}if(n.alternate!==s)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function WS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=WS(t),e!==null)return e;t=t.sibling}return null}var rt=Object.assign,jR=Symbol.for("react.element"),xc=Symbol.for("react.transitional.element"),Po=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),eC=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),IR=Symbol.for("react.provider"),tC=Symbol.for("react.consumer"),Qs=Symbol.for("react.context"),Hg=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),Qf=Symbol.for("react.activity"),MR=Symbol.for("react.memo_cache_sentinel"),Dv=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var PR=Symbol.for("react.client.reference");function Xf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===PR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ca:return"Fragment";case Kf:return"Profiler";case eC:return"StrictMode";case $f:return"Suspense";case Yf:return"SuspenseList";case Qf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Po:return"Portal";case Qs:return(t.displayName||"Context")+".Provider";case tC:return(t._context.displayName||"Context")+".Consumer";case Hg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bg:return e=t.displayName||null,e!==null?e:Xf(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Xf(t(e))}catch{}}return null}var Do=Array.isArray,we=XS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Fe=kR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ti={pending:!1,data:null,method:null,action:null},Jf=[],ua=-1;function Us(t){return{current:t}}function Gt(t){0>ua||(t.current=Jf[ua],Jf[ua]=null,ua--)}function ut(t,e){ua++,Jf[ua]=t.current,t.current=e}var js=Us(null),xl=Us(null),Lr=Us(null),Eu=Us(null);function Nu(t,e){switch(ut(Lr,e),ut(xl,t),ut(js,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?zb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=zb(e),t=vT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Gt(js),ut(js,t)}function Ua(){Gt(js),Gt(xl),Gt(Lr)}function Zf(t){t.memoizedState!==null&&ut(Eu,t);var e=js.current,n=vT(e,t.type);e!==n&&(ut(xl,t),ut(js,n))}function _u(t){xl.current===t&&(Gt(js),Gt(xl)),Eu.current===t&&(Gt(Eu),kl._currentValue=Ti)}var Wf=Object.prototype.hasOwnProperty,zg=Lt.unstable_scheduleCallback,Dh=Lt.unstable_cancelCallback,DR=Lt.unstable_shouldYield,UR=Lt.unstable_requestPaint,Is=Lt.unstable_now,LR=Lt.unstable_getCurrentPriorityLevel,nC=Lt.unstable_ImmediatePriority,sC=Lt.unstable_UserBlockingPriority,Ru=Lt.unstable_NormalPriority,HR=Lt.unstable_LowPriority,rC=Lt.unstable_IdlePriority,BR=Lt.log,zR=Lt.unstable_setDisableYieldValue,Kl=null,Hn=null;function Ir(t){if(typeof BR=="function"&&zR(t),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Kl,t)}catch{}}var Bn=Math.clz32?Math.clz32:GR,VR=Math.log,FR=Math.LN2;function GR(t){return t>>>=0,t===0?32:31-(VR(t)/FR|0)|0}var Sc=256,Cc=4194304;function hi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fd(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~i,s!==0?r=hi(s):(a&=o,a!==0?r=hi(a):n||(n=o&~t,n!==0&&(r=hi(n))))):(o=s&~i,o!==0?r=hi(o):a!==0?r=hi(a):n||(n=s&~t,n!==0&&(r=hi(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function $l(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function qR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iC(){var t=Sc;return Sc<<=1,!(Sc&4194048)&&(Sc=256),t}function aC(){var t=Cc;return Cc<<=1,!(Cc&62914560)&&(Cc=4194304),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KR(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Bn(n),h=1<<d;o[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}s!==0&&oC(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function oC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Bn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function lC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Bn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Vg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function cC(){var t=Fe.p;return t!==0?t:(t=window.event,t===void 0?32:_T(t.type))}function $R(t,e){var n=Fe.p;try{return Fe.p=t,e()}finally{Fe.p=n}}var ii=Math.random().toString(36).slice(2),sn="__reactFiber$"+ii,_n="__reactProps$"+ii,to="__reactContainer$"+ii,em="__reactEvents$"+ii,YR="__reactListeners$"+ii,QR="__reactHandles$"+ii,Uv="__reactResources$"+ii,Ql="__reactMarker$"+ii;function Gg(t){delete t[sn],delete t[_n],delete t[em],delete t[YR],delete t[QR]}function da(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[to]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gb(t);t!==null;){if(n=t[sn])return n;t=Gb(t)}return e}t=n,n=t.parentNode}return null}function no(t){if(t=t[sn]||t[to]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Uo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error($(33))}function Aa(t){var e=t[Uv];return e||(e=t[Uv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Vt(t){t[Ql]=!0}var uC=new Set,dC={};function Gi(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(dC[t]=e,t=0;t<e.length;t++)uC.add(e[t])}var XR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lv={},Hv={};function JR(t){return Wf.call(Hv,t)?!0:Wf.call(Lv,t)?!1:XR.test(t)?Hv[t]=!0:(Lv[t]=!0,!1)}function eu(t,e,n){if(JR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function wc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Bs(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var Lh,Bv;function ra(t){if(Lh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lh=e&&e[1]||"",Bv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lh+t+Bv}var Hh=!1;function Bh(t,e){if(!t||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(t,[],h)}else{try{h.call()}catch(m){f=m}t.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ra(n):""}function ZR(t){switch(t.tag){case 26:case 27:case 5:return ra(t.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Bh(t.type,!1);case 11:return Bh(t.type.render,!1);case 1:return Bh(t.type,!0);case 31:return ra("Activity");default:return""}}function zv(t){try{var e="";do e+=ZR(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Zn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WR(t){var e=hC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=WR(t))}function fC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=hC(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var e1=/[\n"\\]/g;function ns(t){return t.replace(e1,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tm(t,e,n,s,r,i,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Zn(e)):t.value!==""+Zn(e)&&(t.value=""+Zn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?nm(t,a,Zn(e)):n!=null?nm(t,a,Zn(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Zn(o):t.removeAttribute("name")}function mC(t,e,n,s,r,i,a,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+Zn(n):"",e=e!=null?""+Zn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function nm(t,e,n){e==="number"&&Ou(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ea(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Zn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function gC(t,e,n){if(e!=null&&(e=""+Zn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Zn(n):""}function pC(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error($(92));if(Do(s)){if(1<s.length)throw Error($(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Zn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var t1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vv(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||t1.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function yC(t,e,n){if(e!=null&&typeof e!="object")throw Error($(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&Vv(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&Vv(t,i,e[i])}function qg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tu(t){return s1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var sm=null;function Kg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,Na=null;function Fv(t){var e=no(t);if(e&&(t=e.stateNode)){var n=t[_n]||null;e:switch(t=e.stateNode,e.type){case"input":if(tm(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ns(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[_n]||null;if(!r)throw Error($(90));tm(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&fC(s)}break e;case"textarea":gC(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ea(t,!!n.multiple,e,!1)}}}var zh=!1;function vC(t,e,n){if(zh)return t(e,n);zh=!0;try{var s=t(e);return s}finally{if(zh=!1,(ha!==null||Na!==null)&&(Wd(),ha&&(e=ha,t=Na,Na=ha=null,Fv(e),t)))for(e=0;e<t.length;e++)Fv(t[e])}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var s=n[_n]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rm=!1;if(or)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){rm=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{rm=!1}var Mr=null,$g=null,nu=null;function bC(){if(nu)return nu;var t,e=$g,n=e.length,s,r="value"in Mr?Mr.value:Mr.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return nu=r.slice(t,1<s?1-s:void 0)}function su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tc(){return!0}function Gv(){return!1}function jn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tc:Gv,this.isPropagationStopped=Gv,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),e}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=jn(qi),Xl=rt({},qi,{view:0,detail:0}),r1=jn(Xl),Vh,Fh,bo,qd=rt({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(Vh=t.screenX-bo.screenX,Fh=t.screenY-bo.screenY):Fh=Vh=0,bo=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:Fh}}),qv=jn(qd),i1=rt({},qd,{dataTransfer:0}),a1=jn(i1),o1=rt({},Xl,{relatedTarget:0}),Gh=jn(o1),l1=rt({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),c1=jn(l1),u1=rt({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d1=jn(u1),h1=rt({},qi,{data:0}),Kv=jn(h1),f1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g1[t])?!!e[t]:!1}function Yg(){return p1}var y1=rt({},Xl,{key:function(t){if(t.key){var e=f1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?m1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(t){return t.type==="keypress"?su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v1=jn(y1),b1=rt({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$v=jn(b1),x1=rt({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),S1=jn(x1),C1=rt({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=jn(C1),T1=rt({},qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=jn(T1),E1=rt({},qi,{newState:0,oldState:0}),N1=jn(E1),_1=[9,13,27,32],Qg=or&&"CompositionEvent"in window,Go=null;or&&"documentMode"in document&&(Go=document.documentMode);var R1=or&&"TextEvent"in window&&!Go,xC=or&&(!Qg||Go&&8<Go&&11>=Go),Yv=" ",Qv=!1;function SC(t,e){switch(t){case"keyup":return _1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function k1(t,e){switch(t){case"compositionend":return CC(e);case"keypress":return e.which!==32?null:(Qv=!0,Yv);case"textInput":return t=e.data,t===Yv&&Qv?null:t;default:return null}}function O1(t,e){if(fa)return t==="compositionend"||!Qg&&SC(t,e)?(t=bC(),nu=$g=Mr=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xC&&e.locale!=="ko"?null:e.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j1[t.type]:e==="textarea"}function wC(t,e,n,s){ha?Na?Na.push(s):Na=[s]:ha=s,e=Qu(e,"onChange"),0<e.length&&(n=new Gd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var qo=null,Cl=null;function I1(t){gT(t,0)}function Kd(t){var e=Uo(t);if(fC(e))return t}function Jv(t,e){if(t==="change")return e}var TC=!1;if(or){var qh;if(or){var Kh="oninput"in document;if(!Kh){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),Kh=typeof Zv.oninput=="function"}qh=Kh}else qh=!1;TC=qh&&(!document.documentMode||9<document.documentMode)}function Wv(){qo&&(qo.detachEvent("onpropertychange",AC),Cl=qo=null)}function AC(t){if(t.propertyName==="value"&&Kd(Cl)){var e=[];wC(e,Cl,t,Kg(t)),vC(I1,e)}}function M1(t,e,n){t==="focusin"?(Wv(),qo=e,Cl=n,qo.attachEvent("onpropertychange",AC)):t==="focusout"&&Wv()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kd(Cl)}function D1(t,e){if(t==="click")return Kd(e)}function U1(t,e){if(t==="input"||t==="change")return Kd(e)}function L1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:L1;function wl(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Wf.call(e,r)||!qn(t[r],e[r]))return!1}return!0}function eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tb(t,e){var n=eb(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eb(n)}}function EC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NC(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ou(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var H1=or&&"documentMode"in document&&11>=document.documentMode,ma=null,im=null,Ko=null,am=!1;function nb(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;am||ma==null||ma!==Ou(s)||(s=ma,"selectionStart"in s&&Xg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ko&&wl(Ko,s)||(Ko=s,s=Qu(im,"onSelect"),0<s.length&&(e=new Gd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ma)))}function ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},$h={},_C={};or&&(_C=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ki(t){if($h[t])return $h[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _C)return $h[t]=e[n];return t}var RC=Ki("animationend"),kC=Ki("animationiteration"),OC=Ki("animationstart"),B1=Ki("transitionrun"),z1=Ki("transitionstart"),V1=Ki("transitioncancel"),jC=Ki("transitionend"),IC=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function Ss(t,e){IC.set(t,e),Gi(e,[t])}var sb=new WeakMap;function ss(t,e){if(typeof t=="object"&&t!==null){var n=sb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:zv(e)},sb.set(t,e),e)}return{value:t,source:e,stack:zv(e)}}var Jn=[],pa=0,Jg=0;function $d(){for(var t=pa,e=Jg=pa=0;e<t;){var n=Jn[e];Jn[e++]=null;var s=Jn[e];Jn[e++]=null;var r=Jn[e];Jn[e++]=null;var i=Jn[e];if(Jn[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&MC(n,r,i)}}function Yd(t,e,n,s){Jn[pa++]=t,Jn[pa++]=e,Jn[pa++]=n,Jn[pa++]=s,Jg|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Zg(t,e,n,s){return Yd(t,e,n,s),ju(t)}function so(t,e){return Yd(t,null,null,e),ju(t)}function MC(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Bn(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function ju(t){if(50<nl)throw nl=0,_m=null,Error($(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ya={};function F1(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,n,s){return new F1(t,e,n,s)}function Wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nr(t,e){var n=t.alternate;return n===null?(n=Ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function PC(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ru(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")Wg(t)&&(a=1);else if(typeof t=="string")a=qk(t,n,js.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Qf:return t=Ln(31,n,e,r),t.elementType=Qf,t.lanes=i,t;case ca:return Ai(n.children,r,i,e);case eC:a=8,r|=24;break;case Kf:return t=Ln(12,n,e,r|2),t.elementType=Kf,t.lanes=i,t;case $f:return t=Ln(13,n,e,r),t.elementType=$f,t.lanes=i,t;case Yf:return t=Ln(19,n,e,r),t.elementType=Yf,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IR:case Qs:a=10;break e;case tC:a=9;break e;case Hg:a=11;break e;case Bg:a=14;break e;case Tr:a=16,s=null;break e}a=29,n=Error($(130,t===null?"null":typeof t,"")),s=null}return e=Ln(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Ai(t,e,n,s){return t=Ln(7,t,s,e),t.lanes=n,t}function Yh(t,e,n){return t=Ln(6,t,null,e),t.lanes=n,t}function Qh(t,e,n){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var va=[],ba=0,Iu=null,Mu=0,Wn=[],es=0,Ei=null,Xs=1,Js="";function fi(t,e){va[ba++]=Mu,va[ba++]=Iu,Iu=t,Mu=e}function DC(t,e,n){Wn[es++]=Xs,Wn[es++]=Js,Wn[es++]=Ei,Ei=t;var s=Xs;t=Js;var r=32-Bn(s)-1;s&=~(1<<r),n+=1;var i=32-Bn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Xs=1<<32-Bn(e)+r|n<<r|s,Js=i+t}else Xs=1<<i|n<<r|s,Js=t}function ep(t){t.return!==null&&(fi(t,1),DC(t,1,0))}function tp(t){for(;t===Iu;)Iu=va[--ba],va[ba]=null,Mu=va[--ba],va[ba]=null;for(;t===Ei;)Ei=Wn[--es],Wn[es]=null,Js=Wn[--es],Wn[es]=null,Xs=Wn[--es],Wn[es]=null}var yn=null,mt=null,Ve=!1,Ni=null,Ns=!1,lm=Error($(519));function Ii(t){var e=Error($(418,""));throw Tl(ss(e,t)),lm}function rb(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[sn]=t,e[_n]=s,n){case"dialog":Me("cancel",e),Me("close",e);break;case"iframe":case"object":case"embed":Me("load",e);break;case"video":case"audio":for(n=0;n<Nl.length;n++)Me(Nl[n],e);break;case"source":Me("error",e);break;case"img":case"image":case"link":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"input":Me("invalid",e),mC(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ku(e);break;case"select":Me("invalid",e);break;case"textarea":Me("invalid",e),pC(e,s.value,s.defaultValue,s.children),ku(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||yT(e.textContent,n)?(s.popover!=null&&(Me("beforetoggle",e),Me("toggle",e)),s.onScroll!=null&&Me("scroll",e),s.onScrollEnd!=null&&Me("scrollend",e),s.onClick!=null&&(e.onclick=nh),e=!0):e=!1,e||Ii(t)}function ib(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 13:Ns=!1;return;case 27:case 3:Ns=!0;return;default:yn=yn.return}}function xo(t){if(t!==yn)return!1;if(!Ve)return ib(t),Ve=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Mm(t.type,t.memoizedProps)),n=!n),n&&mt&&Ii(t),ib(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){mt=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}mt=null}}else e===27?(e=mt,ai(t.type)?(t=Um,Um=null,mt=t):mt=e):mt=yn?ps(t.stateNode.nextSibling):null;return!0}function Jl(){mt=yn=null,Ve=!1}function ab(){var t=Ni;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),Ni=null),t}function Tl(t){Ni===null?Ni=[t]:Ni.push(t)}var cm=Us(null),$i=null,Zs=null;function Nr(t,e,n){ut(cm,e._currentValue),e._currentValue=n}function sr(t){t._currentValue=cm.current,Gt(cm)}function um(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function dm(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var c=0;c<e.length;c++)if(o.context===e[c]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),um(i.return,n,t),s||(a=null);break e}i=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error($(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),um(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Zl(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error($(387));if(a=a.memoizedProps,a!==null){var o=r.type;qn(r.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(r===Eu.current){if(a=r.alternate,a===null)throw Error($(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}r=r.return}t!==null&&dm(e,t,n,s),e.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){$i=t,Zs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return UC($i,t)}function Ac(t,e){return $i===null&&Mi(t),UC(t,e)}function UC(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Zs===null){if(t===null)throw Error($(308));Zs=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Zs=Zs.next=e;return n}var G1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},q1=Lt.unstable_scheduleCallback,K1=Lt.unstable_NormalPriority,Mt={$$typeof:Qs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new G1,data:new Map,refCount:0}}function Wl(t){t.refCount--,t.refCount===0&&q1(K1,function(){t.controller.abort()})}var $o=null,hm=0,Ba=0,_a=null;function $1(t,e){if($o===null){var n=$o=[];hm=0,Ba=Ap(),_a={status:"pending",value:void 0,then:function(s){n.push(s)}}}return hm++,e.then(ob,ob),e}function ob(){if(--hm===0&&$o!==null){_a!==null&&(_a.status="fulfilled");var t=$o;$o=null,Ba=0,_a=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Y1(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var lb=we.S;we.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&$1(t,e),lb!==null&&lb(t,e)};var _i=Us(null);function sp(){var t=_i.current;return t!==null?t:et.pooledCache}function iu(t,e){e===null?ut(_i,_i.current):ut(_i,e.pool)}function LC(){var t=sp();return t===null?null:{parent:Mt._currentValue,pool:t}}var ec=Error($(460)),HC=Error($(474)),Qd=Error($(542)),fm={then:function(){}};function cb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ec(){}function BC(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ec,Ec),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,db(t),t;default:if(typeof e.status=="string")e.then(Ec,Ec);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error($(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,db(t),t}throw Yo=e,ec}}var Yo=null;function ub(){if(Yo===null)throw Error($(459));var t=Yo;return Yo=null,t}function db(t){if(t===ec||t===Qd)throw Error($(483))}var Ar=!1;function rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ke&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=ju(t),MC(t,null,n),e}return Yd(t,s,e,n),ju(t)}function Qo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lC(t,n)}}function Xh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var gm=!1;function Xo(){if(gm){var t=_a;if(t!==null)throw t}}function Jo(t,e,n,s){gm=!1;var r=t.updateQueue;Ar=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(Ue&f)===f:(s&f)===f){f!==0&&f===Ba&&(gm=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,b=o;f=e;var C=n;switch(b.tag){case 1:if(S=b.payload,typeof S=="function"){h=S.call(C,h,f);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,f=typeof S=="function"?S.call(C,h,f):S,f==null)break e;h=rt({},h,f);break e;case 2:Ar=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=r.callbacks,m===null?r.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Wr|=a,t.lanes=a,t.memoizedState=h}}function zC(t,e){if(typeof t!="function")throw Error($(191,t));t.call(e)}function VC(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)zC(n[t],e)}var za=Us(null),Du=Us(0);function hb(t,e){t=ur,ut(Du,t),ut(za,e),ur=t|e.baseLanes}function pm(){ut(Du,ur),ut(za,za.current)}function ip(){ur=Du.current,Gt(za),Gt(Du)}var Jr=0,Ie=null,Ye=null,Et=null,Uu=!1,Ra=!1,Pi=!1,Lu=0,Al=0,ka=null,Q1=0;function pt(){throw Error($(321))}function ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function op(t,e,n,s,r,i){return Jr=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,we.H=t===null||t.memoizedState===null?bw:xw,Pi=!1,i=n(s,r),Pi=!1,Ra&&(i=GC(e,n,s,r)),FC(t),i}function FC(t){we.H=Hu;var e=Ye!==null&&Ye.next!==null;if(Jr=0,Et=Ye=Ie=null,Uu=!1,Al=0,ka=null,e)throw Error($(300));t===null||Ft||(t=t.dependencies,t!==null&&Pu(t)&&(Ft=!0))}function GC(t,e,n,s){Ie=t;var r=0;do{if(Ra&&(ka=null),Al=0,Ra=!1,25<=r)throw Error($(301));if(r+=1,Et=Ye=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}we.H=nk,i=e(n,s)}while(Ra);return i}function X1(){var t=we.H,e=t.useState()[0];return e=typeof e.then=="function"?tc(e):e,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),e}function lp(){var t=Lu!==0;return Lu=0,t}function cp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function up(t){if(Uu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Uu=!1}Jr=0,Et=Ye=Ie=null,Ra=!1,Al=Lu=0,ka=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=t:Et=Et.next=t,Et}function _t(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=Et===null?Ie.memoizedState:Et.next;if(e!==null)Et=e,Ye=t;else{if(t===null)throw Ie.alternate===null?Error($(467)):Error($(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Et===null?Ie.memoizedState=Et=t:Et=Et.next=t}return Et}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(t){var e=Al;return Al+=1,ka===null&&(ka=[]),t=BC(ka,t,e),e=Ie,(Et===null?e.memoizedState:Et.next)===null&&(e=e.alternate,we.H=e===null||e.memoizedState===null?bw:xw),t}function Xd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tc(t);if(t.$$typeof===Qs)return rn(t)}throw Error($(438,String(t)))}function hp(t){var e=null,n=Ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ie.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dp(),Ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=MR;return e.index++,n}function lr(t,e){return typeof e=="function"?e(t):e}function au(t){var e=_t();return fp(e,Ye,t)}function fp(t,e,n){var s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var o=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Ue&h)===h:(Jr&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ba&&(d=!0);else if((Jr&f)===f){u=u.next,f===Ba&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,a=i):c=c.next=h,Ie.lanes|=f,Wr|=f;h=u.action,Pi&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,a=i):c=c.next=f,Ie.lanes|=h,Wr|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=o,!qn(i,t.memoizedState)&&(Ft=!0,d&&(n=_a,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Jh(t){var e=_t(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);qn(i,e.memoizedState)||(Ft=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function qC(t,e,n){var s=Ie,r=_t(),i=Ve;if(i){if(n===void 0)throw Error($(407));n=n()}else n=e();var a=!qn((Ye||r).memoizedState,n);a&&(r.memoizedState=n,Ft=!0),r=r.queue;var o=YC.bind(null,s,r,t);if(nc(2048,8,o,[t]),r.getSnapshot!==e||a||Et!==null&&Et.memoizedState.tag&1){if(s.flags|=2048,Va(9,Jd(),$C.bind(null,s,r,n,e),null),et===null)throw Error($(349));i||Jr&124||KC(s,e,n)}return n}function KC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e=dp(),Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $C(t,e,n,s){e.value=n,e.getSnapshot=s,QC(e)&&XC(t)}function YC(t,e,n){return n(function(){QC(e)&&XC(t)})}function QC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function XC(t){var e=so(t,2);e!==null&&Vn(e,t,2)}function ym(t){var e=Sn();if(typeof t=="function"){var n=t;if(t=n(),Pi){Ir(!0);try{n()}finally{Ir(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:t},e}function JC(t,e,n,s){return t.baseState=n,fp(t,Ye,typeof s=="function"?s:lr)}function J1(t,e,n,s,r){if(Zd(t))throw Error($(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};we.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,ZC(e,i)):(i.next=n.next,e.pending=n.next=i)}}function ZC(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=we.T,a={};we.T=a;try{var o=n(r,s),c=we.S;c!==null&&c(a,o),fb(t,e,o)}catch(u){vm(t,e,u)}finally{we.T=i}}else try{i=n(r,s),fb(t,e,i)}catch(u){vm(t,e,u)}}function fb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){mb(t,e,s)},function(s){return vm(t,e,s)}):mb(t,e,n)}function mb(t,e,n){e.status="fulfilled",e.value=n,WC(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,ZC(t,n)))}function vm(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,WC(e),e=e.next;while(e!==s)}t.action=null}function WC(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ew(t,e){return e}function gb(t,e){if(Ve){var n=et.formState;if(n!==null){e:{var s=Ie;if(Ve){if(mt){t:{for(var r=mt,i=Ns;r.nodeType!==8;){if(!i){r=null;break t}if(r=ps(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){mt=ps(r.nextSibling),s=r.data==="F!";break e}}Ii(s)}s=!1}s&&(e=n[0])}}return n=Sn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ew,lastRenderedState:e},n.queue=s,n=pw.bind(null,Ie,s),s.dispatch=n,s=ym(!1),i=yp.bind(null,Ie,!1,s.queue),s=Sn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=J1.bind(null,Ie,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function pb(t){var e=_t();return tw(e,Ye,t)}function tw(t,e,n){if(e=fp(t,e,ew)[0],t=au(lr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=tc(e)}catch(a){throw a===ec?Qd:a}else s=e;e=_t();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Ie.flags|=2048,Va(9,Jd(),Z1.bind(null,r,n),null)),[s,i,t]}function Z1(t,e){t.action=e}function yb(t){var e=_t(),n=Ye;if(n!==null)return tw(e,n,t);_t(),e=e.memoizedState,n=_t();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Va(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ie.updateQueue,e===null&&(e=dp(),Ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Jd(){return{destroy:void 0,resource:void 0}}function nw(){return _t().memoizedState}function ou(t,e,n,s){var r=Sn();s=s===void 0?null:s,Ie.flags|=t,r.memoizedState=Va(1|e,Jd(),n,s)}function nc(t,e,n,s){var r=_t();s=s===void 0?null:s;var i=r.memoizedState.inst;Ye!==null&&s!==null&&ap(s,Ye.memoizedState.deps)?r.memoizedState=Va(e,i,n,s):(Ie.flags|=t,r.memoizedState=Va(1|e,i,n,s))}function vb(t,e){ou(8390656,8,t,e)}function sw(t,e){nc(2048,8,t,e)}function rw(t,e){return nc(4,2,t,e)}function iw(t,e){return nc(4,4,t,e)}function aw(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ow(t,e,n){n=n!=null?n.concat([t]):null,nc(4,4,aw.bind(null,e,t),n)}function mp(){}function lw(t,e){var n=_t();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&ap(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function cw(t,e){var n=_t();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&ap(e,s[1]))return s[0];if(s=t(),Pi){Ir(!0);try{t()}finally{Ir(!1)}}return n.memoizedState=[s,e],s}function gp(t,e,n){return n===void 0||Jr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Ww(),Ie.lanes|=t,Wr|=t,n)}function uw(t,e,n,s){return qn(n,e)?n:za.current!==null?(t=gp(t,n,s),qn(t,e)||(Ft=!0),t):Jr&42?(t=Ww(),Ie.lanes|=t,Wr|=t,e):(Ft=!0,t.memoizedState=n)}function dw(t,e,n,s,r){var i=Fe.p;Fe.p=i!==0&&8>i?i:8;var a=we.T,o={};we.T=o,yp(t,!1,e,n);try{var c=r(),u=we.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Y1(c,s);Zo(t,e,d,zn(t))}else Zo(t,e,s,zn(t))}catch(h){Zo(t,e,{then:function(){},status:"rejected",reason:h},zn())}finally{Fe.p=i,we.T=a}}function W1(){}function bm(t,e,n,s){if(t.tag!==5)throw Error($(476));var r=hw(t).queue;dw(t,r,e,Ti,n===null?W1:function(){return fw(t),n(s)})}function hw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ti,baseState:Ti,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:Ti},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function fw(t){var e=hw(t).next.queue;Zo(t,e,{},zn())}function pp(){return rn(kl)}function mw(){return _t().memoizedState}function gw(){return _t().memoizedState}function ek(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=zn();t=Hr(n);var s=Br(e,t,n);s!==null&&(Vn(s,e,n),Qo(s,e,n)),e={cache:np()},t.payload=e;return}e=e.return}}function tk(t,e,n){var s=zn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Zd(t)?yw(e,n):(n=Zg(t,e,n,s),n!==null&&(Vn(n,t,s),vw(n,e,s)))}function pw(t,e,n){var s=zn();Zo(t,e,n,s)}function Zo(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zd(t))yw(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,qn(o,a))return Yd(t,e,r,0),et===null&&$d(),!1}catch{}finally{}if(n=Zg(t,e,r,s),n!==null)return Vn(n,t,s),vw(n,e,s),!0}return!1}function yp(t,e,n,s){if(s={lane:2,revertLane:Ap(),action:s,hasEagerState:!1,eagerState:null,next:null},Zd(t)){if(e)throw Error($(479))}else e=Zg(t,n,s,2),e!==null&&Vn(e,t,2)}function Zd(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function yw(t,e){Ra=Uu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vw(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,lC(t,n)}}var Hu={readContext:rn,use:Xd,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},bw={readContext:rn,use:Xd,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:vb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ou(4194308,4,aw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){ou(4,2,t,e)},useMemo:function(t,e){var n=Sn();e=e===void 0?null:e;var s=t();if(Pi){Ir(!0);try{t()}finally{Ir(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Sn();if(n!==void 0){var r=n(e);if(Pi){Ir(!0);try{n(e)}finally{Ir(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=tk.bind(null,Ie,t),[s.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:function(t){t=ym(t);var e=t.queue,n=pw.bind(null,Ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:mp,useDeferredValue:function(t,e){var n=Sn();return gp(n,t,e)},useTransition:function(){var t=ym(!1);return t=dw.bind(null,Ie,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ie,r=Sn();if(Ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),et===null)throw Error($(349));Ue&124||KC(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,vb(YC.bind(null,s,i,t),[t]),s.flags|=2048,Va(9,Jd(),$C.bind(null,s,i,n,e),null),n},useId:function(){var t=Sn(),e=et.identifierPrefix;if(Ve){var n=Js,s=Xs;n=(s&~(1<<32-Bn(s)-1)).toString(32)+n,e=""+e+"R"+n,n=Lu++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=Q1++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:pp,useFormState:gb,useActionState:gb,useOptimistic:function(t){var e=Sn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=yp.bind(null,Ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:hp,useCacheRefresh:function(){return Sn().memoizedState=ek.bind(null,Ie)}},xw={readContext:rn,use:Xd,useCallback:lw,useContext:rn,useEffect:sw,useImperativeHandle:ow,useInsertionEffect:rw,useLayoutEffect:iw,useMemo:cw,useReducer:au,useRef:nw,useState:function(){return au(lr)},useDebugValue:mp,useDeferredValue:function(t,e){var n=_t();return uw(n,Ye.memoizedState,t,e)},useTransition:function(){var t=au(lr)[0],e=_t().memoizedState;return[typeof t=="boolean"?t:tc(t),e]},useSyncExternalStore:qC,useId:mw,useHostTransitionStatus:pp,useFormState:pb,useActionState:pb,useOptimistic:function(t,e){var n=_t();return JC(n,Ye,t,e)},useMemoCache:hp,useCacheRefresh:gw},nk={readContext:rn,use:Xd,useCallback:lw,useContext:rn,useEffect:sw,useImperativeHandle:ow,useInsertionEffect:rw,useLayoutEffect:iw,useMemo:cw,useReducer:Jh,useRef:nw,useState:function(){return Jh(lr)},useDebugValue:mp,useDeferredValue:function(t,e){var n=_t();return Ye===null?gp(n,t,e):uw(n,Ye.memoizedState,t,e)},useTransition:function(){var t=Jh(lr)[0],e=_t().memoizedState;return[typeof t=="boolean"?t:tc(t),e]},useSyncExternalStore:qC,useId:mw,useHostTransitionStatus:pp,useFormState:yb,useActionState:yb,useOptimistic:function(t,e){var n=_t();return Ye!==null?JC(n,Ye,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:hp,useCacheRefresh:gw},Oa=null,El=0;function Nc(t){var e=El;return El+=1,Oa===null&&(Oa=[]),BC(Oa,t,e)}function So(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _c(t,e){throw e.$$typeof===jR?Error($(525)):(t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function bb(t){var e=t._init;return e(t._payload)}function Sw(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function s(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function r(y,p){return y=nr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=67108866,p):g):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,p,g,v){return p===null||p.tag!==6?(p=Yh(g,y.mode,v),p.return=y,p):(p=r(p,g),p.return=y,p)}function c(y,p,g,v){var w=g.type;return w===ca?d(y,p,g.props.children,v,g.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tr&&bb(w)===p.type)?(p=r(p,g.props),So(p,g),p.return=y,p):(p=ru(g.type,g.key,g.props,null,y.mode,v),So(p,g),p.return=y,p)}function u(y,p,g,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Qh(g,y.mode,v),p.return=y,p):(p=r(p,g.children||[]),p.return=y,p)}function d(y,p,g,v,w){return p===null||p.tag!==7?(p=Ai(g,y.mode,v,w),p.return=y,p):(p=r(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Yh(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xc:return g=ru(p.type,p.key,p.props,null,y.mode,g),So(g,p),g.return=y,g;case Po:return p=Qh(p,y.mode,g),p.return=y,p;case Tr:var v=p._init;return p=v(p._payload),h(y,p,g)}if(Do(p)||yo(p))return p=Ai(p,y.mode,g,null),p.return=y,p;if(typeof p.then=="function")return h(y,Nc(p),g);if(p.$$typeof===Qs)return h(y,Ac(y,p),g);_c(y,p)}return null}function f(y,p,g,v){var w=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:o(y,p,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xc:return g.key===w?c(y,p,g,v):null;case Po:return g.key===w?u(y,p,g,v):null;case Tr:return w=g._init,g=w(g._payload),f(y,p,g,v)}if(Do(g)||yo(g))return w!==null?null:d(y,p,g,v,null);if(typeof g.then=="function")return f(y,p,Nc(g),v);if(g.$$typeof===Qs)return f(y,p,Ac(y,g),v);_c(y,g)}return null}function m(y,p,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(g)||null,o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xc:return y=y.get(v.key===null?g:v.key)||null,c(p,y,v,w);case Po:return y=y.get(v.key===null?g:v.key)||null,u(p,y,v,w);case Tr:var N=v._init;return v=N(v._payload),m(y,p,g,v,w)}if(Do(v)||yo(v))return y=y.get(g)||null,d(p,y,v,w,null);if(typeof v.then=="function")return m(y,p,g,Nc(v),w);if(v.$$typeof===Qs)return m(y,p,g,Ac(p,v),w);_c(p,v)}return null}function S(y,p,g,v){for(var w=null,N=null,T=p,_=p=0,A=null;T!==null&&_<g.length;_++){T.index>_?(A=T,T=null):A=T.sibling;var k=f(y,T,g[_],v);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(y,T),p=i(k,p,_),N===null?w=k:N.sibling=k,N=k,T=A}if(_===g.length)return n(y,T),Ve&&fi(y,_),w;if(T===null){for(;_<g.length;_++)T=h(y,g[_],v),T!==null&&(p=i(T,p,_),N===null?w=T:N.sibling=T,N=T);return Ve&&fi(y,_),w}for(T=s(T);_<g.length;_++)A=m(T,y,_,g[_],v),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?_:A.key),p=i(A,p,_),N===null?w=A:N.sibling=A,N=A);return t&&T.forEach(function(P){return e(y,P)}),Ve&&fi(y,_),w}function b(y,p,g,v){if(g==null)throw Error($(151));for(var w=null,N=null,T=p,_=p=0,A=null,k=g.next();T!==null&&!k.done;_++,k=g.next()){T.index>_?(A=T,T=null):A=T.sibling;var P=f(y,T,k.value,v);if(P===null){T===null&&(T=A);break}t&&T&&P.alternate===null&&e(y,T),p=i(P,p,_),N===null?w=P:N.sibling=P,N=P,T=A}if(k.done)return n(y,T),Ve&&fi(y,_),w;if(T===null){for(;!k.done;_++,k=g.next())k=h(y,k.value,v),k!==null&&(p=i(k,p,_),N===null?w=k:N.sibling=k,N=k);return Ve&&fi(y,_),w}for(T=s(T);!k.done;_++,k=g.next())k=m(T,y,_,k.value,v),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?_:k.key),p=i(k,p,_),N===null?w=k:N.sibling=k,N=k);return t&&T.forEach(function(R){return e(y,R)}),Ve&&fi(y,_),w}function C(y,p,g,v){if(typeof g=="object"&&g!==null&&g.type===ca&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case xc:e:{for(var w=g.key;p!==null;){if(p.key===w){if(w=g.type,w===ca){if(p.tag===7){n(y,p.sibling),v=r(p,g.props.children),v.return=y,y=v;break e}}else if(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Tr&&bb(w)===p.type){n(y,p.sibling),v=r(p,g.props),So(v,g),v.return=y,y=v;break e}n(y,p);break}else e(y,p);p=p.sibling}g.type===ca?(v=Ai(g.props.children,y.mode,v,g.key),v.return=y,y=v):(v=ru(g.type,g.key,g.props,null,y.mode,v),So(v,g),v.return=y,y=v)}return a(y);case Po:e:{for(w=g.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),v=r(p,g.children||[]),v.return=y,y=v;break e}else{n(y,p);break}else e(y,p);p=p.sibling}v=Qh(g,y.mode,v),v.return=y,y=v}return a(y);case Tr:return w=g._init,g=w(g._payload),C(y,p,g,v)}if(Do(g))return S(y,p,g,v);if(yo(g)){if(w=yo(g),typeof w!="function")throw Error($(150));return g=w.call(g),b(y,p,g,v)}if(typeof g.then=="function")return C(y,p,Nc(g),v);if(g.$$typeof===Qs)return C(y,p,Ac(y,g),v);_c(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),v=r(p,g),v.return=y,y=v):(n(y,p),v=Yh(g,y.mode,v),v.return=y,y=v),a(y)):n(y,p)}return function(y,p,g,v){try{El=0;var w=C(y,p,g,v);return Oa=null,w}catch(T){if(T===ec||T===Qd)throw T;var N=Ln(29,T,null,y.mode);return N.lanes=v,N.return=y,N}finally{}}}var Fa=Sw(!0),Cw=Sw(!1),is=Us(null),Ms=null;function _r(t){var e=t.alternate;ut(Pt,Pt.current&1),ut(is,t),Ms===null&&(e===null||za.current!==null||e.memoizedState!==null)&&(Ms=t)}function ww(t){if(t.tag===22){if(ut(Pt,Pt.current),ut(is,t),Ms===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ms=t)}}else Rr()}function Rr(){ut(Pt,Pt.current),ut(is,is.current)}function Ws(t){Gt(is),Ms===t&&(Ms=null),Gt(Pt)}var Pt=Us(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Dm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Zh(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xm={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=zn(),r=Hr(s);r.payload=e,n!=null&&(r.callback=n),e=Br(t,r,s),e!==null&&(Vn(e,t,s),Qo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=zn(),r=Hr(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Br(t,r,s),e!==null&&(Vn(e,t,s),Qo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),s=Hr(n);s.tag=2,e!=null&&(s.callback=e),e=Br(t,s,n),e!==null&&(Vn(e,t,n),Qo(e,t,n))}};function xb(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!wl(n,s)||!wl(r,i):!0}function Sb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function Di(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=rt({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Tw(t){zu(t)}function Aw(t){console.error(t)}function Ew(t){zu(t)}function Vu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Cb(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sm(t,e,n){return n=Hr(n),n.tag=3,n.payload={element:null},n.callback=function(){Vu(t,e)},n}function Nw(t){return t=Hr(t),t.tag=3,t}function _w(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){Cb(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Cb(e,n,s),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function sk(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Zl(e,n,r,!0),n=is.current,n!==null){switch(n.tag){case 13:return Ms===null?Rm():n.alternate===null&&gt===0&&(gt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===fm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),uf(t,s,r)),!1;case 22:return n.flags|=65536,s===fm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),uf(t,s,r)),!1}throw Error($(435,n.tag))}return uf(t,s,r),Rm(),!1}if(Ve)return e=is.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==lm&&(t=Error($(422),{cause:s}),Tl(ss(t,n)))):(s!==lm&&(e=Error($(423),{cause:s}),Tl(ss(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=ss(s,n),r=Sm(t.stateNode,s,r),Xh(t,r),gt!==4&&(gt=2)),!1;var i=Error($(520),{cause:s});if(i=ss(i,n),tl===null?tl=[i]:tl.push(i),gt!==4&&(gt=2),e===null)return!0;s=ss(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Sm(n.stateNode,s,t),Xh(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(zr===null||!zr.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Nw(r),_w(r,t,n,s),Xh(n,r),!1}n=n.return}while(n!==null);return!1}var Rw=Error($(461)),Ft=!1;function $t(t,e,n,s){e.child=t===null?Cw(e,null,n,s):Fa(e,t.child,n,s)}function wb(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return Mi(e),s=op(t,e,n,a,i,r),o=lp(),t!==null&&!Ft?(cp(t,e,r),cr(t,e,r)):(Ve&&o&&ep(e),e.flags|=1,$t(t,e,s,r),e.child)}function Tb(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Wg(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,kw(t,e,i,s,r)):(t=ru(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!vp(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(a,s)&&t.ref===e.ref)return cr(t,e,r)}return e.flags|=1,t=nr(i,s),t.ref=e.ref,t.return=e,e.child=t}function kw(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(wl(i,s)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=s=i,vp(t,r))t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,cr(t,e,r)}return Cm(t,e,n,s,r)}function Ow(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return Ab(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(e,i!==null?i.cachePool:null),i!==null?hb(e,i):pm(),ww(e);else return e.lanes=e.childLanes=536870912,Ab(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(iu(e,i.cachePool),hb(e,i),Rr(),e.memoizedState=null):(t!==null&&iu(e,null),pm(),Rr());return $t(t,e,r,n),e.child}function Ab(t,e,n,s){var r=sp();return r=r===null?null:{parent:Mt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&iu(e,null),pm(),ww(e),t!==null&&Zl(t,e,s,!0),null}function lu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Cm(t,e,n,s,r){return Mi(e),n=op(t,e,n,s,void 0,r),s=lp(),t!==null&&!Ft?(cp(t,e,r),cr(t,e,r)):(Ve&&s&&ep(e),e.flags|=1,$t(t,e,n,r),e.child)}function Eb(t,e,n,s,r,i){return Mi(e),e.updateQueue=null,n=GC(e,s,n,r),FC(t),s=lp(),t!==null&&!Ft?(cp(t,e,i),cr(t,e,i)):(Ve&&s&&ep(e),e.flags|=1,$t(t,e,n,i),e.child)}function Nb(t,e,n,s,r){if(Mi(e),e.stateNode===null){var i=ya,a=n.contextType;typeof a=="object"&&a!==null&&(i=rn(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=xm,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},rp(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?rn(a):ya,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Zh(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&xm.enqueueReplaceState(i,i.state,null),Jo(e,s,i,r),Xo(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,c=Di(n,o);i.props=c;var u=i.context,d=n.contextType;a=ya,typeof d=="object"&&d!==null&&(a=rn(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==a)&&Sb(e,i,s,a),Ar=!1;var f=e.memoizedState;i.state=f,Jo(e,s,i,r),Xo(),u=e.memoizedState,o||f!==u||Ar?(typeof h=="function"&&(Zh(e,n,h,s),u=e.memoizedState),(c=Ar||xb(e,n,c,s,f,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,mm(t,e),a=e.memoizedProps,d=Di(n,a),i.props=d,h=e.pendingProps,f=i.context,u=n.contextType,c=ya,typeof u=="object"&&u!==null&&(c=rn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Sb(e,i,s,c),Ar=!1,f=e.memoizedState,i.state=f,Jo(e,s,i,r),Xo();var m=e.memoizedState;a!==h||f!==m||Ar||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof o=="function"&&(Zh(e,n,o,s),m=e.memoizedState),(d=Ar||xb(e,n,d,s,f,m,c)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),i.props=s,i.state=m,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,lu(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=Fa(e,t.child,null,r),e.child=Fa(e,null,n,r)):$t(t,e,n,r),e.memoizedState=i.state,t=e.child):t=cr(t,e,r),t}function _b(t,e,n,s){return Jl(),e.flags|=256,$t(t,e,n,s),e.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ef(t){return{baseLanes:t,cachePool:LC()}}function tf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rs),t}function jw(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ve){if(r?_r(e):Rr(),Ve){var o=mt,c;if(c=o){e:{for(c=o,o=Ns;c.nodeType!==8;){if(!o){o=null;break e}if(c=ps(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:Ei!==null?{id:Xs,overflow:Js}:null,retryLane:536870912,hydrationErrors:null},c=Ln(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,yn=e,mt=null,c=!0):c=!1}c||Ii(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Dm(o)?e.lanes=32:e.lanes=536870912,null;Ws(e)}return o=s.children,s=s.fallback,r?(Rr(),r=e.mode,o=Fu({mode:"hidden",children:o},r),s=Ai(s,r,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,r=e.child,r.memoizedState=ef(n),r.childLanes=tf(t,a,n),e.memoizedState=Wh,s):(_r(e),wm(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(i)e.flags&256?(_r(e),e.flags&=-257,e=nf(t,e,n)):e.memoizedState!==null?(Rr(),e.child=t.child,e.flags|=128,e=null):(Rr(),r=s.fallback,o=e.mode,s=Fu({mode:"visible",children:s.children},o),r=Ai(r,o,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,Fa(e,t.child,null,n),s=e.child,s.memoizedState=ef(n),s.childLanes=tf(t,a,n),e.memoizedState=Wh,e=r);else if(_r(e),Dm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error($(419)),s.stack="",s.digest=a,Tl({value:s,source:null,stack:null}),e=nf(t,e,n)}else if(Ft||Zl(t,e,n,!1),a=(n&t.childLanes)!==0,Ft||a){if(a=et,a!==null&&(s=n&-n,s=s&42?1:Vg(s),s=s&(a.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,so(t,s),Vn(a,t,s),Rw;o.data==="$?"||Rm(),e=nf(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,mt=ps(o.nextSibling),yn=e,Ve=!0,Ni=null,Ns=!1,t!==null&&(Wn[es++]=Xs,Wn[es++]=Js,Wn[es++]=Ei,Xs=t.id,Js=t.overflow,Ei=e),e=wm(e,s.children),e.flags|=4096);return e}return r?(Rr(),r=s.fallback,o=e.mode,c=t.child,u=c.sibling,s=nr(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?r=nr(u,r):(r=Ai(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o===null?o=ef(n):(c=o.cachePool,c!==null?(u=Mt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=LC(),o={baseLanes:o.baseLanes|n,cachePool:c}),r.memoizedState=o,r.childLanes=tf(t,a,n),e.memoizedState=Wh,s):(_r(e),n=t.child,t=n.sibling,n=nr(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function wm(t,e){return e=Fu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Fu(t,e){return t=Ln(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,e,n){return Fa(e,t.child,null,n),t=wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rb(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),um(t.return,e,n)}function sf(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Iw(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if($t(t,e,s.children,n),s=Pt.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(ut(Pt,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),sf(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}sf(e,!0,n,null,i);break;case"together":sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Zl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function rk(t,e,n){switch(e.tag){case 3:Nu(e,e.stateNode.containerInfo),Nr(e,Mt,t.memoizedState.cache),Jl();break;case 27:case 5:Zf(e);break;case 4:Nu(e,e.stateNode.containerInfo);break;case 10:Nr(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(_r(e),e.flags|=128,null):n&e.child.childLanes?jw(t,e,n):(_r(e),t=cr(t,e,n),t!==null?t.sibling:null);_r(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Zl(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return Iw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ut(Pt,Pt.current),s)break;return null;case 22:case 23:return e.lanes=0,Ow(t,e,n);case 24:Nr(e,Mt,t.memoizedState.cache)}return cr(t,e,n)}function Mw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ft=!0;else{if(!vp(t,n)&&!(e.flags&128))return Ft=!1,rk(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ve&&e.flags&1048576&&DC(e,Mu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")Wg(s)?(t=Di(s,t),e.tag=1,e=Nb(null,e,s,t,n)):(e.tag=0,e=Cm(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Hg){e.tag=11,e=wb(null,e,s,t,n);break e}else if(r===Bg){e.tag=14,e=Tb(null,e,s,t,n);break e}}throw e=Xf(s)||s,Error($(306,e,""))}}return e;case 0:return Cm(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Di(s,e.pendingProps),Nb(t,e,s,r,n);case 3:e:{if(Nu(e,e.stateNode.containerInfo),t===null)throw Error($(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,mm(t,e),Jo(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Nr(e,Mt,s),s!==i.cache&&dm(e,[Mt],n,!0),Xo(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=_b(t,e,s,n);break e}else if(s!==r){r=ss(Error($(424)),e),Tl(r),e=_b(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=ps(t.firstChild),yn=e,Ve=!0,Ni=null,Ns=!0,n=Cw(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Jl(),s===r){e=cr(t,e,n);break e}$t(t,e,s,n)}e=e.child}return e;case 26:return lu(t,e),t===null?(n=Kb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ve||(n=e.type,t=e.pendingProps,s=Xu(Lr.current).createElement(n),s[sn]=e,s[_n]=t,Xt(s,n,t),Vt(s),e.stateNode=s):e.memoizedState=Kb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Zf(e),t===null&&Ve&&(s=e.stateNode=xT(e.type,e.pendingProps,Lr.current),yn=e,Ns=!0,r=mt,ai(e.type)?(Um=r,mt=ps(s.firstChild)):mt=r),$t(t,e,e.pendingProps.children,n),lu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ve&&((r=s=mt)&&(s=jk(s,e.type,e.pendingProps,Ns),s!==null?(e.stateNode=s,yn=e,mt=ps(s.firstChild),Ns=!1,r=!0):r=!1),r||Ii(e)),Zf(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Mm(r,i)?s=null:a!==null&&Mm(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=op(t,e,X1,null,null,n),kl._currentValue=r),lu(t,e),$t(t,e,s,n),e.child;case 6:return t===null&&Ve&&((t=n=mt)&&(n=Ik(n,e.pendingProps,Ns),n!==null?(e.stateNode=n,yn=e,mt=null,t=!0):t=!1),t||Ii(e)),null;case 13:return jw(t,e,n);case 4:return Nu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Fa(e,null,s,n):$t(t,e,s,n),e.child;case 11:return wb(t,e,e.type,e.pendingProps,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Nr(e,e.type,s.value),$t(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Mi(e),r=rn(r),s=s(r),e.flags|=1,$t(t,e,s,n),e.child;case 14:return Tb(t,e,e.type,e.pendingProps,n);case 15:return kw(t,e,e.type,e.pendingProps,n);case 19:return Iw(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=Fu(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=nr(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Ow(t,e,n);case 24:return Mi(e),s=rn(Mt),t===null?(r=sp(),r===null&&(r=et,i=np(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},rp(e),Nr(e,Mt,r)):(t.lanes&n&&(mm(t,e),Jo(e,null,null,n),Xo()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Nr(e,Mt,s)):(s=i.cache,Nr(e,Mt,s),s!==r.cache&&dm(e,[Mt],n,!0))),$t(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error($(156,e.tag))}function zs(t){t.flags|=4}function kb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!wT(e)){if(e=is.current,e!==null&&((Ue&4194048)===Ue?Ms!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||e!==Ms))throw Yo=fm,HC;t.flags|=8192}}function Rc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?aC():536870912,t.lanes|=e,Ga|=e)}function Co(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ik(t,e,n){var s=e.pendingProps;switch(tp(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return dt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),sr(Mt),Ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xo(e)?zs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ab())),dt(e),null;case 26:return n=e.memoizedState,t===null?(zs(e),n!==null?(dt(e),kb(e,n)):(dt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(zs(e),dt(e),kb(e,n)):(dt(e),e.flags&=-16777217):(t.memoizedProps!==s&&zs(e),dt(e),e.flags&=-16777217),null;case 27:_u(e),n=Lr.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&zs(e);else{if(!s){if(e.stateNode===null)throw Error($(166));return dt(e),null}t=js.current,xo(e)?rb(e):(t=xT(r,s,n),e.stateNode=t,zs(e))}return dt(e),null;case 5:if(_u(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&zs(e);else{if(!s){if(e.stateNode===null)throw Error($(166));return dt(e),null}if(t=js.current,xo(e))rb(e);else{switch(r=Xu(Lr.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[sn]=e,t[_n]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Xt(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zs(e)}}return dt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&zs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error($(166));if(t=Lr.current,xo(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=yn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[sn]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||yT(t.nodeValue,n)),t||Ii(e)}else t=Xu(t).createTextNode(s),t[sn]=e,e.stateNode=t}return dt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=xo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error($(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error($(317));r[sn]=e}else Jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),r=!1}else r=ab(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ws(e),e):(Ws(e),null)}if(Ws(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Rc(e,e.updateQueue),dt(e),null;case 4:return Ua(),t===null&&Ep(e.stateNode.containerInfo),dt(e),null;case 10:return sr(e.type),dt(e),null;case 19:if(Gt(Pt),r=e.memoizedState,r===null)return dt(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)Co(r,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Bu(t),i!==null){for(e.flags|=128,Co(r,!1),t=i.updateQueue,e.updateQueue=t,Rc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)PC(n,t),n=n.sibling;return ut(Pt,Pt.current&1|2),e.child}t=t.sibling}r.tail!==null&&Is()>qu&&(e.flags|=128,s=!0,Co(r,!1),e.lanes=4194304)}else{if(!s)if(t=Bu(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Rc(e,t),Co(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Ve)return dt(e),null}else 2*Is()-r.renderingStartTime>qu&&n!==536870912&&(e.flags|=128,s=!0,Co(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Is(),e.sibling=null,t=Pt.current,ut(Pt,s?t&1|2:t&1),e):(dt(e),null);case 22:case 23:return Ws(e),ip(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),n=e.updateQueue,n!==null&&Rc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Gt(_i),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),sr(Mt),dt(e),null;case 25:return null;case 30:return null}throw Error($(156,e.tag))}function ak(t,e){switch(tp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sr(Mt),Ua(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return _u(e),null;case 13:if(Ws(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gt(Pt),null;case 4:return Ua(),null;case 10:return sr(e.type),null;case 22:case 23:return Ws(e),ip(),t!==null&&Gt(_i),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return sr(Mt),null;case 25:return null;default:return null}}function Pw(t,e){switch(tp(e),e.tag){case 3:sr(Mt),Ua();break;case 26:case 27:case 5:_u(e);break;case 4:Ua();break;case 13:Ws(e);break;case 19:Gt(Pt);break;case 10:sr(e.type);break;case 22:case 23:Ws(e),ip(),t!==null&&Gt(_i);break;case 24:sr(Mt)}}function sc(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(o){Ze(e,e.return,o)}}function Zr(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var c=n,u=o;try{u()}catch(d){Ze(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){Ze(e,e.return,d)}}function Dw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{VC(e,n)}catch(s){Ze(t,t.return,s)}}}function Uw(t,e,n){n.props=Di(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Ze(t,e,s)}}function Wo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){Ze(t,e,r)}}function ks(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Ze(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Lw(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Ze(t,t.return,r)}}function rf(t,e,n){try{var s=t.stateNode;Nk(s,t.type,n,e),s[_n]=e}catch(r){Ze(t,t.return,r)}}function Hw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ai(t.type)||t.tag===4}function af(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ai(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nh));else if(s!==4&&(s===27&&ai(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Tm(t,e,n),t=t.sibling;t!==null;)Tm(t,e,n),t=t.sibling}function Gu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&ai(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}function Bw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Xt(e,s,n),e[sn]=t,e[_n]=n}catch(i){Ze(t,t.return,i)}}var Ys=!1,yt=!1,of=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,zt=null;function ok(t,e){if(t=t.containerInfo,jm=ed,t=NC(t),Xg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(o=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===r&&(o=a),f===i&&++d===s&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Im={focusedElem:t,selectionRange:n},ed=!1,zt=e;zt!==null;)if(e=zt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,zt=t;else for(;zt!==null;){switch(e=zt,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var S=Di(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(S,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(b){Ze(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Pm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error($(163))}if(t=e.sibling,t!==null){t.return=e.return,zt=t;break}zt=e.return}}function zw(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:yr(t,n),s&4&&sc(5,n);break;case 1:if(yr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ze(n,n.return,a)}else{var r=Di(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ze(n,n.return,a)}}s&64&&Dw(n),s&512&&Wo(n,n.return);break;case 3:if(yr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{VC(t,e)}catch(a){Ze(n,n.return,a)}}break;case 27:e===null&&s&4&&Bw(n);case 26:case 5:yr(t,n),e===null&&s&4&&Lw(n),s&512&&Wo(n,n.return);break;case 12:yr(t,n);break;case 13:yr(t,n),s&4&&Gw(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pk.bind(null,n),Mk(t,n))));break;case 22:if(s=n.memoizedState!==null||Ys,!s){e=e!==null&&e.memoizedState!==null||yt,r=Ys;var i=yt;Ys=s,(yt=e)&&!i?Sr(t,n,(n.subtreeFlags&8772)!==0):yr(t,n),Ys=r,yt=i}break;case 30:break;default:yr(t,n)}}function Vw(t){var e=t.alternate;e!==null&&(t.alternate=null,Vw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Gg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,Cn=!1;function Vs(t,e,n){for(n=n.child;n!==null;)Fw(t,e,n),n=n.sibling}function Fw(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 26:yt||ks(n,e),Vs(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:yt||ks(n,e);var s=at,r=Cn;ai(n.type)&&(at=n.stateNode,Cn=!1),Vs(t,e,n),sl(n.stateNode),at=s,Cn=r;break;case 5:yt||ks(n,e);case 6:if(s=at,r=Cn,at=null,Vs(t,e,n),at=s,Cn=r,at!==null)if(Cn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(i){Ze(n,e,i)}else try{at.removeChild(n.stateNode)}catch(i){Ze(n,e,i)}break;case 18:at!==null&&(Cn?(t=at,Fb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Il(t)):Fb(at,n.stateNode));break;case 4:s=at,r=Cn,at=n.stateNode.containerInfo,Cn=!0,Vs(t,e,n),at=s,Cn=r;break;case 0:case 11:case 14:case 15:yt||Zr(2,n,e),yt||Zr(4,n,e),Vs(t,e,n);break;case 1:yt||(ks(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Uw(n,e,s)),Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:yt=(s=yt)||n.memoizedState!==null,Vs(t,e,n),yt=s;break;default:Vs(t,e,n)}}function Gw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(n){Ze(e,e.return,n)}}function lk(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ob),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ob),e;default:throw Error($(435,t.tag))}}function lf(t,e){var n=lk(t);e.forEach(function(s){var r=yk.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function Mn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(ai(o.type)){at=o.stateNode,Cn=!1;break e}break;case 5:at=o.stateNode,Cn=!1;break e;case 3:case 4:at=o.stateNode.containerInfo,Cn=!0;break e}o=o.return}if(at===null)throw Error($(160));Fw(i,a,r),at=null,Cn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)qw(e,t),e=e.sibling}var cs=null;function qw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(e,t),Pn(t),s&4&&(Zr(3,t,t.return),sc(3,t),Zr(5,t,t.return));break;case 1:Mn(e,t),Pn(t),s&512&&(yt||n===null||ks(n,n.return)),s&64&&Ys&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=cs;if(Mn(e,t),Pn(t),s&512&&(yt||n===null||ks(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Ql]||i[sn]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Xt(i,s,n),i[sn]=t,Vt(i),s=i;break e;case"link":var a=Yb("link","href",r).get(s+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(i=a[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}i=r.createElement(s),Xt(i,s,n),r.head.appendChild(i);break;case"meta":if(a=Yb("meta","content",r).get(s+(n.content||""))){for(o=0;o<a.length;o++)if(i=a[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}i=r.createElement(s),Xt(i,s,n),r.head.appendChild(i);break;default:throw Error($(468,s))}i[sn]=t,Vt(i),s=i}t.stateNode=s}else Qb(r,t.type,t.stateNode);else t.stateNode=$b(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?Qb(r,t.type,t.stateNode):$b(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&rf(t,t.memoizedProps,n.memoizedProps)}break;case 27:Mn(e,t),Pn(t),s&512&&(yt||n===null||ks(n,n.return)),n!==null&&s&4&&rf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Mn(e,t),Pn(t),s&512&&(yt||n===null||ks(n,n.return)),t.flags&32){r=t.stateNode;try{Ha(r,"")}catch(m){Ze(t,t.return,m)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,rf(t,r,n!==null?n.memoizedProps:r)),s&1024&&(of=!0);break;case 6:if(Mn(e,t),Pn(t),s&4){if(t.stateNode===null)throw Error($(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(m){Ze(t,t.return,m)}}break;case 3:if(du=null,r=cs,cs=Ju(e.containerInfo),Mn(e,t),cs=r,Pn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Il(e.containerInfo)}catch(m){Ze(t,t.return,m)}of&&(of=!1,Kw(t));break;case 4:s=cs,cs=Ju(t.stateNode.containerInfo),Mn(e,t),Pn(t),cs=s;break;case 12:Mn(e,t),Pn(t);break;case 13:Mn(e,t),Pn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wp=Is()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,lf(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Ys,d=yt;if(Ys=u||r,yt=d||c,Mn(e,t),yt=d,Ys=u,Pn(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||Ys||yt||mi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Ze(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(m){Ze(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,lf(t,n))));break;case 19:Mn(e,t),Pn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,lf(t,s)));break;case 30:break;case 21:break;default:Mn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(Hw(s)){n=s;break}s=s.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var r=n.stateNode,i=af(t);Gu(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ha(a,""),n.flags&=-33);var o=af(t);Gu(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=af(t);Tm(t,u,c);break;default:throw Error($(161))}}catch(d){Ze(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Kw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function yr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zw(t,e.alternate,e),e=e.sibling}function mi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zr(4,e,e.return),mi(e);break;case 1:ks(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Uw(e,e.return,n),mi(e);break;case 27:sl(e.stateNode);case 26:case 5:ks(e,e.return),mi(e);break;case 22:e.memoizedState===null&&mi(e);break;case 30:mi(e);break;default:mi(e)}t=t.sibling}}function Sr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(r,i,n),sc(4,i);break;case 1:if(Sr(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ze(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var o=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)zC(c[r],o)}catch(u){Ze(s,s.return,u)}}n&&a&64&&Dw(i),Wo(i,i.return);break;case 27:Bw(i);case 26:case 5:Sr(r,i,n),n&&s===null&&a&4&&Lw(i),Wo(i,i.return);break;case 12:Sr(r,i,n);break;case 13:Sr(r,i,n),n&&a&4&&Gw(r,i);break;case 22:i.memoizedState===null&&Sr(r,i,n),Wo(i,i.return);break;case 30:break;default:Sr(r,i,n)}e=e.sibling}}function bp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Wl(n))}function xp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wl(t))}function ws(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$w(t,e,n,s),e=e.sibling}function $w(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ws(t,e,n,s),r&2048&&sc(9,e);break;case 1:ws(t,e,n,s);break;case 3:ws(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Wl(t)));break;case 12:if(r&2048){ws(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,o=i.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Ze(e,e.return,c)}}else ws(t,e,n,s);break;case 13:ws(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?ws(t,e,n,s):el(t,e):i._visibility&2?ws(t,e,n,s):(i._visibility|=2,ia(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&bp(a,e);break;case 24:ws(t,e,n,s),r&2048&&xp(e.alternate,e);break;default:ws(t,e,n,s)}}function ia(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,a=e,o=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:ia(i,a,o,c,r),sc(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ia(i,a,o,c,r):el(i,a):(d._visibility|=2,ia(i,a,o,c,r)),r&&u&2048&&bp(a.alternate,a);break;case 24:ia(i,a,o,c,r),r&&u&2048&&xp(a.alternate,a);break;default:ia(i,a,o,c,r)}e=e.sibling}}function el(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:el(n,s),r&2048&&bp(s.alternate,s);break;case 24:el(n,s),r&2048&&xp(s.alternate,s);break;default:el(n,s)}e=e.sibling}}var Lo=8192;function Wi(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)Yw(t),t=t.sibling}function Yw(t){switch(t.tag){case 26:Wi(t),t.flags&Lo&&t.memoizedState!==null&&$k(cs,t.memoizedState,t.memoizedProps);break;case 5:Wi(t);break;case 3:case 4:var e=cs;cs=Ju(t.stateNode.containerInfo),Wi(t),cs=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Lo,Lo=16777216,Wi(t),Lo=e):Wi(t));break;default:Wi(t)}}function Qw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];zt=s,Jw(s,t)}Qw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xw(t),t=t.sibling}function Xw(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&Zr(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,cu(t)):wo(t);break;default:wo(t)}}function cu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];zt=s,Jw(s,t)}Qw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zr(8,e,e.return),cu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,cu(e));break;default:cu(e)}t=t.sibling}}function Jw(t,e){for(;zt!==null;){var n=zt;switch(n.tag){case 0:case 11:case 15:Zr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Wl(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,zt=s;else e:for(n=t;zt!==null;){s=zt;var r=s.sibling,i=s.return;if(Vw(s),s===n){zt=null;break e}if(r!==null){r.return=i,zt=r;break e}zt=i}}}var ck={getCacheForType:function(t){var e=rn(Mt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},uk=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,Pe=null,Ue=0,Ge=0,Un=null,Pr=!1,ro=!1,Sp=!1,ur=0,gt=0,Wr=0,Ri=0,Cp=0,rs=0,Ga=0,tl=null,Tn=null,Am=!1,wp=0,qu=1/0,Ku=null,zr=null,Qt=0,Vr=null,qa=null,ja=0,Em=0,Nm=null,Zw=null,nl=0,_m=null;function zn(){if(Ke&2&&Ue!==0)return Ue&-Ue;if(we.T!==null){var t=Ba;return t!==0?t:Ap()}return cC()}function Ww(){rs===0&&(rs=!(Ue&536870912)||Ve?iC():536870912);var t=is.current;return t!==null&&(t.flags|=32),rs}function Vn(t,e,n){(t===et&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Dr(t,Ue,rs,!1)),Yl(t,n),(!(Ke&2)||t!==et)&&(t===et&&(!(Ke&2)&&(Ri|=n),gt===4&&Dr(t,Ue,rs,!1)),Ls(t))}function eT(t,e,n){if(Ke&6)throw Error($(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||$l(t,e),r=s?fk(t,e):cf(t,e,!0),i=s;do{if(r===0){ro&&!s&&Dr(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!dk(n)){r=cf(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;r=tl;var c=o.current.memoizedState.isDehydrated;if(c&&(Ka(o,a).flags|=256),a=cf(o,a,!1),a!==2){if(Sp&&!c){o.errorRecoveryDisabledLanes|=i,Ri|=i,r=4;break e}i=Tn,Tn=r,i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){Ka(t,0),Dr(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error($(345));case 4:if((e&4194048)!==e)break;case 6:Dr(s,e,rs,!Pr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error($(329))}if((e&62914560)===e&&(r=wp+300-Is(),10<r)){if(Dr(s,e,rs,!Pr),Fd(s,0,!0)!==0)break e;s.timeoutHandle=bT(jb.bind(null,s,n,Tn,Ku,Am,e,rs,Ri,Ga,Pr,i,2,-0,0),r);break e}jb(s,n,Tn,Ku,Am,e,rs,Ri,Ga,Pr,i,0,-0,0)}}break}while(!0);Ls(t)}function jb(t,e,n,s,r,i,a,o,c,u,d,h,f,m){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:Kk},Yw(e),h=Yk(),h!==null)){t.cancelPendingCommit=h(Mb.bind(null,t,e,i,n,s,r,a,o,c,d,1,f,m)),Dr(t,i,a,!u);return}Mb(t,e,i,n,s,r,a,o,c)}function dk(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!qn(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e,n,s){e&=~Cp,e&=~Ri,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Bn(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&oC(t,n,e)}function Wd(){return Ke&6?!0:(rc(0),!1)}function Tp(){if(Pe!==null){if(Ge===0)var t=Pe.return;else t=Pe,Zs=$i=null,up(t),Oa=null,El=0,t=Pe;for(;t!==null;)Pw(t.alternate,t),t=t.return;Pe=null}}function Ka(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Rk(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Tp(),et=t,Pe=n=nr(t.current,null),Ue=e,Ge=0,Un=null,Pr=!1,ro=$l(t,e),Sp=!1,Ga=rs=Cp=Ri=Wr=gt=0,Tn=tl=null,Am=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Bn(s),i=1<<r;e|=t[r],s&=~i}return ur=e,$d(),n}function tT(t,e){Ie=null,we.H=Hu,e===ec||e===Qd?(e=ub(),Ge=3):e===HC?(e=ub(),Ge=4):Ge=e===Rw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Un=e,Pe===null&&(gt=1,Vu(t,ss(e,t.current)))}function nT(){var t=we.H;return we.H=Hu,t===null?Hu:t}function sT(){var t=we.A;return we.A=ck,t}function Rm(){gt=4,Pr||(Ue&4194048)!==Ue&&is.current!==null||(ro=!0),!(Wr&134217727)&&!(Ri&134217727)||et===null||Dr(et,Ue,rs,!1)}function cf(t,e,n){var s=Ke;Ke|=2;var r=nT(),i=sT();(et!==t||Ue!==e)&&(Ku=null,Ka(t,e)),e=!1;var a=gt;e:do try{if(Ge!==0&&Pe!==null){var o=Pe,c=Un;switch(Ge){case 8:Tp(),a=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(e=!0);var u=Ge;if(Ge=0,Un=null,xa(t,o,c,u),n&&ro){a=0;break e}break;default:u=Ge,Ge=0,Un=null,xa(t,o,c,u)}}hk(),a=gt;break}catch(d){tT(t,d)}while(!0);return e&&t.shellSuspendCounter++,Zs=$i=null,Ke=s,we.H=r,we.A=i,Pe===null&&(et=null,Ue=0,$d()),a}function hk(){for(;Pe!==null;)rT(Pe)}function fk(t,e){var n=Ke;Ke|=2;var s=nT(),r=sT();et!==t||Ue!==e?(Ku=null,qu=Is()+500,Ka(t,e)):ro=$l(t,e);e:do try{if(Ge!==0&&Pe!==null){e=Pe;var i=Un;t:switch(Ge){case 1:Ge=0,Un=null,xa(t,e,i,1);break;case 2:case 9:if(cb(i)){Ge=0,Un=null,Ib(e);break}e=function(){Ge!==2&&Ge!==9||et!==t||(Ge=7),Ls(t)},i.then(e,e);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:cb(i)?(Ge=0,Un=null,Ib(e)):(Ge=0,Un=null,xa(t,e,i,7));break;case 5:var a=null;switch(Pe.tag){case 26:a=Pe.memoizedState;case 5:case 27:var o=Pe;if(!a||wT(a)){Ge=0,Un=null;var c=o.sibling;if(c!==null)Pe=c;else{var u=o.return;u!==null?(Pe=u,eh(u)):Pe=null}break t}}Ge=0,Un=null,xa(t,e,i,5);break;case 6:Ge=0,Un=null,xa(t,e,i,6);break;case 8:Tp(),gt=6;break e;default:throw Error($(462))}}mk();break}catch(d){tT(t,d)}while(!0);return Zs=$i=null,we.H=s,we.A=r,Ke=n,Pe!==null?0:(et=null,Ue=0,$d(),gt)}function mk(){for(;Pe!==null&&!DR();)rT(Pe)}function rT(t){var e=Mw(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?eh(t):Pe=e}function Ib(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Eb(n,e,e.pendingProps,e.type,void 0,Ue);break;case 11:e=Eb(n,e,e.pendingProps,e.type.render,e.ref,Ue);break;case 5:up(e);default:Pw(n,e),e=Pe=PC(e,ur),e=Mw(n,e,ur)}t.memoizedProps=t.pendingProps,e===null?eh(t):Pe=e}function xa(t,e,n,s){Zs=$i=null,up(e),Oa=null,El=0;var r=e.return;try{if(sk(t,r,e,n,Ue)){gt=1,Vu(t,ss(n,t.current)),Pe=null;return}}catch(i){if(r!==null)throw Pe=r,i;gt=1,Vu(t,ss(n,t.current)),Pe=null;return}e.flags&32768?(Ve||s===1?t=!0:ro||Ue&536870912?t=!1:(Pr=t=!0,(s===2||s===9||s===3||s===6)&&(s=is.current,s!==null&&s.tag===13&&(s.flags|=16384))),iT(e,t)):eh(e)}function eh(t){var e=t;do{if(e.flags&32768){iT(e,Pr);return}t=e.return;var n=ik(e.alternate,e,ur);if(n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);gt===0&&(gt=5)}function iT(t,e){do{var n=ak(t.alternate,t);if(n!==null){n.flags&=32767,Pe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=n}while(t!==null);gt=6,Pe=null}function Mb(t,e,n,s,r,i,a,o,c){t.cancelPendingCommit=null;do th();while(Qt!==0);if(Ke&6)throw Error($(327));if(e!==null){if(e===t.current)throw Error($(177));if(i=e.lanes|e.childLanes,i|=Jg,KR(t,n,i,a,o,c),t===et&&(Pe=et=null,Ue=0),qa=e,Vr=t,ja=n,Em=i,Nm=r,Zw=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,vk(Ru,function(){return uT(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=we.T,we.T=null,r=Fe.p,Fe.p=2,a=Ke,Ke|=4;try{ok(t,e,n)}finally{Ke=a,Fe.p=r,we.T=s}}Qt=1,aT(),oT(),lT()}}function aT(){if(Qt===1){Qt=0;var t=Vr,e=qa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=we.T,we.T=null;var s=Fe.p;Fe.p=2;var r=Ke;Ke|=4;try{qw(e,t);var i=Im,a=NC(t.containerInfo),o=i.focusedElem,c=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&EC(o.ownerDocument.documentElement,o)){if(c!==null&&Xg(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var h=o.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),S=o.textContent.length,b=Math.min(c.start,S),C=c.end===void 0?b:Math.min(c.end,S);!m.extend&&b>C&&(a=C,C=b,b=a);var y=tb(o,b),p=tb(o,C);if(y&&p&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var g=h.createRange();g.setStart(y.node,y.offset),m.removeAllRanges(),b>C?(m.addRange(g),m.extend(p.node,p.offset)):(g.setEnd(p.node,p.offset),m.addRange(g))}}}}for(h=[],m=o;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var v=h[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ed=!!jm,Im=jm=null}finally{Ke=r,Fe.p=s,we.T=n}}t.current=e,Qt=2}}function oT(){if(Qt===2){Qt=0;var t=Vr,e=qa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=we.T,we.T=null;var s=Fe.p;Fe.p=2;var r=Ke;Ke|=4;try{zw(t,e.alternate,e)}finally{Ke=r,Fe.p=s,we.T=n}}Qt=3}}function lT(){if(Qt===4||Qt===3){Qt=0,UR();var t=Vr,e=qa,n=ja,s=Zw;e.subtreeFlags&10256||e.flags&10256?Qt=5:(Qt=0,qa=Vr=null,cT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(zr=null),Fg(n),e=e.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=we.T,r=Fe.p,Fe.p=2,we.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var o=s[a];i(o.value,{componentStack:o.stack})}}finally{we.T=e,Fe.p=r}}ja&3&&th(),Ls(t),r=t.pendingLanes,n&4194090&&r&42?t===_m?nl++:(nl=0,_m=t):nl=0,rc(0)}}function cT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Wl(e)))}function th(t){return aT(),oT(),lT(),uT()}function uT(){if(Qt!==5)return!1;var t=Vr,e=Em;Em=0;var n=Fg(ja),s=we.T,r=Fe.p;try{Fe.p=32>n?32:n,we.T=null,n=Nm,Nm=null;var i=Vr,a=ja;if(Qt=0,qa=Vr=null,ja=0,Ke&6)throw Error($(331));var o=Ke;if(Ke|=4,Xw(i.current),$w(i,i.current,a,n),Ke=o,rc(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Kl,i)}catch{}return!0}finally{Fe.p=r,we.T=s,cT(t,e)}}function Pb(t,e,n){e=ss(n,e),e=Sm(t.stateNode,e,2),t=Br(t,e,2),t!==null&&(Yl(t,2),Ls(t))}function Ze(t,e,n){if(t.tag===3)Pb(t,t,n);else for(;e!==null;){if(e.tag===3){Pb(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zr===null||!zr.has(s))){t=ss(n,t),n=Nw(2),s=Br(e,n,2),s!==null&&(_w(n,s,e,t),Yl(s,2),Ls(s));break}}e=e.return}}function uf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new uk;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(Sp=!0,r.add(n),t=gk.bind(null,t,e,n),e.then(t,t))}function gk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,et===t&&(Ue&n)===n&&(gt===4||gt===3&&(Ue&62914560)===Ue&&300>Is()-wp?!(Ke&2)&&Ka(t,0):Cp|=n,Ga===Ue&&(Ga=0)),Ls(t)}function dT(t,e){e===0&&(e=aC()),t=so(t,e),t!==null&&(Yl(t,e),Ls(t))}function pk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dT(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error($(314))}s!==null&&s.delete(e),dT(t,n)}function vk(t,e){return zg(t,e)}var $u=null,aa=null,km=!1,Yu=!1,df=!1,ki=0;function Ls(t){t!==aa&&t.next===null&&(aa===null?$u=aa=t:aa=aa.next=t),Yu=!0,km||(km=!0,xk())}function rc(t,e){if(!df&&Yu){df=!0;do for(var n=!1,s=$u;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-Bn(42|t)+1)-1,i&=r&~(a&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Db(s,i))}else i=Ue,i=Fd(s,s===et?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||$l(s,i)||(n=!0,Db(s,i));s=s.next}while(n);df=!1}}function bk(){hT()}function hT(){Yu=km=!1;var t=0;ki!==0&&(_k()&&(t=ki),ki=0);for(var e=Is(),n=null,s=$u;s!==null;){var r=s.next,i=fT(s,e);i===0?(s.next=null,n===null?$u=r:n.next=r,r===null&&(aa=n)):(n=s,(t!==0||i&3)&&(Yu=!0)),s=r}rc(t)}function fT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-Bn(i),o=1<<a,c=r[a];c===-1?(!(o&n)||o&s)&&(r[a]=qR(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}if(e=et,n=Ue,n=Fd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Dh(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||$l(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Dh(s),Fg(n)){case 2:case 8:n=sC;break;case 32:n=Ru;break;case 268435456:n=rC;break;default:n=Ru}return s=mT.bind(null,t),n=zg(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Dh(s),t.callbackPriority=2,t.callbackNode=null,2}function mT(t,e){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(th()&&t.callbackNode!==n)return null;var s=Ue;return s=Fd(t,t===et?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(eT(t,s,e),fT(t,Is()),t.callbackNode!=null&&t.callbackNode===n?mT.bind(null,t):null)}function Db(t,e){if(th())return null;eT(t,e,!0)}function xk(){kk(function(){Ke&6?zg(nC,bk):hT()})}function Ap(){return ki===0&&(ki=iC()),ki}function Ub(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tu(""+t)}function Lb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Sk(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=Ub((r[_n]||null).action),a=s.submitter;a&&(e=(e=a[_n]||null)?Ub(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var o=new Gd("action","action",null,s,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ki!==0){var c=a?Lb(r,a):new FormData(r);bm(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=a?Lb(r,a):new FormData(r),bm(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var hf=0;hf<om.length;hf++){var ff=om[hf],Ck=ff.toLowerCase(),wk=ff[0].toUpperCase()+ff.slice(1);Ss(Ck,"on"+wk)}Ss(RC,"onAnimationEnd");Ss(kC,"onAnimationIteration");Ss(OC,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(B1,"onTransitionRun");Ss(z1,"onTransitionStart");Ss(V1,"onTransitionCancel");Ss(jC,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function gT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){zu(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(o=s[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(d){zu(d)}r.currentTarget=null,i=c}}}}function Me(t,e){var n=e[em];n===void 0&&(n=e[em]=new Set);var s=t+"__bubble";n.has(s)||(pT(e,t,2,!1),n.add(s))}function mf(t,e,n){var s=0;e&&(s|=4),pT(n,t,s,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Ep(t){if(!t[kc]){t[kc]=!0,uC.forEach(function(n){n!=="selectionchange"&&(Tk.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,mf("selectionchange",!1,e))}}function pT(t,e,n,s){switch(_T(e)){case 2:var r=Jk;break;case 8:r=Zk;break;default:r=kp}n=r.bind(null,e,n,t),r=void 0,!rm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function gf(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=da(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}o=o.parentNode}}s=s.return}vC(function(){var u=i,d=Kg(n),h=[];e:{var f=IC.get(t);if(f!==void 0){var m=Gd,S=t;switch(t){case"keypress":if(su(n)===0)break e;case"keydown":case"keyup":m=v1;break;case"focusin":S="focus",m=Gh;break;case"focusout":S="blur",m=Gh;break;case"beforeblur":case"afterblur":m=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=S1;break;case RC:case kC:case OC:m=c1;break;case jC:m=w1;break;case"scroll":case"scrollend":m=r1;break;case"wheel":m=A1;break;case"copy":case"cut":case"paste":m=d1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$v;break;case"toggle":case"beforetoggle":m=N1}var b=(e&4)!==0,C=!b&&(t==="scroll"||t==="scrollend"),y=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,g;p!==null;){var v=p;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||y===null||(v=Sl(p,y),v!=null&&b.push(_l(p,v,g))),C)break;p=p.return}0<b.length&&(f=new m(f,S,null,n,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==sm&&(S=n.relatedTarget||n.fromElement)&&(da(S)||S[to]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?da(S):null,S!==null&&(C=ql(S),b=S.tag,S!==C||b!==5&&b!==27&&b!==6)&&(S=null)):(m=null,S=u),m!==S)){if(b=qv,v="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=$v,v="onPointerLeave",y="onPointerEnter",p="pointer"),C=m==null?f:Uo(m),g=S==null?f:Uo(S),f=new b(v,p+"leave",m,n,d),f.target=C,f.relatedTarget=g,v=null,da(d)===u&&(b=new b(y,p+"enter",S,n,d),b.target=g,b.relatedTarget=C,v=b),C=v,m&&S)t:{for(b=m,y=S,p=0,g=b;g;g=ea(g))p++;for(g=0,v=y;v;v=ea(v))g++;for(;0<p-g;)b=ea(b),p--;for(;0<g-p;)y=ea(y),g--;for(;p--;){if(b===y||y!==null&&b===y.alternate)break t;b=ea(b),y=ea(y)}b=null}else b=null;m!==null&&Hb(h,f,m,b,!1),S!==null&&C!==null&&Hb(h,C,S,b,!0)}}e:{if(f=u?Uo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=Jv;else if(Xv(f))if(TC)w=U1;else{w=P1;var N=M1}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&qg(u.elementType)&&(w=Jv):w=D1;if(w&&(w=w(t,u))){wC(h,w,n,d);break e}N&&N(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&nm(f,"number",f.value)}switch(N=u?Uo(u):window,t){case"focusin":(Xv(N)||N.contentEditable==="true")&&(ma=N,im=u,Ko=null);break;case"focusout":Ko=im=ma=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,nb(h,n,d);break;case"selectionchange":if(H1)break;case"keydown":case"keyup":nb(h,n,d)}var T;if(Qg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else fa?SC(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(xC&&n.locale!=="ko"&&(fa||_!=="onCompositionStart"?_==="onCompositionEnd"&&fa&&(T=bC()):(Mr=d,$g="value"in Mr?Mr.value:Mr.textContent,fa=!0)),N=Qu(u,_),0<N.length&&(_=new Kv(_,t,null,n,d),h.push({event:_,listeners:N}),T?_.data=T:(T=CC(n),T!==null&&(_.data=T)))),(T=R1?k1(t,n):O1(t,n))&&(_=Qu(u,"onBeforeInput"),0<_.length&&(N=new Kv("onBeforeInput","beforeinput",null,n,d),h.push({event:N,listeners:_}),N.data=T)),Sk(h,t,u,n,d)}gT(h,e)})}function _l(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qu(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Sl(t,n),r!=null&&s.unshift(_l(t,r,i)),r=Sl(t,e),r!=null&&s.push(_l(t,r,i))),t.tag===3)return s;t=t.return}return[]}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hb(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||u===null||(c=u,r?(u=Sl(n,i),u!=null&&a.unshift(_l(n,u,c))):r||(u=Sl(n,i),u!=null&&a.push(_l(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ak=/\r\n?/g,Ek=/\u0000|\uFFFD/g;function Bb(t){return(typeof t=="string"?t:""+t).replace(Ak,`
`).replace(Ek,"")}function yT(t,e){return e=Bb(e),Bb(t)===e}function nh(){}function $e(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Ha(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Ha(t,""+s);break;case"className":wc(t,"class",s);break;case"tabIndex":wc(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":wc(t,n,s);break;case"style":yC(t,s,i);break;case"data":if(e!=="object"){wc(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=tu(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&$e(t,e,"name",r.name,r,null),$e(t,e,"formEncType",r.formEncType,r,null),$e(t,e,"formMethod",r.formMethod,r,null),$e(t,e,"formTarget",r.formTarget,r,null)):($e(t,e,"encType",r.encType,r,null),$e(t,e,"method",r.method,r,null),$e(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=tu(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=nh);break;case"onScroll":s!=null&&Me("scroll",t);break;case"onScrollEnd":s!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=tu(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Me("beforetoggle",t),Me("toggle",t),eu(t,"popover",s);break;case"xlinkActuate":Bs(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Bs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Bs(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Bs(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Bs(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Bs(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Bs(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Bs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Bs(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":eu(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=n1.get(n)||n,eu(t,n,s))}}function Om(t,e,n,s,r,i){switch(n){case"style":yC(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error($(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error($(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Ha(t,s):(typeof s=="number"||typeof s=="bigint")&&Ha(t,""+s);break;case"onScroll":s!=null&&Me("scroll",t);break;case"onScrollEnd":s!=null&&Me("scrollend",t);break;case"onClick":s!=null&&(t.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[_n]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):eu(t,n,s)}}}function Xt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:$e(t,e,i,a,n,null)}}r&&$e(t,e,"srcSet",n.srcSet,n,null),s&&$e(t,e,"src",n.src,n,null);return;case"input":Me("invalid",t);var o=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error($(137,e));break;default:$e(t,e,s,d,n,null)}}mC(t,i,o,c,u,a,r,!1),ku(t);return;case"select":Me("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:$e(t,e,r,o,n,null)}e=i,n=a,t.multiple=!!s,e!=null?Ea(t,!!s,e,!1):n!=null&&Ea(t,!!s,n,!0);return;case"textarea":Me("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error($(91));break;default:$e(t,e,a,o,n,null)}pC(t,s,r,i),ku(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(t,e,c,s,n,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Me(Nl[s],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:$e(t,e,u,s,n,null)}return;default:if(qg(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Om(t,e,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&$e(t,e,o,s,n,null))}function Nk(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,o=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(m)||$e(t,e,m,null,s,h)}}for(var f in s){var m=s[f];if(h=n[f],s.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":i=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,e));break;default:m!==h&&$e(t,e,f,m,s,h)}}tm(t,a,o,c,u,d,i,r);return;case"select":m=a=o=f=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(i)||$e(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":f=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:i!==c&&$e(t,e,r,i,s,c)}e=o,n=a,s=m,f!=null?Ea(t,!!n,f,!1):!!s!=!!n&&(e!=null?Ea(t,!!n,e,!0):Ea(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:$e(t,e,o,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":f=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error($(91));break;default:r!==i&&$e(t,e,a,r,s,i)}gC(t,f,m);return;case"option":for(var S in n)if(f=n[S],n.hasOwnProperty(S)&&f!=null&&!s.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:$e(t,e,S,null,s,f)}for(c in s)if(f=s[c],m=n[c],s.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$e(t,e,c,f,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!s.hasOwnProperty(b)&&$e(t,e,b,null,s,f);for(u in s)if(f=s[u],m=n[u],s.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error($(137,e));break;default:$e(t,e,u,f,s,m)}return;default:if(qg(e)){for(var C in n)f=n[C],n.hasOwnProperty(C)&&f!==void 0&&!s.hasOwnProperty(C)&&Om(t,e,C,void 0,s,f);for(d in s)f=s[d],m=n[d],!s.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Om(t,e,d,f,s,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!s.hasOwnProperty(y)&&$e(t,e,y,null,s,f);for(h in s)f=s[h],m=n[h],!s.hasOwnProperty(h)||f===m||f==null&&m==null||$e(t,e,h,f,s,m)}var jm=null,Im=null;function Xu(t){return t.nodeType===9?t:t.ownerDocument}function zb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Mm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pf=null;function _k(){var t=window.event;return t&&t.type==="popstate"?t===pf?!1:(pf=t,!0):(pf=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,Rk=typeof clearTimeout=="function"?clearTimeout:void 0,Vb=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Vb<"u"?function(t){return Vb.resolve(null).then(t).catch(Ok)}:bT;function Ok(t){setTimeout(function(){throw t})}function ai(t){return t==="head"}function Fb(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var a=t.ownerDocument;if(n&1&&sl(a.documentElement),n&2&&sl(a.body),n&4)for(n=a.head,sl(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[Ql]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(r===0){t.removeChild(i),Il(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Il(e)}function Pm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pm(n),Gg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function jk(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ql])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=ps(t.nextSibling),t===null)break}return null}function Ik(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ps(t.nextSibling),t===null))return null;return t}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Mk(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Um=null;function Gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function xT(t,e,n){switch(e=Xu(n),t){case"html":if(t=e.documentElement,!t)throw Error($(452));return t;case"head":if(t=e.head,!t)throw Error($(453));return t;case"body":if(t=e.body,!t)throw Error($(454));return t;default:throw Error($(451))}}function sl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Gg(t)}var as=new Map,qb=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gr=Fe.d;Fe.d={f:Pk,r:Dk,D:Uk,C:Lk,L:Hk,m:Bk,X:Vk,S:zk,M:Fk};function Pk(){var t=gr.f(),e=Wd();return t||e}function Dk(t){var e=no(t);e!==null&&e.tag===5&&e.type==="form"?fw(e):gr.r(t)}var io=typeof document>"u"?null:document;function ST(t,e,n){var s=io;if(s&&typeof e=="string"&&e){var r=ns(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),qb.has(r)||(qb.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Xt(e,"link",t),Vt(e),s.head.appendChild(e)))}}function Uk(t){gr.D(t),ST("dns-prefetch",t,null)}function Lk(t,e){gr.C(t,e),ST("preconnect",t,e)}function Hk(t,e,n){gr.L(t,e,n);var s=io;if(s&&t&&e){var r='link[rel="preload"][as="'+ns(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ns(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ns(n.imageSizes)+'"]')):r+='[href="'+ns(t)+'"]';var i=r;switch(e){case"style":i=$a(t);break;case"script":i=ao(t)}as.has(i)||(t=rt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),as.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(ic(i))||e==="script"&&s.querySelector(ac(i))||(e=s.createElement("link"),Xt(e,"link",t),Vt(e),s.head.appendChild(e)))}}function Bk(t,e){gr.m(t,e);var n=io;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+ns(s)+'"][href="'+ns(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ao(t)}if(!as.has(i)&&(t=rt({rel:"modulepreload",href:t},e),as.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ac(i)))return}s=n.createElement("link"),Xt(s,"link",t),Vt(s),n.head.appendChild(s)}}}function zk(t,e,n){gr.S(t,e,n);var s=io;if(s&&t){var r=Aa(s).hoistableStyles,i=$a(t);e=e||"default";var a=r.get(i);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(ic(i)))o.loading=5;else{t=rt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=as.get(i))&&Np(t,n);var c=a=s.createElement("link");Vt(c),Xt(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,uu(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(i,a)}}}function Vk(t,e){gr.X(t,e);var n=io;if(n&&t){var s=Aa(n).hoistableScripts,r=ao(t),i=s.get(r);i||(i=n.querySelector(ac(r)),i||(t=rt({src:t,async:!0},e),(e=as.get(r))&&_p(t,e),i=n.createElement("script"),Vt(i),Xt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Fk(t,e){gr.M(t,e);var n=io;if(n&&t){var s=Aa(n).hoistableScripts,r=ao(t),i=s.get(r);i||(i=n.querySelector(ac(r)),i||(t=rt({src:t,async:!0,type:"module"},e),(e=as.get(r))&&_p(t,e),i=n.createElement("script"),Vt(i),Xt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Kb(t,e,n,s){var r=(r=Lr.current)?Ju(r):null;if(!r)throw Error($(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=$a(n.href),n=Aa(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=$a(n.href);var i=Aa(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(ic(t)))&&!i._p&&(a.instance=i,a.state.loading=5),as.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},as.set(t,n),i||Gk(r,t,n,a.state))),e&&s===null)throw Error($(528,""));return a}if(e&&s!==null)throw Error($(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ao(n),n=Aa(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,t))}}function $a(t){return'href="'+ns(t)+'"'}function ic(t){return'link[rel="stylesheet"]['+t+"]"}function CT(t){return rt({},t,{"data-precedence":t.precedence,precedence:null})}function Gk(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Xt(e,"link",n),Vt(e),t.head.appendChild(e))}function ao(t){return'[src="'+ns(t)+'"]'}function ac(t){return"script[async]"+t}function $b(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ns(n.href)+'"]');if(s)return e.instance=s,Vt(s),s;var r=rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Vt(s),Xt(s,"style",r),uu(s,n.precedence,t),e.instance=s;case"stylesheet":r=$a(n.href);var i=t.querySelector(ic(r));if(i)return e.state.loading|=4,e.instance=i,Vt(i),i;s=CT(n),(r=as.get(r))&&Np(s,r),i=(t.ownerDocument||t).createElement("link"),Vt(i);var a=i;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),Xt(i,"link",s),e.state.loading|=4,uu(i,n.precedence,t),e.instance=i;case"script":return i=ao(n.src),(r=t.querySelector(ac(i)))?(e.instance=r,Vt(r),r):(s=n,(r=as.get(i))&&(s=rt({},n),_p(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),Vt(r),Xt(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error($(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,uu(s,n.precedence,t));return e.instance}function uu(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Np(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function _p(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var du=null;function Yb(t,e,n){if(du===null){var s=new Map,r=du=new Map;r.set(n,s)}else r=du,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Ql]||i[sn]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var o=s.get(a);o?o.push(i):s.set(a,[i])}}return s}function Qb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function qk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function wT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function Kk(){}function $k(t,e,n){if(Rl===null)throw Error($(475));var s=Rl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=$a(n.href),i=t.querySelector(ic(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Zu.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,Vt(i);return}i=t.ownerDocument||t,n=CT(n),(r=as.get(r))&&Np(n,r),i=i.createElement("link"),Vt(i);var a=i;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),Xt(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=Zu.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function Yk(){if(Rl===null)throw Error($(475));var t=Rl;return t.stylesheets&&t.count===0&&Lm(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Lm(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Zu(){if(this.count--,this.count===0){if(this.stylesheets)Lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function Lm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,e.forEach(Qk,t),Wu=null,Zu.call(t))}function Qk(t,e){if(!(e.state.loading&4)){var n=Wu.get(t);if(n)var s=n.get(null);else{n=new Map,Wu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=Zu.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var kl={$$typeof:Qs,Provider:null,Consumer:null,_currentValue:Ti,_currentValue2:Ti,_threadCount:0};function Xk(t,e,n,s,r,i,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Uh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.hiddenUpdates=Uh(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function TT(t,e,n,s,r,i,a,o,c,u,d,h){return t=new Xk(t,e,n,a,o,c,u,h),e=1,i===!0&&(e|=24),i=Ln(3,null,null,e),t.current=i,i.stateNode=t,e=np(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},rp(i),t}function AT(t){return t?(t=ya,t):ya}function ET(t,e,n,s,r,i){r=AT(r),s.context===null?s.context=r:s.pendingContext=r,s=Hr(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Br(t,s,e),n!==null&&(Vn(n,t,e),Qo(n,t,e))}function Xb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rp(t,e){Xb(t,e),(t=t.alternate)&&Xb(t,e)}function NT(t){if(t.tag===13){var e=so(t,67108864);e!==null&&Vn(e,t,67108864),Rp(t,67108864)}}var ed=!0;function Jk(t,e,n,s){var r=we.T;we.T=null;var i=Fe.p;try{Fe.p=2,kp(t,e,n,s)}finally{Fe.p=i,we.T=r}}function Zk(t,e,n,s){var r=we.T;we.T=null;var i=Fe.p;try{Fe.p=8,kp(t,e,n,s)}finally{Fe.p=i,we.T=r}}function kp(t,e,n,s){if(ed){var r=Hm(s);if(r===null)gf(t,e,s,td,n),Jb(t,s);else if(eO(r,t,e,n,s))s.stopPropagation();else if(Jb(t,s),e&4&&-1<Wk.indexOf(t)){for(;r!==null;){var i=no(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=hi(i.pendingLanes);if(a!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-Bn(a);o.entanglements[1]|=c,a&=~c}Ls(i),!(Ke&6)&&(qu=Is()+500,rc(0))}}break;case 13:o=so(i,2),o!==null&&Vn(o,i,2),Wd(),Rp(i,2)}if(i=Hm(s),i===null&&gf(t,e,s,td,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else gf(t,e,s,null,n)}}function Hm(t){return t=Kg(t),Op(t)}var td=null;function Op(t){if(td=null,t=da(t),t!==null){var e=ql(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ZS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return td=t,null}function _T(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(LR()){case nC:return 2;case sC:return 8;case Ru:case HR:return 32;case rC:return 268435456;default:return 32}default:return 32}}var Bm=!1,Fr=null,Gr=null,qr=null,Ol=new Map,jl=new Map,kr=[],Wk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(e.pointerId)}}function To(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=no(e),e!==null&&NT(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function eO(t,e,n,s,r){switch(e){case"focusin":return Fr=To(Fr,t,e,n,s,r),!0;case"dragenter":return Gr=To(Gr,t,e,n,s,r),!0;case"mouseover":return qr=To(qr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Ol.set(i,To(Ol.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,jl.set(i,To(jl.get(i)||null,t,e,n,s,r)),!0}return!1}function RT(t){var e=da(t.target);if(e!==null){var n=ql(e);if(n!==null){if(e=n.tag,e===13){if(e=ZS(n),e!==null){t.blockedOn=e,$R(t.priority,function(){if(n.tag===13){var s=zn();s=Vg(s);var r=so(n,s);r!==null&&Vn(r,n,s),Rp(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hm(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);sm=s,n.target.dispatchEvent(s),sm=null}else return e=no(n),e!==null&&NT(e),t.blockedOn=n,!1;e.shift()}return!0}function Zb(t,e,n){hu(t)&&n.delete(e)}function tO(){Bm=!1,Fr!==null&&hu(Fr)&&(Fr=null),Gr!==null&&hu(Gr)&&(Gr=null),qr!==null&&hu(qr)&&(qr=null),Ol.forEach(Zb),jl.forEach(Zb)}function Oc(t,e){t.blockedOn===e&&(t.blockedOn=null,Bm||(Bm=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,tO)))}var jc=null;function Wb(t){jc!==t&&(jc=t,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(Op(s||n)===null)continue;break}var i=no(n);i!==null&&(t.splice(e,3),e-=3,bm(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Il(t){function e(c){return Oc(c,t)}Fr!==null&&Oc(Fr,t),Gr!==null&&Oc(Gr,t),qr!==null&&Oc(qr,t),Ol.forEach(e),jl.forEach(e);for(var n=0;n<kr.length;n++){var s=kr[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)RT(n),n.blockedOn===null&&kr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[_n]||null;if(typeof i=="function")a||Wb(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[_n]||null)o=a.formAction;else if(Op(r)!==null)continue}else o=a.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),Wb(n)}}}function jp(t){this._internalRoot=t}sh.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));var n=e.current,s=zn();ET(n,s,t,e,null,null)};sh.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ET(t.current,2,null,t,null,null),Wd(),e[to]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var e=cC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&RT(t)}};var ex=XS.version;if(ex!=="19.1.1")throw Error($(527,ex,"19.1.1"));Fe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=OR(e),t=t!==null?WS(t):null,t=t===null?null:t.stateNode,t};var nO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Kl=Ic.inject(nO),Hn=Ic}catch{}}zd.createRoot=function(t,e){if(!JS(t))throw Error($(299));var n=!1,s="",r=Tw,i=Aw,a=Ew,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=TT(t,1,!1,null,null,n,s,r,i,a,o,null),t[to]=e.current,Ep(t),new jp(e)};zd.hydrateRoot=function(t,e,n){if(!JS(t))throw Error($(299));var s=!1,r="",i=Tw,a=Aw,o=Ew,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=TT(t,1,!0,e,n??null,s,r,i,a,o,c,u),e.context=AT(null),n=e.current,s=zn(),s=Vg(s),r=Hr(s),r.callback=null,Br(n,r,s),n=s,e.current.lanes=n,Yl(e,n),Ls(e),t[to]=e.current,Ep(t),new sh(e)};zd.version="19.1.1";function kT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kT)}catch(t){console.error(t)}}kT(),FS.exports=zd;var sO=FS.exports;const rO=Ig(sO);/*! @azure/msal-common v15.12.0 2025-08-19 */const q={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ur={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},xi={GET:"GET",POST:"POST"},oo=[q.OPENID_SCOPE,q.PROFILE_SCOPE,q.OFFLINE_ACCESS_SCOPE],tx=[...oo,q.EMAIL_SCOPE],mn={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},nx={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Kr={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Mc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},vn={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Ip={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},rh={QUERY:"query",FRAGMENT:"fragment"},iO={QUERY:"query"},OT={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Pc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Ml={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Yt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Mp="appmetadata",aO="client_info",nd="1",sd={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Dn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},qt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},qe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},rl={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},sx={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},ta={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},yf={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},gi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},oO={Pop:"pop"},jT=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const rd="unexpected_error",lO="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const rx={[rd]:"Unexpected error in authentication.",[lO]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Xe extends Error{constructor(e,n,s){const r=n?`${e}: ${n}`:e;super(r),Object.setPrototypeOf(this,Xe.prototype),this.errorCode=e||q.EMPTY_STRING,this.errorMessage=n||q.EMPTY_STRING,this.subError=s||q.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function zm(t,e){return new Xe(t,e?`${rx[t]} ${e}`:rx[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const Pp="client_info_decoding_error",IT="client_info_empty_error",Dp="token_parsing_error",MT="null_or_empty_token",$s="endpoints_resolution_error",PT="network_error",DT="openid_config_error",UT="hash_not_deserialized",Ya="invalid_state",LT="state_mismatch",Vm="state_not_found",HT="nonce_mismatch",Up="auth_time_not_found",BT="max_age_transpired",cO="multiple_matching_tokens",uO="multiple_matching_accounts",zT="multiple_matching_appMetadata",VT="request_cannot_be_made",FT="cannot_remove_empty_scope",GT="cannot_append_scopeset",Fm="empty_input_scopeset",dO="device_code_polling_cancelled",hO="device_code_expired",fO="device_code_unknown_error",Lp="no_account_in_silent_request",qT="invalid_cache_record",Hp="invalid_cache_environment",Gm="no_account_found",qm="no_crypto_object",mO="unexpected_credential_type",gO="invalid_assertion",pO="invalid_client_credential",$r="token_refresh_required",yO="user_timeout_reached",KT="token_claims_cnf_required_for_signedjwt",$T="authorization_code_missing_from_server_response",YT="binding_key_not_removed",QT="end_session_endpoint_not_supported",Bp="key_id_missing",vO="no_network_connectivity",bO="user_canceled",xO="missing_tenant_id_error",Oe="method_not_implemented",SO="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const ix={[Pp]:"The client info could not be parsed/decoded correctly",[IT]:"The client info was empty",[Dp]:"Token cannot be parsed",[MT]:"The token is null or empty",[$s]:"Endpoints cannot be resolved",[PT]:"Network request failed",[DT]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[UT]:"The hash parameters could not be deserialized",[Ya]:"State was not the expected format",[LT]:"State mismatch error",[Vm]:"State not found",[HT]:"Nonce mismatch error",[Up]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[BT]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[cO]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[uO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[zT]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[VT]:"Token request cannot be made without authorization code or refresh token.",[FT]:"Cannot remove null or empty scope from ScopeSet",[GT]:"Cannot append ScopeSet",[Fm]:"Empty input ScopeSet cannot be processed",[dO]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[hO]:"Device code is expired.",[fO]:"Device code stopped polling for unknown reasons.",[Lp]:"Please pass an account object, silent flow is not supported without account information",[qT]:"Cache record object was null or undefined.",[Hp]:"Invalid environment when attempting to create cache entry",[Gm]:"No account found in cache for given key.",[qm]:"No crypto object detected.",[mO]:"Unexpected credential type.",[gO]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[pO]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[$r]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[yO]:"User defined timeout for device code polling reached",[KT]:"Cannot generate a POP jwt if the token_claims are not populated",[$T]:"Server response does not contain an authorization code to proceed",[YT]:"Could not remove the credential's binding key from storage.",[QT]:"The provided authority does not support logout",[Bp]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[vO]:"No network connectivity. Check your internet connection.",[bO]:"User cancelled the flow.",[xO]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Oe]:"This method has not been implemented",[SO]:"The nested app auth bridge is disabled"};class zp extends Xe{constructor(e,n){super(e,n?`${ix[e]}: ${n}`:ix[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,zp.prototype)}}function W(t,e){return new zp(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const id={createNewGuid:()=>{throw W(Oe)},base64Decode:()=>{throw W(Oe)},base64Encode:()=>{throw W(Oe)},base64UrlEncode:()=>{throw W(Oe)},encodeKid:()=>{throw W(Oe)},async getPublicKeyThumbprint(){throw W(Oe)},async removeTokenBindingKey(){throw W(Oe)},async clearKeystore(){throw W(Oe)},async signJwt(){throw W(Oe)},async hashString(){throw W(Oe)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var ot;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ot||(ot={}));class dr{constructor(e,n,s){this.level=ot.Info;const r=()=>{},i=e||dr.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||r,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:ot.Info,this.correlationId=i.correlationId||q.EMPTY_STRING,this.packageName=n||q.EMPTY_STRING,this.packageVersion=s||q.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info}}clone(e,n,s){return new dr({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:s||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ot[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,i,n.containsPii||!1)}executeCallback(e,n,s){this.localCallback&&this.localCallback(e,n,s)}error(e,n){this.logMessage(e,{logLevel:ot.Error,containsPii:!1,correlationId:n||q.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ot.Error,containsPii:!0,correlationId:n||q.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ot.Warning,containsPii:!1,correlationId:n||q.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ot.Warning,containsPii:!0,correlationId:n||q.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ot.Info,containsPii:!1,correlationId:n||q.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ot.Info,containsPii:!0,correlationId:n||q.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ot.Verbose,containsPii:!1,correlationId:n||q.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ot.Verbose,containsPii:!0,correlationId:n||q.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ot.Trace,containsPii:!1,correlationId:n||q.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ot.Trace,containsPii:!0,correlationId:n||q.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const XT="@azure/msal-common",Vp="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const Fp={None:"none"};/*! @azure/msal-common v15.12.0 2025-08-19 */const JT="redirect_uri_empty",CO="claims_request_parsing_error",ZT="authority_uri_insecure",Ho="url_parse_error",WT="empty_url_error",eA="empty_input_scopes_error",Gp="invalid_claims",tA="token_request_empty",nA="logout_request_empty",wO="invalid_code_challenge_method",qp="pkce_params_missing",Kp="invalid_cloud_discovery_metadata",sA="invalid_authority_metadata",rA="untrusted_authority",ih="missing_ssh_jwk",iA="missing_ssh_kid",TO="missing_nonce_authentication_header",AO="invalid_authentication_header",aA="cannot_set_OIDCOptions",oA="cannot_allow_platform_broker",lA="authority_mismatch",cA="invalid_request_method_for_EAR",uA="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const EO={[JT]:"A redirect URI is required for all calls, and none has been set.",[CO]:"Could not parse the given claims request object.",[ZT]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Ho]:"URL could not be parsed into appropriate segments.",[WT]:"URL was empty or null.",[eA]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Gp]:"Given claims parameter must be a stringified JSON object.",[tA]:"Token request was empty and not found in cache.",[nA]:"The logout request was null or undefined.",[wO]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[qp]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Kp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[sA]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[rA]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[ih]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[iA]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[TO]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[AO]:"Invalid authentication header provided",[aA]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[oA]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[lA]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[uA]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[cA]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class $p extends Xe{constructor(e){super(e,EO[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,$p.prototype)}}function Je(t){return new $p(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Fn{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},s=e.split("&"),r=i=>decodeURIComponent(i.replace(/\+/g," "));return s.forEach(i=>{if(i.trim()){const[a,o]=i.split(/=(.+)/g,2);a&&o&&(n[r(a)]=r(o))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Dt{constructor(e){const n=e?Fn.trimArrayEntries([...e]):[],s=n?Fn.removeEmptyStringsFromArray(n):[];if(!s||!s.length)throw Je(eA);this.scopes=new Set,s.forEach(r=>this.scopes.add(r))}static fromString(e){const s=(e||q.EMPTY_STRING).split(" ");return new Dt(s)}static createSearchScopes(e){const n=e&&e.length>0?e:[...oo],s=new Dt(n);return s.containsOnlyOIDCScopes()?s.removeScope(q.OFFLINE_ACCESS_SCOPE):s.removeOIDCScopes(),s}containsScope(e){const n=this.printScopesLowerCase().split(" "),s=new Dt(n);return e?s.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return tx.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw W(GT)}}removeScope(e){if(!e)throw W(FT);this.scopes.delete(e.trim())}removeOIDCScopes(){tx.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw W(Fm);const n=new Set;return e.scopes.forEach(s=>n.add(s.toLowerCase())),this.scopes.forEach(s=>n.add(s.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw W(Fm);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),s=e.getScopeCount(),r=this.getScopeCount();return n.size<r+s}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):q.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function ax(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Yp(t,e,n,s){if(s){const{oid:r,sub:i,tid:a,name:o,tfp:c,acr:u,preferred_username:d,upn:h,login_hint:f}=s,m=a||c||u||"";return{tenantId:m,localAccountId:r||i||"",name:o,username:d||h||"",loginHint:f,isHomeTenant:ax(m,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:ax(n,t)}}function Qp(t,e,n,s){let r=t;if(e){const{isHomeTenant:i,...a}=e;r={...t,...a}}if(n){const{isHomeTenant:i,...a}=Yp(t.homeAccountId,t.localAccountId,t.tenantId,n);return r={...r,...a,idTokenClaims:n,idToken:s},r}return r}/*! @azure/msal-common v15.12.0 2025-08-19 */function lo(t,e){const n=NO(t);try{const s=e(n);return JSON.parse(s)}catch{throw W(Dp)}}function NO(t){if(!t)throw W(MT);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw W(Dp);return n[2]}function dA(t,e){if(e===0||Date.now()-3e5>t+e)throw W(BT)}/*! @azure/msal-common v15.12.0 2025-08-19 */function ox(t){if(!t)return t;let e=t.toLowerCase();return Fn.endsWith(e,"?")?e=e.slice(0,-1):Fn.endsWith(e,"?/")&&(e=e.slice(0,-2)),Fn.endsWith(e,"/")||(e+="/"),e}function hA(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function ad(t){if(!t||t.indexOf("=")<0)return null;try{const e=hA(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw W(UT)}return null}function Pl(t,e=!0,n){const s=new Array;return t.forEach((r,i)=>{!e&&n&&i in n?s.push(`${i}=${r}`):s.push(`${i}=${encodeURIComponent(r)}`)}),s.join("&")}function lx(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),s=n.origin+n.pathname+n.search;return ox(s)}catch{return ox(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Be{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Je(WT);e.includes("#")||(this._urlString=Be.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Fn.endsWith(n,"?")?n=n.slice(0,-1):Fn.endsWith(n,"?/")&&(n=n.slice(0,-2)),Fn.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Je(Ho)}if(!e.HostNameAndPort||!e.PathSegments)throw Je(Ho);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Je(ZT)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Be.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),s=n.PathSegments;return e&&s.length!==0&&(s[0]===Kr.COMMON||s[0]===Kr.ORGANIZATIONS)&&(s[0]=e),Be.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw Je(Ho);const s={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let r=s.AbsolutePath.split("/");return r=r.filter(i=>i&&i.length>0),s.PathSegments=r,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=e.match(n);if(!s)throw Je(Ho);return s[2]}static getAbsoluteUrl(e,n){if(e[0]===q.FORWARD_SLASH){const r=new Be(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Be(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!ad(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const fA={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},cx=fA.endpointMetadata,Xp=fA.instanceDiscoveryMetadata,mA=new Set;Xp.metadata.forEach(t=>{t.aliases.forEach(e=>{mA.add(e)})});function _O(t,e){var r;let n;const s=t.canonicalAuthority;if(s){const i=new Be(s).getUrlComponents().HostNameAndPort;n=ux(i,(r=t.cloudDiscoveryMetadata)==null?void 0:r.metadata,Dn.CONFIG,e)||ux(i,Xp.metadata,Dn.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function ux(t,e,n,s){if(s==null||s.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const r=od(e,t);if(r)return s==null||s.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),r.aliases;s==null||s.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function RO(t){return od(Xp.metadata,t)}function od(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(s.aliases.includes(e))return s}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const ld="cache_quota_exceeded",Jp="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const vf={[ld]:"Exceeded cache storage capacity.",[Jp]:"Unexpected error occurred when using cache storage."};class Ia extends Xe{constructor(e,n){const s=n||(vf[e]?vf[e]:vf[Jp]);super(`${e}: ${s}`),Object.setPrototypeOf(this,Ia.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=s}}function Km(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Ia(ld):new Ia(t.name,t.message):new Ia(Jp)}/*! @azure/msal-common v15.12.0 2025-08-19 */class $m{constructor(e,n,s,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=s.clone(XT,Vp),this.staticAuthorityOptions=i,this.performanceClient=r}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(r=>!r))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const s=this.getAllAccounts(e,n);return s.length>1?s.sort(i=>i.idTokenClaims?-1:1)[0]:s.length===1?s[0]:null}getBaseAccountInfo(e,n){const s=this.getAccountsFilteredBy(e,n);return s.length>0?s[0].getAccountInfo():null}buildTenantProfiles(e,n,s){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n,s==null?void 0:s.tenantId,s))}getTenantedAccountInfoByFilter(e,n,s,r,i){let a=null,o;if(i&&!this.tenantProfileMatchesFilter(s,i))return null;const c=this.getIdToken(e,r,n,s.tenantId);return c&&(o=lo(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,i))?null:(a=Qp(e,s,o,c==null?void 0:c.secret),a)}getTenantProfilesFromAccountEntity(e,n,s,r){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const o=this.getTokenKeys();if(s){const u=a.get(s);if(u)a=new Map([[s,u]]);else return[]}const c=[];return a.forEach(u=>{const d=this.getTenantedAccountInfoByFilter(i,o,u,n,r);d&&c.push(d)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,s){var r;if(!e)throw W(qT);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(s==null?void 0:s.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(s==null?void 0:s.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(s==null?void 0:s.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(i){throw(r=this.commonLogger)==null||r.error("CacheManager.saveCacheRecord: failed"),i instanceof Xe?i:Km(i)}}async saveAccessToken(e,n){const s={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Dt.fromString(e.target);r.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,s,!1))return;const o=this.getAccessTokenCredential(a,n);o&&this.credentialMatchesFilter(o,s)&&Dt.fromString(o.target).intersectingScopeSets(i)&&this.removeAccessToken(a,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const s=this.getAccountKeys(),r=[];return s.forEach(i=>{var u;const a=this.getAccount(i,n);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const o={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(u=a.tenantProfiles)==null?void 0:u.filter(d=>this.tenantProfileMatchesFilter(d,o));c&&c.length===0||r.push(a)}),r}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===qe.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),s={};return n.forEach(r=>{if(!this.isAppMetadata(r))return;const i=this.getAppMetadata(r);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(s[r]=i))}),s}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let s=null;return n.forEach(r=>{if(!this.isAuthorityMetadata(r)||r.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(r);i&&i.aliases.indexOf(e)!==-1&&(s=i)}),s}removeAllAccounts(e){this.getAllAccounts({},e).forEach(s=>{this.removeAccount(s,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const s=this.getAccountKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.filter(r).forEach(i=>{this.removeItem(i,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const s=this.getTokenKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.idToken.filter(r).forEach(i=>{this.removeIdToken(i,n)}),s.accessToken.filter(r).forEach(i=>{this.removeAccessToken(i,n)}),s.refreshToken.filter(r).forEach(i=>{this.removeRefreshToken(i,n)})}removeAccessToken(e,n){const s=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!s||s.credentialType.toLowerCase()!==Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||s.tokenType!==qe.POP)return;const r=s.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{var i;this.commonLogger.error(`Failed to remove token binding key ${r}`,n),(i=this.performanceClient)==null||i.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(s=>{this.isAppMetadata(s)&&this.removeItem(s,e)}),!0}getIdToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Yt.ID_TOKEN,clientId:this.clientId,realm:r},o=this.getIdTokensByFilter(a,n,s),c=o.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=o;if(!r){const d=new Map;o.forEach((f,m)=>{f.realm===e.tenantId&&d.set(m,f)});const h=d.size;if(h<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(h===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;u=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((d,h)=>{this.removeIdToken(h,n)}),i&&n&&i.addFields({multiMatchedID:o.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,n,s){const r=s&&s.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const o=this.getIdTokenCredential(a,n);o&&this.credentialMatchesFilter(o,e)&&i.set(a,o)}),i}idTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,s,r){const i=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",i);const a=Dt.createSearchScopes(n.scopes),o=n.authenticationScheme||qe.BEARER,c=o.toLowerCase()!==qe.BEARER.toLowerCase()?Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Yt.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},d=s&&s.accessToken||this.getTokenKeys().accessToken,h=[];d.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,u,!0)){const S=this.getAccessTokenCredential(m,i);S&&this.credentialMatchesFilter(S,u)&&h.push(S)}});const f=h.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",i),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",i),h.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),i)}),this.performanceClient.addFields({multiMatchedAT:h.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",i),h[0])}accessTokenKeyMatchesFilter(e,n,s){const r=e.toLowerCase();if(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&r.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&r.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const i=n.target.asArray();for(let a=0;a<i.length;a++){if(s&&!r.includes(i[a].toLowerCase()))return!1;if(!s&&r.includes(i[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const s=this.getTokenKeys(),r=[];return s.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const a=this.getAccessTokenCredential(i,n);a&&this.credentialMatchesFilter(a,e)&&r.push(a)}),r}getRefreshToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?nd:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Yt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(h=>{if(this.refreshTokenKeyMatchesFilter(h,o)){const f=this.getRefreshTokenCredential(h,s);f&&this.credentialMatchesFilter(f,o)&&u.push(f)}});const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&i&&s&&i.addFields({multiMatchedRT:d},s),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.familyId&&s.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},s=this.getAppMetadataFilteredBy(n),r=Object.keys(s).map(a=>s[a]),i=r.length;if(i<1)return null;if(i>1)throw W(zT);return r[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===nd)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const s=e.oid||e.sub;return n===s}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var s;return n.toLowerCase()===((s=e.name)==null?void 0:s.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const r=_O(this.staticAuthorityOptions,this.commonLogger);if(r.includes(n)&&r.includes(e.environment))return!0}const s=this.getAuthorityMetadataByAlias(n);return!!(s&&s.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var s;return((s=e.realm)==null?void 0:s.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Yt.ACCESS_TOKEN&&e.credentialType!==Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Dt.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Mp)!==-1}isAuthorityMetadata(e){return e.indexOf(sd.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${sd.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const s in n)e[s]=n[s];return e}}class kO extends $m{async setAccount(){throw W(Oe)}getAccount(){throw W(Oe)}async setIdTokenCredential(){throw W(Oe)}getIdTokenCredential(){throw W(Oe)}async setAccessTokenCredential(){throw W(Oe)}getAccessTokenCredential(){throw W(Oe)}async setRefreshTokenCredential(){throw W(Oe)}getRefreshTokenCredential(){throw W(Oe)}setAppMetadata(){throw W(Oe)}getAppMetadata(){throw W(Oe)}setServerTelemetry(){throw W(Oe)}getServerTelemetry(){throw W(Oe)}setAuthorityMetadata(){throw W(Oe)}getAuthorityMetadata(){throw W(Oe)}getAuthorityMetadataKeys(){throw W(Oe)}setThrottlingCache(){throw W(Oe)}getThrottlingCache(){throw W(Oe)}removeItem(){throw W(Oe)}getKeys(){throw W(Oe)}getAccountKeys(){throw W(Oe)}getTokenKeys(){throw W(Oe)}generateCredentialKey(){throw W(Oe)}generateAccountKey(){throw W(Oe)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Nn={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const O={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},OO={InProgress:1};/*! @azure/msal-common v15.12.0 2025-08-19 */class dx{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class gA{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:OO.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new dx}}startPerformanceMeasurement(){return new dx}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const pA={tokenRenewalOffsetSeconds:jT,preventCorsPreflight:!1},jO={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info,correlationId:q.EMPTY_STRING},IO={claimsBasedCachingEnabled:!1},MO={async sendGetRequestAsync(){throw W(Oe)},async sendPostRequestAsync(){throw W(Oe)}},PO={sku:q.SKU,version:Vp,cpu:q.EMPTY_STRING,os:q.EMPTY_STRING},DO={clientSecret:q.EMPTY_STRING,clientAssertion:void 0},UO={azureCloudInstance:Fp.None,tenant:`${q.DEFAULT_COMMON_TENANT}`},LO={application:{appName:"",appVersion:""}};function HO({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:s,storageInterface:r,networkInterface:i,cryptoInterface:a,clientCredentials:o,libraryInfo:c,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}){const m={...jO,...n};return{authOptions:BO(t),systemOptions:{...pA,...e},loggerOptions:m,cacheOptions:{...IO,...s},storageInterface:r||new kO(t.clientId,id,new dr(m),new gA),networkInterface:i||MO,cryptoInterface:a||id,clientCredentials:o||DO,libraryInfo:{...PO,...c},telemetry:{...LO,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null}}function BO(t){return{clientCapabilities:[],azureCloudOptions:UO,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function yA(t){return t.authOptions.authority.options.protocolMode===Nn.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const gs={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function cd(t,e){if(!t)throw W(IT);try{const n=e(t);return JSON.parse(n)}catch{throw W(Pp)}}function Ma(t){if(!t)throw W(Pp);const e=t.split(Ml.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?q.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ui="client_id",vA="redirect_uri",zO="response_type",VO="response_mode",FO="grant_type",GO="claims",qO="scope",KO="refresh_token",$O="state",YO="nonce",QO="prompt",XO="code",JO="code_challenge",ZO="code_challenge_method",WO="code_verifier",ej="client-request-id",tj="x-client-SKU",nj="x-client-VER",sj="x-client-OS",rj="x-client-CPU",ij="x-client-current-telemetry",aj="x-client-last-telemetry",oj="x-ms-lib-capability",lj="x-app-name",cj="x-app-ver",uj="post_logout_redirect_uri",dj="id_token_hint",hj="client_secret",fj="client_assertion",mj="client_assertion_type",bA="token_type",xA="req_cnf",hx="return_spa_code",gj="nativebroker",pj="logout_hint",yj="sid",vj="login_hint",bj="domain_hint",xj="x-client-xtra-sku",ud="brk_client_id",dd="brk_redirect_uri",Ym="instance_aware",Sj="ear_jwk",Cj="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function ah(t,e,n){if(!e)return;const s=t.get(Ui);s&&t.has(ud)&&(n==null||n.addFields({embeddedClientId:s,embeddedRedirectUri:t.get(vA)},e))}function Zp(t,e){t.set(zO,e)}function wj(t,e){t.set(VO,e||iO.QUERY)}function Tj(t){t.set(gj,"1")}function Wp(t,e,n=!0,s=oo){n&&!s.includes("openid")&&!e.includes("openid")&&s.push("openid");const r=n?[...e||[],...s]:e||[],i=new Dt(r);t.set(qO,i.printScopes())}function ey(t,e){t.set(Ui,e)}function ty(t,e){t.set(vA,e)}function Aj(t,e){t.set(uj,e)}function Ej(t,e){t.set(dj,e)}function Nj(t,e){t.set(bj,e)}function Dc(t,e){t.set(vj,e)}function hd(t,e){t.set(mn.CCS_HEADER,`UPN:${e}`)}function il(t,e){t.set(mn.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function fx(t,e){t.set(yj,e)}function ny(t,e,n){const s=Ij(e,n);try{JSON.parse(s)}catch{throw Je(Gp)}t.set(GO,s)}function sy(t,e){t.set(ej,e)}function ry(t,e){t.set(tj,e.sku),t.set(nj,e.version),e.os&&t.set(sj,e.os),e.cpu&&t.set(rj,e.cpu)}function iy(t,e){e!=null&&e.appName&&t.set(lj,e.appName),e!=null&&e.appVersion&&t.set(cj,e.appVersion)}function _j(t,e){t.set(QO,e)}function SA(t,e){e&&t.set($O,e)}function Rj(t,e){t.set(YO,e)}function CA(t,e,n){if(e&&n)t.set(JO,e),t.set(ZO,n);else throw Je(qp)}function kj(t,e){t.set(XO,e)}function Oj(t,e){t.set(KO,e)}function jj(t,e){t.set(WO,e)}function wA(t,e){t.set(hj,e)}function TA(t,e){e&&t.set(fj,e)}function AA(t,e){e&&t.set(mj,e)}function EA(t,e){t.set(FO,e)}function ay(t){t.set(aO,"1")}function NA(t){t.has(Ym)||t.set(Ym,"true")}function Yr(t,e){Object.entries(e).forEach(([n,s])=>{!t.has(n)&&s&&t.set(n,s)})}function Ij(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw Je(Gp)}return e&&e.length>0&&(n.hasOwnProperty(Mc.ACCESS_TOKEN)||(n[Mc.ACCESS_TOKEN]={}),n[Mc.ACCESS_TOKEN][Mc.XMS_CC]={values:e}),JSON.stringify(n)}function oy(t,e){e&&(t.set(bA,qe.POP),t.set(xA,e))}function _A(t,e){e&&(t.set(bA,qe.SSH),t.set(xA,e))}function RA(t,e){t.set(ij,e.generateCurrentRequestHeaderValue()),t.set(aj,e.generateLastRequestHeaderValue())}function kA(t){t.set(oj,rl.X_MS_LIB_CAPABILITY_VALUE)}function Mj(t,e){t.set(pj,e)}function oh(t,e,n){t.has(ud)||t.set(ud,e),t.has(dd)||t.set(dd,n)}function Pj(t,e){t.set(Sj,encodeURIComponent(e)),t.set(Cj,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function Dj(t,e){Object.entries(e).forEach(([n,s])=>{s&&t.set(n,s)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const us={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function Uj(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function Lj(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function Hj(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const Gn=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}try{const o=t(...i);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),o}catch(o){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o}},F=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}return s==null||s.setPreQueueTime(e,r),t(...i).then(o=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),o)).catch(o=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o})};/*! @azure/msal-common v15.12.0 2025-08-19 */class lh{constructor(e,n,s,r){this.networkInterface=e,this.logger=n,this.performanceClient=s,this.correlationId=r}async detectRegion(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.RegionDiscoveryDetectRegion,this.correlationId);let s=e;if(s)n.region_source=ta.ENVIRONMENT_VARIABLE;else{const i=lh.IMDS_OPTIONS;try{const a=await F(this.getRegionFromIMDS.bind(this),O.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(q.IMDS_VERSION,i);if(a.status===Ur.SUCCESS&&(s=a.body,n.region_source=ta.IMDS),a.status===Ur.BAD_REQUEST){const o=await F(this.getCurrentVersion.bind(this),O.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!o)return n.region_source=ta.FAILED_AUTO_DETECTION,null;const c=await F(this.getRegionFromIMDS.bind(this),O.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(o,i);c.status===Ur.SUCCESS&&(s=c.body,n.region_source=ta.IMDS)}}catch{return n.region_source=ta.FAILED_AUTO_DETECTION,null}}return s||(n.region_source=ta.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(e,n){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(O.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${q.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,q.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(O.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(`${q.IMDS_ENDPOINT}?format=json`,e);return s.status===Ur.BAD_REQUEST&&s.body&&s.body["newest-versions"]&&s.body["newest-versions"].length>0?s.body["newest-versions"][0]:null}catch{return null}}}lh.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function Rn(){return Math.round(new Date().getTime()/1e3)}function mx(t){return t.getTime()/1e3}function Pa(t){return t?new Date(Number(t)*1e3):new Date}function fd(t,e){const n=Number(t)||0;return Rn()+e>n}function Bj(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function zj(t){return Number(t)>Rn()}/*! @azure/msal-common v15.12.0 2025-08-19 */function ch(t,e,n,s,r){return{credentialType:Yt.ID_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,realm:r,lastUpdatedAt:Date.now().toString()}}function uh(t,e,n,s,r,i,a,o,c,u,d,h,f,m,S){var C,y;const b={homeAccountId:t,credentialType:Yt.ACCESS_TOKEN,secret:n,cachedAt:Rn().toString(),expiresOn:a.toString(),extendedExpiresOn:o.toString(),environment:e,clientId:s,realm:r,target:i,tokenType:d||qe.BEARER,lastUpdatedAt:Date.now().toString()};if(h&&(b.userAssertionHash=h),u&&(b.refreshOn=u.toString()),m&&(b.requestedClaims=m,b.requestedClaimsHash=S),((C=b.tokenType)==null?void 0:C.toLowerCase())!==qe.BEARER.toLowerCase())switch(b.credentialType=Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case qe.POP:const p=lo(n,c);if(!((y=p==null?void 0:p.cnf)!=null&&y.kid))throw W(KT);b.keyId=p.cnf.kid;break;case qe.SSH:b.keyId=f}return b}function OA(t,e,n,s,r,i,a){const o={credentialType:Yt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,lastUpdatedAt:Date.now().toString()};return i&&(o.userAssertionHash=i),r&&(o.familyId=r),a&&(o.expiresOn=a.toString()),o}function ly(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function gx(t){return t?ly(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Yt.ACCESS_TOKEN||t.credentialType===Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function Vj(t){return t?ly(t)&&t.hasOwnProperty("realm")&&t.credentialType===Yt.ID_TOKEN:!1}function px(t){return t?ly(t)&&t.credentialType===Yt.REFRESH_TOKEN:!1}function Fj(t,e){const n=t.indexOf(qt.CACHE_KEY)===0;let s=!0;return e&&(s=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&s}function Gj(t,e){let n=!1;t&&(n=t.indexOf(rl.THROTTLING_PREFIX)===0);let s=!0;return e&&(s=e.hasOwnProperty("throttleTime")),n&&s}function qj({environment:t,clientId:e}){return[Mp,t,e].join(Ml.CACHE_KEY_SEPARATOR).toLowerCase()}function Kj(t,e){return e?t.indexOf(Mp)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function $j(t,e){return e?t.indexOf(sd.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function yx(){return Rn()+sd.REFRESH_TIME_SECONDS}function Uc(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function bf(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function vx(t){return t.expiresAt<=Rn()}/*! @azure/msal-common v15.12.0 2025-08-19 */class nn{constructor(e,n,s,r,i,a,o,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=s,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new lh(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(q.CIAM_AUTH_URL))return us.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case q.ADFS:return us.Adfs;case q.DSTS:return us.Dsts}return us.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Be(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw W($s)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw W($s)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw W($s)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw W(QT);return this.replacePath(this.metadata.end_session_endpoint)}else throw W($s)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw W($s)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw W($s)}canReplaceTenant(e){return e.PathSegments.length===1&&!nn.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===us.Default&&this.protocolMode!==Nn.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const r=new Be(this.metadata.canonical_authority).getUrlComponents(),i=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((o,c)=>{let u=i[c];if(c===0&&this.canReplaceTenant(r)){const d=new Be(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==d&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${d}`),u=d)}o!==u&&(n=n.replace(`/${u}/`,`/${o}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===us.Adfs||this.protocolMode===Nn.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await F(this.updateCloudDiscoveryMetadata.bind(this),O.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const s=await F(this.updateEndpointMetadata.bind(this),O.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:s}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:n,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:yx(),jwks_uri:""}),e}updateCachedMetadata(e,n,s){n!==Dn.CACHE&&(s==null?void 0:s.source)!==Dn.CACHE&&(e.expiresAt=yx(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var r,i,a;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Dn.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&n.metadata){const o=await F(this.updateMetadataWithRegionalInformation.bind(this),O.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Uc(e,o,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let s=await F(this.getEndpointMetadataFromNetwork.bind(this),O.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(s=await F(this.updateMetadataWithRegionalInformation.bind(this),O.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(s)),Uc(e,s,!0),Dn.NETWORK;throw W(DT,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Uc(e,n,!1),{source:Dn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const r=this.getEndpointMetadataFromHardcodedValues();if(r)return Uc(e,r,!1),{source:Dn.HARDCODED_VALUES,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const s=vx(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!s?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Dn.CACHE}):(s&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Be(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Je(sA)}return null}async getEndpointMetadataFromNetwork(){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(O.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const r=await this.networkInterface.sendGetRequestAsync(n,e);return Uj(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in cx?cx[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(O.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(r=this.authorityOptions.azureRegionConfiguration)==null?void 0:r.azureRegion;if(n){if(n!==q.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=yf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,nn.replaceWithRegionalInformation(e,n);const a=await F(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),O.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=yf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,nn.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=yf.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const s=await F(this.getCloudDiscoveryMetadataFromNetwork.bind(this),O.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return bf(e,s,!0),Dn.NETWORK;throw Je(rA)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||q.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||q.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||q.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),bf(e,n,!1),Dn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const r=RO(this.hostnameAndPort);if(r)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),bf(e,r,!1),Dn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const s=vx(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!s?(this.logger.verbose("Found cloud discovery metadata in the cache."),Dn.CACHE):(s&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===us.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),nn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=od(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Je(Kp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),nn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${q.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let s=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,n);let a,o;if(Lj(i.body))a=i.body,o=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(Hj(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),a=i.body,a.error===q.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),s=od(o,this.hostnameAndPort)}catch(i){if(i instanceof Xe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const a=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return s||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),s=nn.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Be.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let s;if(n&&n.azureCloudInstance!==Fp.None){const r=n.tenant?n.tenant:q.DEFAULT_COMMON_TENANT;s=`${n.azureCloudInstance}/${r}/`}return s||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return q.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw W($s)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return mA.has(e)}static isPublicCloudAuthority(e){return q.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,s){const r=new Be(e);r.validateAsUri();const i=r.getUrlComponents();let a=`${n}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(a=`${n}.${q.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const o=Be.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return s?`${o}?${s}`:o}static replaceWithRegionalInformation(e,n){const s={...e};return s.authorization_endpoint=nn.buildRegionalAuthorityString(s.authorization_endpoint,n),s.token_endpoint=nn.buildRegionalAuthorityString(s.token_endpoint,n),s.end_session_endpoint&&(s.end_session_endpoint=nn.buildRegionalAuthorityString(s.end_session_endpoint,n)),s}static transformCIAMAuthority(e){let n=e;const r=new Be(e).getUrlComponents();if(r.PathSegments.length===0&&r.HostNameAndPort.endsWith(q.CIAM_AUTH_URL)){const i=r.HostNameAndPort.split(".")[0];n=`${n}${i}${q.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}nn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Kr.COMMON,Kr.CONSUMERS,Kr.ORGANIZATIONS]);function Yj(t){var r;const s=(r=new Be(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:r.toLowerCase();switch(s){case Kr.COMMON:case Kr.ORGANIZATIONS:case Kr.CONSUMERS:return;default:return s}}function jA(t){return t.endsWith(q.FORWARD_SLASH)?t:`${t}${q.FORWARD_SLASH}`}function Qj(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw Je(Kp)}return{canonicalAuthority:t.authority?jA(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function IA(t,e,n,s,r,i,a){a==null||a.addQueueMeasurement(O.AuthorityFactoryCreateDiscoveredInstance,i);const o=nn.transformCIAMAuthority(jA(t)),c=new nn(o,e,n,s,r,i,a);try{return await F(c.resolveEndpointsAsync.bind(c),O.AuthorityResolveEndpointsAsync,r,a,i)(),c}catch{throw W($s)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Yi extends Xe{constructor(e,n,s,r,i){super(e,n,s),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,Yi.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function dh(t,e,n){var s;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((s=e.tokenBodyParameters)==null?void 0:s.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class _s{static generateThrottlingStorageKey(e){return`${rl.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,s){var a;const r=_s.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r,s);return}throw new Yi(((a=i.errorCodes)==null?void 0:a.join(" "))||q.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,s,r){if(_s.checkResponseStatus(s)||_s.checkResponseForRetryAfter(s)){const i={throttleTime:_s.calculateThrottleTime(parseInt(s.headers[mn.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};e.setThrottlingCache(_s.generateThrottlingStorageKey(n),i,r)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(mn.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,s=Date.now()/1e3;return Math.floor(Math.min(s+(n||rl.DEFAULT_THROTTLE_TIME_SECONDS),s+rl.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,s,r){const i=dh(n,s,r),a=this.generateThrottlingStorageKey(i);e.removeItem(a,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class hh extends Xe{constructor(e,n,s){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,hh.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=s}}function Bo(t,e,n,s){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${s==null?void 0:s.name}, error.message:${s==null?void 0:s.message}`,new hh(t,e,n)}/*! @azure/msal-common v15.12.0 2025-08-19 */class cy{constructor(e,n){this.config=HO(e),this.logger=new dr(this.config.loggerOptions,XT,Vp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[mn.CONTENT_TYPE]=q.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case gs.HOME_ACCOUNT_ID:try{const s=Ma(e.credential);n[mn.CCS_HEADER]=`Oid:${s.uid}@${s.utid}`}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case gs.UPN:n[mn.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,s,r,i,a){var c;a&&((c=this.performanceClient)==null||c.addQueueMeasurement(a,i));const o=await this.sendPostRequest(r,e,{body:n,headers:s},i);return this.config.serverTelemetryManager&&o.status<500&&o.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,n,s,r){var a,o,c;_s.preProcess(this.cacheManager,e,r);let i;try{i=await F(this.networkClient.sendPostRequestAsync.bind(this.networkClient),O.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(n,s);const u=i.headers||{};(o=this.performanceClient)==null||o.addFields({refreshTokenSize:((a=i.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:u[mn.X_MS_HTTP_VERSION]||"",requestId:u[mn.X_MS_REQUEST_ID]||""},r)}catch(u){if(u instanceof hh){const d=u.responseHeaders;throw d&&((c=this.performanceClient)==null||c.addFields({httpVerToken:d[mn.X_MS_HTTP_VERSION]||"",requestId:d[mn.X_MS_REQUEST_ID]||"",contentTypeHeader:d[mn.CONTENT_TYPE]||void 0,contentLengthHeader:d[mn.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},r)),u.error}throw u instanceof Xe?u:W(PT)}return _s.postProcess(this.cacheManager,e,i,r),i}async updateAuthority(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(O.UpdateTokenEndpointAuthority,n);const s=`https://${e}/${this.authority.tenant}/`,r=await IA(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&oh(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Yr(n,e.tokenQueryParameters),sy(n,e.correlationId),ah(n,e.correlationId,this.performanceClient),Pl(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function MA(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class vs{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,s){var u,d,h,f,m,S,b;const r=new vs;n.authorityType===us.Adfs?r.authorityType=Pc.ADFS_ACCOUNT_TYPE:n.protocolMode===Nn.OIDC?r.authorityType=Pc.GENERIC_ACCOUNT_TYPE:r.authorityType=Pc.MSSTS_ACCOUNT_TYPE;let i;e.clientInfo&&s&&(i=cd(e.clientInfo,s)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw W(Hp);r.environment=a,r.realm=(i==null?void 0:i.utid)||MA(e.idTokenClaims)||"",r.localAccountId=(i==null?void 0:i.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((d=e.idTokenClaims)==null?void 0:d.sub)||"";const o=((h=e.idTokenClaims)==null?void 0:h.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(r.username=o||c||"",r.loginHint=(S=e.idTokenClaims)==null?void 0:S.login_hint,r.name=((b=e.idTokenClaims)==null?void 0:b.name)||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const C=Yp(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[C]}return r}static createFromAccountInfo(e,n,s){var i;const r=new vs;return r.authorityType=e.authorityType||Pc.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.loginHint=e.loginHint,r.cloudGraphHostName=n,r.msGraphHost=s,r.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),r}static generateHomeAccountId(e,n,s,r,i){if(!(n===us.Adfs||n===us.Dsts)){if(e)try{const a=cd(e,r.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}s.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,s){if(!e||!n)return!1;let r=!0;if(s){const i=e.idTokenClaims||{},a=n.idTokenClaims||{};r=i.iat===a.iat&&i.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&r}}/*! @azure/msal-common v15.12.0 2025-08-19 */const md="no_tokens_found",PA="native_account_unavailable",uy="refresh_token_expired",dy="ux_not_allowed",Xj="interaction_required",Jj="consent_required",Zj="login_required",fh="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const bx=[Xj,Jj,Zj,fh,dy],Wj=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],eI={[md]:"No refresh token found in the cache. Please sign-in.",[PA]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[uy]:"Refresh token has expired.",[fh]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[dy]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class bs extends Xe{constructor(e,n,s,r,i,a,o,c){super(e,n,s),Object.setPrototypeOf(this,bs.prototype),this.timestamp=r||q.EMPTY_STRING,this.traceId=i||q.EMPTY_STRING,this.correlationId=a||q.EMPTY_STRING,this.claims=o||q.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function DA(t,e,n){const s=!!t&&bx.indexOf(t)>-1,r=!!n&&Wj.indexOf(n)>-1,i=!!e&&bx.some(a=>e.indexOf(a)>-1);return s||i||r}function gd(t){return new bs(t,eI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class co{static setRequestState(e,n,s){const r=co.generateLibraryState(e,s);return n?`${r}${q.RESOURCE_DELIM}${n}`:r}static generateLibraryState(e,n){if(!e)throw W(qm);const s={id:e.createNewGuid()};n&&(s.meta=n);const r=JSON.stringify(s);return e.base64Encode(r)}static parseRequestState(e,n){if(!e)throw W(qm);if(!n)throw W(Ya);try{const s=n.split(q.RESOURCE_DELIM),r=s[0],i=s.length>1?s.slice(1).join(q.RESOURCE_DELIM):q.EMPTY_STRING,a=e.base64Decode(r),o=JSON.parse(a);return{userRequestState:i||q.EMPTY_STRING,libraryState:o}}catch{throw W(Ya)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const tI={SW:"sw"};class Qa{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(O.PopTokenGenerateCnf,e.correlationId);const s=await F(this.generateKid.bind(this),O.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(s));return{kid:s.kid,reqCnfString:r}}async generateKid(e){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(O.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:tI.SW}}async signPopToken(e,n,s){return this.signPayload(e,n,s)}async signPayload(e,n,s,r){const{resourceRequestMethod:i,resourceRequestUri:a,shrClaims:o,shrNonce:c,shrOptions:u}=s,d=a?new Be(a):void 0,h=d==null?void 0:d.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Rn(),m:i==null?void 0:i.toUpperCase(),u:h==null?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:h==null?void 0:h.AbsolutePath,q:h!=null&&h.QueryString?[[],h.QueryString]:void 0,client_claims:o||void 0,...r},n,u,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class nI{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Li{constructor(e,n,s,r,i,a,o){this.clientId=e,this.cacheStorage=n,this.cryptoObj=s,this.logger=r,this.serializableCache=i,this.persistencePlugin=a,this.performanceClient=o}validateTokenResponse(e,n){var s;if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||q.NOT_AVAILABLE} - Timestamp: ${e.timestamp||q.NOT_AVAILABLE} - Description: ${e.error_description||q.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||q.NOT_AVAILABLE} - Trace ID: ${e.trace_id||q.NOT_AVAILABLE}`,i=(s=e.error_codes)!=null&&s.length?e.error_codes[0]:void 0,a=new Yi(e.error,r,e.suberror,i,e.status);if(n&&e.status&&e.status>=Ur.SERVER_ERROR_RANGE_START&&e.status<=Ur.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=Ur.CLIENT_ERROR_RANGE_START&&e.status<=Ur.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw DA(e.error,e.error_description,e.suberror)?new bs(e.error,e.error_description,e.suberror,e.timestamp||q.EMPTY_STRING,e.trace_id||q.EMPTY_STRING,e.correlation_id||q.EMPTY_STRING,e.claims||q.EMPTY_STRING,i):a}}async handleServerTokenResponse(e,n,s,r,i,a,o,c,u){var S;(S=this.performanceClient)==null||S.addQueueMeasurement(O.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=lo(e.id_token||q.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&d.nonce!==i.nonce)throw W(HT);if(r.maxAge||r.maxAge===0){const b=d.auth_time;if(!b)throw W(Up);dA(b,r.maxAge)}}this.homeAccountIdentifier=vs.generateHomeAccountId(e.client_info||q.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,d);let h;i&&i.state&&(h=co.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const f=this.generateCacheRecord(e,n,s,r,d,a,i);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new nI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),o&&!c&&f.account){const b=this.cacheStorage.generateAccountKey(f.account.getAccountInfo());if(!this.cacheStorage.getAccount(b,r.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Li.generateAuthenticationResult(this.cryptoObj,n,f,!1,r,d,h,void 0,u)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return Li.generateAuthenticationResult(this.cryptoObj,n,f,!1,r,d,h,e,u)}generateCacheRecord(e,n,s,r,i,a,o){const c=n.getPreferredCache();if(!c)throw W(Hp);const u=MA(i);let d,h;e.id_token&&i&&(d=ch(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),h=hy(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,i,e.client_info,c,u,o,void 0,this.logger));let f=null;if(e.access_token){const b=e.scope?Dt.fromString(e.scope):new Dt(r.scopes||[]),C=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,p=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=s+C,v=g+y,w=p&&p>0?s+p:void 0;f=uh(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||n.tenant||"",b.printScopes(),g,v,this.cryptoObj.base64Decode,w,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let m=null;if(e.refresh_token){let b;if(e.refresh_token_expires_in){const C=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;b=s+C}m=OA(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,a,b)}let S=null;return e.foci&&(S={clientId:this.clientId,environment:c,familyId:e.foci}),{account:h,idToken:d,accessToken:f,refreshToken:m,appMetadata:S}}static async generateAuthenticationResult(e,n,s,r,i,a,o,c,u){var g,v,w,N,T;let d=q.EMPTY_STRING,h=[],f=null,m,S,b=q.EMPTY_STRING;if(s.accessToken){if(s.accessToken.tokenType===qe.POP&&!i.popKid){const _=new Qa(e),{secret:A,keyId:k}=s.accessToken;if(!k)throw W(Bp);d=await _.signPopToken(A,k,i)}else d=s.accessToken.secret;h=Dt.fromString(s.accessToken.target).asArray(),f=Pa(s.accessToken.expiresOn),m=Pa(s.accessToken.extendedExpiresOn),s.accessToken.refreshOn&&(S=Pa(s.accessToken.refreshOn))}s.appMetadata&&(b=s.appMetadata.familyId===nd?nd:"");const C=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",y=(a==null?void 0:a.tid)||"";c!=null&&c.spa_accountid&&s.account&&(s.account.nativeAccountId=c==null?void 0:c.spa_accountid);const p=s.account?Qp(s.account.getAccountInfo(),void 0,a,(g=s.idToken)==null?void 0:g.secret):null;return{authority:n.canonicalAuthority,uniqueId:C,tenantId:y,scopes:h,account:p,idToken:((v=s==null?void 0:s.idToken)==null?void 0:v.secret)||"",idTokenClaims:a||{},accessToken:d,fromCache:r,expiresOn:f,extExpiresOn:m,refreshOn:S,correlationId:i.correlationId,requestId:u||q.EMPTY_STRING,familyId:b,tokenType:((w=s.accessToken)==null?void 0:w.tokenType)||q.EMPTY_STRING,state:o?o.userRequestState:q.EMPTY_STRING,cloudGraphHostName:((N=s.account)==null?void 0:N.cloudGraphHostName)||q.EMPTY_STRING,msGraphHost:((T=s.account)==null?void 0:T.msGraphHost)||q.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function hy(t,e,n,s,r,i,a,o,c,u,d,h){h==null||h.verbose("setCachedAccount called");const m=t.getAccountKeys().find(p=>p.startsWith(n));let S=null;m&&(S=t.getAccount(m,r));const b=S||vs.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:a,environment:o,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:d},e,s),C=b.tenantProfiles||[],y=c||b.realm;if(y&&!C.find(p=>p.tenantId===y)){const p=Yp(n,b.localAccountId,y,i);C.push(p)}return b.tenantProfiles=C,b}/*! @azure/msal-common v15.12.0 2025-08-19 */async function UA(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.12.0 2025-08-19 */class LA extends cy{constructor(e,n){var s;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes}async acquireToken(e,n){var o,c;if((o=this.performanceClient)==null||o.addQueueMeasurement(O.AuthClientAcquireToken,e.correlationId),!e.code)throw W(VT);const s=Rn(),r=await F(this.executeTokenRequest.bind(this),O.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(c=r.headers)==null?void 0:c[mn.X_MS_REQUEST_ID],a=new Li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),F(a.handleServerTokenResponse.bind(a),O.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,s,e,n,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw Je(nA);const n=this.createLogoutUrlQueryString(e);return Be.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(O.AuthClientExecuteTokenRequest,n.correlationId);const s=this.createTokenQueryParameters(n),r=Be.appendQueryString(e.tokenEndpoint,s),i=await F(this.createTokenRequestBody.bind(this),O.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const d=cd(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${d.uid}${Ml.CLIENT_INFO_SEPARATOR}${d.utid}`,type:gs.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}const o=this.createTokenRequestHeaders(a||n.ccsCredential),c=dh(this.config.authOptions.clientId,n);return F(this.executePostToTokenEndpoint.bind(this),O.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(r,i,o,c,n.correlationId,O.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(O.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(ey(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Ui])||this.config.authOptions.clientId),this.includeRedirectUri)ty(n,e.redirectUri);else if(!e.redirectUri)throw Je(JT);if(Wp(n,e.scopes,!0,this.oidcDefaultScopes),kj(n,e.code),ry(n,this.config.libraryInfo),iy(n,this.config.telemetry.application),kA(n),this.serverTelemetryManager&&!yA(this.config)&&RA(n,this.serverTelemetryManager),e.codeVerifier&&jj(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&wA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;TA(n,await UA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),AA(n,a.assertionType)}if(EA(n,OT.AUTHORIZATION_CODE_GRANT),ay(n),e.authenticationScheme===qe.POP){const a=new Qa(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await F(a.generateCnf.bind(a),O.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,oy(n,o)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)_A(n,e.sshJwk);else throw Je(ih);(!Fn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ny(n,e.claims,this.config.authOptions.clientCapabilities);let s;if(e.clientInfo)try{const a=cd(e.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${a.uid}${Ml.CLIENT_INFO_SEPARATOR}${a.utid}`,type:gs.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else s=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case gs.HOME_ACCOUNT_ID:try{const a=Ma(s.credential);il(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case gs.UPN:hd(n,s.credential);break}return e.embeddedClientId&&oh(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Yr(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[hx])&&Yr(n,{[hx]:"1"}),ah(n,e.correlationId,this.performanceClient),Pl(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&Aj(n,e.postLogoutRedirectUri),e.correlationId&&sy(n,e.correlationId),e.idTokenHint&&Ej(n,e.idTokenHint),e.state&&SA(n,e.state),e.logoutHint&&Mj(n,e.logoutHint),e.extraQueryParameters&&Yr(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&NA(n),Pl(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const sI=300;class rI extends cy{constructor(e,n){super(e,n)}async acquireToken(e){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(O.RefreshTokenClientAcquireToken,e.correlationId);const n=Rn(),s=await F(this.executeTokenRequest.bind(this),O.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=(o=s.headers)==null?void 0:o[mn.X_MS_REQUEST_ID],i=new Li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(s.body),F(i.handleServerTokenResponse.bind(i),O.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){var s;if(!e)throw Je(tA);if((s=this.performanceClient)==null||s.addQueueMeasurement(O.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw W(Lp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const i=r instanceof bs&&r.errorCode===md,a=r instanceof Yi&&r.errorCode===sx.INVALID_GRANT_ERROR&&r.subError===sx.CLIENT_MISMATCH_ERROR;if(i||a)return F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return F(this.acquireTokenWithCachedRefreshToken.bind(this),O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var i,a,o;(i=this.performanceClient)==null||i.addQueueMeasurement(O.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const s=Gn(this.cacheManager.getRefreshToken.bind(this.cacheManager),O.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!s)throw gd(md);if(s.expiresOn&&fd(s.expiresOn,e.refreshTokenExpirationOffsetSeconds||sI))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),gd(uy);const r={...e,refreshToken:s.secret,authenticationScheme:e.authenticationScheme||qe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:gs.HOME_ACCOUNT_ID}};try{return await F(this.acquireToken.bind(this),O.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(c){if(c instanceof bs&&((o=this.performanceClient)==null||o.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),c.subError===fh)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=this.cacheManager.generateCredentialKey(s);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(O.RefreshTokenClientExecuteTokenRequest,e.correlationId);const s=this.createTokenQueryParameters(e),r=Be.appendQueryString(n.tokenEndpoint,s),i=await F(this.createTokenRequestBody.bind(this),O.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),o=dh(this.config.authOptions.clientId,e);return F(this.executePostToTokenEndpoint.bind(this),O.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,i,a,o,e.correlationId,O.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(O.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(ey(n,e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r[Ui])||this.config.authOptions.clientId),e.redirectUri&&ty(n,e.redirectUri),Wp(n,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),EA(n,OT.REFRESH_TOKEN_GRANT),ay(n),ry(n,this.config.libraryInfo),iy(n,this.config.telemetry.application),kA(n),this.serverTelemetryManager&&!yA(this.config)&&RA(n,this.serverTelemetryManager),Oj(n,e.refreshToken),this.config.clientCredentials.clientSecret&&wA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;TA(n,await UA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),AA(n,a.assertionType)}if(e.authenticationScheme===qe.POP){const a=new Qa(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await F(a.generateCnf.bind(a),O.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,oy(n,o)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)_A(n,e.sshJwk);else throw Je(ih);if((!Fn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ny(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case gs.HOME_ACCOUNT_ID:try{const a=Ma(e.ccsCredential.credential);il(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case gs.UPN:hd(n,e.ccsCredential.credential);break}return e.embeddedClientId&&oh(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Yr(n,e.tokenBodyParameters),ah(n,e.correlationId,this.performanceClient),Pl(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class iI extends cy{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(O.SilentFlowClientAcquireCachedToken,e.correlationId);let n=gi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Fn.isEmptyObj(e.claims))throw this.setCacheOutcome(gi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),W($r);if(!e.account)throw W(Lp);const s=e.account.tenantId||Yj(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,s);if(i){if(zj(i.cachedAt)||fd(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(gi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),W($r);i.refreshOn&&fd(i.refreshOn,0)&&(n=gi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(gi.NO_CACHED_ACCESS_TOKEN,e.correlationId),W($r);const a=e.authority||this.authority.getPreferredCache(),o={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,r,s,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await F(this.generateResultFromCacheRecord.bind(this),O.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(o,e),n]}setCacheOutcome(e,n){var s,r;(s=this.serverTelemetryManager)==null||s.setCacheOutcome(e),(r=this.performanceClient)==null||r.addFields({cacheOutcome:e},n),e!==gi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(O.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let s;if(e.idToken&&(s=lo(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const i=s==null?void 0:s.auth_time;if(!i)throw W(Up);dA(i,n.maxAge)}return Li.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,s)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const aI={sendGetRequestAsync:()=>Promise.reject(W(Oe)),sendPostRequestAsync:()=>Promise.reject(W(Oe))};/*! @azure/msal-common v15.12.0 2025-08-19 */function oI(t,e,n,s){var o,c;const r=e.correlationId,i=new Map;ey(i,e.embeddedClientId||((o=e.extraQueryParameters)==null?void 0:o[Ui])||t.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Wp(i,a,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),ty(i,e.redirectUri),sy(i,r),wj(i,e.responseMode),ay(i),e.prompt&&(_j(i,e.prompt),s==null||s.addFields({prompt:e.prompt},r)),e.domainHint&&(Nj(i,e.domainHint),s==null||s.addFields({domainHintFromRequest:!0},r)),e.prompt!==vn.SELECT_ACCOUNT)if(e.sid&&e.prompt===vn.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),fx(i,e.sid),s==null||s.addFields({sidFromRequest:!0},r);else if(e.account){const u=uI(e.account);let d=dI(e.account);if(d&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),d=null),d){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Dc(i,d),s==null||s.addFields({loginHintFromClaim:!0},r);try{const h=Ma(e.account.homeAccountId);il(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===vn.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),fx(i,u),s==null||s.addFields({sidFromClaim:!0},r);try{const h=Ma(e.account.homeAccountId);il(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Dc(i,e.loginHint),hd(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Dc(i,e.account.username),s==null||s.addFields({loginHintFromUpn:!0},r);try{const h=Ma(e.account.homeAccountId);il(i,h)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Dc(i,e.loginHint),hd(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&Rj(i,e.nonce),e.state&&SA(i,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&ny(i,e.claims,t.clientCapabilities),e.embeddedClientId&&oh(i,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Ym))&&NA(i),i}function fy(t,e,n,s){const r=Pl(e,n,s);return Be.appendQueryString(t.authorizationEndpoint,r)}function lI(t,e){if(HA(t,e),!t.code)throw W($T);return t}function HA(t,e){if(!t.state||!e)throw t.state?W(Vm,"Cached State"):W(Vm,"Server State");let n,s;try{n=decodeURIComponent(t.state)}catch{throw W(Ya,t.state)}try{s=decodeURIComponent(e)}catch{throw W(Ya,t.state)}if(n!==s)throw W(LT);if(t.error||t.error_description||t.suberror){const r=cI(t);throw DA(t.error,t.error_description,t.suberror)?new bs(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",r):new Yi(t.error||"",t.error_description,t.suberror,r)}}function cI(t){var s,r;const e="code=",n=(s=t.error_uri)==null?void 0:s.lastIndexOf(e);return n&&n>=0?(r=t.error_uri)==null?void 0:r.substring(n+e.length):void 0}function uI(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function dI(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const xx=",",BA="|";function hI(t){const{skus:e,libraryName:n,libraryVersion:s,extensionName:r,extensionVersion:i}=t,a=new Map([[0,[n,s]],[2,[r,i]]]);let o=[];if(e!=null&&e.length){if(o=e.split(xx),o.length<4)return e}else o=Array.from({length:4},()=>BA);return a.forEach((c,u)=>{var d,h;c.length===2&&((d=c[0])!=null&&d.length)&&((h=c[1])!=null&&h.length)&&fI({skuArr:o,index:u,skuName:c[0],skuVersion:c[1]})}),o.join(xx)}function fI(t){const{skuArr:e,index:n,skuName:s,skuVersion:r}=t;n>=e.length||(e[n]=[s,r].join(BA))}class Dl{constructor(e,n){this.cacheOutcome=gi.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||q.EMPTY_STRING,this.wrapperVer=e.wrapperVer||q.EMPTY_STRING,this.telemetryCacheKey=qt.CACHE_KEY+Ml.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${qt.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],s=this.getNativeBrokerErrorCode();s!=null&&s.length&&n.push(`broker_error=${s}`);const r=n.join(qt.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),a=[e,i].join(qt.VALUE_SEPARATOR);return[qt.SCHEMA_VERSION,a,r].join(qt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Dl.maxErrorsToSend(e),s=e.failedRequests.slice(0,2*n).join(qt.VALUE_SEPARATOR),r=e.errors.slice(0,n).join(qt.VALUE_SEPARATOR),i=e.errors.length,a=n<i?qt.OVERFLOW_TRUE:qt.OVERFLOW_FALSE,o=[i,a].join(qt.VALUE_SEPARATOR);return[qt.SCHEMA_VERSION,e.cacheHits,s,r,o].join(qt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=qt.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Xe?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(qt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Dl.maxErrorsToSend(e),s=e.errors.length;if(n===s)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const r={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let n,s=0,r=0;const i=e.errors.length;for(n=0;n<i;n++){const a=e.failedRequests[2*n]||q.EMPTY_STRING,o=e.failedRequests[2*n+1]||q.EMPTY_STRING,c=e.errors[n]||q.EMPTY_STRING;if(r+=a.toString().length+o.toString().length+c.length+3,r<qt.MAX_LAST_HEADER_BYTES)s+=1;else break}return s}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||q.EMPTY_STRING),e.push(this.regionSource||q.EMPTY_STRING),e.push(this.regionOutcome||q.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return hI(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const zA="missing_kid_error",VA="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const mI={[zA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[VA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class my extends Xe{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,my.prototype)}}function Sx(t){return new my(t,mI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class gy{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Sx(zA);if(!e.alg)throw Sx(VA);const n=new gy({typ:e.typ||oO.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const py="pkce_not_created",yy="ear_jwk_empty",FA="ear_jwe_empty",Qm="crypto_nonexistent",mh="empty_navigate_uri",GA="hash_empty_error",vy="no_state_in_hash",qA="hash_does_not_contain_known_properties",KA="unable_to_parse_state",$A="state_interaction_type_mismatch",YA="interaction_in_progress",QA="popup_window_error",XA="empty_window_error",Ul="user_cancelled",gI="monitor_popup_timeout",JA="monitor_window_timeout",ZA="redirect_in_iframe",WA="block_iframe_reload",eE="block_nested_popups",pI="iframe_closed_prematurely",gh="silent_logout_unsupported",tE="no_account_error",yI="silent_prompt_value_error",nE="no_token_request_cache_error",sE="unable_to_parse_token_request_cache_error",vI="auth_request_not_set_error",bI="invalid_cache_type",ph="non_browser_environment",oa="database_not_open",pd="no_network_connectivity",rE="post_request_failed",iE="get_request_failed",Xm="failed_to_parse_response",aE="unable_to_load_token",by="crypto_key_not_found",oE="auth_code_required",lE="auth_code_or_nativeAccountId_required",cE="spa_code_and_nativeAccountId_present",xy="database_unavailable",uE="unable_to_acquire_token_from_native_platform",dE="native_handshake_timeout",hE="native_extension_not_installed",Sy="native_connection_not_established",al="uninitialized_public_client_application",fE="native_prompt_not_supported",mE="invalid_base64_string",gE="invalid_pop_token_request",pE="failed_to_build_headers",yE="failed_to_parse_headers",fu="failed_to_decrypt_ear_response",yd="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Fs="For more visit: aka.ms/msaljs/browser-errors",xI={[py]:"The PKCE code challenge and verifier could not be generated.",[yy]:"No EAR encryption key provided. This is unexpected.",[FA]:"Server response does not contain ear_jwe property. This is unexpected.",[Qm]:"The crypto object or function is not available.",[mh]:"Navigation URI is empty. Please check stack trace for more info.",[GA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Fs}`,[vy]:"Hash does not contain state. Please verify that the request originated from msal.",[qA]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Fs}`,[KA]:"Unable to parse state. Please verify that the request originated from msal.",[$A]:"Hash contains state but the interaction type does not match the caller.",[YA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Fs}`,[QA]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[XA]:"window.open returned null or undefined window object.",[Ul]:"User cancelled the flow.",[gI]:`Token acquisition in popup failed due to timeout.  ${Fs}`,[JA]:`Token acquisition in iframe failed due to timeout.  ${Fs}`,[ZA]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[WA]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Fs}`,[eE]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[pI]:"The iframe being monitored was closed prematurely.",[gh]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[tE]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[yI]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[nE]:"No token request found in cache.",[sE]:"The cached token request could not be parsed.",[vI]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[bI]:"Invalid cache type",[ph]:"Login and token requests are not supported in non-browser environments.",[oa]:"Database is not open!",[pd]:"No network connectivity. Check your internet connection.",[rE]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[iE]:"Network request failed. Please check the network trace to determine root cause.",[Xm]:"Failed to parse network response. Check network trace.",[aE]:"Error loading token to cache.",[by]:"Cryptographic Key or Keypair not found in browser storage.",[oE]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[lE]:"An authorization code or nativeAccountId must be provided to this flow.",[cE]:"Request cannot contain both spa code and native account id.",[xy]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[uE]:`Unable to acquire token from native platform.  ${Fs}`,[dE]:"Timed out while attempting to establish connection to browser extension",[hE]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[Sy]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Fs}`,[al]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Fs}`,[fE]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[mE]:"Invalid base64 encoded string.",[gE]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[pE]:"Failed to build request headers object.",[yE]:"Failed to parse response headers",[fu]:"Failed to decrypt ear response",[yd]:"The request timed out."};class oc extends Xe{constructor(e,n){super(e,xI[e],n),Object.setPrototypeOf(this,oc.prototype),this.name="BrowserAuthError"}}function ue(t,e){return new oc(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const En={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},ts={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Ao={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Ut={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},Cx={GET:"GET",POST:"POST"},Or={SIGNIN:"signin",SIGNOUT:"signout"},At={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Lc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Qe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ve;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ve||(ve={}));const jt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},wx={scopes:oo},vE="jwk",SI={React:"@azure/msal-react"},Jm="msal.db",CI=1,wI=`${Jm}.keys`,hn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},TI=[hn.Default,hn.Skip,hn.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function Hc(t){return encodeURIComponent(Ll(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function ei(t){return bE(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ll(t){return bE(new TextEncoder().encode(t))}function bE(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function ys(t){return new TextDecoder().decode(Qr(t))}function Qr(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ue(mE)}const n=atob(e);return Uint8Array.from(n,s=>s.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const AI="RSASSA-PKCS1-v1_5",uo="AES-GCM",xE="HKDF",Cy="SHA-256",EI=2048,NI=new Uint8Array([1,0,1]),Tx="0123456789abcdef",Ax=new Uint32Array(1),wy="raw",SE="encrypt",Ty="decrypt",_I="deriveKey",RI="crypto_subtle_undefined",Ay={name:AI,hash:Cy,modulusLength:EI,publicExponent:NI};function kI(t){if(!window)throw ue(ph);if(!window.crypto)throw ue(Qm);if(!t&&!window.crypto.subtle)throw ue(Qm,RI)}async function CE(t,e,n){e==null||e.addQueueMeasurement(O.Sha256Digest,n);const r=new TextEncoder().encode(t);return window.crypto.subtle.digest(Cy,r)}function OI(t){return window.crypto.getRandomValues(t)}function xf(){return window.crypto.getRandomValues(Ax),Ax[0]}function xs(){const t=Date.now(),e=xf()*1024+(xf()&1023),n=new Uint8Array(16),s=Math.trunc(e/2**30),r=e&2**30-1,i=xf();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|s>>>8,n[7]=s,n[8]=128|r>>>24,n[9]=r>>>16,n[10]=r>>>8,n[11]=r,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let o=0;o<n.length;o++)a+=Tx.charAt(n[o]>>>4),a+=Tx.charAt(n[o]&15),(o===3||o===5||o===7||o===9)&&(a+="-");return a}async function jI(t,e){return window.crypto.subtle.generateKey(Ay,t,e)}async function Sf(t){return window.crypto.subtle.exportKey(vE,t)}async function II(t,e,n){return window.crypto.subtle.importKey(vE,t,Ay,e,n)}async function MI(t,e){return window.crypto.subtle.sign(Ay,t,e)}async function Ey(){const t=await wE(),n={alg:"dir",kty:"oct",k:ei(new Uint8Array(t))};return Ll(JSON.stringify(n))}async function PI(t){const e=ys(t),s=JSON.parse(e).k,r=Qr(s);return window.crypto.subtle.importKey(wy,r,uo,!1,[Ty])}async function DI(t,e){const n=e.split(".");if(n.length!==5)throw ue(fu,"jwe_length");const s=await PI(t).catch(()=>{throw ue(fu,"import_key")});try{const r=new TextEncoder().encode(n[0]),i=Qr(n[2]),a=Qr(n[3]),o=Qr(n[4]),c=o.byteLength*8,u=new Uint8Array(a.length+o.length);u.set(a),u.set(o,a.length);const d=await window.crypto.subtle.decrypt({name:uo,iv:i,tagLength:c,additionalData:r},s,u);return new TextDecoder().decode(d)}catch{throw ue(fu,"decrypt")}}async function wE(){const t=await window.crypto.subtle.generateKey({name:uo,length:256},!0,[SE,Ty]);return window.crypto.subtle.exportKey(wy,t)}async function Ex(t){return window.crypto.subtle.importKey(wy,t,xE,!1,[_I])}async function TE(t,e,n){return window.crypto.subtle.deriveKey({name:xE,salt:e,hash:Cy,info:new TextEncoder().encode(n)},t,{name:uo,length:256},!1,[SE,Ty])}async function UI(t,e,n){const s=new TextEncoder().encode(e),r=window.crypto.getRandomValues(new Uint8Array(16)),i=await TE(t,r,n),a=await window.crypto.subtle.encrypt({name:uo,iv:new Uint8Array(12)},i,s);return{data:ei(new Uint8Array(a)),nonce:ei(r)}}async function Nx(t,e,n,s){const r=Qr(s),i=await TE(t,Qr(e),n),a=await window.crypto.subtle.decrypt({name:uo,iv:new Uint8Array(12)},i,r);return new TextDecoder().decode(a)}async function AE(t){const e=await CE(t),n=new Uint8Array(e);return ei(n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const yh="storage_not_supported",Ot="stubbed_public_client_application_called",Ny="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const mu={[yh]:"Given storage configuration option was not supported.",[Ot]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Ny]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};mu[yh],mu[Ot],mu[Ny];class _y extends Xe{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,_y.prototype)}}function wt(t){return new _y(t,mu[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function EE(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function LI(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Ry(){return window.parent!==window}function HI(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${En.POPUP_NAME_PREFIX}.`)===0}function er(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function BI(){const e=new Be(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function zI(){if(Be.hashContainsKnownProperties(window.location.hash)&&Ry())throw ue(WA)}function VI(t){if(Ry()&&!t)throw ue(ZA)}function FI(){if(HI())throw ue(eE)}function NE(){if(typeof window>"u")throw ue(ph)}function _E(t){if(!t)throw ue(al)}function ky(t){NE(),zI(),FI(),_E(t)}function _x(t,e){if(ky(t),VI(e.system.allowRedirectInIframe),e.cache.cacheLocation===Ut.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw wt(Ny)}function RE(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function GI(){return xs()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class vd{navigateInternal(e,n){return vd.defaultNavigateWindow(e,n)}navigateExternal(e,n){return vd.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((s,r)=>{setTimeout(()=>{r(ue(yd,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class qI{async sendGetRequestAsync(e,n){let s,r={},i=0;const a=Rx(n);try{s=await fetch(e,{method:Cx.GET,headers:a})}catch(o){throw Bo(ue(window.navigator.onLine?iE:pd),void 0,void 0,o)}r=kx(s.headers);try{return i=s.status,{headers:r,body:await s.json(),status:i}}catch(o){throw Bo(ue(Xm),i,r,o)}}async sendPostRequestAsync(e,n){const s=n&&n.body||"",r=Rx(n);let i,a=0,o={};try{i=await fetch(e,{method:Cx.POST,headers:r,body:s})}catch(c){throw Bo(ue(window.navigator.onLine?rE:pd),void 0,void 0,c)}o=kx(i.headers);try{return a=i.status,{headers:o,body:await i.json(),status:a}}catch(c){throw Bo(ue(Xm),a,o,c)}}}function Rx(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([s,r])=>{e.append(s,r)}),e}catch(e){throw Bo(ue(pE),void 0,void 0,e)}}function kx(t){try{const e={};return t.forEach((n,s)=>{e[s]=n}),e}catch{throw ue(yE)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const KI=6e4,Zm=1e4,$I=3e4,kE=2e3;function YI({auth:t,cache:e,system:n,telemetry:s},r){const i={clientId:q.EMPTY_STRING,authority:`${q.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:q.EMPTY_STRING,authorityMetadata:q.EMPTY_STRING,redirectUri:typeof window<"u"?er():"",postLogoutRedirectUri:q.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Nn.AAD,OIDCOptions:{serverResponseType:rh.FRAGMENT,defaultScopes:[q.OPENID_SCOPE,q.PROFILE_SCOPE,q.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Fp.None,tenant:q.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:Ut.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Ut.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Ut.LocalStorage),claimsBasedCachingEnabled:!1},o={loggerCallback:()=>{},logLevel:ot.Info,piiLoggingEnabled:!1},u={...{...pA,loggerOptions:o,networkClient:r?new qI:aI,navigationClient:new vd,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||KI,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Zm,navigateFrameWait:0,redirectNavigationTimeout:$I,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||kE,pollIntervalMilliseconds:En.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||o},d={application:{appName:q.EMPTY_STRING,appVersion:q.EMPTY_STRING},client:new gA};if((t==null?void 0:t.protocolMode)!==Nn.OIDC&&(t!=null&&t.OIDCOptions)&&new dr(u.loggerOptions).warning(JSON.stringify(Je(aA))),t!=null&&t.protocolMode&&t.protocolMode===Nn.OIDC&&(u!=null&&u.allowPlatformBroker))throw Je(oA);return{auth:{...i,...t,OIDCOptions:{...i.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:u,telemetry:{...d,...s}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const QI="@azure/msal-browser",Hi="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Bt="msal",Oy="browser",Cf="-",Cr=1,Wm=1,XI=`${Bt}.${Oy}.log.level`,JI=`${Bt}.${Oy}.log.pii`,ZI=`${Bt}.${Oy}.platform.auth.dom`,Ox=`${Bt}.version`,jx="account.keys",Ix="token.keys";function As(t=Wm){return t<1?`${Bt}.${jx}`:`${Bt}.${t}.${jx}`}function Si(t,e=Cr){return e<1?`${Bt}.${Ix}.${t}`:`${Bt}.${e}.${Ix}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class jy{static loggerCallback(e,n){switch(e){case ot.Error:console.error(n);return;case ot.Info:console.info(n);return;case ot.Verbose:console.debug(n);return;case ot.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=YI(e,this.browserEnvironment);let n;try{n=window[Ut.SessionStorage]}catch{}const s=n==null?void 0:n.getItem(XI),r=(c=n==null?void 0:n.getItem(JI))==null?void 0:c.toLowerCase(),i=r==="true"?!0:r==="false"?!1:void 0,a={...this.config.system.loggerOptions},o=s&&Object.keys(ot).includes(s)?ot[s]:void 0;o&&(a.loggerCallback=jy.loggerCallback,a.logLevel=o),i!==void 0&&(a.piiLoggingEnabled=i),this.logger=new dr(a,QI,Hi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bi extends jy{getModuleName(){return Bi.MODULE_NAME}getId(){return Bi.ID}async initialize(){return this.available=typeof window<"u",this.available}}Bi.MODULE_NAME="";Bi.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class WI{constructor(){this.dbName=Jm,this.version=CI,this.tableName=wI,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",r=>{r.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",r=>{const i=r;this.db=i.target.result,this.dbOpen=!0,e()}),s.addEventListener("error",()=>n(ue(xy)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(oa));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((s,r)=>{if(!this.db)return r(ue(oa));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);o.addEventListener("success",()=>{this.closeConnection(),s()}),o.addEventListener("error",c=>{this.closeConnection(),r(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(oa));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(ue(oa));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",a=>{const o=a;this.closeConnection(),e(o.target.result)}),i.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ue(oa));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result===1)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const s=window.indexedDB.deleteDatabase(Jm),r=setTimeout(()=>n(!1),200);s.addEventListener("success",()=>(clearTimeout(r),e(!0))),s.addEventListener("blocked",()=>(clearTimeout(r),e(!0))),s.addEventListener("error",()=>(clearTimeout(r),n(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class vh{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,s)=>{e.push(s)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class eM{constructor(e){this.inMemoryCache=new vh,this.indexedDBCache=new WI,this.logger=e}handleDatabaseAccessError(e){if(e instanceof oc&&e.errorCode===xy)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(s){this.handleDatabaseAccessError(s)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(s){this.handleDatabaseAccessError(s)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(s){this.handleDatabaseAccessError(s)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class hr{constructor(e,n,s){this.logger=e,kI(s??!1),this.cache=new eM(this.logger),this.performanceClient=n}createNewGuid(){return xs()}base64Encode(e){return Ll(e)}base64Decode(e){return ys(e)}base64UrlEncode(e){return Hc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var d;const n=(d=this.performanceClient)==null?void 0:d.startMeasurement(O.CryptoOptsGetPublicKeyThumbprint,e.correlationId),s=await jI(hr.EXTRACTABLE,hr.POP_KEY_USAGES),r=await Sf(s.publicKey),i={e:r.e,kty:r.kty,n:r.n},a=Mx(i),o=await this.hashString(a),c=await Sf(s.privateKey),u=await II(c,!1,["sign"]);return await this.cache.setItem(o,{privateKey:u,publicKey:s.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),o}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw W(YT)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,s,r){var g;const i=(g=this.performanceClient)==null?void 0:g.startMeasurement(O.CryptoOptsSignJwt,r),a=await this.cache.getItem(n);if(!a)throw ue(by);const o=await Sf(a.publicKey),c=Mx(o),u=Hc(JSON.stringify({kid:n})),d=gy.getShrHeaderString({...s==null?void 0:s.header,alg:o.alg,kid:u}),h=Hc(d);e.cnf={jwk:JSON.parse(c)};const f=Hc(JSON.stringify(e)),m=`${h}.${f}`,b=new TextEncoder().encode(m),C=await MI(a.privateKey,b),y=ei(new Uint8Array(C)),p=`${m}.${y}`;return i&&i.end({success:!0}),p}async hashString(e){return AE(e)}}hr.POP_KEY_USAGES=["sign","verify"];hr.EXTRACTABLE=!0;function Mx(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const tM=24*60*60*1e3,eg={Lax:"Lax",None:"None"};class OE{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){const i=s[r],[a,...o]=decodeURIComponent(i).trim().split("="),c=o.join("=");if(a===n)return c}return""}getUserData(){throw W(Oe)}setItem(e,n,s,r=!0,i=eg.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${i};`;if(s){const o=nM(s);a+=`expires=${o};`}(r||i===eg.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(W(Oe))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(s=>{const r=decodeURIComponent(s).trim().split("=");n.push(r[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function nM(t){const e=new Date;return new Date(e.getTime()+t*tM).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function ol(t,e){const n=t.getItem(As(e));return n?JSON.parse(n):[]}function ll(t,e,n){const s=e.getItem(Si(t,n));if(s){const r=JSON.parse(s);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function tg(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Px="msal.cache.encryption",sM="msal.broadcast.cache";class rM{constructor(e,n,s){if(!window.localStorage)throw wt(yh);this.memoryStorage=new vh,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=s,this.broadcast=new BroadcastChannel(sM)}async initialize(e){const n=new OE,s=n.getItem(Px);let r={key:"",id:""};if(s)try{r=JSON.parse(s)}catch{}if(r.key&&r.id){const i=Gn(Qr,O.Base64Decode,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await F(Ex,O.GenerateHKDF,this.logger,this.performanceClient,e)(i)}}else{const i=xs(),a=await F(wE,O.GenerateBaseKey,this.logger,this.performanceClient,e)(),o=Gn(ei,O.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:i,key:await F(Ex,O.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const c={id:i,key:o};n.setItem(Px,JSON.stringify(c),0,!0,eg.None)}await F(this.importExistingCache.bind(this),O.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ue(al);return this.memoryStorage.getItem(e)}async decryptData(e,n,s){if(!this.initialized||!this.encryptionCookie)throw ue(al);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},s),null;const r=await F(Nx,O.Decrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!r)return null;try{return JSON.parse(r)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},s),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,s,r){if(!this.initialized||!this.encryptionCookie)throw ue(al);const{data:i,nonce:a}=await F(UI,O.Encrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:a,data:i,lastUpdatedAt:r};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),ol(this).forEach(s=>this.removeItem(s));const n=ll(this.clientId,this);n.idToken.forEach(s=>this.removeItem(s)),n.accessToken.forEach(s=>this.removeItem(s)),n.refreshToken.forEach(s=>this.removeItem(s)),this.getKeys().forEach(s=>{(s.startsWith(Bt)||s.indexOf(this.clientId)!==-1)&&this.removeItem(s)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=ol(this);n=await this.importArray(n,e),n.length?this.setItem(As(),JSON.stringify(n)):this.removeItem(As());const s=ll(this.clientId,this);s.idToken=await this.importArray(s.idToken,e),s.accessToken=await this.importArray(s.accessToken,e),s.refreshToken=await this.importArray(s.refreshToken,e),s.idToken.length||s.accessToken.length||s.refreshToken.length?this.setItem(Si(this.clientId),JSON.stringify(s)):this.removeItem(Si(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const s=this.getItem(e);if(!s)return null;let r;try{r=JSON.parse(s)}catch{return null}return tg(r)?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):F(Nx,O.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),r)}async importArray(e,n){const s=[],r=[];return e.forEach(i=>{const a=this.getItemFromEncryptedCache(i,n).then(o=>{o?(this.memoryStorage.setItem(i,o),s.push(i)):this.removeItem(i)});r.push(a)}),await Promise.all(r),s}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(O.LocalStorageUpdated);n.add({isBackground:!0});const{key:s,value:r,context:i}=e.data;if(!s){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),n.end({success:!1,errorCode:"contextMismatch"});return}r?(this.memoryStorage.setItem(s,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(s),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class iM{constructor(){if(!window.sessionStorage)throw wt(yh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const me={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function Dx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ng extends $m{constructor(e,n,s,r,i,a,o){super(e,s,r,i,o),this.cacheConfig=n,this.logger=r,this.internalStorage=new vh,this.browserStorage=Ux(e,n.cacheLocation,r,i),this.temporaryCacheStorage=Ux(e,n.temporaryCacheLocation,r,i),this.cookieStorage=new OE,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=ol(this.browserStorage,0),s=ll(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:s.accessToken.length,oldIdCount:s.idToken.length,oldRefreshCount:s.refreshToken.length},e);const r=ol(this.browserStorage,1),i=ll(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:r.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(Wm,n,r,e),this.updateV0ToCurrent(Cr,s.idToken,i.idToken,e),this.updateV0ToCurrent(Cr,s.accessToken,i.accessToken,e),this.updateV0ToCurrent(Cr,s.refreshToken,i.refreshToken,e)]),n.length>0?this.browserStorage.setItem(As(0),JSON.stringify(n)):this.browserStorage.removeItem(As(0)),r.length>0?this.browserStorage.setItem(As(1),JSON.stringify(r)):this.browserStorage.removeItem(As(1)),this.setTokenKeys(s,e,0),this.setTokenKeys(i,e,1)}async updateV0ToCurrent(e,n,s,r){const i=[];for(const a of[...n]){const o=this.browserStorage.getItem(a),c=this.validateAndParseJson(o||"");if(!c){Dx(n,a);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(a,JSON.stringify(c),r));const u=tg(c)?await this.browserStorage.decryptData(a,c,r):c;let d;if(u&&(gx(u)||px(u))&&(d=u.expiresOn),!u||Bj(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||d&&fd(d,jT)){this.browserStorage.removeItem(a),Dx(n,a),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r);continue}if(this.cacheConfig.cacheLocation!==Ut.LocalStorage||tg(c)){const h=`${Bt}.${e}${Cf}${a}`,f=this.browserStorage.getItem(h);if(f){const m=this.validateAndParseJson(f);if(Number(c.lastUpdatedAt)>Number(m.lastUpdatedAt)){i.push(this.setUserData(h,JSON.stringify(u),r,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},r)}));continue}}else{i.push(this.setUserData(h,JSON.stringify(u),r,c.lastUpdatedAt).then(()=>{s.push(h),this.performanceClient.incrementFields({upgradedCacheCount:1},r)}));continue}}}return Promise.all(i)}trackVersionChanges(e){const n=this.browserStorage.getItem(Ox);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==Hi&&this.setItem(Ox,Hi,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,s){let r=0,i=[];const a=20;for(let o=0;o<=a;o++)try{this.browserStorage.setItem(e,n),o>0&&(o<=r?this.removeAccessTokenKeys(i.slice(0,o),s,0):(this.removeAccessTokenKeys(i.slice(0,r),s,0),this.removeAccessTokenKeys(i.slice(r,o),s)));break}catch(c){const u=Km(c);if(u.errorCode===ld&&o<a){if(!i.length){const d=e===Si(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,h=e===Si(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;i=[...d,...h],r=d.length}if(i.length<=o)throw u;this.removeAccessToken(i[o],s,!1)}else throw u}}async setUserData(e,n,s,r){let i=0,a=[];const o=20;for(let c=0;c<=o;c++)try{await F(this.browserStorage.setUserData.bind(this.browserStorage),O.SetUserData,this.logger,this.performanceClient)(e,n,s,r),c>0&&(c<=i?this.removeAccessTokenKeys(a.slice(0,c),s,0):(this.removeAccessTokenKeys(a.slice(0,i),s,0),this.removeAccessTokenKeys(a.slice(i,c),s)));break}catch(u){const d=Km(u);if(d.errorCode===ld&&c<o){if(!a.length){const h=this.getTokenKeys(0).accessToken,f=this.getTokenKeys().accessToken;a=[...h,...f],i=h.length}if(a.length<=c)throw d;this.removeAccessToken(a[c],s,!1)}else throw d}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const s=this.browserStorage.getUserData(e);if(!s)return this.removeAccountKeyFromMap(e,n),null;const r=this.validateAndParseJson(s);return!r||!vs.isAccountEntity(r)?null:$m.toObject(new vs,r)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const s=this.generateAccountKey(e.getAccountInfo()),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.addAccountKeyToMap(s,n);this.cacheConfig.cacheLocation===Ut.LocalStorage&&i&&this.eventHandler.emitEvent(me.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return ol(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const s=this.getAccountKeys();return s.indexOf(e)===-1?(s.push(e),this.setItem(As(),JSON.stringify(s),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const s=this.getAccountKeys(),r=s.indexOf(e);if(r>-1){if(s.splice(r,1),s.length===0){this.removeItem(As());return}else this.setItem(As(),JSON.stringify(s),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const s=this.getActiveAccount(n);(s==null?void 0:s.homeAccountId)===e.homeAccountId&&(s==null?void 0:s.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(r=>{r.includes(e.homeAccountId)&&r.includes(e.environment)&&this.browserStorage.removeItem(r)}),this.cacheConfig.cacheLocation===Ut.LocalStorage&&this.eventHandler.emitEvent(me.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const s=this.getTokenKeys(),r=s.idToken.indexOf(e);r>-1&&(this.logger.info("idToken removed from tokenKeys map"),s.idToken.splice(r,1),this.setTokenKeys(s,n))}removeAccessToken(e,n,s=!0){super.removeAccessToken(e,n),s&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,s=Cr){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys(s);let i=0;if(e.forEach(a=>{const o=r.accessToken.indexOf(a);o>-1&&(r.accessToken.splice(o,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(r,n,s);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const s=this.getTokenKeys(),r=s.refreshToken.indexOf(e);r>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),s.refreshToken.splice(r,1),this.setTokenKeys(s,n))}getTokenKeys(e=Cr){return ll(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,s=Cr){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(Si(this.clientId,s));return}else this.setItem(Si(this.clientId,s),JSON.stringify(e),n)}getIdTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!Vj(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.idToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(s),this.setTokenKeys(i,n))}getAccessTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const r=this.validateAndParseJson(s);return!r||!gx(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys(),a=i.accessToken.indexOf(s);a!==-1&&i.accessToken.splice(a,1),this.logger.trace(`access token ${a===-1?"added to":"updated in"} map`),i.accessToken.push(s),this.setTokenKeys(i,n)}getRefreshTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!px(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.refreshToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(s),this.setTokenKeys(i,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!Kj(e,s)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),s)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const s=qj(e);this.setItem(s,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!Fj(e,s)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),s)}setServerTelemetry(e,n,s){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),s)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return s&&$j(e,s)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),s):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Lc.WRAPPER_SKU,e),this.internalStorage.setItem(Lc.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Lc.WRAPPER_SKU)||q.EMPTY_STRING,n=this.internalStorage.getItem(Lc.WRAPPER_VER)||q.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(nx.ACTIVE_ACCOUNT_FILTERS),s=this.browserStorage.getItem(n);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(s);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const s=this.generateCacheKey(nx.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Rn().toString()};this.setItem(s,JSON.stringify(r),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(s);this.eventHandler.emitEvent(me.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!Gj(e,s)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),s)}setThrottlingCache(e,n,s){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),s)}getTemporaryCache(e,n){const s=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const r=this.temporaryCacheStorage.getItem(s);if(!r){if(this.cacheConfig.cacheLocation===Ut.LocalStorage){const i=this.browserStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,n,s){const r=s?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Bt)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Bt)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(O.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let s=0;n.accessToken.forEach(r=>{const i=this.getAccessTokenCredential(r,e);i!=null&&i.requestedClaimsHash&&r.includes(i.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(r,e),s++)}),s>0&&this.logger.warning(`${s} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Fn.startsWith(e,Bt)?e:`${Bt}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Yt.REFRESH_TOKEN&&e.familyId||e.clientId,s=e.tokenType&&e.tokenType.toLowerCase()!==qe.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Bt}.${Cr}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",s].join(Cf).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Bt}.${Wm}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(Cf).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(At.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(At.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(At.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(At.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(At.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const s=Ll(JSON.stringify(e));if(this.setTemporaryCache(At.REQUEST_PARAMS,s,!0),n){const r=Ll(n);this.setTemporaryCache(At.VERIFIER,r,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(At.REQUEST_PARAMS,!0);if(!e)throw ue(nE);const n=this.getTemporaryCache(At.VERIFIER,!0);let s,r="";try{s=JSON.parse(ys(e)),n&&(r=ys(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ue(sE)}return[s,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(At.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var s;const n=(s=this.getInteractionInProgress())==null?void 0:s.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Bt}.${At.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),EE(window),null}}setInteractionInProgress(e,n=Or.SIGNIN){var r;const s=`${Bt}.${At.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ue(YA);this.setTemporaryCache(s,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((r=this.getInteractionInProgress())==null?void 0:r.clientId)===this.clientId&&this.removeTemporaryItem(s)}async hydrateCache(e,n){var o,c,u;const s=ch((o=e.account)==null?void 0:o.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let r;n.claims&&(r=await this.cryptoImpl.hashString(n.claims));const i=uh((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?mx(e.expiresOn):0,e.extExpiresOn?mx(e.extExpiresOn):0,ys,void 0,e.tokenType,void 0,n.sshKid,n.claims,r),a={idToken:s,accessToken:i};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,n,s){try{await super.saveCacheRecord(e,n,s)}catch(r){if(r instanceof Ia&&this.performanceClient&&n)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},n)}catch{}throw r}}}function Ux(t,e,n,s){try{switch(e){case Ut.LocalStorage:return new rM(t,n,s);case Ut.SessionStorage:return new iM;case Ut.MemoryStorage:default:break}}catch(r){n.error(r)}return new vh}const aM=(t,e,n,s)=>{const r={cacheLocation:Ut.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Ut.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new ng(t,r,id,e,n,s)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function oM(t,e,n,s,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r||{},s):[]}function lM(t,e,n,s){const r=n.getAccountInfoFilteredBy(t,s);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function cM(t,e,n,s){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t},s);return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function uM(t,e,n,s){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t},s);return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function dM(t,e,n,s){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t},s);return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function hM(t,e,n){e.setActiveAccount(t,n)}function fM(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const mM="msal.broadcast.event";class gM{constructor(e){this.eventCallbacks=new Map,this.logger=e||new dr({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(mM)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,s){if(typeof window<"u"){const r=s||GI();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,s,r){var a;const i={eventType:e,interactionType:n||null,payload:s||null,error:r||null,timestamp:Date.now()};switch(e){case me.ACCOUNT_ADDED:case me.ACCOUNT_REMOVED:case me.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,s],r)=>{(s.length===0||s.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${r}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class jE{constructor(e,n,s,r,i,a,o,c,u){this.config=e,this.browserStorage=n,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=a,this.platformAuthProvider=c,this.correlationId=u||xs(),this.logger=r.clone(En.MSAL_SKU,Hi,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Be.getAbsoluteUrl(n,er())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const s={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Dl(s,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,s=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(O.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,a=s!=null&&s.length?s==="true":this.config.auth.instanceAware,o=n&&a?this.config.auth.authority.replace(Be.getDomainFromUrl(i),n.environment):i,c=nn.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await F(IA,O.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw Je(lA);return u}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Iy(t,e,n,s){n.addQueueMeasurement(O.InitializeBaseRequest,t.correlationId);const r=t.authority||e.auth.authority,i=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:r,scopes:i};if(!a.authenticationScheme)a.authenticationScheme=qe.BEARER,s.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===qe.SSH){if(!t.sshJwk)throw Je(ih);if(!t.sshKid)throw Je(iA)}s.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Fn.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await AE(t.claims)),a}async function pM(t,e,n,s,r){s.addQueueMeasurement(O.InitializeSilentRequest,t.correlationId);const i=await F(Iy,O.InitializeBaseRequest,r,s,t.correlationId)(t,n,s,r);return{...t,...i,account:e,forceRefresh:t.forceRefresh||!1}}function IE(t,e){let n;const s=t.httpMethod;if(e===Nn.EAR){if(n=s||xi.POST,n!==xi.POST)throw Je(cA)}else n=s||xi.GET;if(t.authorizePostBodyParameters&&n!==xi.POST)throw Je(uA);return n}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ho extends jE{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||xs(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const s=this.getLogoutHintFromIdTokenClaims(e.account);s&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=s)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Be.getAbsoluteUrl(e.postLogoutRedirectUri,er())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Be.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,er())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Be.getAbsoluteUrl(er(),er())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(O.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new LA(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}=e;this.performanceClient.addQueueMeasurement(O.StandardInteractionClientGetClientConfiguration,this.correlationId);const o=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:En.MSAL_SKU,version:Hi,cpu:q.EMPTY_STRING,os:q.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(O.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const s=this.getRedirectUri(e.redirectUri),r={interactionType:n},i=co.setRequestState(this.browserCrypto,e&&e.state||q.EMPTY_STRING,r),o={...await F(Iy,O.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:s,state:i,nonce:e.nonce||xs(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...o,httpMethod:IE(o,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),c.account=u),c}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function yM(t,e){if(!e)return null;try{return co.parseRequestState(t,e).libraryState.meta}catch{throw W(Ya)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function cl(t,e,n){const s=ad(t);if(!s)throw hA(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),ue(qA)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ue(GA));return s}function vM(t,e,n){if(!t.state)throw ue(vy);const s=yM(e,t.state);if(!s)throw ue(KA);if(s.interactionType!==n)throw ue($A)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ME{constructor(e,n,s,r,i){this.authModule=e,this.browserStorage=n,this.authCodeRequest=s,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(O.HandleCodeResponse,n.correlationId);let s;try{s=lI(e,n.state)}catch(r){throw r instanceof Yi&&r.subError===Ul?ue(Ul):r}return F(this.handleCodeResponseFromServer.bind(this),O.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(s,n)}async handleCodeResponseFromServer(e,n,s=!0){if(this.performanceClient.addQueueMeasurement(O.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await F(this.authModule.updateAuthority.bind(this.authModule),O.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),s&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(n);i&&(this.authCodeRequest.ccsCredential=i)}return await F(this.authModule.acquireToken.bind(this.authModule),O.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:gs.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:gs.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const bM="ContentError",PE="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const xM="USER_INTERACTION_REQUIRED",SM="USER_CANCEL",CM="NO_NETWORK",wM="DISABLED",TM="ACCOUNT_UNAVAILABLE",AM="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const EM=-2147186943,NM={[PE]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Rs extends Xe{constructor(e,n,s){super(e,n),Object.setPrototypeOf(this,Rs.prototype),this.name="NativeAuthError",this.ext=s}}function la(t){if(t.ext&&t.ext.status&&t.ext.status===wM||t.ext&&t.ext.error&&t.ext.error===EM)return!0;switch(t.errorCode){case bM:return!0;default:return!1}}function bd(t,e,n){if(n&&n.status)switch(n.status){case TM:return gd(PA);case xM:return new bs(t,e);case SM:return ue(Ul);case CM:return ue(pd);case AM:return gd(dy)}return new Rs(t,NM[t]||e,n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class DE extends ho{async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),s=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new iI(s,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await F(r.acquireCachedToken.bind(r),O.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(i){throw i instanceof oc&&i.errorCode===by&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class gu extends jE{constructor(e,n,s,r,i,a,o,c,u,d,h,f){super(e,n,s,r,i,a,c,u,f),this.apiId=o,this.accountId=d,this.platformAuthProvider=u,this.nativeStorageManager=h,this.silentCacheClient=new DE(e,this.nativeStorageManager,s,r,i,a,c,u,f);const m=this.platformAuthProvider.getExtensionName();this.skus=Dl.makeExtraSkuString({libraryName:En.MSAL_SKU,libraryVersion:Hi,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[xj]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(O.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const s=this.performanceClient.startMeasurement(O.NativeInteractionClientAcquireToken,this.correlationId),r=Rn(),i=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,a);return s.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===hn.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),s.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(o,a,r).then(c=>(s.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),i.clearNativeBrokerErrorCode(),c)).catch(c=>{throw s.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(a){throw a instanceof Rs&&i.setNativeBrokerErrorCode(a.errorCode),s.end({success:!1}),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Dt.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),W(Gm);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!s)throw W(Gm);try{const r=this.createSilentCacheRequest(n,s),i=await this.silentCacheClient.acquireToken(r),a={...s,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:a}}catch(r){throw r}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...s}=e;delete s.onRedirectNavigate;const r=await this.initializeNativeRequest(s);try{await this.platformAuthProvider.sendMessage(r)}catch(o){if(o instanceof Rs&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(o.errorCode),la(o)))throw o}this.browserStorage.setTemporaryCache(At.NATIVE_REQUEST,JSON.stringify(r),!0);const i={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:r,...i}=s;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(At.NATIVE_REQUEST));const a=Rn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const o=await this.platformAuthProvider.sendMessage(i),c=await this.handleNativeResponse(o,i,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(o){throw o}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,s){var d,h;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=lo(e.id_token,ys),i=this.createHomeAccountIdentifier(e,r),a=(d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:d.homeAccountId;if((h=n.extraParameters)!=null&&h.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==a&&e.account.id!==n.accountId)throw bd(PE);const o=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=hy(this.browserStorage,o,i,ys,this.correlationId,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,r,c,o.canonicalAuthority,s);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,i,r,e.access_token,u.tenantId,s),u}createHomeAccountIdentifier(e,n){return vs.generateHomeAccountId(e.client_info||q.EMPTY_STRING,us.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Dt.fromString(n):Dt.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===qe.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const s=new Qa(this.browserCrypto),r={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw W(Bp);return s.signPopToken(e.access_token,n.keyId,r)}else return e.access_token}async generateAuthenticationResult(e,n,s,r,i,a){const o=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},d=u.UID||s.oid||s.sub||q.EMPTY_STRING,h=u.TenantId||s.tid||q.EMPTY_STRING,f=Qp(r.getAccountInfo(),void 0,s,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,n),S=n.tokenType===qe.POP?qe.POP:qe.BEARER;return{authority:i,uniqueId:d,tenantId:h,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:s,accessToken:m,fromCache:o?this.isResponseFromCache(o):!1,expiresOn:Pa(a+e.expires_in),tokenType:S,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,s,r,i,a,o){const c=ch(s,n.authority,e.id_token||"",n.clientId,r.tid||""),u=n.tokenType===qe.POP?q.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,d=o+u,h=this.generateScopes(e.scope,n.scope),f=uh(s,n.authority,i,n.clientId,r.tid||a,h.printScopes(),d,0,ys,void 0,n.tokenType,void 0,n.keyId),m={idToken:c,accessToken:f};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===qe.POP?q.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:s,...r}=e,i=new Dt(s||[]);i.appendScopes(oo);const a={...r,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw ue(gE);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=ts.MATS_TELEMETRY,e.authenticationScheme===qe.POP){const o={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Qa(this.browserCrypto);let u;if(a.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const d=await F(c.generateCnf.bind(c),O.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(o,this.logger);u=d.reqCnfString,a.keyId=d.kid,a.signPopToken=!0}a.reqCnf=u}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const s=new Be(n);return s.validateAsUri(),s}getPrompt(e){switch(this.apiId){case Qe.ssoSilent:case Qe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),vn.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case vn.NONE:case vn.CONSENT:case vn.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),ue(fE)}}handleExtraBrokerParams(e){var i;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(ud)&&e.extraParameters.hasOwnProperty(dd)&&e.extraParameters.hasOwnProperty(Ui);if(!e.embeddedClientId&&!n)return;let s="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,s=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[dd],s=e.extraParameters[Ui]),e.extraParameters={child_client_id:s,child_redirect_uri:r},(i=this.performanceClient)==null||i.addFields({embeddedClientId:s,embeddedRedirectUri:r},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function My(t,e,n,s,r){const i=oI({...t.auth,authority:e},n,s,r);if(ry(i,{sku:En.MSAL_SKU,version:Hi,os:"",cpu:""}),t.auth.protocolMode!==Nn.OIDC&&iy(i,t.telemetry.application),n.platformBroker&&(Tj(i),r.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===qe.POP)){const a=new hr(s,r),o=new Qa(a);let c;n.popKid?c=a.encodeKid(n.popKid):c=(await F(o.generateCnf.bind(o),O.PopTokenGenerateCnf,s,r,n.correlationId)(n,s)).reqCnfString,oy(i,c)}return ah(i,n.correlationId,r),i}async function Py(t,e,n,s,r){if(!n.codeChallenge)throw Je(qp);const i=await F(My,O.GetStandardParams,s,r,n.correlationId)(t,e,n,s,r);return Zp(i,Ip.CODE),CA(i,n.codeChallenge,q.S256_CODE_CHALLENGE_METHOD),Yr(i,n.extraQueryParameters||{}),fy(e,i,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Dy(t,e,n,s,r,i){if(!s.earJwk)throw ue(yy);const a=await My(e,n,s,r,i);Zp(a,Ip.IDTOKEN_TOKEN_REFRESHTOKEN),Pj(a,s.earJwk);const o=new Map;Yr(o,s.extraQueryParameters||{});const c=fy(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return UE(t,c,a)}async function Uy(t,e,n,s,r,i){const a=await My(e,n,s,r,i);Zp(a,Ip.CODE),CA(a,s.codeChallenge,s.codeChallengeMethod||q.S256_CODE_CHALLENGE_METHOD),Dj(a,s.authorizePostBodyParameters||{});const o=new Map;Yr(o,s.extraQueryParameters||{});const c=fy(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return UE(t,c,a)}function UE(t,e,n){const s=t.createElement("form");return s.method="post",s.action=e,n.forEach((r,i)=>{const a=t.createElement("input");a.hidden=!0,a.name=i,a.value=r,s.appendChild(a)}),t.body.appendChild(s),s}async function LE(t,e,n,s,r,i,a,o,c,u){if(o.verbose("Account id found, calling WAM for token"),!u)throw ue(Sy);const d=new hr(o,c),h=new gu(s,r,d,o,a,s.system.navigationClient,n,c,u,e,i,t.correlationId),{userRequestState:f}=co.parseRequestState(d,t.state);return F(h.acquireToken.bind(h),O.NativeInteractionClientAcquireToken,o,c,t.correlationId)({...t,state:f,prompt:void 0})}async function xd(t,e,n,s,r,i,a,o,c,u,d,h){if(_s.removeThrottle(a,r.auth.clientId,t),e.accountId)return F(LE,O.HandleResponsePlatformBroker,u,d,t.correlationId)(t,e.accountId,s,r,a,o,c,u,d,h);const f={...t,code:e.code||"",codeVerifier:n},m=new ME(i,a,f,u,d);return await F(m.handleCodeResponse.bind(m),O.HandleCodeResponse,u,d,t.correlationId)(e,t)}async function Ly(t,e,n,s,r,i,a,o,c,u,d){if(_s.removeThrottle(i,s.auth.clientId,t),HA(e,t.state),!e.ear_jwe)throw ue(FA);if(!t.earJwk)throw ue(yy);const h=JSON.parse(await F(DI,O.DecryptEarResponse,c,u,t.correlationId)(t.earJwk,e.ear_jwe));if(h.accountId)return F(LE,O.HandleResponsePlatformBroker,c,u,t.correlationId)(t,h.accountId,n,s,i,a,o,c,u,d);const f=new Li(s.auth.clientId,i,new hr(c,u),c,null,null,u);f.validateTokenResponse(h);const m={code:"",state:t.state,nonce:t.nonce,client_info:h.client_info,cloud_graph_host_name:h.cloud_graph_host_name,cloud_instance_host_name:h.cloud_instance_host_name,cloud_instance_name:h.cloud_instance_name,msgraph_host:h.msgraph_host};return await F(f.handleServerTokenResponse.bind(f),O.HandleServerTokenResponse,c,u,t.correlationId)(h,r,Rn(),t,m,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const _M=32;async function bh(t,e,n){t.addQueueMeasurement(O.GeneratePkceCodes,n);const s=Gn(RM,O.GenerateCodeVerifier,e,t,n)(t,e,n),r=await F(kM,O.GenerateCodeChallengeFromVerifier,e,t,n)(s,t,e,n);return{verifier:s,challenge:r}}function RM(t,e,n){try{const s=new Uint8Array(_M);return Gn(OI,O.GetRandomValues,e,t,n)(s),ei(s)}catch{throw ue(py)}}async function kM(t,e,n,s){e.addQueueMeasurement(O.GenerateCodeChallengeFromVerifier,s);try{const r=await F(CE,O.Sha256Digest,n,e,s)(t,e,s);return ei(new Uint8Array(r))}catch{throw ue(py)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Sd{constructor(e,n,s,r){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(O.NativeMessageHandlerHandshake),this.platformAuthType=ts.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:Ao.GetToken,request:e},s={channel:ts.CHANNEL_ID,extensionId:this.extensionId,responseId:xs(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(s)}`),this.messageChannel.port1.postMessage(s);const r=await new Promise((a,o)=>{this.resolvers.set(s.responseId,{resolve:a,reject:o})});return this.validatePlatformBrokerResponse(r)}static async createProvider(e,n,s){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const r=new Sd(e,n,s,ts.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch{const i=new Sd(e,n,s);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:ts.CHANNEL_ID,extensionId:this.extensionId,responseId:xs(),body:{method:Ao.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,s)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:s}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),s(ue(dE)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==ts.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Ao.HandshakeRequest){const s=this.handshakeResolvers.get(n.responseId);if(!s){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),s.reject(ue(hE))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,s=this.resolvers.get(n.responseId),r=this.handshakeResolvers.get(n.responseId);try{const i=n.body.method;if(i===Ao.Response){if(!s)return;const a=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")s.reject(bd(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?s.reject(bd(a.result.code,a.result.description,a.result.ext)):s.resolve(a.result);else throw zm(rd,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(i===Ao.HandshakeResponse){if(!r){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),s?s.reject(i):r&&r.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw zm(rd,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===ts.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Hy{constructor(e,n,s){this.logger=e,this.performanceClient=n,this.correlationId=s,this.platformAuthType=ts.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,s){var r;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(r=window.navigator)!=null&&r.platformAuthentication){const i=await window.navigator.platformAuthentication.getSupportedContracts(ts.MICROSOFT_ENTRA_BROKERID);if(i!=null&&i.includes(ts.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Hy(e,n,s)}}getExtensionId(){return ts.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return ts.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),s=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(s)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:s,authority:r,scope:i,redirectUri:a,correlationId:o,state:c,storeInCache:u,embeddedClientId:d,extraParameters:h,...f}=e,m=this.getDOMExtraParams(f);return{accountId:n,brokerId:this.getExtensionId(),authority:r,clientId:s,correlationId:o||this.correlationId,extraParameters:{...h,...m},isSecurityTokenService:!1,redirectUri:a,scope:i,state:c,storeInCache:u,embeddedClientId:d}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),bd(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw zm(rd,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((r,[i,a])=>(r[i]=String(a),r),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function OM(t,e,n,s){t.trace("getPlatformAuthProvider called",n);const r=jM();t.trace("Has client allowed platform auth via DOM API: "+r);let i;try{r&&(i=await Hy.createProvider(t,e,n)),i||(t.trace("Platform auth via DOM API not available, checking for extension"),i=await Sd.createProvider(t,s||kE,e))}catch(a){t.trace("Platform auth not available",a)}return i}function jM(){let t;try{return t=window[Ut.SessionStorage],(t==null?void 0:t.getItem(ZI))==="true"}catch{return!1}}function Hl(t,e,n,s){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(s)switch(s){case qe.BEARER:case qe.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class IM extends ho{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,o,u,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=i}acquireToken(e,n){let s;try{if(s={popupName:this.generatePopupName(e.scopes||oo,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,s,n);{const i={...e,httpMethod:IE(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(i,s,n)}}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),s={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,s,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),s.popup=this.openSizedPopup("about:blank",s),this.logoutPopupAsync(n,s,r,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,s){this.logger.verbose("acquireTokenPopupAsync called");const r=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ve.Popup);n.popup&&RE(r.authority);const i=Hl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===Nn.EAR?this.executeEarFlow(r,n):this.executeCodeFlow(r,n,s)}async executeCodeFlow(e,n,s){var c;const r=e.correlationId,i=this.initializeServerTelemetryManager(Qe.acquireTokenPopup),a=s||await F(bh,O.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...e,codeChallenge:a.challenge};try{const u=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account});if(o.httpMethod===xi.POST)return await this.executeCodeFlowWithPost(o,n,u,a.verifier);{const d=await F(Py,O.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,u.authority,o,this.logger,this.performanceClient),h=this.initiateAuthRequest(d,n);this.eventHandler.emitEvent(me.POPUP_OPENED,ve.Popup,{popupWindow:h},null);const f=await this.monitorPopupForHash(h,n.popupWindowParent),m=Gn(cl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await F(xd,O.HandleResponseCode,this.logger,this.performanceClient,r)(e,m,a.verifier,Qe.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(u){throw(c=n.popup)==null||c.close(),u instanceof Xe&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const s=e.correlationId,r=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await F(Ey,O.GenerateEarKey,this.logger,this.performanceClient,s)(),a={...e,earJwk:i},o=n.popup||this.openPopup("about:blank",n);(await Dy(o.document,this.config,r,a,this.logger,this.performanceClient)).submit();const u=await F(this.monitorPopupForHash.bind(this),O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(o,n.popupWindowParent),d=Gn(cl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return F(Ly,O.HandleResponseEar,this.logger,this.performanceClient,s)(a,d,Qe.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,s,r){const i=e.correlationId,a=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=n.popup||this.openPopup("about:blank",n);(await Uy(o.document,this.config,a,e,this.logger,this.performanceClient)).submit();const u=await F(this.monitorPopupForHash.bind(this),O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(o,n.popupWindowParent),d=Gn(cl,O.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return F(xd,O.HandleResponseCode,this.logger,this.performanceClient,i)(e,d,r,Qe.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,s,r){var a,o,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(me.LOGOUT_START,ve.Popup,e);const i=this.initializeServerTelemetryManager(Qe.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:s,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===Nn.OIDC){if(this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,ve.Popup,e),r){const f={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Be.getAbsoluteUrl(r,er());await this.navigationClient.navigateInternal(m,f)}(o=n.popup)==null||o.close();return}}const d=u.getLogoutUri(e);this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,ve.Popup,e);const h=this.openPopup(d,n);if(this.eventHandler.emitEvent(me.POPUP_OPENED,ve.Popup,{popupWindow:h},null),await this.monitorPopupForHash(h,n.popupWindowParent).catch(()=>{}),r){const f={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Be.getAbsoluteUrl(r,er());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof Xe&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),this.eventHandler.emitEvent(me.LOGOUT_FAILURE,ve.Popup,null,u),this.eventHandler.emitEvent(me.LOGOUT_END,ve.Popup),u}this.eventHandler.emitEvent(me.LOGOUT_END,ve.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),ue(mh)}monitorPopupForHash(e,n){return new Promise((s,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),r(ue(Ul));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(i);let o="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===rh.QUERY?o=e.location.search:o=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),s(o)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let s;if(n.popup?(s=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),s.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),s=this.openSizedPopup(e,n)),!s)throw ue(XA);return s.focus&&s.focus(),this.currentWindow=s,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),s}catch(s){throw this.logger.error("error opening popup "+s.message),ue(QA)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:s,popupWindowParent:r}){var m,S,b,C;const i=r.screenLeft?r.screenLeft:r.screenX,a=r.screenTop?r.screenTop:r.screenY,o=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(m=s.popupSize)==null?void 0:m.width,d=(S=s.popupSize)==null?void 0:S.height,h=(b=s.popupPosition)==null?void 0:b.top,f=(C=s.popupPosition)==null?void 0:C.left;return(!u||u<0||u>o)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=En.POPUP_WIDTH),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=En.POPUP_HEIGHT),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),h=Math.max(0,c/2-En.POPUP_HEIGHT/2+a)),(!f||f<0||f>o)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,o/2-En.POPUP_WIDTH/2+i)),r.open(e,n,`width=${u}, height=${d}, top=${h}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${En.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${En.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function MM(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class PM extends ho{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,o,u,d),this.nativeStorage=c}async acquireToken(e){const n=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ve.Redirect);n.platformBroker=Hl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const s=i=>{i.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(me.RESTORE_FROM_BFCACHE,ve.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(At.ORIGIN_URI,r,!0),window.addEventListener("pageshow",s);try{this.config.auth.protocolMode===Nn.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(i){throw i instanceof Xe&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),i}}async executeCodeFlow(e,n){const s=e.correlationId,r=this.initializeServerTelemetryManager(Qe.acquireTokenRedirect),i=await F(bh,O.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),a={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(a,i.verifier);try{if(a.httpMethod===xi.POST)return await this.executeCodeFlowWithPost(a);{const o=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),c=await F(Py,O.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,o.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(o){throw o instanceof Xe&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}async executeEarFlow(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await F(Ey,O.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r};return this.browserStorage.cacheAuthorizeRequest(i),(await Dy(document,this.config,s,i,this.logger,this.performanceClient)).submit(),new Promise((o,c)=>{setTimeout(()=>{c(ue(yd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Uy(document,this.config,s,e,this.logger,this.performanceClient)).submit(),new Promise((i,a)=>{setTimeout(()=>{a(ue(yd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,s,r){const i=this.initializeServerTelemetryManager(Qe.handleRedirectPromise);try{const[a,o]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),MM()!=="back_forward"?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(At.ORIGIN_URI,!0)||q.EMPTY_STRING,u=lx(c),d=lx(window.location.href);if(u===d&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&LI(c),await this.handleResponse(a,n,s,i);if(this.config.auth.navigateToLoginRequestUrl){if(!Ry()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(At.URL_HASH,o,!0);const h={apiId:Qe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(!c||c==="null"){const m=BI();this.browserStorage.setTemporaryCache(At.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=await this.navigationClient.navigateInternal(m,h)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),f=await this.navigationClient.navigateInternal(c,h);if(!f)return await this.handleResponse(a,n,s,i)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,s,i);return null}catch(a){throw a instanceof Xe&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===rh.QUERY?n=window.location.search:n=window.location.hash);let s=ad(n);if(s){try{vM(s,this.browserCrypto,ve.Redirect)}catch(i){return i instanceof Xe&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return EE(window),this.logger.verbose("Hash contains known properties, returning response hash"),[s,n]}const r=this.browserStorage.getTemporaryCache(At.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(At.URL_HASH)),r&&(s=ad(r),s)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[s,r]):[null,""]}async handleResponse(e,n,s,r){if(!e.state)throw ue(vy);if(e.ear_jwe){const o=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return F(Ly,O.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Qe.acquireTokenRedirect,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const a=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority});return F(xd,O.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,s,Qe.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const s={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=n||this.config.auth.onRedirectNavigate;if(typeof r=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),r(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,s);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,s);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ue(mh)}async logout(e){var r;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),s=this.initializeServerTelemetryManager(Qe.logout);try{this.eventHandler.emitEvent(me.LOGOUT_START,ve.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const i={apiId:Qe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===Nn.OIDC)try{a.authority.endSessionEndpoint}catch{if((r=n.account)!=null&&r.homeAccountId){this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,ve.Redirect,n);return}}const o=a.getLogoutUri(n);if(this.eventHandler.emitEvent(me.LOGOUT_SUCCESS,ve.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(o)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Or.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Or.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}}catch(i){throw i instanceof Xe&&(i.setCorrelationId(this.correlationId),s.cacheFailedRequest(i)),this.eventHandler.emitEvent(me.LOGOUT_FAILURE,ve.Redirect,null,i),this.eventHandler.emitEvent(me.LOGOUT_END,ve.Redirect),i}this.eventHandler.emitEvent(me.LOGOUT_END,ve.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Be.getAbsoluteUrl(n,er())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function DM(t,e,n,s,r){if(e.addQueueMeasurement(O.SilentHandlerInitiateAuthRequest,s),!t)throw n.info("Navigate url is empty"),ue(mh);return r?F(HM,O.SilentHandlerLoadFrame,n,e,s)(t,r,e,s):Gn(BM,O.SilentHandlerLoadFrameSync,n,e,s)(t)}async function UM(t,e,n,s,r){const i=xh();if(!i.contentDocument)throw"No document associated with iframe!";return(await Uy(i.contentDocument,t,e,n,s,r)).submit(),i}async function LM(t,e,n,s,r){const i=xh();if(!i.contentDocument)throw"No document associated with iframe!";return(await Dy(i.contentDocument,t,e,n,s,r)).submit(),i}async function Lx(t,e,n,s,r,i,a){return s.addQueueMeasurement(O.SilentHandlerMonitorIframeForHash,i),new Promise((o,c)=>{e<Zm&&r.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Zm}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(d),c(ue(JA))},e),d=window.setInterval(()=>{let h="";const f=t.contentWindow;try{h=f?f.location.href:""}catch{}if(!h||h==="about:blank")return;let m="";f&&(a===rh.QUERY?m=f.location.search:m=f.location.hash),window.clearTimeout(u),window.clearInterval(d),o(m)},n)}).finally(()=>{Gn(zM,O.RemoveHiddenIframe,r,s,i)(t)})}function HM(t,e,n,s){return n.addQueueMeasurement(O.SilentHandlerLoadFrame,s),new Promise((r,i)=>{const a=xh();window.setTimeout(()=>{if(!a){i("Unable to load iframe");return}a.src=t,r(a)},e)})}function BM(t){const e=xh();return e.src=t,e}function xh(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function zM(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class VM extends ho{constructor(e,n,s,r,i,a,o,c,u,d,h){super(e,n,s,r,i,a,c,d,h),this.apiId=o,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==vn.NONE&&n.prompt!==vn.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${vn.NONE}`),n.prompt=vn.NONE):n.prompt=vn.NONE;const s=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ve.Silent);return s.platformBroker=Hl(this.config,this.logger,this.platformAuthProvider,s.authenticationScheme),RE(s.authority),this.config.auth.protocolMode===Nn.EAR?this.executeEarFlow(s):this.executeCodeFlow(s)}async executeCodeFlow(e){let n;const s=this.initializeServerTelemetryManager(this.apiId);try{return n=await F(this.createAuthCodeClient.bind(this),O.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await F(this.silentTokenHelper.bind(this),O.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(r){if(r instanceof Xe&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),!n||!(r instanceof Xe)||r.errorCode!==En.INVALID_GRANT_ERROR)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await F(this.silentTokenHelper.bind(this),O.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,s=await F(this.getDiscoveredAuthority.bind(this),O.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await F(Ey,O.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r},a=await F(LM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,s,i,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,c=await F(Lx,O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,o),u=Gn(cl,O.DeserializeResponse,this.logger,this.performanceClient,n)(c,o,this.logger);return F(Ly,O.HandleResponseEar,this.logger,this.performanceClient,n)(i,u,this.apiId,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ue(gh))}async silentTokenHelper(e,n){const s=n.correlationId;this.performanceClient.addQueueMeasurement(O.SilentIframeClientTokenHelper,s);const r=await F(bh,O.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),i={...n,codeChallenge:r.challenge};let a;if(n.httpMethod===xi.POST)a=await F(UM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);else{const d=await F(Py,O.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);a=await F(DM,O.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(d,this.performanceClient,this.logger,s,this.config.system.navigateFrameWait)}const o=this.config.auth.OIDCOptions.serverResponseType,c=await F(Lx,O.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,s,o),u=Gn(cl,O.DeserializeResponse,this.logger,this.performanceClient,s)(c,o,this.logger);return F(xd,O.HandleResponseCode,this.logger,this.performanceClient,s)(n,u,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class FM extends ho{async acquireToken(e){this.performanceClient.addQueueMeasurement(O.SilentRefreshClientAcquireToken,e.correlationId);const n=await F(Iy,O.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),s={...e,...n};e.redirectUri&&(s.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:s.authority,azureCloudOptions:s.azureCloudOptions,account:s.account});return F(i.acquireTokenByRefreshToken.bind(i),O.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(s).catch(a=>{throw a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),a})}logout(){return Promise.reject(ue(gh))}async createRefreshTokenClient(e){const n=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new rI(n,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class GM{constructor(e,n,s,r){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=s,this.cryptoObj=r}async loadExternalTokens(e,n,s){if(!this.isBrowserEnvironment)throw ue(ph);const r=e.correlationId||xs(),i=n.id_token?lo(n.id_token,ys):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new nn(nn.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||xs()):void 0,c=await this.loadAccount(e,s.clientInfo||n.client_info||"",r,i,o),u=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,r),d=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,s,r),h=await this.loadRefreshToken(n,c.homeAccountId,c.environment,r);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:d,refreshToken:h},i,o)}async loadAccount(e,n,s,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=vs.createFromAccountInfo(e.account);return await this.storage.setAccount(u,s),u}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ue(aE);const a=vs.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),o=r==null?void 0:r.tid,c=hy(this.storage,i,a,ys,s,r,n,i.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(c,s),c}async loadIdToken(e,n,s,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=ch(n,s,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,i),a}async loadAccessToken(e,n,s,r,i,a,o){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?Dt.fromString(n.scope):new Dt(e.scopes),u=a.expiresOn||n.expires_in+Rn(),d=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+Rn(),h=uh(s,r,n.access_token,this.config.auth.clientId,i,c.printScopes(),u,d,ys);return await this.storage.setAccessTokenCredential(h,o),h}async loadRefreshToken(e,n,s,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=OA(n,s,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,n,s,r){var d,h,f;let i="",a=[],o=null,c;n!=null&&n.accessToken&&(i=n.accessToken.secret,a=Dt.fromString(n.accessToken.target).asArray(),o=Pa(n.accessToken.expiresOn),c=Pa(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:r?r.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:u.getAccountInfo(),idToken:((d=n.idToken)==null?void 0:d.secret)||"",idTokenClaims:s||{},accessToken:i,fromCache:!0,expiresOn:o,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((h=n.refreshToken)==null?void 0:h.familyId)||"",tokenType:((f=n==null?void 0:n.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class qM extends LA{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class KM extends ho{constructor(e,n,s,r,i,a,o,c,u,d){super(e,n,s,r,i,a,c,u,d),this.apiId=o}async acquireToken(e){if(!e.code)throw ue(oE);const n=await F(this.initializeAuthorizationRequest.bind(this),O.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ve.Silent),s=this.initializeServerTelemetryManager(this.apiId);try{const r={...n,code:e.code},i=await F(this.getClientConfiguration.bind(this),O.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new qM(i);this.logger.verbose("Auth code client created");const o=new ME(a,this.browserStorage,r,this.logger,this.performanceClient);return await F(o.handleCodeResponseFromServer.bind(o),O.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(r){throw r instanceof Xe&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),r}}logout(){return Promise.reject(ue(gh))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function $M(t,e,n){var a;const s=((a=window.msal)==null?void 0:a.clientIds)||[],r=s.length,i=s.filter(o=>o===t).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:r,sameClientIdInstanceCount:i})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Ts(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Bc(t,e){try{ky(t)}catch(n){throw e.end({success:!1},n),n}}class Sh{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new hr(this.logger,this.performanceClient):id,this.eventHandler=new gM(this.logger),this.browserStorage=this.isBrowserEnvironment?new ng(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,Qj(this.config.auth)):aM(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Ut.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Ut.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new ng(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new GM(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const s=new Sh(e);return await s.initialize(n),s}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(me.INITIALIZE_END);return}const s=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(O.InitializeClientApplication,s);if(this.eventHandler.emitEvent(me.INITIALIZE_START),!n)try{this.logMultipleInstances(i)}catch{}if(await F(this.browserStorage.initialize.bind(this.browserStorage),O.InitializeCache,this.logger,this.performanceClient,s)(s),r)try{this.platformAuthProvider=await OM(this.logger,this.performanceClient,s,this.config.system.nativeBrokerHandshakeTimeout)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Gn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),O.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,s)(s)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(s),this.initialized=!0,this.eventHandler.emitEvent(me.INITIALIZE_END),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),_E(this.initialized),this.isBrowserEnvironment){const n=e||"";let s=this.redirectResponse.get(n);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,s),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),s}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===Or.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const s=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&this.platformAuthProvider&&!e;let a;this.eventHandler.emitEvent(me.HANDLE_REDIRECT_START,ve.Redirect);let o;try{if(i&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(O.AcquireTokenRedirect,(r==null?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const u=new gu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);o=F(u.handleRedirectPromise.bind(u),O.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[u,d]=this.browserStorage.getCachedRequest(),h=u.correlationId;a=this.performanceClient.startMeasurement(O.AcquireTokenRedirect,h),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const f=this.createRedirectClient(h);o=F(f.handleRedirectPromise.bind(f),O.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,u,d,a)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return o.then(u=>(u?(this.browserStorage.resetRequestCache(),s.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(me.LOGIN_SUCCESS,ve.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,ve.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Ts(u.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(me.HANDLE_REDIRECT_END,ve.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const d=u;throw s.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,ve.Redirect,null,d):this.eventHandler.emitEvent(me.LOGIN_FAILURE,ve.Redirect,null,d),this.eventHandler.emitEvent(me.HANDLE_REDIRECT_END,ve.Redirect),a.end({success:!1},d),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const s=this.performanceClient.startMeasurement(O.AcquireTokenPreRedirect,n);s.add({accountType:Ts(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=a=>{const o=typeof r=="function"?r(a):void 0;return s.add({navigateCallbackResult:o!==!1}),s.event=s.end({success:!0})||s.event,o};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=o=>{const c=typeof a=="function"?a(o):void 0;return s.add({navigateCallbackResult:c!==!1}),s.event=s.end({success:!0})||s.event,c}}const i=this.getAllAccounts().length>0;try{_x(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Or.SIGNIN),i?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,ve.Redirect,e):this.eventHandler.emitEvent(me.LOGIN_START,ve.Redirect,e);let a;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?a=new gu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,s).catch(c=>{if(s.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof Rs&&la(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof bs)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),s.event.status===2?this.performanceClient.startMeasurement(O.AcquireTokenRedirect,n).end({success:!1},a):s.end({success:!1},a),i?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,ve.Redirect,null,a):this.eventHandler.emitEvent(me.LOGIN_FAILURE,ve.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(O.AcquireTokenPopup,n);s.add({scenarioId:e.scenarioId,accountType:Ts(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Bc(this.initialized,s),this.browserStorage.setInteractionInProgress(!0,Or.SIGNIN)}catch(o){return Promise.reject(o)}const r=this.getAllAccounts();r.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,ve.Popup,e):this.eventHandler.emitEvent(me.LOGIN_START,ve.Popup,e);let i;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(s.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative({...e,correlationId:n},Qe.acquireTokenPopup).then(o=>(s.end({success:!0,accountType:Ts(o.account)}),o)).catch(o=>{if(s.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof Rs&&la(o))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(o instanceof bs)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw o})):i=this.createPopupClient(n).acquireToken(e,a),i.then(o=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(me.LOGIN_SUCCESS,ve.Popup,o):this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,ve.Popup,o),s.end({success:!0,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:Ts(o.account)}),o)).catch(o=>(r.length>0?this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,ve.Popup,null,o):this.eventHandler.emitEvent(me.LOGIN_FAILURE,ve.Popup,null,o),s.end({success:!1},o),Promise.reject(o))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,a,o;const n=this.getRequestCorrelationId(e),s={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(O.SsoSilent,n),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:Ts(e.account)}),Bc(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(me.SSO_SILENT_START,ve.Silent,s);let r;return this.canUsePlatformBroker(s)?((o=this.ssoSilentMeasurement)==null||o.add({isPlatformBrokerRequest:!0}),r=this.acquireTokenNative(s,Qe.ssoSilent).catch(c=>{var u;if((u=this.ssoSilentMeasurement)==null||u.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof Rs&&la(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw c})):r=this.createSilentIframeClient(s.correlationId).acquireToken(s),r.then(c=>{var u;return this.eventHandler.emitEvent(me.SSO_SILENT_SUCCESS,ve.Silent,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:Ts(c.account)}),c}).catch(c=>{var u;throw this.eventHandler.emitEvent(me.SSO_SILENT_FAILURE,ve.Silent,null,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const s=this.performanceClient.startMeasurement(O.AcquireTokenByCode,n);Bc(this.initialized,s),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_START,ve.Silent,e),s.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ue(cE);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",n),s.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),i=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ve.Silent,a),this.hybridAuthCodeResponses.delete(r),s.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Ts(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_FAILURE,ve.Silent,null,a),s.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(r,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){s.add({isPlatformBrokerRequest:!0});const r=await this.acquireTokenNative({...e,correlationId:n},Qe.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof Rs&&la(i)&&(this.platformAuthProvider=void 0),s.add({brokerErrorName:i.name,brokerErrorCode:i.errorCode}),i});return s.end({accountType:Ts(r.account),success:!0}),r}else throw ue(uE);else throw ue(lE)}catch(r){throw this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_BY_CODE_FAILURE,ve.Silent,null,r),s.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var r;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(O.AcquireTokenByCodeAsync,e.correlationId),(r=this.acquireTokenByCodeAsyncMeasurement)==null||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:i.fromCache}),i}).catch(i=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(O.AcquireTokenFromCache,e.correlationId),n){case hn.Default:case hn.AccessToken:case hn.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(e.correlationId);return F(s.acquireToken.bind(s),O.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw W($r)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(O.AcquireTokenByRefreshToken,e.correlationId),n){case hn.Default:case hn.AccessTokenAndRefreshToken:case hn.RefreshToken:case hn.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(e.correlationId);return F(s.acquireToken.bind(s),O.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw W($r)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(O.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return F(n.acquireToken.bind(n),O.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return _x(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Or.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return ky(this.initialized),this.browserStorage.setInteractionInProgress(!0,Or.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return oM(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return lM(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return cM(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return uM(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return dM(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();hM(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return fM(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const s=vs.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(s,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,s,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ue(Sy);return new gu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,s||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Hl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case vn.NONE:case vn.CONSENT:case vn.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new IM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new PM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new VM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new DE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new FM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new KM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return NE(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ut.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Ut.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?xs():q.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||wx})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||wx})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(O.AcquireTokenSilent,n);s.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Bc(this.initialized,s),this.logger.verbose("acquireTokenSilent called",n);const r=e.account||this.getActiveAccount();if(!r)throw ue(tE);return s.add({accountType:Ts(r)}),this.acquireTokenSilentDeduped(e,r,n).then(i=>(s.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:n})).catch(i=>{throw i instanceof Xe&&i.setCorrelationId(n),s.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,n,s){const r=dh(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),i=JSON.stringify(r),a=this.activeSilentTokenRequests.get(i);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",s),this.performanceClient.addFields({deduped:!1},s);const o=F(this.acquireTokenSilentAsync.bind(this),O.AcquireTokenSilentAsync,this.logger,this.performanceClient,s)({...e,correlationId:s},n);return this.activeSilentTokenRequests.set(i,o),o.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",s),this.performanceClient.addFields({deduped:!0},s),a}async acquireTokenSilentAsync(e,n){const s=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(O.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_START,ve.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",s);const r=await F(pM,O.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||hn.Default;return this.acquireTokenSilentNoIframe(r,i).catch(async o=>{if(YM(o,i))if(this.activeIframeRequest)if(i!==hn.Skip){const[u,d]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${d}`,r.correlationId);const h=this.performanceClient.startMeasurement(O.AwaitConcurrentIframe,r.correlationId);h.add({awaitIframeCorrelationId:d});const f=await u;if(h.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${d} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${d} failed. Interaction is required.`),o}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),F(this.acquireTokenBySilentIframe.bind(this),O.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r);else{let u;return this.activeIframeRequest=[new Promise(d=>{u=d}),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),F(this.acquireTokenBySilentIframe.bind(this),O.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r).then(d=>(u(!0),d)).catch(d=>{throw u(!1),d}).finally(()=>{this.activeIframeRequest=void 0})}else throw o}).then(o=>(this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_SUCCESS,ve.Silent,o),e.correlationId&&this.performanceClient.addFields({fromCache:o.fromCache},e.correlationId),o)).catch(o=>{throw this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_FAILURE,ve.Silent,null,o),o}).finally(()=>{document.removeEventListener("visibilitychange",s)})}async acquireTokenSilentNoIframe(e,n){return Hl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Qe.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async s=>{throw this.performanceClient.addFields({brokerErrorName:s.name,brokerErrorCode:s.errorCode},e.correlationId),s instanceof Rs&&la(s)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,W($r)):s})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===hn.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),F(this.acquireTokenFromCache.bind(this),O.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(s=>{if(n===hn.AccessToken)throw s;return this.eventHandler.emitEvent(me.ACQUIRE_TOKEN_NETWORK_START,ve.Silent,e),F(this.acquireTokenByRefreshToken.bind(this),O.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await F(bh,O.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),$M(n,e,this.logger)}}function YM(t,e){const n=!(t instanceof bs&&t.subError!==fh),s=t.errorCode===En.INVALID_GRANT_ERROR||t.errorCode===$r,r=n&&s||t.errorCode===md||t.errorCode===uy,i=TI.includes(e);return r&&i}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function QM(t,e){const n=new Bi(t);return await n.initialize(),Sh.createController(n,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class By{static async createPublicClientApplication(e){const n=await QM(e);return new By(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new Sh(new Bi(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const XM={initialize:()=>Promise.reject(wt(Ot)),acquireTokenPopup:()=>Promise.reject(wt(Ot)),acquireTokenRedirect:()=>Promise.reject(wt(Ot)),acquireTokenSilent:()=>Promise.reject(wt(Ot)),acquireTokenByCode:()=>Promise.reject(wt(Ot)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(wt(Ot)),loginPopup:()=>Promise.reject(wt(Ot)),loginRedirect:()=>Promise.reject(wt(Ot)),logout:()=>Promise.reject(wt(Ot)),logoutRedirect:()=>Promise.reject(wt(Ot)),logoutPopup:()=>Promise.reject(wt(Ot)),ssoSilent:()=>Promise.reject(wt(Ot)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw wt(Ot)},getLogger:()=>{throw wt(Ot)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw wt(Ot)},hydrateCache:()=>Promise.reject(wt(Ot)),clearCache:()=>Promise.reject(wt(Ot))};/*! @azure/msal-browser v4.22.1 2025-09-09 */class JM{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case me.LOGIN_START:return jt.Login;case me.SSO_SILENT_START:return jt.SsoSilent;case me.ACQUIRE_TOKEN_START:if(e.interactionType===ve.Redirect||e.interactionType===ve.Popup)return jt.AcquireToken;break;case me.HANDLE_REDIRECT_START:return jt.HandleRedirect;case me.LOGOUT_START:return jt.Logout;case me.SSO_SILENT_SUCCESS:case me.SSO_SILENT_FAILURE:if(n&&n!==jt.SsoSilent)break;return jt.None;case me.LOGOUT_END:if(n&&n!==jt.Logout)break;return jt.None;case me.HANDLE_REDIRECT_END:if(n&&n!==jt.HandleRedirect)break;return jt.None;case me.LOGIN_SUCCESS:case me.LOGIN_FAILURE:case me.ACQUIRE_TOKEN_SUCCESS:case me.ACQUIRE_TOKEN_FAILURE:case me.RESTORE_FROM_BFCACHE:if(e.interactionType===ve.Redirect||e.interactionType===ve.Popup){if(n&&n!==jt.Login&&n!==jt.AcquireToken)break;return jt.None}break}return null}}/*! @azure/msal-react v3.0.19 2025-08-19 */const ZM={instance:XM,inProgress:jt.None,accounts:[],logger:new dr({})},HE=x.createContext(ZM);HE.Consumer;/*! @azure/msal-react v3.0.19 2025-08-19 */function Hx(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(s=>{const r=n.shift();return!s||!r?!1:s.homeAccountId===r.homeAccountId&&s.localAccountId===r.localAccountId&&s.username===r.username})}/*! @azure/msal-react v3.0.19 2025-08-19 */const WM="@azure/msal-react",Bx="3.0.19";/*! @azure/msal-react v3.0.19 2025-08-19 */const Cd={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},e2=(t,e)=>{const{type:n,payload:s}=e;let r=t.inProgress;switch(n){case Cd.UNBLOCK_INPROGRESS:t.inProgress===jt.Startup&&(r=jt.None,s.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Cd.EVENT:const a=s.message,o=JM.getInteractionStatusFromEvent(a,t.inProgress);o&&(s.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${o}`),r=o);break;default:throw new Error(`Unknown action type: ${n}`)}if(r===jt.Startup)return t;const i=s.instance.getAllAccounts();return r!==t.inProgress&&!Hx(i,t.accounts)?{...t,inProgress:r,accounts:i}:r!==t.inProgress?{...t,inProgress:r}:Hx(i,t.accounts)?t:{...t,accounts:i}};function t2({instance:t,children:e}){x.useEffect(()=>{t.initializeWrapperLibrary(SI.React,Bx)},[t]);const n=x.useMemo(()=>t.getLogger().clone(WM,Bx),[t]),[s,r]=x.useReducer(e2,void 0,()=>({inProgress:jt.Startup,accounts:[]}));x.useEffect(()=>{const a=t.addEventCallback(o=>{r({payload:{instance:t,logger:n,message:o},type:Cd.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{r({payload:{instance:t,logger:n},type:Cd.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(n.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,n]);const i={instance:t,inProgress:s.inProgress,accounts:s.accounts,logger:n};return te.createElement(HE.Provider,{value:i},e)}const zx="https://dnc-backend-bb96.onrender.com".replace(/\/$/,"");var IS;const n2=typeof window<"u"&&((IS=window.location)==null?void 0:IS.protocol)==="https:",J=n2?zx.replace(/^http:\/\//,"https://"):zx,fo={PHONE_NUMBERS:`${J}/api/v1/phone-numbers`,CRM_INTEGRATIONS:`${J}/api/v1/crm`};function s2(){try{const t=localStorage.getItem("persist:do-not-call-root");if(console.log(" Raw localStorage data:",t),!t)return{};const e=JSON.parse(t);console.log(" Parsed localStorage:",e);const n=e.demoAuth?JSON.parse(e.demoAuth):null;if(console.log(" Demo auth data:",n),!n)return{};const{organizationId:s,userId:r,role:i}=n;if(!s||!r||!i)return{};const a={"X-Org-Id":String(s),"X-User-Id":String(r),"X-Role":String(i)};return console.log(" Generated headers:",a),a}catch(t){return console.log(" Error getting demo headers:",t),{}}}let zc=null;async function r2(){try{const t=window.__msalAcquireToken,e="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(t&&e){zc||(zc=t([e]).catch(()=>null));const n=await zc;return zc=null,n||null}}catch(t){console.warn("Failed to acquire Azure AD token:",t)}return null}const lt=async(t,e={})=>{const n=await r2();let s={};n&&(s.Authorization=`Bearer ${n}`);const r=await fetch(t,{headers:{"Content-Type":"application/json",...s,...s2(),...e.headers||{}},...e});if(!r.ok)throw new Error(`API call failed: ${r.status} ${r.statusText}`);return r.json()};var BE={exports:{}},zE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=x;function i2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a2=typeof Object.is=="function"?Object.is:i2,o2=lc.useSyncExternalStore,l2=lc.useRef,c2=lc.useEffect,u2=lc.useMemo,d2=lc.useDebugValue;zE.useSyncExternalStoreWithSelector=function(t,e,n,s,r){var i=l2(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=u2(function(){function c(m){if(!u){if(u=!0,d=m,m=s(m),r!==void 0&&a.hasValue){var S=a.value;if(r(S,m))return h=S}return h=m}if(S=h,a2(d,m))return S;var b=s(m);return r!==void 0&&r(S,b)?(d=m,S):(d=m,h=b)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,s,r]);var o=o2(t,i[0],i[1]);return c2(function(){a.hasValue=!0,a.value=o},[o]),d2(o),o};BE.exports=zE;var h2=BE.exports;function f2(t){t()}function m2(){let t=null,e=null;return{clear(){t=null,e=null},notify(){f2(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var Vx={notify(){},get:()=>[]};function g2(t,e){let n,s=Vx,r=0,i=!1;function a(b){d();const C=s.subscribe(b);let y=!1;return()=>{y||(y=!0,C(),h())}}function o(){s.notify()}function c(){S.onStateChange&&S.onStateChange()}function u(){return i}function d(){r++,n||(n=t.subscribe(c),s=m2())}function h(){r--,n&&r===0&&(n(),n=void 0,s.clear(),s=Vx)}function f(){i||(i=!0,d())}function m(){i&&(i=!1,h())}const S={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>s};return S}var p2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y2=p2(),v2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",b2=v2(),x2=()=>y2||b2?x.useLayoutEffect:x.useEffect,S2=x2(),wf=Symbol.for("react-redux-context"),Tf=typeof globalThis<"u"?globalThis:{};function C2(){if(!x.createContext)return{};const t=Tf[wf]??(Tf[wf]=new Map);let e=t.get(x.createContext);return e||(e=x.createContext(null),t.set(x.createContext,e)),e}var ti=C2();function w2(t){const{children:e,context:n,serverState:s,store:r}=t,i=x.useMemo(()=>{const c=g2(r);return{store:r,subscription:c,getServerState:s?()=>s:void 0}},[r,s]),a=x.useMemo(()=>r.getState(),[r]);S2(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==r.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const o=n||ti;return x.createElement(o.Provider,{value:i},e)}var T2=w2;function zy(t=ti){return function(){return x.useContext(t)}}var VE=zy();function FE(t=ti){const e=t===ti?VE:zy(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var A2=FE();function E2(t=ti){const e=t===ti?A2:FE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var N2=E2(),_2=(t,e)=>t===e;function R2(t=ti){const e=t===ti?VE:zy(t),n=(s,r={})=>{const{equalityFn:i=_2}=typeof r=="function"?{equalityFn:r}:r,a=e(),{store:o,subscription:c,getServerState:u}=a;x.useRef(!0);const d=x.useCallback({[s.name](f){return s(f)}}[s.name],[s]),h=h2.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,d,i);return x.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var k2=R2();function pu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(n){return typeof n}:pu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},pu(t)}function O2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function I2(t,e,n){return e&&j2(t.prototype,e),t}function M2(t,e){return e&&(pu(e)==="object"||typeof e=="function")?e:yu(t)}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function yu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rg(t,e)}function rg(t,e){return rg=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},rg(t,e)}function vu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var GE=function(t){P2(e,t);function e(){var n,s;O2(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return s=M2(this,(n=sg(e)).call.apply(n,[this].concat(i))),vu(yu(s),"state",{bootstrapped:!1}),vu(yu(s),"_unsubscribe",void 0),vu(yu(s),"handlePersistorState",function(){var o=s.props.persistor,c=o.getState(),u=c.bootstrapped;u&&(s.props.onBeforeLift?Promise.resolve(s.props.onBeforeLift()).finally(function(){return s.setState({bootstrapped:!0})}):s.setState({bootstrapped:!0}),s._unsubscribe&&s._unsubscribe())}),s}return I2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);vu(GE,"defaultProps",{children:null,loading:null});var D2=t=>{switch(t){case"success":return H2;case"info":return z2;case"warning":return B2;case"error":return V2;default:return null}},U2=Array(12).fill(0),L2=({visible:t,className:e})=>te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},te.createElement("div",{className:"sonner-spinner"},U2.map((n,s)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),H2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F2=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),G2=()=>{let[t,e]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ig=1,q2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ig++,i=this.toasts.find(o=>o.id===r),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...t,id:r,title:n}),{...o,...t,id:r,dismissible:a,title:n}):o):this.addToast({title:n,...s,dismissible:a,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0,i,a=s.then(async c=>{if(i=["resolve",c],te.isValidElement(c))r=!1,this.create({id:n,type:"default",message:c});else if($2(c)&&!c.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;r&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||ig++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},An=new q2,K2=(t,e)=>{let n=(e==null?void 0:e.id)||ig++;return An.addToast({title:t,...e,id:n}),n},$2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Y2=K2,Q2=()=>An.toasts,X2=()=>An.getActiveToasts(),pn=Object.assign(Y2,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:Q2,getToasts:X2});function J2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}J2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vc(t){return t.label!==void 0}var Z2=3,W2="32px",eP="16px",Fx=4e3,tP=356,nP=14,sP=20,rP=200;function ls(...t){return t.filter(Boolean).join(" ")}function iP(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var aP=t=>{var e,n,s,r,i,a,o,c,u,d,h;let{invert:f,toast:m,unstyled:S,interacting:b,setHeights:C,visibleToasts:y,heights:p,index:g,toasts:v,expanded:w,removeToast:N,defaultRichColors:T,closeButton:_,style:A,cancelButtonStyle:k,actionButtonStyle:P,className:R="",descriptionClassName:I="",duration:B,position:G,gap:M,loadingIcon:Y,expandByDefault:Z,classNames:z,icons:K,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:Q}=t,[X,de]=te.useState(null),[se,be]=te.useState(null),[Te,le]=te.useState(!1),[he,ce]=te.useState(!1),[pe,L]=te.useState(!1),[V,ae]=te.useState(!1),[ye,_e]=te.useState(!1),[Jt,an]=te.useState(0),[on,E]=te.useState(0),j=te.useRef(m.duration||B||Fx),U=te.useRef(null),re=te.useRef(null),ee=g===0,ne=g+1<=y,oe=m.type,Re=m.dismissible!==!1,Le=m.className||"",St=m.descriptionClassName||"",ln=te.useMemo(()=>p.findIndex(Ee=>Ee.toastId===m.id)||0,[p,m.id]),Zt=te.useMemo(()=>{var Ee;return(Ee=m.closeButton)!=null?Ee:_},[m.closeButton,_]),Cs=te.useMemo(()=>m.duration||B||Fx,[m.duration,B]),In=te.useRef(0),cn=te.useRef(0),li=te.useRef(0),Yn=te.useRef(null),[Ji,ci]=G.split("-"),go=te.useMemo(()=>p.reduce((Ee,H,fe)=>fe>=ln?Ee:Ee+H.height,0),[p,ln]),po=G2(),yc=m.invert||f,Zi=oe==="loading";cn.current=te.useMemo(()=>ln*M+go,[ln,go]),te.useEffect(()=>{j.current=Cs},[Cs]),te.useEffect(()=>{le(!0)},[]),te.useEffect(()=>{let Ee=re.current;if(Ee){let H=Ee.getBoundingClientRect().height;return E(H),C(fe=>[{toastId:m.id,height:H,position:m.position},...fe]),()=>C(fe=>fe.filter(ze=>ze.toastId!==m.id))}},[C,m.id]),te.useLayoutEffect(()=>{if(!Te)return;let Ee=re.current,H=Ee.style.height;Ee.style.height="auto";let fe=Ee.getBoundingClientRect().height;Ee.style.height=H,E(fe),C(ze=>ze.find(He=>He.toastId===m.id)?ze.map(He=>He.toastId===m.id?{...He,height:fe}:He):[{toastId:m.id,height:fe,position:m.position},...ze])},[Te,m.title,m.description,C,m.id]);let os=te.useCallback(()=>{ce(!0),an(cn.current),C(Ee=>Ee.filter(H=>H.toastId!==m.id)),setTimeout(()=>{N(m)},rP)},[m,N,C,cn]);te.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let Ee;return w||b||Q&&po?(()=>{if(li.current<In.current){let H=new Date().getTime()-In.current;j.current=j.current-H}li.current=new Date().getTime()})():j.current!==1/0&&(In.current=new Date().getTime(),Ee=setTimeout(()=>{var H;(H=m.onAutoClose)==null||H.call(m,m),os()},j.current)),()=>clearTimeout(Ee)},[w,b,m,oe,Q,po,os]),te.useEffect(()=>{m.delete&&os()},[os,m.delete]);function vc(){var Ee,H,fe;return K!=null&&K.loading?te.createElement("div",{className:ls(z==null?void 0:z.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":oe==="loading"},K.loading):Y?te.createElement("div",{className:ls(z==null?void 0:z.loader,(H=m==null?void 0:m.classNames)==null?void 0:H.loader,"sonner-loader"),"data-visible":oe==="loading"},Y):te.createElement(L2,{className:ls(z==null?void 0:z.loader,(fe=m==null?void 0:m.classNames)==null?void 0:fe.loader),visible:oe==="loading"})}return te.createElement("li",{tabIndex:0,ref:re,className:ls(R,Le,z==null?void 0:z.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[oe],(n=m==null?void 0:m.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:T,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":Te,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":he,"data-visible":ne,"data-y-position":Ji,"data-x-position":ci,"data-index":g,"data-front":ee,"data-swiping":pe,"data-dismissible":Re,"data-type":oe,"data-invert":yc,"data-swipe-out":V,"data-swipe-direction":se,"data-expanded":!!(w||Z&&Te),style:{"--index":g,"--toasts-before":g,"--z-index":v.length-g,"--offset":`${he?Jt:cn.current}px`,"--initial-height":Z?"auto":`${on}px`,...A,...m.style},onDragEnd:()=>{L(!1),de(null),Yn.current=null},onPointerDown:Ee=>{Zi||!Re||(U.current=new Date,an(cn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(L(!0),Yn.current={x:Ee.clientX,y:Ee.clientY}))},onPointerUp:()=>{var Ee,H,fe,ze;if(V||!Re)return;Yn.current=null;let He=Number(((Ee=re.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tt=Number(((H=re.current)==null?void 0:H.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wt=new Date().getTime()-((fe=U.current)==null?void 0:fe.getTime()),kt=X==="x"?He:tt,De=Math.abs(kt)/Wt;if(Math.abs(kt)>=sP||De>.11){an(cn.current),(ze=m.onDismiss)==null||ze.call(m,m),be(X==="x"?He>0?"right":"left":tt>0?"down":"up"),os(),ae(!0),_e(!1);return}L(!1),de(null)},onPointerMove:Ee=>{var H,fe,ze,He;if(!Yn.current||!Re||((H=window.getSelection())==null?void 0:H.toString().length)>0)return;let tt=Ee.clientY-Yn.current.y,Wt=Ee.clientX-Yn.current.x,kt=(fe=t.swipeDirections)!=null?fe:iP(G);!X&&(Math.abs(Wt)>1||Math.abs(tt)>1)&&de(Math.abs(Wt)>Math.abs(tt)?"x":"y");let De={x:0,y:0};X==="y"?(kt.includes("top")||kt.includes("bottom"))&&(kt.includes("top")&&tt<0||kt.includes("bottom")&&tt>0)&&(De.y=tt):X==="x"&&(kt.includes("left")||kt.includes("right"))&&(kt.includes("left")&&Wt<0||kt.includes("right")&&Wt>0)&&(De.x=Wt),(Math.abs(De.x)>0||Math.abs(De.y)>0)&&_e(!0),(ze=re.current)==null||ze.style.setProperty("--swipe-amount-x",`${De.x}px`),(He=re.current)==null||He.style.setProperty("--swipe-amount-y",`${De.y}px`)}},Zt&&!m.jsx?te.createElement("button",{"aria-label":D,"data-disabled":Zi,"data-close-button":!0,onClick:Zi||!Re?()=>{}:()=>{var Ee;os(),(Ee=m.onDismiss)==null||Ee.call(m,m)},className:ls(z==null?void 0:z.closeButton,(r=m==null?void 0:m.classNames)==null?void 0:r.closeButton)},(i=K==null?void 0:K.close)!=null?i:F2):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:te.createElement(te.Fragment,null,oe||m.icon||m.promise?te.createElement("div",{"data-icon":"",className:ls(z==null?void 0:z.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||vc():null,m.type!=="loading"?m.icon||(K==null?void 0:K[oe])||D2(oe):null):null,te.createElement("div",{"data-content":"",className:ls(z==null?void 0:z.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},te.createElement("div",{"data-title":"",className:ls(z==null?void 0:z.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?te.createElement("div",{"data-description":"",className:ls(I,St,z==null?void 0:z.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&Vc(m.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:Ee=>{var H,fe;Vc(m.cancel)&&Re&&((fe=(H=m.cancel).onClick)==null||fe.call(H,Ee),os())},className:ls(z==null?void 0:z.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&Vc(m.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:Ee=>{var H,fe;Vc(m.action)&&((fe=(H=m.action).onClick)==null||fe.call(H,Ee),!Ee.defaultPrevented&&os())},className:ls(z==null?void 0:z.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Gx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function oP(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,a=i?"--mobile-offset":"--offset",o=i?eP:W2;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(o)}),n}var lP=x.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:S=Z2,toastOptions:b,dir:C=Gx(),gap:y=nP,loadingIcon:p,icons:g,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w}=t,[N,T]=te.useState([]),_=te.useMemo(()=>Array.from(new Set([s].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,s]),[A,k]=te.useState([]),[P,R]=te.useState(!1),[I,B]=te.useState(!1),[G,M]=te.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=te.useRef(null),Z=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=te.useRef(null),K=te.useRef(!1),D=te.useCallback(Q=>{T(X=>{var de;return(de=X.find(se=>se.id===Q.id))!=null&&de.delete||An.dismiss(Q.id),X.filter(({id:se})=>se!==Q.id)})},[]);return te.useEffect(()=>An.subscribe(Q=>{if(Q.dismiss){T(X=>X.map(de=>de.id===Q.id?{...de,delete:!0}:de));return}setTimeout(()=>{RR.flushSync(()=>{T(X=>{let de=X.findIndex(se=>se.id===Q.id);return de!==-1?[...X.slice(0,de),{...X[de],...Q},...X.slice(de+1)]:[Q,...X]})})})}),[]),te.useEffect(()=>{if(d!=="system"){M(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:X})=>{M(X?"dark":"light")})}catch{Q.addListener(({matches:de})=>{try{M(de?"dark":"light")}catch(se){console.error(se)}})}},[d]),te.useEffect(()=>{N.length<=1&&R(!1)},[N]),te.useEffect(()=>{let Q=X=>{var de,se;r.every(be=>X[be]||X.code===be)&&(R(!0),(de=Y.current)==null||de.focus()),X.code==="Escape"&&(document.activeElement===Y.current||(se=Y.current)!=null&&se.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),te.useEffect(()=>{if(Y.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,K.current=!1)}},[Y.current]),te.createElement("section",{ref:e,"aria-label":`${v} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((Q,X)=>{var de;let[se,be]=Q.split("-");return N.length?te.createElement("ol",{key:Q,dir:C==="auto"?Gx():C,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":se,"data-lifted":P&&N.length>1&&!i,"data-x-position":be,style:{"--front-toast-height":`${((de=A[0])==null?void 0:de.height)||0}px`,"--width":`${tP}px`,"--gap":`${y}px`,...m,...oP(c,u)},onBlur:Te=>{K.current&&!Te.currentTarget.contains(Te.relatedTarget)&&(K.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||K.current||(K.current=!0,z.current=Te.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{I||R(!1)},onDragEnd:()=>R(!1),onPointerDown:Te=>{Te.target instanceof HTMLElement&&Te.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},N.filter(Te=>!Te.position&&X===0||Te.position===Q).map((Te,le)=>{var he,ce;return te.createElement(aP,{key:Te.id,icons:g,index:le,toast:Te,defaultRichColors:h,duration:(he=b==null?void 0:b.duration)!=null?he:f,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ce=b==null?void 0:b.closeButton)!=null?ce:a,interacting:I,position:Q,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:D,toasts:N.filter(pe=>pe.position==Te.position),heights:A.filter(pe=>pe.position==Te.position),setHeights:k,expandByDefault:i,gap:y,loadingIcon:p,expanded:P,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});const qE=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ch=x.createContext({}),wh=x.createContext(null),Th=typeof document<"u",Vy=Th?x.useLayoutEffect:x.useEffect,KE=x.createContext({strict:!1}),Fy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cP="framerAppearId",$E="data-"+Fy(cP);function uP(t,e,n,s){const{visualElement:r}=x.useContext(Ch),i=x.useContext(KE),a=x.useContext(wh),o=x.useContext(qE).reducedMotion,c=x.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;x.useInsertionEffect(()=>{u&&u.update(n,a)});const d=x.useRef(!!(n[$E]&&!window.HandoffComplete));return Vy(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Sa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dP(t,e,n){return x.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Sa(n)&&(n.current=s))},[e])}function Bl(t){return typeof t=="string"||Array.isArray(t)}function Ah(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qy=["initial",...Gy];function Eh(t){return Ah(t.animate)||qy.some(e=>Bl(t[e]))}function YE(t){return!!(Eh(t)||t.variants)}function hP(t,e){if(Eh(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Bl(n)?n:void 0,animate:Bl(s)?s:void 0}}return t.inherit!==!1?e:{}}function fP(t){const{initial:e,animate:n}=hP(t,x.useContext(Ch));return x.useMemo(()=>({initial:e,animate:n}),[qx(e),qx(n)])}function qx(t){return Array.isArray(t)?t.join(" "):t}const Kx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zl={};for(const t in Kx)zl[t]={isEnabled:e=>Kx[t].some(n=>!!e[n])};function mP(t){for(const e in t)zl[e]={...zl[e],...t[e]}}const Ky=x.createContext({}),QE=x.createContext({}),gP=Symbol.for("motionComponentSymbol");function pP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&mP(t);function i(o,c){let u;const d={...x.useContext(qE),...o,layoutId:yP(o)},{isStatic:h}=d,f=fP(o),m=s(o,h);if(!h&&Th){f.visualElement=uP(r,m,d,e);const S=x.useContext(QE),b=x.useContext(KE).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,b,t,S))}return x.createElement(Ch.Provider,{value:f},u&&f.visualElement?x.createElement(u,{visualElement:f.visualElement,...d}):null,n(r,o,dP(m,f.visualElement,c),m,h,f.visualElement))}const a=x.forwardRef(i);return a[gP]=r,a}function yP({layoutId:t}){const e=x.useContext(Ky).id;return e&&t!==void 0?e+"-"+t:t}function vP(t){function e(s,r={}){return pP(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const bP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $y(t){return typeof t!="string"||t.includes("-")?!1:!!(bP.indexOf(t)>-1||/[A-Z]/.test(t))}const wd={};function xP(t){Object.assign(wd,t)}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qi=new Set(cc);function XE(t,{layout:e,layoutId:n}){return Qi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wd[t]||t==="opacity")}const kn=t=>!!(t&&t.getVelocity),SP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CP=cc.length;function wP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let i="";for(let a=0;a<CP;a++){const o=cc[a];if(t[o]!==void 0){const c=SP[o]||o;i+=`${c}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(t,s?"":i):n&&s&&(i="none"),i}const JE=t=>e=>typeof e=="string"&&e.startsWith(t),ZE=JE("--"),ag=JE("var(--"),TP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,AP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ni=(t,e,n)=>Math.min(Math.max(n,t),e),Xi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ul={...Xi,transform:t=>ni(0,1,t)},Fc={...Xi,default:1},dl=t=>Math.round(t*1e5)/1e5,Nh=/(-)?([\d]*\.?[\d])+/g,WE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,EP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uc(t){return typeof t=="string"}const dc=t=>({test:e=>uc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wr=dc("deg"),Ps=dc("%"),Ce=dc("px"),NP=dc("vh"),_P=dc("vw"),$x={...Ps,parse:t=>Ps.parse(t)/100,transform:t=>Ps.transform(t*100)},Yx={...Xi,transform:Math.round},eN={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,size:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:Fc,scaleX:Fc,scaleY:Fc,scaleZ:Fc,skew:wr,skewX:wr,skewY:wr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:ul,originX:$x,originY:$x,originZ:Ce,zIndex:Yx,fillOpacity:ul,strokeOpacity:ul,numOctaves:Yx};function Yy(t,e,n,s){const{style:r,vars:i,transform:a,transformOrigin:o}=t;let c=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(ZE(h)){i[h]=f;continue}const m=eN[h],S=AP(f,m);if(Qi.has(h)){if(c=!0,a[h]=S,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,o[h]=S):r[h]=S}if(e.transform||(c||s?r.transform=wP(t.transform,n,d,s):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${h} ${f} ${m}`}}const Qy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tN(t,e,n){for(const s in e)!kn(e[s])&&!XE(s,n)&&(t[s]=e[s])}function RP({transformTemplate:t},e,n){return x.useMemo(()=>{const s=Qy();return Yy(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function kP(t,e,n){const s=t.style||{},r={};return tN(r,s,t),Object.assign(r,RP(t,e,n)),t.transformValues?t.transformValues(r):r}function OP(t,e,n){const s={},r=kP(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const jP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jP.has(t)}let nN=t=>!Td(t);function IP(t){t&&(nN=e=>e.startsWith("on")?!Td(e):t(e))}try{IP(require("@emotion/is-prop-valid").default)}catch{}function MP(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(nN(r)||n===!0&&Td(r)||!e&&!Td(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function Qx(t,e,n){return typeof t=="string"?t:Ce.transform(e+n*t)}function PP(t,e,n){const s=Qx(e,t.x,t.width),r=Qx(n,t.y,t.height);return`${s} ${r}`}const DP={offset:"stroke-dashoffset",array:"stroke-dasharray"},UP={offset:"strokeDashoffset",array:"strokeDasharray"};function LP(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?DP:UP;t[i.offset]=Ce.transform(-s);const a=Ce.transform(e),o=Ce.transform(n);t[i.array]=`${a} ${o}`}function Xy(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h,f){if(Yy(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:S,dimensions:b}=t;m.transform&&(b&&(S.transform=m.transform),delete m.transform),b&&(r!==void 0||i!==void 0||S.transform)&&(S.transformOrigin=PP(b,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&LP(m,a,o,c,!1)}const sN=()=>({...Qy(),attrs:{}}),Jy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HP(t,e,n,s){const r=x.useMemo(()=>{const i=sN();return Xy(i,e,{enableHardwareAcceleration:!1},Jy(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};tN(i,t.style,t),r.style={...i,...r.style}}return r}function BP(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=($y(n)?HP:OP)(s,i,a,n),d={...MP(s,typeof n=="string",t),...c,ref:r},{children:h}=s,f=x.useMemo(()=>kn(h)?h.get():h,[h]);return x.createElement(n,{...d,children:f})}}function rN(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const iN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aN(t,e,n,s){rN(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(iN.has(r)?r:Fy(r),e.attrs[r])}function Zy(t,e){const{style:n}=t,s={};for(const r in n)(kn(n[r])||e.style&&kn(e.style[r])||XE(r,t))&&(s[r]=n[r]);return s}function oN(t,e){const n=Zy(t,e);for(const s in t)if(kn(t[s])||kn(e[s])){const r=cc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function Wy(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function lN(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ad=t=>Array.isArray(t),zP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),VP=t=>Ad(t)?t[t.length-1]||0:t;function bu(t){const e=kn(t)?t.get():t;return zP(e)?e.toValue():e}function FP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,i){const a={latestValues:GP(s,r,i,t),renderState:e()};return n&&(a.mount=o=>n(s,o,a)),a}const cN=t=>(e,n)=>{const s=x.useContext(Ch),r=x.useContext(wh),i=()=>FP(t,e,s,r);return n?i():lN(i)};function GP(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=bu(i[f]);let{initial:a,animate:o}=t;const c=Eh(t),u=YE(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!Ah(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const S=Wy(t,m);if(!S)return;const{transitionEnd:b,transition:C,...y}=S;for(const p in y){let g=y[p];if(Array.isArray(g)){const v=d?g.length-1:0;g=g[v]}g!==null&&(r[p]=g)}for(const p in b)r[p]=b[p]}),r}const vt=t=>t;class Xx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function qP(t){let e=new Xx,n=new Xx,s=0,r=!1,i=!1;const a=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const h=d&&r,f=h?e:n;return u&&a.add(c),f.add(c)&&h&&r&&(s=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let u=0;u<s;u++){const d=e.order[u];d(c),a.has(d)&&(o.schedule(d),t())}r=!1,i&&(i=!1,o.process(c))}};return o}const Gc=["prepare","read","update","preRender","render","postRender"],KP=40;function $P(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=Gc.reduce((h,f)=>(h[f]=qP(()=>n=!0),h),{}),a=h=>i[h].process(r),o=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,KP),1),r.timestamp=h,r.isProcessing=!0,Gc.forEach(a),r.isProcessing=!1,n&&e&&(s=!1,t(o))},c=()=>{n=!0,s=!0,r.isProcessing||t(o)};return{schedule:Gc.reduce((h,f)=>{const m=i[f];return h[f]=(S,b=!1,C=!1)=>(n||c(),m.schedule(S,b,C)),h},{}),cancel:h=>Gc.forEach(f=>i[f].cancel(h)),state:r,steps:i}}const{schedule:We,cancel:fr,state:tn,steps:Af}=$P(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),YP={useVisualState:cN({scrapeMotionValuesFromProps:oN,createRenderState:sN,onMount:(t,e,{renderState:n,latestValues:s})=>{We.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{Xy(n,s,{enableHardwareAcceleration:!1},Jy(e.tagName),t.transformTemplate),aN(e,n)})}})},QP={useVisualState:cN({scrapeMotionValuesFromProps:Zy,createRenderState:Qy})};function XP(t,{forwardMotionProps:e=!1},n,s){return{...$y(t)?YP:QP,preloadedFeatures:n,useRender:BP(e),createVisualElement:s,Component:t}}function tr(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const uN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function _h(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const JP=t=>e=>uN(e)&&t(e,_h(e));function rr(t,e,n,s){return tr(t,e,JP(n),s)}const ZP=(t,e)=>n=>e(t(n)),Xr=(...t)=>t.reduce(ZP);function dN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Jx=dN("dragHorizontal"),Zx=dN("dragVertical");function hN(t){let e=!1;if(t==="y")e=Zx();else if(t==="x")e=Jx();else{const n=Jx(),s=Zx();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function fN(){const t=hN(!0);return t?(t(),!1):!0}class oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Wx(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,a)=>{if(i.pointerType==="touch"||fN())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[s]&&We.update(()=>o[s](i,a))};return rr(t.current,n,r,{passive:!t.getProps()[s]})}class WP extends oi{mount(){this.unmount=Xr(Wx(this.node,!0),Wx(this.node,!1))}unmount(){}}class eD extends oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xr(tr(this.node.current,"focus",()=>this.onFocus()),tr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const mN=(t,e)=>e?t===e?!0:mN(t,e.parentElement):!1;function Ef(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,_h(n))}class tD extends oi{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=rr(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();We.update(()=>{!h&&!mN(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(s.onTap||s.onPointerUp)}),a=rr(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Xr(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Ef("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&We.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=tr(this.node.current,"keyup",a),Ef("down",(o,c)=>{this.startPress(o,c)})},n=tr(this.node.current,"keydown",e),s=()=>{this.isPressing&&Ef("cancel",(i,a)=>this.cancelPress(i,a))},r=tr(this.node.current,"blur",s);this.removeAccessibleListeners=Xr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&We.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&We.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=rr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=tr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const og=new WeakMap,Nf=new WeakMap,nD=t=>{const e=og.get(t.target);e&&e(t)},sD=t=>{t.forEach(nD)};function rD({root:t,...e}){const n=t||document;Nf.has(n)||Nf.set(n,{});const s=Nf.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(sD,{root:t,...e})),s[r]}function iD(t,e,n){const s=rD(e);return og.set(t,n),s.observe(t),()=>{og.delete(t),s.unobserve(t)}}const aD={some:0,all:1};class oD extends oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:aD[r]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return iD(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lD(e,n))&&this.startObserver()}unmount(){}}function lD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cD={inView:{Feature:oD},tap:{Feature:tD},focus:{Feature:eD},hover:{Feature:WP}};function gN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function uD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function dD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Rh(t,e,n){const s=t.getProps();return Wy(s,e,n!==void 0?n:s.custom,uD(t),dD(t))}let ev=vt;const Oi=t=>t*1e3,ir=t=>t/1e3,hD={current:!1},pN=t=>Array.isArray(t)&&typeof t[0]=="number";function yN(t){return!!(!t||typeof t=="string"&&vN[t]||pN(t)||Array.isArray(t)&&t.every(yN))}const zo=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,vN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zo([0,.65,.55,1]),circOut:zo([.55,0,1,.45]),backIn:zo([.31,.01,.66,-.59]),backOut:zo([.33,1.53,.69,.99])};function bN(t){if(t)return pN(t)?zo(t):Array.isArray(t)?t.map(bN):vN[t]}function fD(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:a="loop",ease:o,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=bN(o);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function mD(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const xN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gD=1e-7,pD=12;function yD(t,e,n,s,r){let i,a,o=0;do a=e+(n-e)/2,i=xN(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>gD&&++o<pD);return a}function hc(t,e,n,s){if(t===e&&n===s)return vt;const r=i=>yD(i,0,1,t,n);return i=>i===0||i===1?i:xN(r(i),e,s)}const vD=hc(.42,0,1,1),bD=hc(0,0,.58,1),SN=hc(.42,0,.58,1),xD=t=>Array.isArray(t)&&typeof t[0]!="number",CN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wN=t=>e=>1-t(1-e),tv=t=>1-Math.sin(Math.acos(t)),TN=wN(tv),SD=CN(tv),AN=hc(.33,1.53,.69,.99),nv=wN(AN),CD=CN(nv),wD=t=>(t*=2)<1?.5*nv(t):.5*(2-Math.pow(2,-10*(t-1))),TD={linear:vt,easeIn:vD,easeInOut:SN,easeOut:bD,circIn:tv,circInOut:SD,circOut:TN,backIn:nv,backInOut:CD,backOut:AN,anticipate:wD},e0=t=>{if(Array.isArray(t)){ev(t.length===4);const[e,n,s,r]=t;return hc(e,n,s,r)}else if(typeof t=="string")return TD[t];return t},sv=(t,e)=>n=>!!(uc(n)&&EP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),EN=(t,e,n)=>s=>{if(!uc(s))return s;const[r,i,a,o]=s.match(Nh);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},AD=t=>ni(0,255,t),_f={...Xi,transform:t=>Math.round(AD(t))},Ci={test:sv("rgb","red"),parse:EN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+_f.transform(t)+", "+_f.transform(e)+", "+_f.transform(n)+", "+dl(ul.transform(s))+")"};function ED(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const lg={test:sv("#"),parse:ED,transform:Ci.transform},Ca={test:sv("hsl","hue"),parse:EN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ps.transform(dl(e))+", "+Ps.transform(dl(n))+", "+dl(ul.transform(s))+")"},fn={test:t=>Ci.test(t)||lg.test(t)||Ca.test(t),parse:t=>Ci.test(t)?Ci.parse(t):Ca.test(t)?Ca.parse(t):lg.parse(t),transform:t=>uc(t)?t:t.hasOwnProperty("red")?Ci.transform(t):Ca.transform(t)},ht=(t,e,n)=>-n*t+n*e+t;function Rf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ND({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=Rf(c,o,t+1/3),i=Rf(c,o,t),a=Rf(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const kf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},_D=[lg,Ci,Ca],RD=t=>_D.find(e=>e.test(t));function t0(t){const e=RD(t);let n=e.parse(t);return e===Ca&&(n=ND(n)),n}const NN=(t,e)=>{const n=t0(t),s=t0(e),r={...n};return i=>(r.red=kf(n.red,s.red,i),r.green=kf(n.green,s.green,i),r.blue=kf(n.blue,s.blue,i),r.alpha=ht(n.alpha,s.alpha,i),Ci.transform(r))};function kD(t){var e,n;return isNaN(t)&&uc(t)&&(((e=t.match(Nh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(WE))===null||n===void 0?void 0:n.length)||0)>0}const _N={regex:TP,countKey:"Vars",token:"${v}",parse:vt},RN={regex:WE,countKey:"Colors",token:"${c}",parse:fn.parse},kN={regex:Nh,countKey:"Numbers",token:"${n}",parse:Xi.parse};function Of(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function Ed(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Of(n,_N),Of(n,RN),Of(n,kN),n}function ON(t){return Ed(t).values}function jN(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Ed(t),i=e.length;return a=>{let o=r;for(let c=0;c<i;c++)c<s?o=o.replace(_N.token,a[c]):c<s+n?o=o.replace(RN.token,fn.transform(a[c])):o=o.replace(kN.token,dl(a[c]));return o}}const OD=t=>typeof t=="number"?0:t;function jD(t){const e=ON(t);return jN(t)(e.map(OD))}const si={test:kD,parse:ON,createTransformer:jN,getAnimatableNone:jD},IN=(t,e)=>n=>`${n>0?e:t}`;function MN(t,e){return typeof t=="number"?n=>ht(t,e,n):fn.test(t)?NN(t,e):t.startsWith("var(")?IN(t,e):DN(t,e)}const PN=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,a)=>MN(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},ID=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=MN(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},DN=(t,e)=>{const n=si.createTransformer(e),s=Ed(t),r=Ed(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Xr(PN(s.values,r.values),n):IN(t,e)},Vl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},n0=(t,e)=>n=>ht(t,e,n);function MD(t){return typeof t=="number"?n0:typeof t=="string"?fn.test(t)?NN:DN:Array.isArray(t)?PN:typeof t=="object"?ID:n0}function PD(t,e,n){const s=[],r=n||MD(t[0]),i=t.length-1;for(let a=0;a<i;a++){let o=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||vt:e;o=Xr(c,o)}s.push(o)}return s}function UN(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(ev(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=PD(e,s,r),o=a.length,c=u=>{let d=0;if(o>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Vl(t[d],t[d+1],u);return a[d](h)};return n?u=>c(ni(t[0],t[i-1],u)):c}function DD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Vl(0,e,s);t.push(ht(n,1,r))}}function UD(t){const e=[0];return DD(e,t.length-1),e}function LD(t,e){return t.map(n=>n*e)}function HD(t,e){return t.map(()=>e||SN).splice(0,t.length-1)}function Nd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=xD(s)?s.map(e0):e0(s),i={done:!1,value:e[0]},a=LD(n&&n.length===e.length?n:UD(e),t),o=UN(a,e,{ease:Array.isArray(r)?r:HD(e,r)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}function LN(t,e){return e?t*(1e3/e):0}const BD=5;function HN(t,e,n){const s=Math.max(e-BD,0);return LN(n-t(s),e-s)}const jf=.001,zD=.01,VD=10,FD=.05,GD=1;function qD({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,a=1-e;a=ni(FD,GD,a),t=ni(zD,VD,ir(t)),a<1?(r=u=>{const d=u*a,h=d*t,f=d-n,m=cg(u,a),S=Math.exp(-h);return jf-f/m*S},i=u=>{const h=u*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,S=Math.exp(-h),b=cg(Math.pow(u,2),a);return(-r(u)+jf>0?-1:1)*((f-m)*S)/b}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-jf+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const o=5/t,c=$D(r,i,o);if(t=Oi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const KD=12;function $D(t,e,n){let s=n;for(let r=1;r<KD;r++)s=s-t(s)/e(s);return s}function cg(t,e){return t*Math.sqrt(1-e*e)}const YD=["duration","bounce"],QD=["stiffness","damping","mass"];function s0(t,e){return e.some(n=>t[n]!==void 0)}function XD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!s0(t,QD)&&s0(t,YD)){const n=qD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function BN({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],a={done:!1,value:r},{stiffness:o,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=XD({...s,velocity:-ir(s.velocity||0)}),m=h||0,S=c/(2*Math.sqrt(o*u)),b=i-r,C=ir(Math.sqrt(o/u)),y=Math.abs(b)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(S<1){const g=cg(C,S);p=v=>{const w=Math.exp(-S*C*v);return i-w*((m+S*C*b)/g*Math.sin(g*v)+b*Math.cos(g*v))}}else if(S===1)p=g=>i-Math.exp(-C*g)*(b+(m+C*b)*g);else{const g=C*Math.sqrt(S*S-1);p=v=>{const w=Math.exp(-S*C*v),N=Math.min(g*v,300);return i-w*((m+S*C*b)*Math.sinh(N)+g*b*Math.cosh(N))/g}}return{calculatedDuration:f&&d||null,next:g=>{const v=p(g);if(f)a.done=g>=d;else{let w=m;g!==0&&(S<1?w=HN(p,g,v):w=0);const N=Math.abs(w)<=n,T=Math.abs(i-v)<=e;a.done=N&&T}return a.value=a.done?i:v,a}}}function r0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=_=>o!==void 0&&_<o||c!==void 0&&_>c,S=_=>o===void 0?c:c===void 0||Math.abs(o-_)<Math.abs(c-_)?o:c;let b=n*e;const C=h+b,y=a===void 0?C:a(C);y!==C&&(b=y-h);const p=_=>-b*Math.exp(-_/s),g=_=>y+p(_),v=_=>{const A=p(_),k=g(_);f.done=Math.abs(A)<=u,f.value=f.done?y:k};let w,N;const T=_=>{m(f.value)&&(w=_,N=BN({keyframes:[f.value,S(f.value)],velocity:HN(g,_,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:_=>{let A=!1;return!N&&w===void 0&&(A=!0,v(_),T(_)),w!==void 0&&_>w?N.next(_-w):(!A&&v(_),f)}}}const JD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>fr(e),now:()=>tn.isProcessing?tn.timestamp:performance.now()}},i0=2e4;function a0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<i0;)e+=n,s=t.next(e);return e>=i0?1/0:e}const ZD={decay:r0,inertia:r0,tween:Nd,keyframes:Nd,spring:BN};function _d({autoplay:t=!0,delay:e=0,driver:n=JD,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,S=!1,b,C;const y=()=>{C=new Promise(D=>{b=D})};y();let p;const g=ZD[r]||Nd;let v;g!==Nd&&typeof s[0]!="number"&&(v=UN([0,100],s,{clamp:!1}),s=[0,100]);const w=g({...f,keyframes:s});let N;o==="mirror"&&(N=g({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let T="idle",_=null,A=null,k=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=a0(w));const{calculatedDuration:P}=w;let R=1/0,I=1/0;P!==null&&(R=P+a,I=R*(i+1)-a);let B=0;const G=D=>{if(A===null)return;m>0&&(A=Math.min(A,D)),m<0&&(A=Math.min(D-I/m,A)),_!==null?B=_:B=Math.round(D-A)*m;const Q=B-e*(m>=0?1:-1),X=m>=0?Q<0:Q>I;B=Math.max(Q,0),T==="finished"&&_===null&&(B=I);let de=B,se=w;if(i){const he=Math.min(B,I)/R;let ce=Math.floor(he),pe=he%1;!pe&&he>=1&&(pe=1),pe===1&&ce--,ce=Math.min(ce,i+1),!!(ce%2)&&(o==="reverse"?(pe=1-pe,a&&(pe-=a/R)):o==="mirror"&&(se=N)),de=ni(0,1,pe)*R}const be=X?{done:!1,value:s[0]}:se.next(de);v&&(be.value=v(be.value));let{done:Te}=be;!X&&P!==null&&(Te=m>=0?B>=I:B<=0);const le=_===null&&(T==="finished"||T==="running"&&Te);return h&&h(be.value),le&&Z(),be},M=()=>{p&&p.stop(),p=void 0},Y=()=>{T="idle",M(),b(),y(),A=k=null},Z=()=>{T="finished",d&&d(),M(),b()},z=()=>{if(S)return;p||(p=n(G));const D=p.now();c&&c(),_!==null?A=D-_:(!A||T==="finished")&&(A=D),T==="finished"&&y(),k=A,_=null,T="running",p.start()};t&&z();const K={then(D,Q){return C.then(D,Q)},get time(){return ir(B)},set time(D){D=Oi(D),B=D,_!==null||!p||m===0?_=D:A=p.now()-D/m},get duration(){const D=w.calculatedDuration===null?a0(w):w.calculatedDuration;return ir(D)},get speed(){return m},set speed(D){D===m||!p||(m=D,K.time=ir(B))},get state(){return T},play:z,pause:()=>{T="paused",_=B},stop:()=>{S=!0,T!=="idle"&&(T="idle",u&&u(),Y())},cancel:()=>{k!==null&&G(k),Y()},complete:()=>{T="finished"},sample:D=>(A=0,G(D))};return K}function WD(t){let e;return()=>(e===void 0&&(e=t()),e)}const eU=WD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tU=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),qc=10,nU=2e4,sU=(t,e)=>e.type==="spring"||t==="backgroundColor"||!yN(e.ease);function rU(t,e,{onUpdate:n,onComplete:s,...r}){if(!(eU()&&tU.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,o,c,u=!1;const d=()=>{c=new Promise(g=>{o=g})};d();let{keyframes:h,duration:f=300,ease:m,times:S}=r;if(sU(e,r)){const g=_d({...r,repeat:0,delay:0});let v={done:!1,value:h[0]};const w=[];let N=0;for(;!v.done&&N<nU;)v=g.sample(N),w.push(v.value),N+=qc;S=void 0,h=w,f=N-qc,m="linear"}const b=fD(t.owner.current,e,h,{...r,duration:f,ease:m,times:S}),C=()=>{u=!1,b.cancel()},y=()=>{u=!0,We.update(C),o(),d()};return b.onfinish=()=>{u||(t.set(mD(h,r)),s&&s(),y())},{then(g,v){return c.then(g,v)},attachTimeline(g){return b.timeline=g,b.onfinish=null,vt},get time(){return ir(b.currentTime||0)},set time(g){b.currentTime=Oi(g)},get speed(){return b.playbackRate},set speed(g){b.playbackRate=g},get duration(){return ir(f)},play:()=>{a||(b.play(),fr(C))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:g}=b;if(g){const v=_d({...r,autoplay:!1});t.setWithVelocity(v.sample(g-qc).value,v.sample(g).value,qc)}y()},complete:()=>{u||b.finish()},cancel:y}}function iU({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:i=>(i(),Promise.resolve()),cancel:vt,complete:vt});return e?_d({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const aU={type:"spring",stiffness:500,damping:25,restSpeed:10},oU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lU={type:"keyframes",duration:.8},cU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uU=(t,{keyframes:e})=>e.length>2?lU:Qi.has(t)?t.startsWith("scale")?oU(e[1]):aU:cU,ug=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(si.test(e)||e==="0")&&!e.startsWith("url(")),dU=new Set(["brightness","contrast","saturate","opacity"]);function hU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Nh)||[];if(!s)return t;const r=n.replace(s,"");let i=dU.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const fU=/([a-z-]*)\(.*?\)/g,dg={...si,getAnimatableNone:t=>{const e=t.match(fU);return e?e.map(hU).join(" "):t}},mU={...eN,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:dg,WebkitFilter:dg},rv=t=>mU[t];function zN(t,e){let n=rv(t);return n!==dg&&(n=si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VN=t=>/^0[^.\s]+$/.test(t);function gU(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||VN(t)}function pU(t,e,n,s){const r=ug(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=s.from!==void 0?s.from:t.get();let o;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),gU(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(r&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];i[d]=zN(e,o)}return i}function yU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function iv(t,e){return t[e]||t.default||t}const vU={skipAnimations:!1},av=(t,e,n,s={})=>r=>{const i=iv(s,t)||{},a=i.delay||s.delay||0;let{elapsed:o=0}=s;o=o-Oi(a);const c=pU(e,t,n,i),u=c[0],d=c[c.length-1],h=ug(t,u),f=ug(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:S=>{e.set(S),i.onUpdate&&i.onUpdate(S)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(yU(i)||(m={...m,...uU(t,m)}),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),!h||!f||hD.current||i.type===!1||vU.skipAnimations)return iU(m);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=rU(e,t,m);if(S)return S}return _d(m)};function Rd(t){return!!(kn(t)&&t.add)}const FN=t=>/^\-?\d*\.?\d+$/.test(t);function ov(t,e){t.indexOf(e)===-1&&t.push(e)}function lv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cv{constructor(){this.subscriptions=[]}add(e){return ov(this.subscriptions,e),()=>lv(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bU=t=>!isNaN(parseFloat(t));class xU{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:a}=tn;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,We.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>We.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=bU(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new cv);const s=this.events[e].add(n);return e==="change"?()=>{s(),We.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?LN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xa(t,e){return new xU(t,e)}const GN=t=>e=>e.test(t),SU={test:t=>t==="auto",parse:t=>t},qN=[Xi,Ce,Ps,wr,_P,NP,SU],Eo=t=>qN.find(GN(t)),CU=[...qN,fn,si],wU=t=>CU.find(GN(t));function TU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xa(n))}function AU(t,e){const n=Rh(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const a in i){const o=VP(i[a]);TU(t,a,o)}}function EU(t,e,n){var s,r;const i=Object.keys(e).filter(o=>!t.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const c=i[o],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&r!==void 0?r:e[c]),d!=null&&(typeof d=="string"&&(FN(d)||VN(d))?d=parseFloat(d):!wU(d)&&si.test(u)&&(d=zN(c,u)),t.addValue(c,Xa(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function NU(t,e){return e?(e[t]||e.default||e).from:void 0}function _U(t,e,n){const s={};for(const r in t){const i=NU(r,e);if(i!==void 0)s[r]=i;else{const a=n.getValue(r);a&&(s[r]=a.get())}}return s}function RU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function kU(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function KN(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(i=s);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in o){const f=t.getValue(h),m=o[h];if(!f||m===void 0||d&&RU(d,h))continue;const S={delay:n,elapsed:0,...iv(i||{},h)};if(window.HandoffAppearAnimations){const y=t.getProps()[$E];if(y){const p=window.HandoffAppearAnimations(y,h,f,We);p!==null&&(S.elapsed=p,S.isHandoff=!0)}}let b=!S.isHandoff&&!kU(f,m);if(S.type==="spring"&&(f.getVelocity()||S.velocity)&&(b=!1),f.animation&&(b=!1),b)continue;f.start(av(h,f,m,t.shouldReduceMotion&&Qi.has(h)?{type:!1}:S));const C=f.animation;Rd(c)&&(c.add(h),C.then(()=>c.remove(h))),u.push(C)}return a&&Promise.all(u).then(()=>{a&&AU(t,a)}),u}function hg(t,e,n={}){const s=Rh(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(KN(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return OU(t,e,u+c,d,h,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[c,u]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function OU(t,e,n=0,s=0,r=1,i){const a=[],o=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>o-u*s;return Array.from(t.variantChildren).sort(jU).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(hg(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function jU(t,e){return t.sortNodePosition(e)}function IU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>hg(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=hg(t,e,n);else{const r=typeof e=="function"?Rh(t,e,n.custom):e;s=Promise.all(KN(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const MU=[...Gy].reverse(),PU=Gy.length;function DU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>IU(t,n,s)))}function UU(t){let e=DU(t);const n=HU();let s=!0;const r=(c,u)=>{const d=Rh(t,u);if(d){const{transition:h,transitionEnd:f,...m}=d;c={...c,...m,...f}}return c};function i(c){e=c(t)}function a(c,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let S={},b=1/0;for(let y=0;y<PU;y++){const p=MU[y],g=n[p],v=d[p]!==void 0?d[p]:h[p],w=Bl(v),N=p===u?g.isActive:null;N===!1&&(b=y);let T=v===h[p]&&v!==d[p]&&w;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...S},!g.isActive&&N===null||!v&&!g.prevProp||Ah(v)||typeof v=="boolean")continue;let A=LU(g.prevProp,v)||p===u&&g.isActive&&!T&&w||y>b&&w,k=!1;const P=Array.isArray(v)?v:[v];let R=P.reduce(r,{});N===!1&&(R={});const{prevResolvedValues:I={}}=g,B={...I,...R},G=M=>{A=!0,m.has(M)&&(k=!0,m.delete(M)),g.needsAnimating[M]=!0};for(const M in B){const Y=R[M],Z=I[M];if(S.hasOwnProperty(M))continue;let z=!1;Ad(Y)&&Ad(Z)?z=!gN(Y,Z):z=Y!==Z,z?Y!==void 0?G(M):m.add(M):Y!==void 0&&m.has(M)?G(M):g.protectedKeys[M]=!0}g.prevProp=v,g.prevResolvedValues=R,g.isActive&&(S={...S,...R}),s&&t.blockInitialAnimation&&(A=!1),A&&(!T||k)&&f.push(...P.map(M=>({animation:M,options:{type:p,...c}})))}if(m.size){const y={};m.forEach(p=>{const g=t.getBaseTarget(p);g!==void 0&&(y[p]=g)}),f.push({animation:y})}let C=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(f):Promise.resolve()}function o(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var S;return(S=m.animationState)===null||S===void 0?void 0:S.setActive(c,u)}),n[c].isActive=u;const f=a(d,c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n}}function LU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gN(e,t):!1}function di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HU(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class BU extends oi{constructor(e){super(e),e.animationState||(e.animationState=UU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ah(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let zU=0;class VU extends oi{constructor(){super(...arguments),this.id=zU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const FU={animation:{Feature:BU},exit:{Feature:VU}},o0=(t,e)=>Math.abs(t-e);function GU(t,e){const n=o0(t.x,e.x),s=o0(t.y,e.y);return Math.sqrt(n**2+s**2)}class $N{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=GU(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:S}=h,{timestamp:b}=tn;this.history.push({...S,timestamp:b});const{onStart:C,onMove:y}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=If(f,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Mf(h.type==="pointercancel"?this.lastMoveEventInfo:If(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,C),S&&S(h,C)},!uN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=_h(e),o=If(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=tn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Mf(o,this.history)),this.removeListeners=Xr(rr(this.contextWindow,"pointermove",this.handlePointerMove),rr(this.contextWindow,"pointerup",this.handlePointerUp),rr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fr(this.updatePoint)}}function If(t,e){return e?{point:e(t.point)}:t}function l0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mf({point:t},e){return{point:t,delta:l0(t,YN(e)),offset:l0(t,qU(e)),velocity:KU(e,.1)}}function qU(t){return t[0]}function YN(t){return t[t.length-1]}function KU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=YN(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Oi(e)));)n--;if(!s)return{x:0,y:0};const i=ir(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Kn(t){return t.max-t.min}function fg(t,e=0,n=.01){return Math.abs(t-e)<=n}function c0(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=Kn(n)/Kn(e),(fg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(fg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function hl(t,e,n,s){c0(t.x,e.x,n.x,s?s.originX:void 0),c0(t.y,e.y,n.y,s?s.originY:void 0)}function u0(t,e,n){t.min=n.min+e.min,t.max=t.min+Kn(e)}function $U(t,e,n){u0(t.x,e.x,n.x),u0(t.y,e.y,n.y)}function d0(t,e,n){t.min=e.min-n.min,t.max=t.min+Kn(e)}function fl(t,e,n){d0(t.x,e.x,n.x),d0(t.y,e.y,n.y)}function YU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function h0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QU(t,{top:e,left:n,bottom:s,right:r}){return{x:h0(t.x,n,r),y:h0(t.y,e,s)}}function f0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function XU(t,e){return{x:f0(t.x,e.x),y:f0(t.y,e.y)}}function JU(t,e){let n=.5;const s=Kn(t),r=Kn(e);return r>s?n=Vl(e.min,e.max-s,t.min):s>r&&(n=Vl(t.min,t.max-r,e.min)),ni(0,1,n)}function ZU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mg=.35;function WU(t=mg){return t===!1?t=0:t===!0&&(t=mg),{x:m0(t,"left","right"),y:m0(t,"top","bottom")}}function m0(t,e,n){return{min:g0(t,e),max:g0(t,n)}}function g0(t,e){return typeof t=="number"?t:t[e]||0}const p0=()=>({translate:0,scale:1,origin:0,originPoint:0}),wa=()=>({x:p0(),y:p0()}),y0=()=>({min:0,max:0}),Tt=()=>({x:y0(),y:y0()});function Xn(t){return[t("x"),t("y")]}function QN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function eL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Pf(t){return t===void 0||t===1}function gg({scale:t,scaleX:e,scaleY:n}){return!Pf(t)||!Pf(e)||!Pf(n)}function pi(t){return gg(t)||XN(t)||t.z||t.rotate||t.rotateX||t.rotateY}function XN(t){return v0(t.x)||v0(t.y)}function v0(t){return t&&t!=="0%"}function kd(t,e,n){const s=t-n,r=e*s;return n+r}function b0(t,e,n,s,r){return r!==void 0&&(t=kd(t,r,s)),kd(t,n,s)+e}function pg(t,e=0,n=1,s,r){t.min=b0(t.min,e,n,s,r),t.max=b0(t.max,e,n,s,r)}function JN(t,{x:e,y:n}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,n.translate,n.scale,n.originPoint)}function nL(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let o=0;o<r;o++){i=n[o],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ta(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,JN(t,a)),s&&pi(i.latestValues)&&Ta(t,i.latestValues))}e.x=x0(e.x),e.y=x0(e.y)}function x0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Er(t,e){t.min=t.min+e,t.max=t.max+e}function S0(t,e,[n,s,r]){const i=e[r]!==void 0?e[r]:.5,a=ht(t.min,t.max,i);pg(t,e[n],e[s],a,e.scale)}const sL=["x","scaleX","originX"],rL=["y","scaleY","originY"];function Ta(t,e){S0(t.x,e,sL),S0(t.y,e,rL)}function ZN(t,e){return QN(tL(t.getBoundingClientRect(),e))}function iL(t,e,n){const s=ZN(t,n),{scroll:r}=e;return r&&(Er(s.x,r.offset.x),Er(s.y,r.offset.y)),s}const WN=({current:t})=>t?t.ownerDocument.defaultView:null,aL=new WeakMap;class oL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_h(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:S}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hN(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(C=>{let y=this.getAxisMotionValue(C).get()||0;if(Ps.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[C];g&&(y=Kn(g)*(parseFloat(y)/100))}}this.originPoint[C]=y}),S&&We.update(()=>S(d,h),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:S,onDrag:b}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:C}=h;if(m&&this.currentDirection===null){this.currentDirection=lL(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),b&&b(d,h)},o=(d,h)=>this.stop(d,h),c=()=>Xn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new $N(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:WN(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&We.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Kc(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=YU(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Sa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=QU(r.layoutBox,n):this.constraints=!1,this.elastic=WU(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Xn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=ZU(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Sa(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=iL(s,r.root,this.visualElement.getTransformPagePoint());let a=XU(r.layout.layoutBox,i);if(n){const o=n(eL(a));this.hasMutatedConstraints=!!o,o&&(a=QN(o))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Xn(d=>{if(!Kc(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,S={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,S)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(av(e,s,0,n))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Xn(n=>{const{drag:s}=this.getProps();if(!Kc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];i.set(e[n]-ht(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Sa(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Xn(a=>{const o=this.getAxisMotionValue(a);if(o){const c=o.get();r[a]=JU({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Xn(a=>{if(!Kc(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(ht(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;aL.set(this.visualElement,this);const e=this.visualElement.current,n=rr(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Sa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const a=tr(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=mg,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Kc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function lL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class cL extends oi{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new oL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const C0=t=>(e,n)=>{t&&We.update(()=>t(e,n))};class uL extends oi{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new $N(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:C0(e),onStart:C0(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&We.update(()=>r(i,a))}}}mount(){this.removePointerDownListener=rr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dL(){const t=x.useContext(wh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=x.useId();return x.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function w0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const No={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=w0(t,e.target.x),s=w0(t,e.target.y);return`${n}% ${s}%`}},hL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=si.parse(t);if(r.length>5)return s;const i=si.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=c;const u=ht(o,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class fL extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;xP(mL),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||We.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function e_(t){const[e,n]=dL(),s=x.useContext(Ky);return te.createElement(fL,{...t,layoutGroup:s,switchLayoutGroup:x.useContext(QE),isPresent:e,safeToRemove:n})}const mL={borderRadius:{...No,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:No,borderTopRightRadius:No,borderBottomLeftRadius:No,borderBottomRightRadius:No,boxShadow:hL},t_=["TopLeft","TopRight","BottomLeft","BottomRight"],gL=t_.length,T0=t=>typeof t=="string"?parseFloat(t):t,A0=t=>typeof t=="number"||Ce.test(t);function pL(t,e,n,s,r,i){r?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,yL(s)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,vL(s))):i&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<gL;a++){const o=`border${t_[a]}Radius`;let c=E0(e,o),u=E0(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||A0(c)===A0(u)?(t[o]=Math.max(ht(T0(c),T0(u),s),0),(Ps.test(u)||Ps.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function E0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yL=n_(0,.5,TN),vL=n_(.5,.95,vt);function n_(t,e,n){return s=>s<t?0:s>e?1:n(Vl(t,e,s))}function N0(t,e){t.min=e.min,t.max=e.max}function Qn(t,e){N0(t.x,e.x),N0(t.y,e.y)}function _0(t,e,n,s,r){return t-=e,t=kd(t,1/n,s),r!==void 0&&(t=kd(t,1/r,s)),t}function bL(t,e=0,n=1,s=.5,r,i=t,a=t){if(Ps.test(e)&&(e=parseFloat(e),e=ht(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ht(i.min,i.max,s);t===i&&(o-=e),t.min=_0(t.min,e,n,o,r),t.max=_0(t.max,e,n,o,r)}function R0(t,e,[n,s,r],i,a){bL(t,e[n],e[s],e[r],e.scale,i,a)}const xL=["x","scaleX","originX"],SL=["y","scaleY","originY"];function k0(t,e,n,s){R0(t.x,e,xL,n?n.x:void 0,s?s.x:void 0),R0(t.y,e,SL,n?n.y:void 0,s?s.y:void 0)}function O0(t){return t.translate===0&&t.scale===1}function s_(t){return O0(t.x)&&O0(t.y)}function CL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function r_(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function j0(t){return Kn(t.x)/Kn(t.y)}class wL{constructor(){this.members=[]}add(e){ov(this.members,e),e.scheduleRender()}remove(e){if(lv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function I0(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(s+=`scale(${a}, ${o})`),s||"none"}const TL=(t,e)=>t.depth-e.depth;class AL{constructor(){this.children=[],this.isDirty=!1}add(e){ov(this.children,e),this.isDirty=!0}remove(e){lv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(TL),this.isDirty=!1,this.children.forEach(e)}}function EL(t,e){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(fr(s),t(i-e))};return We.read(s,!0),()=>fr(s)}function NL(t){window.MotionDebug&&window.MotionDebug.record(t)}function _L(t){return t instanceof SVGElement&&t.tagName!=="svg"}function RL(t,e,n){const s=kn(t)?t:Xa(t);return s.start(av("",s,e,n)),s.animation}const M0=["","X","Y","Z"],kL={visibility:"hidden"},P0=1e3;let OL=0;const yi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function i_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=OL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yi.totalNodes=yi.resolvedTargetDeltas=yi.recalculatedProjection=0,this.nodes.forEach(ML),this.nodes.forEach(HL),this.nodes.forEach(BL),this.nodes.forEach(PL),NL(yi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new AL)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new cv),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_L(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=EL(f,250),xu.hasAnimatedSinceResize&&(xu.hasAnimatedSinceResize=!1,this.nodes.forEach(U0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||qL,{onLayoutAnimationStart:C,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!r_(this.targetLayout,S)||m,g=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const v={...iv(b,"layout"),onPlay:C,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||U0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D0);return}this.isUpdating||this.nodes.forEach(UL),this.isUpdating=!1,this.nodes.forEach(LL),this.nodes.forEach(jL),this.nodes.forEach(IL),this.clearAllSnapshots();const o=performance.now();tn.delta=ni(0,1e3/60,o-tn.timestamp),tn.timestamp=o,tn.isProcessing=!0,Af.update.process(tn),Af.preRender.process(tn),Af.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(DL),this.sharedNodes.forEach(VL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!s_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||pi(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),KL(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Tt();const o=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Er(o.x,c.offset.x),Er(o.y,c.offset.y)),o}removeElementScroll(a){const o=Tt();Qn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Qn(o,a);const{scroll:f}=this.root;f&&(Er(o.x,-f.offset.x),Er(o.y,-f.offset.y))}Er(o.x,d.offset.x),Er(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const c=Tt();Qn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ta(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pi(d.latestValues)&&Ta(c,d.latestValues)}return pi(this.latestValues)&&Ta(c,this.latestValues),c}removeTransform(a){const o=Tt();Qn(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pi(u.latestValues))continue;gg(u.latestValues)&&u.updateSnapshot();const d=Tt(),h=u.measurePageBox();Qn(d,h),k0(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pi(this.latestValues)&&k0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),fl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$U(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),JN(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),fl(this.relativeTargetOrigin,this.target,m.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||XN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Qn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;nL(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:S}=o;if(!S){this.projectionTransform&&(this.projectionDelta=wa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wa(),this.projectionDeltaWithTransform=wa());const b=this.projectionTransform;hl(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=I0(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),yi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=wa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Tt(),m=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=m!==S,C=this.getStack(),y=!C||C.members.length<=1,p=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(GL));this.animationProgress=0;let g;this.mixTargetDelta=v=>{const w=v/1e3;L0(h.x,a.x,w),L0(h.y,a.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FL(this.relativeTarget,this.relativeTargetOrigin,f,w),g&&CL(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Tt()),Qn(g,this.relativeTarget)),b&&(this.animationValues=d,pL(d,u,this.latestValues,w,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{xu.hasAnimatedSinceResize=!0,this.currentAnimation=RL(0,P0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&a_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Tt();const h=Kn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Kn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Qn(o,c),Ta(o,d),hl(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wL),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<M0.length;d++){const h="rotate"+M0[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kL;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=bu(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=bu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pi(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=I0(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:S}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in wd){if(f[b]===void 0)continue;const{correct:C,applyTo:y}=wd[b],p=u.transform==="none"?f[b]:C(f[b],h);if(y){const g=y.length;for(let v=0;v<g;v++)u[y[v]]=p}else u[b]=p}return this.options.layoutId&&(u.pointerEvents=h===this?bu(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(D0),this.root.sharedNodes.clear()}}}function jL(t){t.updateLayout()}function IL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Xn(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Kn(f);f.min=s[h].min,f.max=f.min+m}):a_(i,n.layoutBox,s)&&Xn(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Kn(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=wa();hl(o,s,n.layoutBox);const c=wa();a?hl(c,t.applyTransform(r,!0),n.measuredBox):hl(c,s,n.layoutBox);const u=!s_(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const S=Tt();fl(S,n.layoutBox,f.layoutBox);const b=Tt();fl(b,s,m.layoutBox),r_(S,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function ML(t){yi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DL(t){t.clearSnapshot()}function D0(t){t.clearMeasurements()}function UL(t){t.isLayoutDirty=!1}function LL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function U0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HL(t){t.resolveTargetDelta()}function BL(t){t.calcProjection()}function zL(t){t.resetRotation()}function VL(t){t.removeLeadSnapshot()}function L0(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function H0(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function FL(t,e,n,s){H0(t.x,e.x,n.x,s),H0(t.y,e.y,n.y,s)}function GL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const qL={duration:.45,ease:[.4,0,.1,1]},B0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),z0=B0("applewebkit/")&&!B0("chrome/")?Math.round:vt;function V0(t){t.min=z0(t.min),t.max=z0(t.max)}function KL(t){V0(t.x),V0(t.y)}function a_(t,e,n){return t==="position"||t==="preserve-aspect"&&!fg(j0(e),j0(n),.2)}const $L=i_({attachResizeListener:(t,e)=>tr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Df={current:void 0},o_=i_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Df.current){const t=new $L({});t.mount(window),t.setOptions({layoutScroll:!0}),Df.current=t}return Df.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YL={pan:{Feature:uL},drag:{Feature:cL,ProjectionNode:o_,MeasureLayout:e_}},QL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XL(t){const e=QL.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function yg(t,e,n=1){const[s,r]=XL(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return FN(a)?parseFloat(a):a}else return ag(r)?yg(r,e,n+1):r}function JL(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!ag(i))return;const a=yg(i,s);a&&r.set(a)});for(const r in e){const i=e[r];if(!ag(i))continue;const a=yg(i,s);a&&(e[r]=a,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const ZL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),l_=t=>ZL.has(t),WL=t=>Object.keys(t).some(l_),F0=t=>t===Xi||t===Ce,G0=(t,e)=>parseFloat(t.split(", ")[e]),q0=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return G0(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?G0(i[1],t):0}},eH=new Set(["x","y","z"]),tH=cc.filter(t=>!eH.has(t));function nH(t){const e=[];return tH.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ja={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:q0(4,13),y:q0(5,14)};Ja.translateX=Ja.x;Ja.translateY=Ja.y;const sH=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:a}=i,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Ja[u](s,i)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(o[u]),t[u]=Ja[u](c,i)}),t},rH=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(l_);let i=[],a=!1;const o=[];if(r.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],h=Eo(d);const f=e[c];let m;if(Ad(f)){const S=f.length,b=f[0]===null?1:0;d=f[b],h=Eo(d);for(let C=b;C<S&&f[C]!==null;C++)m?ev(Eo(f[C])===m):m=Eo(f[C])}else m=Eo(f);if(h!==m)if(F0(h)&&F0(m)){const S=u.get();typeof S=="string"&&u.set(parseFloat(S)),typeof f=="string"?e[c]=parseFloat(f):Array.isArray(f)&&m===Ce&&(e[c]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):e[c]=h.transform(f):(a||(i=nH(t),a=!0),o.push(c),s[c]=s[c]!==void 0?s[c]:e[c],u.jump(f))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=sH(e,t,o);return i.length&&i.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Th&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:e,transitionEnd:s}};function iH(t,e,n,s){return WL(e)?rH(t,e,n,s):{target:e,transitionEnd:s}}const aH=(t,e,n,s)=>{const r=JL(t,e,s);return e=r.target,s=r.transitionEnd,iH(t,e,n,s)},vg={current:null},c_={current:!1};function oH(){if(c_.current=!0,!!Th)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vg.current=t.matches;t.addListener(e),e()}else vg.current=!1}function lH(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],a=n[r];if(kn(i))t.addValue(r,i),Rd(s)&&s.add(r);else if(kn(a))t.addValue(r,Xa(i,{owner:t})),Rd(s)&&s.remove(r);else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Xa(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const K0=new WeakMap,u_=Object.keys(zl),cH=u_.length,$0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uH=qy.length;class dH{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>We.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=Eh(n),this.isVariantNode=YE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];o[h]!==void 0&&kn(f)&&(f.set(o[h],!1),Rd(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,K0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),c_.current||oH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K0.delete(this.current),this.projection&&this.projection.unmount(),fr(this.notifyUpdate),fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Qi.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&We.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let a,o;for(let c=0;c<cH;c++){const u=u_[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=zl[u];f&&(a=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Sa(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$0.length;s++){const r=$0[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=lH(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<uH;s++){const r=qy[s],i=this.props[r];(Bl(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Xa(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Wy(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!kn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class d_ extends dH{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let a=_U(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),a&&(a=r(a))),i){EU(this,s,a);const o=aH(this,s,a,n);n=o.transitionEnd,s=o.target}return{transition:e,transitionEnd:n,...s}}}function hH(t){return window.getComputedStyle(t)}class fH extends d_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Qi.has(n)){const s=rv(n);return s&&s.default||0}else{const s=hH(e),r=(ZE(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZN(e,n)}build(e,n,s,r){Yy(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Zy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){rN(e,n,s,r)}}class mH extends d_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Qi.has(n)){const s=rv(n);return s&&s.default||0}return n=iN.has(n)?n:Fy(n),e.getAttribute(n)}measureInstanceViewportBox(){return Tt()}scrapeMotionValuesFromProps(e,n){return oN(e,n)}build(e,n,s,r){Xy(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){aN(e,n,s,r)}mount(e){this.isSVGTag=Jy(e.tagName),super.mount(e)}}const gH=(t,e)=>$y(t)?new mH(e,{enableHardwareAcceleration:!1}):new fH(e,{enableHardwareAcceleration:!0}),pH={layout:{ProjectionNode:o_,MeasureLayout:e_}},yH={...FU,...cD,...YL,...pH},It=vP((t,e)=>XP(t,e,yH,gH));function h_(){const t=x.useRef(!1);return Vy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function vH(){const t=h_(),[e,n]=x.useState(0),s=x.useCallback(()=>{t.current&&n(e+1)},[e]);return[x.useCallback(()=>We.postRender(s),[s]),e]}class bH extends x.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function xH({children:t,isPresent:e}){const n=x.useId(),s=x.useRef(null),r=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:c}=r.current;if(e||!s.current||!i||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),x.createElement(bH,{isPresent:e,childRef:s,sizeRef:r},x.cloneElement(t,{ref:s}))}const Uf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const o=lN(SH),c=x.useId(),u=x.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;s&&s()},register:d=>(o.set(d,!1),()=>o.delete(d))}),i?void 0:[n]);return x.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),x.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),a==="popLayout"&&(t=x.createElement(xH,{isPresent:n},t)),x.createElement(wh.Provider,{value:u},t)};function SH(){return new Map}function CH(t){return x.useEffect(()=>()=>t(),[])}const vi=t=>t.key||"";function wH(t,e){t.forEach(n=>{const s=vi(n);e.set(s,n)})}function TH(t){const e=[];return x.Children.forEach(t,n=>{x.isValidElement(n)&&e.push(n)}),e}const AH=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=x.useContext(Ky).forceRender||vH()[0],c=h_(),u=TH(t);let d=u;const h=x.useRef(new Map).current,f=x.useRef(d),m=x.useRef(new Map).current,S=x.useRef(!0);if(Vy(()=>{S.current=!1,wH(u,m),f.current=d}),CH(()=>{S.current=!0,m.clear(),h.clear()}),S.current)return x.createElement(x.Fragment,null,d.map(p=>x.createElement(Uf,{key:vi(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));d=[...d];const b=f.current.map(vi),C=u.map(vi),y=b.length;for(let p=0;p<y;p++){const g=b[p];C.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((p,g)=>{if(C.indexOf(g)!==-1)return;const v=m.get(g);if(!v)return;const w=b.indexOf(g);let N=p;if(!N){const T=()=>{h.delete(g);const _=Array.from(m.keys()).filter(A=>!C.includes(A));if(_.forEach(A=>m.delete(A)),f.current=u.filter(A=>{const k=vi(A);return k===g||_.includes(k)}),!h.size){if(c.current===!1)return;o(),s&&s()}};N=x.createElement(Uf,{key:vi(v),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:a},v),h.set(g,N)}d.splice(w,0,N)}),d=d.map(p=>{const g=p.key;return h.has(g)?p:x.createElement(Uf,{key:vi(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),x.createElement(x.Fragment,null,h.size?d:d.map(p=>x.cloneElement(p)))};function Kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var EH=typeof Symbol=="function"&&Symbol.observable||"@@observable",Y0=EH,Lf=()=>Math.random().toString(36).substring(7).split("").join("."),NH={INIT:`@@redux/INIT${Lf()}`,REPLACE:`@@redux/REPLACE${Lf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Lf()}`},Od=NH;function uv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function dv(t,e,n){if(typeof t!="function")throw new Error(Kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kt(1));return n(dv)(t,e)}let s=t,r=e,i=new Map,a=i,o=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((C,y)=>{a.set(y,C)}))}function d(){if(c)throw new Error(Kt(3));return r}function h(C){if(typeof C!="function")throw new Error(Kt(4));if(c)throw new Error(Kt(5));let y=!0;u();const p=o++;return a.set(p,C),function(){if(y){if(c)throw new Error(Kt(6));y=!1,u(),a.delete(p),i=null}}}function f(C){if(!uv(C))throw new Error(Kt(7));if(typeof C.type>"u")throw new Error(Kt(8));if(typeof C.type!="string")throw new Error(Kt(17));if(c)throw new Error(Kt(9));try{c=!0,r=s(r,C)}finally{c=!1}return(i=a).forEach(p=>{p()}),C}function m(C){if(typeof C!="function")throw new Error(Kt(10));s=C,f({type:Od.REPLACE})}function S(){const C=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Kt(11));function p(){const v=y;v.next&&v.next(d())}return p(),{unsubscribe:C(p)}},[Y0](){return this}}}return f({type:Od.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[Y0]:S}}function _H(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Od.INIT})>"u")throw new Error(Kt(12));if(typeof n(void 0,{type:Od.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function f_(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const s=Object.keys(n);let r;try{_H(n)}catch(i){r=i}return function(a={},o){if(r)throw r;let c=!1;const u={};for(let d=0;d<s.length;d++){const h=s[d],f=n[h],m=a[h],S=f(m,o);if(typeof S>"u")throw o&&o.type,new Error(Kt(14));u[h]=S,c=c||S!==m}return c=c||s.length!==Object.keys(a).length,c?u:a}}function jd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function RH(...t){return e=>(n,s)=>{const r=e(n,s);let i=()=>{throw new Error(Kt(15))};const a={getState:r.getState,dispatch:(c,...u)=>i(c,...u)},o=t.map(c=>c(a));return i=jd(...o)(r.dispatch),{...r,dispatch:i}}}function kH(t){return uv(t)&&"type"in t&&typeof t.type=="string"}var m_=Symbol.for("immer-nothing"),Q0=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function ds(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Za=Object.getPrototypeOf;function zi(t){return!!t&&!!t[$n]}function mr(t){var e;return t?g_(t)||Array.isArray(t)||!!t[Q0]||!!((e=t.constructor)!=null&&e[Q0])||fc(t)||Oh(t):!1}var OH=Object.prototype.constructor.toString();function g_(t){if(!t||typeof t!="object")return!1;const e=Za(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OH}function Id(t,e){kh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function kh(t){const e=t[$n];return e?e.type_:Array.isArray(t)?1:fc(t)?2:Oh(t)?3:0}function bg(t,e){return kh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function p_(t,e,n){const s=kh(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function jH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fc(t){return t instanceof Map}function Oh(t){return t instanceof Set}function bi(t){return t.copy_||t.base_}function xg(t,e){if(fc(t))return new Map(t);if(Oh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=g_(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[$n];let r=Reflect.ownKeys(s);for(let i=0;i<r.length;i++){const a=r[i],o=s[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Za(t),s)}else{const s=Za(t);if(s!==null&&n)return{...t};const r=Object.create(s);return Object.assign(r,t)}}function hv(t,e=!1){return jh(t)||zi(t)||!mr(t)||(kh(t)>1&&Object.defineProperties(t,{set:{value:$c},add:{value:$c},clear:{value:$c},delete:{value:$c}}),Object.freeze(t),e&&Object.values(t).forEach(n=>hv(n,!0))),t}function $c(){ds(2)}function jh(t){return Object.isFrozen(t)}var IH={};function Vi(t){const e=IH[t];return e||ds(0,t),e}var Fl;function y_(){return Fl}function MH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function X0(t,e){e&&(Vi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sg(t){Cg(t),t.drafts_.forEach(PH),t.drafts_=null}function Cg(t){t===Fl&&(Fl=t.parent_)}function J0(t){return Fl=MH(Fl,t)}function PH(t){const e=t[$n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$n].modified_&&(Sg(e),ds(4)),mr(t)&&(t=Md(e,t),e.parent_||Pd(e,t)),e.patches_&&Vi("Patches").generateReplacementPatches_(n[$n].base_,t,e.patches_,e.inversePatches_)):t=Md(e,n,[]),Sg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==m_?t:void 0}function Md(t,e,n){if(jh(e))return e;const s=e[$n];if(!s)return Id(e,(r,i)=>W0(t,s,e,r,i,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return Pd(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const r=s.copy_;let i=r,a=!1;s.type_===3&&(i=new Set(r),r.clear(),a=!0),Id(i,(o,c)=>W0(t,s,r,o,c,n,a)),Pd(t,r,!1),n&&t.patches_&&Vi("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function W0(t,e,n,s,r,i,a){if(zi(r)){const o=i&&e&&e.type_!==3&&!bg(e.assigned_,s)?i.concat(s):void 0,c=Md(t,r,o);if(p_(n,s,c),zi(c))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(mr(r)&&!jh(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Md(t,r),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(fc(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&Pd(t,r)}}function Pd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&hv(e,n)}function DH(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:y_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=s,i=fv;n&&(r=[s],i=Gl);const{revoke:a,proxy:o}=Proxy.revocable(r,i);return s.draft_=o,s.revoke_=a,o}var fv={get(t,e){if(e===$n)return t;const n=bi(t);if(!bg(n,e))return UH(t,n,e);const s=n[e];return t.finalized_||!mr(s)?s:s===Hf(t.base_,e)?(Bf(t),t.copy_[e]=Tg(s,t)):s},has(t,e){return e in bi(t)},ownKeys(t){return Reflect.ownKeys(bi(t))},set(t,e,n){const s=v_(bi(t),e);if(s!=null&&s.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const r=Hf(bi(t),e),i=r==null?void 0:r[$n];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(jH(n,r)&&(n!==void 0||bg(t.base_,e)))return!0;Bf(t),wg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Hf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Bf(t),wg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bi(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){ds(11)},getPrototypeOf(t){return Za(t.base_)},setPrototypeOf(){ds(12)}},Gl={};Id(fv,(t,e)=>{Gl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gl.deleteProperty=function(t,e){return Gl.set.call(this,t,e,void 0)};Gl.set=function(t,e,n){return fv.set.call(this,t[0],e,n,t[0])};function Hf(t,e){const n=t[$n];return(n?bi(n):t)[e]}function UH(t,e,n){var r;const s=v_(e,n);return s?"value"in s?s.value:(r=s.get)==null?void 0:r.call(t.draft_):void 0}function v_(t,e){if(!(e in t))return;let n=Za(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Za(n)}}function wg(t){t.modified_||(t.modified_=!0,t.parent_&&wg(t.parent_))}function Bf(t){t.copy_||(t.copy_=xg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var LH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(c=i,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&ds(6),s!==void 0&&typeof s!="function"&&ds(7);let r;if(mr(e)){const i=J0(this),a=Tg(e,void 0);let o=!0;try{r=n(a),o=!1}finally{o?Sg(i):Cg(i)}return X0(i,s),Z0(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===m_&&(r=void 0),this.autoFreeze_&&hv(r,!0),s){const i=[],a=[];Vi("Patches").generateReplacementPatches_(e,r,i,a),s(i,a)}return r}else ds(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,c=>e(c,...o));let s,r;return[this.produce(e,n,(a,o)=>{s=a,r=o}),s,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){mr(t)||ds(8),zi(t)&&(t=HH(t));const e=J0(this),n=Tg(t,void 0);return n[$n].isManual_=!0,Cg(e),n}finishDraft(t,e){const n=t&&t[$n];(!n||!n.isManual_)&&ds(9);const{scope_:s}=n;return X0(s,e),Z0(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const s=Vi("Patches").applyPatches_;return zi(t)?s(t,e):this.produce(t,r=>s(r,e))}};function Tg(t,e){const n=fc(t)?Vi("MapSet").proxyMap_(t,e):Oh(t)?Vi("MapSet").proxySet_(t,e):DH(t,e);return(e?e.scope_:y_()).drafts_.push(n),n}function HH(t){return zi(t)||ds(10,t),b_(t)}function b_(t){if(!mr(t)||jh(t))return t;const e=t[$n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=xg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=xg(t,!0);return Id(n,(s,r)=>{p_(n,s,b_(r))}),e&&(e.finalized_=!1),n}var BH=new LH,x_=BH.produce;function S_(t){return({dispatch:n,getState:s})=>r=>i=>typeof i=="function"?i(n,s,t):r(i)}var zH=S_(),VH=S_,FH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jd:jd.apply(null,arguments)},GH=t=>t&&typeof t.match=="function";function ml(t,e){function n(...s){if(e){let r=e(...s);if(!r)throw new Error(ar(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>kH(s)&&s.type===t,n}var C_=class Vo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Vo.prototype)}static get[Symbol.species](){return Vo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Vo(...e[0].concat(this)):new Vo(...e.concat(this))}};function eS(t){return mr(t)?x_(t,()=>{}):t}function Yc(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qH(t){return typeof t=="boolean"}var KH=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let a=new C_;return n&&(qH(n)?a.push(zH):a.push(VH(n.extraArgument))),a},$H="RTK_autoBatch",tS=t=>e=>{setTimeout(e,t)},YH=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let r=!0,i=!1,a=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tS(10):t.type==="callback"?t.queueNotification:tS(t.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},s,{subscribe(d){const h=()=>r&&d(),f=s.subscribe(h);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var h;try{return r=!((h=d==null?void 0:d.meta)!=null&&h[$H]),i=!r,i&&(a||(a=!0,c(u))),s.dispatch(d)}finally{r=!0}}})},QH=t=>function(n){const{autoBatch:s=!0}=n??{};let r=new C_(t);return s&&r.push(YH(typeof s=="object"?s:void 0)),r};function XH(t){const e=KH(),{reducer:n=void 0,middleware:s,devTools:r=!0,preloadedState:i=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(uv(n))o=f_(n);else throw new Error(ar(1));let c;typeof s=="function"?c=s(e):c=e();let u=jd;r&&(u=FH({trace:!1,...typeof r=="object"&&r}));const d=RH(...c),h=QH(d);let f=typeof a=="function"?a(h):h();const m=u(...f);return dv(o,i,m)}function w_(t){const e={},n=[];let s;const r={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ar(28));if(o in e)throw new Error(ar(29));return e[o]=a,r},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),r},addMatcher(i,a){return n.push({matcher:i,reducer:a}),r},addDefaultCase(i){return s=i,r}};return t(r),[e,n,s]}function JH(t){return typeof t=="function"}function ZH(t,e){let[n,s,r]=w_(e),i;if(JH(t))i=()=>eS(t());else{const o=eS(t);i=()=>o}function a(o=i(),c){let u=[n[c.type],...s.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[r]),u.reduce((d,h)=>{if(h)if(zi(d)){const m=h(d,c);return m===void 0?d:m}else{if(mr(d))return x_(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return a.getInitialState=i,a}var WH=(t,e)=>GH(t)?t.match(e):t(e);function eB(...t){return e=>t.some(n=>WH(n,e))}var tB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nB=(t=21)=>{let e="",n=t;for(;n--;)e+=tB[Math.random()*64|0];return e},sB=["name","message","stack","code"],zf=class{constructor(t,e){Mh(this,"_type");this.payload=t,this.meta=e}},nS=class{constructor(t,e){Mh(this,"_type");this.payload=t,this.meta=e}},rB=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of sB)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},sS="External signal was aborted",Hs=(()=>{function t(e,n,s){const r=ml(e+"/fulfilled",(c,u,d,h)=>({payload:c,meta:{...h||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),i=ml(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),a=ml(e+"/rejected",(c,u,d,h,f)=>({payload:h,error:(s&&s.serializeError||rB)(c||"Rejected"),meta:{...f||{},arg:d,requestId:u,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function o(c,{signal:u}={}){return(d,h,f)=>{const m=s!=null&&s.idGenerator?s.idGenerator(c):nB(),S=new AbortController;let b,C;function y(g){C=g,S.abort()}u&&(u.aborted?y(sS):u.addEventListener("abort",()=>y(sS),{once:!0}));const p=async function(){var w,N;let g;try{let T=(w=s==null?void 0:s.condition)==null?void 0:w.call(s,c,{getState:h,extra:f});if(aB(T)&&(T=await T),T===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const _=new Promise((A,k)=>{b=()=>{k({name:"AbortError",message:C||"Aborted"})},S.signal.addEventListener("abort",b)});d(i(m,c,(N=s==null?void 0:s.getPendingMeta)==null?void 0:N.call(s,{requestId:m,arg:c},{getState:h,extra:f}))),g=await Promise.race([_,Promise.resolve(n(c,{dispatch:d,getState:h,extra:f,requestId:m,signal:S.signal,abort:y,rejectWithValue:(A,k)=>new zf(A,k),fulfillWithValue:(A,k)=>new nS(A,k)})).then(A=>{if(A instanceof zf)throw A;return A instanceof nS?r(A.payload,m,c,A.meta):r(A,m,c)})])}catch(T){g=T instanceof zf?a(null,m,c,T.payload,T.meta):a(T,m,c)}finally{b&&S.signal.removeEventListener("abort",b)}return s&&!s.dispatchConditionRejection&&a.match(g)&&g.meta.condition||d(g),g}();return Object.assign(p,{abort:y,requestId:m,arg:c,unwrap(){return p.then(iB)}})}}return Object.assign(o,{pending:i,rejected:a,fulfilled:r,settled:eB(a,r),typePrefix:e})}return t.withTypes=()=>t,t})();function iB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function aB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var oB=Symbol.for("rtk-slice-createasyncthunk");function lB(t,e){return`${t}/${e}`}function cB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[oB];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ar(11));const o=(typeof r.reducers=="function"?r.reducers(dB()):r.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(v,w){const N=typeof v=="string"?v:v.type;if(!N)throw new Error(ar(12));if(N in u.sliceCaseReducersByType)throw new Error(ar(13));return u.sliceCaseReducersByType[N]=w,d},addMatcher(v,w){return u.sliceMatchers.push({matcher:v,reducer:w}),d},exposeAction(v,w){return u.actionCreators[v]=w,d},exposeCaseReducer(v,w){return u.sliceCaseReducersByName[v]=w,d}};c.forEach(v=>{const w=o[v],N={reducerName:v,type:lB(i,v),createNotation:typeof r.reducers=="function"};fB(w)?gB(N,w,d,e):hB(N,w,d)});function h(){const[v={},w=[],N=void 0]=typeof r.extraReducers=="function"?w_(r.extraReducers):[r.extraReducers],T={...v,...u.sliceCaseReducersByType};return ZH(r.initialState,_=>{for(let A in T)_.addCase(A,T[A]);for(let A of u.sliceMatchers)_.addMatcher(A.matcher,A.reducer);for(let A of w)_.addMatcher(A.matcher,A.reducer);N&&_.addDefaultCase(N)})}const f=v=>v,m=new Map,S=new WeakMap;let b;function C(v,w){return b||(b=h()),b(v,w)}function y(){return b||(b=h()),b.getInitialState()}function p(v,w=!1){function N(_){let A=_[v];return typeof A>"u"&&w&&(A=Yc(S,N,y)),A}function T(_=f){const A=Yc(m,w,()=>new WeakMap);return Yc(A,_,()=>{const k={};for(const[P,R]of Object.entries(r.selectors??{}))k[P]=uB(R,_,()=>Yc(S,_,y),w);return k})}return{reducerPath:v,getSelectors:T,get selectors(){return T(N)},selectSlice:N}}const g={name:i,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...p(a),injectInto(v,{reducerPath:w,...N}={}){const T=w??a;return v.inject({reducerPath:T,reducer:C},N),{...g,...p(T,!0)}}};return g}}function uB(t,e,n,s){function r(i,...a){let o=e(i);return typeof o>"u"&&s&&(o=n()),t(o,...a)}return r.unwrapped=t,r}var mc=cB();function dB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hB({type:t,reducerName:e,createNotation:n},s,r){let i,a;if("reducer"in s){if(n&&!mB(s))throw new Error(ar(17));i=s.reducer,a=s.prepare}else i=s;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?ml(t,a):ml(t))}function fB(t){return t._reducerDefinitionType==="asyncThunk"}function mB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function gB({type:t,reducerName:e},n,s,r){if(!r)throw new Error(ar(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:c,settled:u,options:d}=n,h=r(t,i,d);s.exposeAction(e,h),a&&s.addCase(h.fulfilled,a),o&&s.addCase(h.pending,o),c&&s.addCase(h.rejected,c),u&&s.addMatcher(h.settled,u),s.exposeCaseReducer(e,{fulfilled:a||Qc,pending:o||Qc,rejected:c||Qc,settled:u||Qc})}function Qc(){}function ar(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mv="persist:",T_="persist/FLUSH",gv="persist/REHYDRATE",A_="persist/PAUSE",E_="persist/PERSIST",N_="persist/PURGE",__="persist/REGISTER",pB=-1;function Su(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(n){return typeof n}:Su=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Su(t)}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function yB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(n,!0).forEach(function(s){vB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function vB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bB(t,e,n,s){s.debug;var r=yB({},n);return t&&Su(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(r[i]=t[i])}),r}function xB(t){var e=t.blacklist||null,n=t.whitelist||null,s=t.transforms||[],r=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:mv).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(w){return w}:typeof t.serialize=="function"?o=t.serialize:o=SB;var c=t.writeFailHandler||null,u={},d={},h=[],f=null,m=null,S=function(w){Object.keys(w).forEach(function(N){y(N)&&u[N]!==w[N]&&h.indexOf(N)===-1&&h.push(N)}),Object.keys(u).forEach(function(N){w[N]===void 0&&y(N)&&h.indexOf(N)===-1&&u[N]!==void 0&&h.push(N)}),f===null&&(f=setInterval(b,r)),u=w};function b(){if(h.length===0){f&&clearInterval(f),f=null;return}var v=h.shift(),w=s.reduce(function(N,T){return T.in(N,v,u)},u[v]);if(w!==void 0)try{d[v]=o(w)}catch(N){console.error("redux-persist/createPersistoid: error serializing state",N)}else delete d[v];h.length===0&&C()}function C(){Object.keys(d).forEach(function(v){u[v]===void 0&&delete d[v]}),m=a.setItem(i,o(d)).catch(p)}function y(v){return!(n&&n.indexOf(v)===-1&&v!=="_persist"||e&&e.indexOf(v)!==-1)}function p(v){c&&c(v)}var g=function(){for(;h.length!==0;)b();return m||Promise.resolve()};return{update:S,flush:g}}function SB(t){return JSON.stringify(t)}function CB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mv).concat(t.key),s=t.storage;t.debug;var r;return t.deserialize===!1?r=function(a){return a}:typeof t.deserialize=="function"?r=t.deserialize:r=wB,s.getItem(n).then(function(i){if(i)try{var a={},o=r(i);return Object.keys(o).forEach(function(c){a[c]=e.reduceRight(function(u,d){return d.out(u,c,o)},r(o[c]))}),a}catch(c){throw c}else return})}function wB(t){return JSON.parse(t)}function TB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:mv).concat(t.key);return e.removeItem(n,AB)}function AB(t){}function iS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iS(n,!0).forEach(function(s){EB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function EB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t,e){if(t==null)return{};var n=_B(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function _B(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var RB=5e3;function kB(t,e){var n=t.version!==void 0?t.version:pB;t.debug;var s=t.stateReconciler===void 0?bB:t.stateReconciler,r=t.getStoredState||CB,i=t.timeout!==void 0?t.timeout:RB,a=null,o=!1,c=!0,u=function(h){return h._persist.rehydrated&&a&&!c&&a.update(h),h};return function(d,h){var f=d||{},m=f._persist,S=NB(f,["_persist"]),b=S;if(h.type===E_){var C=!1,y=function(_,A){C||(h.rehydrate(t.key,_,A),C=!0)};if(i&&setTimeout(function(){!C&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),c=!1,a||(a=xB(t)),m)return Gs({},e(b,h),{_persist:m});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(t.key),r(t).then(function(T){var _=t.migrate||function(A,k){return Promise.resolve(A)};_(T,n).then(function(A){y(A)},function(A){y(void 0,A)})},function(T){y(void 0,T)}),Gs({},e(b,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===N_)return o=!0,h.result(TB(t)),Gs({},e(b,h),{_persist:m});if(h.type===T_)return h.result(a&&a.flush()),Gs({},e(b,h),{_persist:m});if(h.type===A_)c=!0;else if(h.type===gv){if(o)return Gs({},b,{_persist:Gs({},m,{rehydrated:!0})});if(h.key===t.key){var p=e(b,h),g=h.payload,v=s!==!1&&g!==void 0?s(g,d,p,t):p,w=Gs({},v,{_persist:Gs({},m,{rehydrated:!0})});return u(w)}}}if(!m)return e(d,h);var N=e(b,h);return N===b?d:u(Gs({},N,{_persist:m}))}}function aS(t){return IB(t)||jB(t)||OB()}function OB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function jB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function IB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function oS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oS(n,!0).forEach(function(s){MB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function MB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R_={registry:[],bootstrapped:!1},PB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case __:return Ag({},e,{registry:[].concat(aS(e.registry),[n.key])});case gv:var s=e.registry.indexOf(n.key),r=aS(e.registry);return r.splice(s,1),Ag({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function DB(t,e,n){var s=dv(PB,R_,void 0),r=function(c){s.dispatch({type:__,key:c})},i=function(c,u,d){var h={type:gv,payload:u,err:d,key:c};t.dispatch(h),s.dispatch(h)},a=Ag({},s,{purge:function(){var c=[];return t.dispatch({type:N_,result:function(d){c.push(d)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:T_,result:function(d){c.push(d)}}),Promise.all(c)},pause:function(){t.dispatch({type:A_})},persist:function(){t.dispatch({type:E_,register:r,rehydrate:i})}});return a.persist(),a}var pv={},yv={};yv.__esModule=!0;yv.default=HB;function Cu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(n){return typeof n}:Cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cu(t)}function Vf(){}var UB={getItem:Vf,setItem:Vf,removeItem:Vf};function LB(t){if((typeof self>"u"?"undefined":Cu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function HB(t){var e="".concat(t,"Storage");return LB(e)?self[e]:UB}pv.__esModule=!0;pv.default=VB;var BB=zB(yv);function zB(t){return t&&t.__esModule?t:{default:t}}function VB(t){var e=(0,BB.default)(t);return{getItem:function(s){return new Promise(function(r,i){r(e.getItem(s))})},setItem:function(s,r){return new Promise(function(i,a){i(e.setItem(s,r))})},removeItem:function(s){return new Promise(function(r,i){r(e.removeItem(s))})}}}var k_=void 0,FB=GB(pv);function GB(t){return t&&t.__esModule?t:{default:t}}var qB=(0,FB.default)("local");k_=qB;const KB={phoneNumbers:[],isLoading:!1,error:null,selectedPhoneNumbers:[],filters:{status:[],search:""}},wu=Hs("phoneNumbers/addBulk",async t=>lt(`${fo.PHONE_NUMBERS}/bulk`,{method:"POST",body:JSON.stringify(t)})),gl=Hs("phoneNumbers/fetchAll",async()=>lt(`${fo.PHONE_NUMBERS}/`)),$B=Hs("phoneNumbers/updateStatus",async({id:t,status:e})=>lt(`${fo.PHONE_NUMBERS}/${t}`,{method:"PUT",body:JSON.stringify({status:e})})),O_=mc({name:"phoneNumbers",initialState:KB,reducers:{setSelectedPhoneNumbers:(t,e)=>{t.selectedPhoneNumbers=e.payload},togglePhoneNumberSelection:(t,e)=>{const n=e.payload,s=t.selectedPhoneNumbers.indexOf(n);s>-1?t.selectedPhoneNumbers.splice(s,1):t.selectedPhoneNumbers.push(n)},clearSelection:t=>{t.selectedPhoneNumbers=[]},setStatusFilter:(t,e)=>{t.filters.status=e.payload},setSearchFilter:(t,e)=>{t.filters.search=e.payload},clearFilters:t=>{t.filters={status:[],search:""}},resetLoadingState:t=>{t.isLoading=!1,t.error=null}},extraReducers:t=>{t.addCase(wu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wu.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers.push(...n.payload.phone_numbers)}).addCase(wu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to add phone numbers"}).addCase(gl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gl.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers=n.payload}).addCase(gl.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch phone numbers"}).addCase($B.fulfilled,(e,n)=>{const s=e.phoneNumbers.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.phoneNumbers[s]=n.payload)})}}),{setSelectedPhoneNumbers:E3,togglePhoneNumberSelection:N3,clearSelection:_3,setStatusFilter:R3,setSearchFilter:k3,clearFilters:O3,resetLoadingState:_o}=O_.actions,YB=O_.reducer,QB={crmStatuses:[],isLoading:!1,error:null,demoTotal:0,stats:{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}}},pl=Hs("crmStatus/fetchAll",async()=>lt(`${fo.CRM_INTEGRATIONS}/statuses`)),XB=Hs("crmStatus/fetchByPhone",async t=>lt(`${fo.CRM_INTEGRATIONS}/status/${t}`)),JB=Hs("crmStatus/retryRemoval",async({phoneNumberId:t,crmSystem:e})=>lt(`${fo.CRM_INTEGRATIONS}/retry-removal`,{method:"POST",body:JSON.stringify({phone_number_id:t,crm_system:e})})),j_=mc({name:"crmStatus",initialState:QB,reducers:{updateCRMStatus:(t,e)=>{const n=t.crmStatuses.findIndex(s=>s.id===e.payload.id);n!==-1?t.crmStatuses[n]=e.payload:t.crmStatuses.push(e.payload),t.stats=Ro(t.crmStatuses)},addCRMStatus:(t,e)=>{t.crmStatuses.push(e.payload),t.stats=Ro(t.crmStatuses)},clearCRMStatuses:t=>{t.crmStatuses=[],t.stats={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},t.demoTotal=0},initDemoStats:(t,e)=>{const n=e.payload,s={total:0,pending:n,processing:0,completed:0,failed:0};t.stats={logics:{...s},genesys:{...s},ringcentral:{...s},convoso:{...s},ytel:{...s}},t.demoTotal=n},setCRMStats:(t,e)=>{const{crm:n,stats:s}=e.payload;t.stats[n]=s},clearDemoTotal:t=>{t.demoTotal=0}},extraReducers:t=>{t.addCase(pl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pl.fulfilled,(e,n)=>{e.isLoading=!1,e.crmStatuses=n.payload,e.stats=Ro(n.payload)}).addCase(pl.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch CRM statuses"}).addCase(XB.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.crmStatuses.findIndex(i=>i.id===s.id);r!==-1?e.crmStatuses[r]=s:e.crmStatuses.push(s)}),e.stats=Ro(e.crmStatuses)}).addCase(JB.fulfilled,(e,n)=>{const s=e.crmStatuses.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.crmStatuses[s]=n.payload),e.stats=Ro(e.crmStatuses)})}});function Ro(t){const e={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}};return t.forEach(n=>{const s=n.crm_system;e[s]&&(e[s].total++,e[s][n.status]++)}),e}const{updateCRMStatus:j3,addCRMStatus:I3,clearCRMStatuses:M3,initDemoStats:ZB,setCRMStats:WB}=j_.actions,e4=j_.reducer,t4={consents:[],isLoading:!1,error:null,filters:{consent_type:[],status:[],search:""}},Ff=Hs("consent/fetchAll",async()=>{const t=await fetch("/api/v1/consent");if(!t.ok)throw new Error("Failed to fetch consents");return t.json()}),n4=Hs("consent/fetchByPhone",async t=>{const e=await fetch(`/api/v1/consent/${t}`);if(!e.ok)throw new Error("Failed to fetch consent for phone number");return e.json()}),s4=Hs("consent/update",async t=>{const e=await fetch(`/api/v1/consent/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to update consent");return e.json()}),r4=Hs("consent/add",async t=>{const e=await fetch("/api/v1/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to add consent");return e.json()}),I_=mc({name:"consent",initialState:t4,reducers:{setConsentTypeFilter:(t,e)=>{t.filters.consent_type=e.payload},setConsentStatusFilter:(t,e)=>{t.filters.status=e.payload},setConsentSearchFilter:(t,e)=>{t.filters.search=e.payload},clearConsentFilters:t=>{t.filters={consent_type:[],status:[],search:""}}},extraReducers:t=>{t.addCase(Ff.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ff.fulfilled,(e,n)=>{e.isLoading=!1,e.consents=n.payload}).addCase(Ff.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch consents"}).addCase(n4.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.consents.findIndex(i=>i.id===s.id);r!==-1?e.consents[r]=s:e.consents.push(s)})}).addCase(s4.fulfilled,(e,n)=>{const s=e.consents.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.consents[s]=n.payload)}).addCase(r4.fulfilled,(e,n)=>{e.consents.push(n.payload)})}}),{setConsentTypeFilter:P3,setConsentStatusFilter:D3,setConsentSearchFilter:U3,clearConsentFilters:L3}=I_.actions,i4=I_.reducer,a4={notifications:[],isLoading:!1,error:null,success:null},M_=mc({name:"ui",initialState:a4,reducers:{addNotification:(t,e)=>{const n={...e.payload,id:Date.now().toString(),timestamp:Date.now()};t.notifications.push(n)},removeNotification:(t,e)=>{t.notifications=t.notifications.filter(n=>n.id!==e.payload)},clearNotifications:t=>{t.notifications=[]},setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload},setSuccess:(t,e)=>{t.success=e.payload},clearMessages:t=>{t.error=null,t.success=null}}}),{addNotification:ko,removeNotification:H3,clearNotifications:B3,setLoading:z3,setError:V3,setSuccess:F3,clearMessages:G3}=M_.actions,o4=M_.reducer,l4={organizationId:1,userId:1,role:"member"},P_=mc({name:"demoAuth",initialState:l4,reducers:{setRole(t,e){t.role=e.payload},setOrganization(t,e){t.organizationId=e.payload},setUser(t,e){t.userId=e.payload},setSuperAdmin(t){t.role="superadmin",t.userId=1,t.organizationId=1}}}),{setRole:Xc,setOrganization:q3,setUser:K3,setSuperAdmin:$3}=P_.actions,c4=P_.reducer,u4={key:"do-not-call-root",storage:k_,whitelist:["ui","demoAuth"]},d4=f_({phoneNumbers:YB,crmStatus:e4,consent:i4,ui:o4,demoAuth:c4}),h4=kB(u4,d4),D_=XH({reducer:h4,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),f4=DB(D_);var gc=t=>t.type==="checkbox",wi=t=>t instanceof Date,gn=t=>t==null;const U_=t=>typeof t=="object";var xt=t=>!gn(t)&&!Array.isArray(t)&&U_(t)&&!wi(t),m4=t=>xt(t)&&t.target?gc(t.target)?t.target.checked:t.target.value:t,g4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,p4=(t,e)=>t.has(g4(e)),y4=t=>{const e=t.constructor&&t.constructor.prototype;return xt(e)&&e.hasOwnProperty("isPrototypeOf")},vv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(vv&&(t instanceof Blob||s))&&(n||xt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!y4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Ht(t[r]));else return t;return e}var Ih=t=>/^\w*$/.test(t),Nt=t=>t===void 0,bv=t=>Array.isArray(t)?t.filter(Boolean):[],xv=t=>bv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(t,e,n)=>{if(!e||!xt(t))return n;const s=(Ih(e)?[e]:xv(e)).reduce((r,i)=>gn(r)?r:r[i],t);return Nt(s)||s===t?Nt(t[e])?n:t[e]:s},Es=t=>typeof t=="boolean",it=(t,e,n)=>{let s=-1;const r=Ih(e)?[e]:xv(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let c=n;if(s!==a){const u=t[o];c=xt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const lS={BLUR:"blur",FOCUS_OUT:"focusout"},hs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},v4=te.createContext(null);v4.displayName="HookFormContext";var b4=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==hs.all&&(e._proxyFormState[a]=!s||hs.all),t[a]}});return r};const x4=typeof window<"u"?te.useLayoutEffect:te.useEffect;var Os=t=>typeof t=="string",S4=(t,e,n,s,r)=>Os(t)?(s&&e.watch.add(t),ge(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),ge(n,i))):(s&&(e.watchAll=!0),n),Eg=t=>gn(t)||!U_(t);function jr(t,e,n=new WeakSet){if(Eg(t)||Eg(e))return t===e;if(wi(t)&&wi(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(wi(a)&&wi(o)||xt(a)&&xt(o)||Array.isArray(a)&&Array.isArray(o)?!jr(a,o,n):a!==o)return!1}}return!0}var C4=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},yl=t=>Array.isArray(t)?t:[t],cS=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},wn=t=>xt(t)&&!Object.keys(t).length,Sv=t=>t.type==="file",fs=t=>typeof t=="function",Dd=t=>{if(!vv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},L_=t=>t.type==="select-multiple",Cv=t=>t.type==="radio",w4=t=>Cv(t)||gc(t),Gf=t=>Dd(t)&&t.isConnected;function T4(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Nt(t)?s++:t[e[s++]];return t}function A4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nt(t[e]))return!1;return!0}function Ct(t,e){const n=Array.isArray(e)?e:Ih(e)?[e]:xv(e),s=n.length===1?t:T4(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(xt(s)&&wn(s)||Array.isArray(s)&&A4(s))&&Ct(t,n.slice(0,-1)),t}var H_=t=>{for(const e in t)if(fs(t[e]))return!0;return!1};function Ud(t,e={}){const n=Array.isArray(t);if(xt(t)||n)for(const s in t)Array.isArray(t[s])||xt(t[s])&&!H_(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Ud(t[s],e[s])):gn(t[s])||(e[s]=!0);return e}function B_(t,e,n){const s=Array.isArray(t);if(xt(t)||s)for(const r in t)Array.isArray(t[r])||xt(t[r])&&!H_(t[r])?Nt(e)||Eg(n[r])?n[r]=Array.isArray(t[r])?Ud(t[r],[]):{...Ud(t[r])}:B_(t[r],gn(e)?{}:e[r],n[r]):n[r]=!jr(t[r],e[r]);return n}var Oo=(t,e)=>B_(t,e,Ud(e));const uS={value:!1,isValid:!1},dS={value:!0,isValid:!0};var z_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nt(t[0].attributes.value)?Nt(t[0].value)||t[0].value===""?dS:{value:t[0].value,isValid:!0}:dS:uS}return uS},V_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Nt(t)?t:e?t===""?NaN:t&&+t:n&&Os(t)?new Date(t):s?s(t):t;const hS={isValid:!1,value:null};var F_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,hS):hS;function fS(t){const e=t.ref;return Sv(e)?e.files:Cv(e)?F_(t.refs).value:L_(e)?[...e.selectedOptions].map(({value:n})=>n):gc(e)?z_(t.refs).value:V_(Nt(e.value)?t.ref.value:e.value,t)}var E4=(t,e,n,s)=>{const r={};for(const i of t){const a=ge(e,i);a&&it(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Ld=t=>t instanceof RegExp,jo=t=>Nt(t)?t:Ld(t)?t.source:xt(t)?Ld(t.value)?t.value.source:t.value:t,mS=t=>({isOnSubmit:!t||t===hs.onSubmit,isOnBlur:t===hs.onBlur,isOnChange:t===hs.onChange,isOnAll:t===hs.all,isOnTouch:t===hs.onTouched});const gS="AsyncFunction";var N4=t=>!!t&&!!t.validate&&!!(fs(t.validate)&&t.validate.constructor.name===gS||xt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===gS)),_4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),pS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const vl=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=ge(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(vl(o,e))break}else if(xt(o)&&vl(o,e))break}}};function yS(t,e,n){const s=ge(t,n);if(s||Ih(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=ge(e,i),o=ge(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var R4=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return wn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||hs.all))},k4=(t,e,n)=>!t||!e||t===e||yl(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),O4=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,j4=(t,e)=>!bv(ge(t,e)).length&&Ct(t,e),I4=(t,e,n)=>{const s=yl(ge(t,n));return it(s,"root",e[n]),it(t,n,s),t},Tu=t=>Os(t);function vS(t,e,n="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||Es(t)&&!t)return{type:n,message:Tu(t)?t:"",ref:e}}var na=t=>xt(t)&&!Ld(t)?t:{value:t,message:""},bS=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:m,validate:S,name:b,valueAsNumber:C,mount:y}=t._f,p=ge(n,b);if(!y||e.has(b))return{};const g=o?o[0]:a,v=R=>{r&&g.reportValidity&&(g.setCustomValidity(Es(R)?"":R||""),g.reportValidity())},w={},N=Cv(a),T=gc(a),_=N||T,A=(C||Sv(a))&&Nt(a.value)&&Nt(p)||Dd(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,k=C4.bind(null,b,s,w),P=(R,I,B,G=qs.maxLength,M=qs.minLength)=>{const Y=R?I:B;w[b]={type:R?G:M,message:Y,ref:a,...k(R?G:M,Y)}};if(i?!Array.isArray(p)||!p.length:c&&(!_&&(A||gn(p))||Es(p)&&!p||T&&!z_(o).isValid||N&&!F_(o).isValid)){const{value:R,message:I}=Tu(c)?{value:!!c,message:c}:na(c);if(R&&(w[b]={type:qs.required,message:I,ref:g,...k(qs.required,I)},!s))return v(I),w}if(!A&&(!gn(h)||!gn(f))){let R,I;const B=na(f),G=na(h);if(!gn(p)&&!isNaN(p)){const M=a.valueAsNumber||p&&+p;gn(B.value)||(R=M>B.value),gn(G.value)||(I=M<G.value)}else{const M=a.valueAsDate||new Date(p),Y=K=>new Date(new Date().toDateString()+" "+K),Z=a.type=="time",z=a.type=="week";Os(B.value)&&p&&(R=Z?Y(p)>Y(B.value):z?p>B.value:M>new Date(B.value)),Os(G.value)&&p&&(I=Z?Y(p)<Y(G.value):z?p<G.value:M<new Date(G.value))}if((R||I)&&(P(!!R,B.message,G.message,qs.max,qs.min),!s))return v(w[b].message),w}if((u||d)&&!A&&(Os(p)||i&&Array.isArray(p))){const R=na(u),I=na(d),B=!gn(R.value)&&p.length>+R.value,G=!gn(I.value)&&p.length<+I.value;if((B||G)&&(P(B,R.message,I.message),!s))return v(w[b].message),w}if(m&&!A&&Os(p)){const{value:R,message:I}=na(m);if(Ld(R)&&!p.match(R)&&(w[b]={type:qs.pattern,message:I,ref:a,...k(qs.pattern,I)},!s))return v(I),w}if(S){if(fs(S)){const R=await S(p,n),I=vS(R,g);if(I&&(w[b]={...I,...k(qs.validate,I.message)},!s))return v(I.message),w}else if(xt(S)){let R={};for(const I in S){if(!wn(R)&&!s)break;const B=vS(await S[I](p,n),g,I);B&&(R={...B,...k(I,B.message)},v(B.message),s&&(w[b]=R))}if(!wn(R)&&(w[b]={ref:g,...R},!s))return w}}return v(!0),w};const M4={mode:hs.onSubmit,reValidateMode:hs.onChange,shouldFocusError:!0};function P4(t={}){let e={...M4,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:fs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=xt(e.defaultValues)||xt(e.values)?Ht(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Ht(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:cS(),state:cS()},m=e.criteriaMode===hs.all,S=E=>j=>{clearTimeout(u),u=setTimeout(E,j)},b=async E=>{if(!e.disabled&&(d.isValid||h.isValid||E)){const j=e.resolver?wn((await T()).errors):await A(s,!0);j!==n.isValid&&f.state.next({isValid:j})}},C=(E,j)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((E||Array.from(o.mount)).forEach(U=>{U&&(j?it(n.validatingFields,U,j):Ct(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!wn(n.validatingFields)}))},y=(E,j=[],U,re,ee=!0,ne=!0)=>{if(re&&U&&!e.disabled){if(a.action=!0,ne&&Array.isArray(ge(s,E))){const oe=U(ge(s,E),re.argA,re.argB);ee&&it(s,E,oe)}if(ne&&Array.isArray(ge(n.errors,E))){const oe=U(ge(n.errors,E),re.argA,re.argB);ee&&it(n.errors,E,oe),j4(n.errors,E)}if((d.touchedFields||h.touchedFields)&&ne&&Array.isArray(ge(n.touchedFields,E))){const oe=U(ge(n.touchedFields,E),re.argA,re.argB);ee&&it(n.touchedFields,E,oe)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Oo(r,i)),f.state.next({name:E,isDirty:P(E,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(i,E,j)},p=(E,j)=>{it(n.errors,E,j),f.state.next({errors:n.errors})},g=E=>{n.errors=E,f.state.next({errors:n.errors,isValid:!1})},v=(E,j,U,re)=>{const ee=ge(s,E);if(ee){const ne=ge(i,E,Nt(U)?ge(r,E):U);Nt(ne)||re&&re.defaultChecked||j?it(i,E,j?ne:fS(ee._f)):B(E,ne),a.mount&&b()}},w=(E,j,U,re,ee)=>{let ne=!1,oe=!1;const Re={name:E};if(!e.disabled){if(!U||re){(d.isDirty||h.isDirty)&&(oe=n.isDirty,n.isDirty=Re.isDirty=P(),ne=oe!==Re.isDirty);const Le=jr(ge(r,E),j);oe=!!ge(n.dirtyFields,E),Le?Ct(n.dirtyFields,E):it(n.dirtyFields,E,!0),Re.dirtyFields=n.dirtyFields,ne=ne||(d.dirtyFields||h.dirtyFields)&&oe!==!Le}if(U){const Le=ge(n.touchedFields,E);Le||(it(n.touchedFields,E,U),Re.touchedFields=n.touchedFields,ne=ne||(d.touchedFields||h.touchedFields)&&Le!==U)}ne&&ee&&f.state.next(Re)}return ne?Re:{}},N=(E,j,U,re)=>{const ee=ge(n.errors,E),ne=(d.isValid||h.isValid)&&Es(j)&&n.isValid!==j;if(e.delayError&&U?(c=S(()=>p(E,U)),c(e.delayError)):(clearTimeout(u),c=null,U?it(n.errors,E,U):Ct(n.errors,E)),(U?!jr(ee,U):ee)||!wn(re)||ne){const oe={...re,...ne&&Es(j)?{isValid:j}:{},errors:n.errors,name:E};n={...n,...oe},f.state.next(oe)}},T=async E=>{C(E,!0);const j=await e.resolver(i,e.context,E4(E||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return C(E),j},_=async E=>{const{errors:j}=await T(E);if(E)for(const U of E){const re=ge(j,U);re?it(n.errors,U,re):Ct(n.errors,U)}else n.errors=j;return j},A=async(E,j,U={valid:!0})=>{for(const re in E){const ee=E[re];if(ee){const{_f:ne,...oe}=ee;if(ne){const Re=o.array.has(ne.name),Le=ee._f&&N4(ee._f);Le&&d.validatingFields&&C([re],!0);const St=await bS(ee,o.disabled,i,m,e.shouldUseNativeValidation&&!j,Re);if(Le&&d.validatingFields&&C([re]),St[ne.name]&&(U.valid=!1,j))break;!j&&(ge(St,ne.name)?Re?I4(n.errors,St,ne.name):it(n.errors,ne.name,St[ne.name]):Ct(n.errors,ne.name))}!wn(oe)&&await A(oe,j,U)}}return U.valid},k=()=>{for(const E of o.unMount){const j=ge(s,E);j&&(j._f.refs?j._f.refs.every(U=>!Gf(U)):!Gf(j._f.ref))&&Te(E)}o.unMount=new Set},P=(E,j)=>!e.disabled&&(E&&j&&it(i,E,j),!jr(K(),r)),R=(E,j,U)=>S4(E,o,{...a.mount?i:Nt(j)?r:Os(E)?{[E]:j}:j},U,j),I=E=>bv(ge(a.mount?i:r,E,e.shouldUnregister?ge(r,E,[]):[])),B=(E,j,U={})=>{const re=ge(s,E);let ee=j;if(re){const ne=re._f;ne&&(!ne.disabled&&it(i,E,V_(j,ne)),ee=Dd(ne.ref)&&gn(j)?"":j,L_(ne.ref)?[...ne.ref.options].forEach(oe=>oe.selected=ee.includes(oe.value)):ne.refs?gc(ne.ref)?ne.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(ee)?oe.checked=!!ee.find(Re=>Re===oe.value):oe.checked=ee===oe.value||!!ee)}):ne.refs.forEach(oe=>oe.checked=oe.value===ee):Sv(ne.ref)?ne.ref.value="":(ne.ref.value=ee,ne.ref.type||f.state.next({name:E,values:Ht(i)})))}(U.shouldDirty||U.shouldTouch)&&w(E,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&z(E)},G=(E,j,U)=>{for(const re in j){if(!j.hasOwnProperty(re))return;const ee=j[re],ne=E+"."+re,oe=ge(s,ne);(o.array.has(E)||xt(ee)||oe&&!oe._f)&&!wi(ee)?G(ne,ee,U):B(ne,ee,U)}},M=(E,j,U={})=>{const re=ge(s,E),ee=o.array.has(E),ne=Ht(j);it(i,E,ne),ee?(f.array.next({name:E,values:Ht(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&U.shouldDirty&&f.state.next({name:E,dirtyFields:Oo(r,i),isDirty:P(E,ne)})):re&&!re._f&&!gn(ne)?G(E,ne,U):B(E,ne,U),pS(E,o)&&f.state.next({...n,name:E}),f.state.next({name:a.mount?E:void 0,values:Ht(i)})},Y=async E=>{a.mount=!0;const j=E.target;let U=j.name,re=!0;const ee=ge(s,U),ne=Le=>{re=Number.isNaN(Le)||wi(Le)&&isNaN(Le.getTime())||jr(Le,ge(i,U,Le))},oe=mS(e.mode),Re=mS(e.reValidateMode);if(ee){let Le,St;const ln=j.type?fS(ee._f):m4(E),Zt=E.type===lS.BLUR||E.type===lS.FOCUS_OUT,Cs=!_4(ee._f)&&!e.resolver&&!ge(n.errors,U)&&!ee._f.deps||O4(Zt,ge(n.touchedFields,U),n.isSubmitted,Re,oe),In=pS(U,o,Zt);it(i,U,ln),Zt?(!j||!j.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(E),c&&c(0)):ee._f.onChange&&ee._f.onChange(E);const cn=w(U,ln,Zt),li=!wn(cn)||In;if(!Zt&&f.state.next({name:U,type:E.type,values:Ht(i)}),Cs)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Zt&&b():Zt||b()),li&&f.state.next({name:U,...In?{}:cn});if(!Zt&&In&&f.state.next({...n}),e.resolver){const{errors:Yn}=await T([U]);if(ne(ln),re){const Ji=yS(n.errors,s,U),ci=yS(Yn,s,Ji.name||U);Le=ci.error,U=ci.name,St=wn(Yn)}}else C([U],!0),Le=(await bS(ee,o.disabled,i,m,e.shouldUseNativeValidation))[U],C([U]),ne(ln),re&&(Le?St=!1:(d.isValid||h.isValid)&&(St=await A(s,!0)));re&&(ee._f.deps&&z(ee._f.deps),N(U,St,Le,cn))}},Z=(E,j)=>{if(ge(n.errors,j)&&E.focus)return E.focus(),1},z=async(E,j={})=>{let U,re;const ee=yl(E);if(e.resolver){const ne=await _(Nt(E)?E:ee);U=wn(ne),re=E?!ee.some(oe=>ge(ne,oe)):U}else E?(re=(await Promise.all(ee.map(async ne=>{const oe=ge(s,ne);return await A(oe&&oe._f?{[ne]:oe}:oe)}))).every(Boolean),!(!re&&!n.isValid)&&b()):re=U=await A(s);return f.state.next({...!Os(E)||(d.isValid||h.isValid)&&U!==n.isValid?{}:{name:E},...e.resolver||!E?{isValid:U}:{},errors:n.errors}),j.shouldFocus&&!re&&vl(s,Z,E?ee:o.mount),re},K=E=>{const j={...a.mount?i:r};return Nt(E)?j:Os(E)?ge(j,E):E.map(U=>ge(j,U))},D=(E,j)=>({invalid:!!ge((j||n).errors,E),isDirty:!!ge((j||n).dirtyFields,E),error:ge((j||n).errors,E),isValidating:!!ge(n.validatingFields,E),isTouched:!!ge((j||n).touchedFields,E)}),Q=E=>{E&&yl(E).forEach(j=>Ct(n.errors,j)),f.state.next({errors:E?n.errors:{}})},X=(E,j,U)=>{const re=(ge(s,E,{_f:{}})._f||{}).ref,ee=ge(n.errors,E)||{},{ref:ne,message:oe,type:Re,...Le}=ee;it(n.errors,E,{...Le,...j,ref:re}),f.state.next({name:E,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&re&&re.focus&&re.focus()},de=(E,j)=>fs(E)?f.state.subscribe({next:U=>"values"in U&&E(R(void 0,j),U)}):R(E,j,!0),se=E=>f.state.subscribe({next:j=>{k4(E.name,j.name,E.exact)&&R4(j,E.formState||d,Jt,E.reRenderRoot)&&E.callback({values:{...i},...n,...j,defaultValues:r})}}).unsubscribe,be=E=>(a.mount=!0,h={...h,...E.formState},se({...E,formState:h})),Te=(E,j={})=>{for(const U of E?yl(E):o.mount)o.mount.delete(U),o.array.delete(U),j.keepValue||(Ct(s,U),Ct(i,U)),!j.keepError&&Ct(n.errors,U),!j.keepDirty&&Ct(n.dirtyFields,U),!j.keepTouched&&Ct(n.touchedFields,U),!j.keepIsValidating&&Ct(n.validatingFields,U),!e.shouldUnregister&&!j.keepDefaultValue&&Ct(r,U);f.state.next({values:Ht(i)}),f.state.next({...n,...j.keepDirty?{isDirty:P()}:{}}),!j.keepIsValid&&b()},le=({disabled:E,name:j})=>{(Es(E)&&a.mount||E||o.disabled.has(j))&&(E?o.disabled.add(j):o.disabled.delete(j))},he=(E,j={})=>{let U=ge(s,E);const re=Es(j.disabled)||Es(e.disabled);return it(s,E,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:E}},name:E,mount:!0,...j}}),o.mount.add(E),U?le({disabled:Es(j.disabled)?j.disabled:e.disabled,name:E}):v(E,!0,j.value),{...re?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:jo(j.min),max:jo(j.max),minLength:jo(j.minLength),maxLength:jo(j.maxLength),pattern:jo(j.pattern)}:{},name:E,onChange:Y,onBlur:Y,ref:ee=>{if(ee){he(E,j),U=ge(s,E);const ne=Nt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,oe=w4(ne),Re=U._f.refs||[];if(oe?Re.find(Le=>Le===ne):ne===U._f.ref)return;it(s,E,{_f:{...U._f,...oe?{refs:[...Re.filter(Gf),ne,...Array.isArray(ge(r,E))?[{}]:[]],ref:{type:ne.type,name:E}}:{ref:ne}}}),v(E,!1,void 0,ne)}else U=ge(s,E,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(p4(o.array,E)&&a.action)&&o.unMount.add(E)}}},ce=()=>e.shouldFocusError&&vl(s,Z,o.mount),pe=E=>{Es(E)&&(f.state.next({disabled:E}),vl(s,(j,U)=>{const re=ge(s,U);re&&(j.disabled=re._f.disabled||E,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||E}))},0,!1))},L=(E,j)=>async U=>{let re;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ee=Ht(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ne,values:oe}=await T();n.errors=ne,ee=Ht(oe)}else await A(s);if(o.disabled.size)for(const ne of o.disabled)Ct(ee,ne);if(Ct(n.errors,"root"),wn(n.errors)){f.state.next({errors:{}});try{await E(ee,U)}catch(ne){re=ne}}else j&&await j({...n.errors},U),ce(),setTimeout(ce);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},V=(E,j={})=>{ge(s,E)&&(Nt(j.defaultValue)?M(E,Ht(ge(r,E))):(M(E,j.defaultValue),it(r,E,Ht(j.defaultValue))),j.keepTouched||Ct(n.touchedFields,E),j.keepDirty||(Ct(n.dirtyFields,E),n.isDirty=j.defaultValue?P(E,Ht(ge(r,E))):P()),j.keepError||(Ct(n.errors,E),d.isValid&&b()),f.state.next({...n}))},ae=(E,j={})=>{const U=E?Ht(E):r,re=Ht(U),ee=wn(E),ne=ee?r:re;if(j.keepDefaultValues||(r=U),!j.keepValues){if(j.keepDirtyValues){const oe=new Set([...o.mount,...Object.keys(Oo(r,i))]);for(const Re of Array.from(oe))ge(n.dirtyFields,Re)?it(ne,Re,ge(i,Re)):M(Re,ge(ne,Re))}else{if(vv&&Nt(E))for(const oe of o.mount){const Re=ge(s,oe);if(Re&&Re._f){const Le=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Dd(Le)){const St=Le.closest("form");if(St){St.reset();break}}}}if(j.keepFieldsRef)for(const oe of o.mount)M(oe,ge(ne,oe));else s={}}i=e.shouldUnregister?j.keepDefaultValues?Ht(r):{}:Ht(ne),f.array.next({values:{...ne}}),f.state.next({values:{...ne}})}o={mount:j.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!j.keepIsValid||!!j.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!jr(E,r)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:j.keepDirtyValues?j.keepDefaultValues&&i?Oo(r,i):n.dirtyFields:j.keepDefaultValues&&E?Oo(r,E):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},ye=(E,j)=>ae(fs(E)?E(i):E,j),_e=(E,j={})=>{const U=ge(s,E),re=U&&U._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),j.shouldSelect&&fs(ee.select)&&ee.select())}},Jt=E=>{n={...n,...E}},on={control:{register:he,unregister:Te,getFieldState:D,handleSubmit:L,setError:X,_subscribe:se,_runSchema:T,_focusError:ce,_getWatch:R,_getDirty:P,_setValid:b,_setFieldArray:y,_setDisabledField:le,_setErrors:g,_getFieldArray:I,_reset:ae,_resetDefaultValues:()=>fs(e.defaultValues)&&e.defaultValues().then(E=>{ye(E,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:pe,_subjects:f,_proxyFormState:d,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(E){a=E},get _defaultValues(){return r},get _names(){return o},set _names(E){o=E},get _formState(){return n},get _options(){return e},set _options(E){e={...e,...E}}},subscribe:be,trigger:z,register:he,handleSubmit:L,watch:de,setValue:M,getValues:K,reset:ye,resetField:V,clearErrors:Q,unregister:Te,setError:X,setFocus:_e,getFieldState:D};return{...on,formControl:on}}function D4(t={}){const e=te.useRef(void 0),n=te.useRef(void 0),[s,r]=te.useState({isDirty:!1,isValidating:!1,isLoading:fs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:fs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!fs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=P4(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,x4(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),te.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),te.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),te.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),te.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),te.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),te.useEffect(()=>{t.values&&!jr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),te.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=b4(s,i),e.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rt=(t,e)=>{const n=x.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>x.createElement("svg",{ref:d,...U4,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${L4(t)}`,o].join(" "),...u},[...e.map(([h,f])=>x.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Rt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Rt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=Rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Rt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=Rt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Rt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Rt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=Rt("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Rt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Rt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Rt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Rt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=Rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Rt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=Rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=Rt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function SS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $4(...t){return e=>{let n=!1;const s=t.map(r=>{const i=SS(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():SS(t[r],null)}}}}function q_(t){const e=Q4(t),n=x.forwardRef((s,r)=>{const{children:i,...a}=s,o=x.Children.toArray(i),c=o.find(J4);if(c){const u=c.props.children,d=o.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return l.jsx(e,{...a,ref:r,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var Y4=q_("Slot");function Q4(t){const e=x.forwardRef((n,s)=>{const{children:r,...i}=n;if(x.isValidElement(r)){const a=W4(r),o=Z4(i,r.props);return r.type!==x.Fragment&&(o.ref=s?$4(s,a):a),x.cloneElement(r,o)}return x.Children.count(r)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var X4=Symbol("radix.slottable");function J4(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===X4}function Z4(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const c=i(...o);return r(...o),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function W4(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function K_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=K_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function $_(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=K_(t))&&(s&&(s+=" "),s+=e);return s}const CS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wS=$_,wv=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return wS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=CS(d)||CS(h);return r[u][f]}),o=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(S=>{let[b,C]=S;return Array.isArray(C)?C.includes({...i,...o}[b]):{...i,...o}[b]===C})?[...u,h,f]:u},[]);return wS(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Tv="-",ez=t=>{const e=nz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(Tv);return o[0]===""&&o.length!==1&&o.shift(),Y_(o,e)||tz(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&s[a]?[...c,...s[a]]:c}}},Y_=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?Y_(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Tv);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},TS=/^\[(.+)\]$/,tz=t=>{if(TS.test(t)){const e=TS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nz=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return rz(Object.entries(t.classGroups),n).forEach(([i,a])=>{Og(a,s,i,e)}),s},Og=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:AS(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(sz(r)){Og(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Og(a,AS(e,i),n,s)})})},AS=(t,e)=>{let n=t;return e.split(Tv).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},sz=t=>t.isThemeGetter,rz=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,iz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},Q_="!",az=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const c=[];let u=0,d=0,h;for(let C=0;C<o.length;C++){let y=o[C];if(u===0){if(y===r&&(s||o.slice(C,C+i)===e)){c.push(o.slice(d,C)),d=C+i;continue}if(y==="/"){h=C;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?o:o.substring(d),m=f.startsWith(Q_),S=m?f.substring(1):f,b=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:a}):a},oz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},lz=t=>({cache:iz(t.cacheSize),parseClassName:az(t),...ez(t)}),cz=/\s+/,uz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(cz);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let S=!!m,b=s(S?f.substring(0,m):f);if(!b){if(!S){o=u+(o.length>0?" "+o:o);continue}if(b=s(f),!b){o=u+(o.length>0?" "+o:o);continue}S=!1}const C=oz(d).join(":"),y=h?C+Q_:C,p=y+b;if(i.includes(p))continue;i.push(p);const g=r(b,S);for(let v=0;v<g.length;++v){const w=g[v];i.push(y+w)}o=u+(o.length>0?" "+o:o)}return o};function dz(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=X_(e))&&(s&&(s+=" "),s+=n);return s}const X_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=X_(t[s]))&&(n&&(n+=" "),n+=e);return n};function hz(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=lz(u),s=n.cache.get,r=n.cache.set,i=o,o(c)}function o(c){const u=s(c);if(u)return u;const d=uz(c,n);return r(c,d),d}return function(){return i(dz.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},J_=/^\[(?:([a-z-]+):)?(.+)\]$/i,fz=/^\d+\/\d+$/,mz=new Set(["px","full","screen"]),gz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=t=>Da(t)||mz.has(t)||fz.test(t),vr=t=>mo(t,"length",Nz),Da=t=>!!t&&!Number.isNaN(Number(t)),qf=t=>mo(t,"number",Da),Io=t=>!!t&&Number.isInteger(Number(t)),xz=t=>t.endsWith("%")&&Da(t.slice(0,-1)),ke=t=>J_.test(t),br=t=>gz.test(t),Sz=new Set(["length","size","percentage"]),Cz=t=>mo(t,Sz,Z_),wz=t=>mo(t,"position",Z_),Tz=new Set(["image","url"]),Az=t=>mo(t,Tz,Rz),Ez=t=>mo(t,"",_z),Mo=()=>!0,mo=(t,e,n)=>{const s=J_.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Nz=t=>pz.test(t)&&!yz.test(t),Z_=()=>!1,_z=t=>vz.test(t),Rz=t=>bz.test(t),kz=()=>{const t=st("colors"),e=st("spacing"),n=st("blur"),s=st("brightness"),r=st("borderColor"),i=st("borderRadius"),a=st("borderSpacing"),o=st("borderWidth"),c=st("contrast"),u=st("grayscale"),d=st("hueRotate"),h=st("invert"),f=st("gap"),m=st("gradientColorStops"),S=st("gradientColorStopPositions"),b=st("inset"),C=st("margin"),y=st("opacity"),p=st("padding"),g=st("saturate"),v=st("scale"),w=st("sepia"),N=st("skew"),T=st("space"),_=st("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ke,e],R=()=>[ke,e],I=()=>["",Ks,vr],B=()=>["auto",Da,ke],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ke],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Da,ke];return{cacheSize:500,separator:":",theme:{colors:[Mo],spacing:[Ks,vr],blur:["none","",br,ke],brightness:D(),borderColor:[t],borderRadius:["none","","full",br,ke],borderSpacing:R(),borderWidth:I(),contrast:D(),grayscale:z(),hueRotate:D(),invert:z(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[xz,vr],inset:P(),margin:P(),opacity:D(),padding:R(),saturate:D(),scale:D(),sepia:z(),skew:D(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[br]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),ke]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Io,ke]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Io,ke]}],"grid-cols":[{"grid-cols":[Mo]}],"col-start-end":[{col:["auto",{span:["full",Io,ke]},ke]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Mo]}],"row-start-end":[{row:["auto",{span:[Io,ke]},ke]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[br]},br]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",br,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qf]}],"font-family":[{font:[Mo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Da,qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ks,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ks,vr]}],"underline-offset":[{"underline-offset":["auto",Ks,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),wz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Az]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ks,ke]}],"outline-w":[{outline:[Ks,vr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ks,vr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",br,Ez]}],"shadow-color":[{shadow:[Mo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",br,ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Io,ke]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ks,vr,qf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Oz=hz(kz);function On(...t){return Oz($_(t))}function jz(t){const e=t.replace(/\D/g,"");return e.length===10||e.length===11}function ES(t){const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("1")?e.slice(1):e}const Iz=wv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",info:"bg-info text-info-foreground hover:bg-info/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=x.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?Y4:"button";return l.jsx(a,{className:On(Iz({variant:e,size:n,className:t})),ref:i,...r})});ie.displayName="Button";const xe=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:On("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xe.displayName="Card";const Ae=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:On("flex flex-col space-y-1.5 p-6",t),...e}));Ae.displayName="CardHeader";const Ne=x.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:On("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ne.displayName="CardTitle";const ms=x.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:On("text-sm text-muted-foreground",t),...e}));ms.displayName="CardDescription";const Se=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:On("p-6 pt-0",t),...e}));Se.displayName="CardContent";const Mz=x.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:On("flex items-center p-6 pt-0",t),...e}));Mz.displayName="CardFooter";const Fi=x.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:On("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Fi.displayName="Textarea";var Pz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Av=Pz.reduce((t,e)=>{const n=q_(`Primitive.${e}`),s=x.forwardRef((r,i)=>{const{asChild:a,...o}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Dz="Label",W_=x.forwardRef((t,e)=>l.jsx(Av.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W_.displayName=Dz;var eR=W_;const Uz=wv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=x.forwardRef(({className:t,...e},n)=>l.jsx(eR,{ref:n,className:On(Uz(),t),...e}));ft.displayName=eR.displayName;const Ev=N2,Ds=k2,Lz=({onNumbersSubmit:t,isLoading:e})=>{const[n,s]=x.useState(!1),[r,i]=x.useState(null),[a,o]=x.useState(null),[c,u]=x.useState(["voice"]),{role:d,organizationId:h,userId:f}=Ds(N=>N.demoAuth),{register:m,handleSubmit:S,formState:{errors:b},reset:C}=D4(),y=async N=>{s(!0),i(null),o(null);try{const T=N.phone_numbers.split(`
`).map(A=>A.trim()).filter(A=>A.length>0).map(ES);if(T.length===0){i("Please enter at least one phone number");return}const _=T.filter(A=>!jz(A));if(_.length>0){i(`Invalid phone numbers: ${_.join(", ")}`);return}await t(T,N.notes),o(`Successfully submitted ${T.length} phone numbers`)}catch(T){i(T instanceof Error?T.message:"An error occurred")}finally{s(!1)}},p=()=>{C(),i(null),o(null)},g=async()=>{var N,T;try{const _=h||1,A=f||1,k=((N=document.getElementById("phone_numbers"))==null?void 0:N.value.split(`
`).find(B=>B.trim()))||"",P=ES(k.trim());if(!P){i("Enter at least one phone number to request DNC");return}const R=((T=document.getElementById("dnc_reason"))==null?void 0:T.value)||"user request",I={"X-Org-Id":String(_),"X-User-Id":String(A),"X-Role":String(d||"member"),"Content-Type":"application/json"};try{const B=window.__msalAcquireToken,G="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(B&&G){const M=await B([G]);M&&(I.Authorization=`Bearer ${M}`)}}catch{}if(!c.length){i("Select at least one channel (Call, SMS, Email)");return}for(const B of c)if(!(await fetch(`${J}/api/v1/tenants/dnc-requests/${_}`,{method:"POST",headers:I,body:JSON.stringify({phone_e164:P,reason:R,channel:B})})).ok)throw new Error("Failed to submit DNC request");o("DNC request submitted for review")}catch(_){i(_ instanceof Error?_.message:"Failed to submit DNC request")}},v=d==="admin"||d==="owner"||d==="superadmin",w=d==="member";return l.jsxs(xe,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ae,{children:[l.jsxs(Ne,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(Wa,{className:"h-5 w-5"}),"Add Phone Numbers"]}),l.jsx(ms,{children:"Enter phone numbers to be removed from Do Not Call lists across all CRM systems"})]}),l.jsx(Se,{children:l.jsxs("form",{onSubmit:S(y),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(ft,{htmlFor:"phone_numbers",className:"text-sm font-medium text-gray-700",children:"Phone Numbers (one per line)"}),l.jsx(Fi,{id:"phone_numbers",placeholder:`Enter phone numbers here...
Example:
555-123-4567
(555) 987-6543
555.123.4567`,className:On("mt-1 min-h-[120px] resize-none",b.phone_numbers&&"border-red-300 focus:border-red-500 focus:ring-red-500"),...m("phone_numbers",{required:"Phone numbers are required",validate:N=>N.trim()?N.split(`
`).filter(_=>_.trim().length>0).length===0?"Please enter at least one phone number":!0:"Phone numbers are required"})}),b.phone_numbers&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.phone_numbers.message})]}),l.jsxs("div",{children:[l.jsx(ft,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),l.jsx(Fi,{id:"notes",placeholder:"Add any notes about these phone numbers...",className:"mt-1 resize-none",...m("notes")})]}),r&&l.jsx(It.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx(pc,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:r})]})}),a&&l.jsx(It.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[l.jsx(ri,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:a})]})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[v&&l.jsx(ie,{type:"submit",disabled:n||e,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:n||e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Submitting...":"Loading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(kg,{className:"h-4 w-4 mr-2"}),"Run Number Check"]})}),w&&l.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Channels"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"voice",label:"Call"},{key:"sms",label:"SMS"},{key:"email",label:"Email"}].map(N=>l.jsx("button",{type:"button",onClick:()=>u(T=>T.includes(N.key)?T.filter(_=>_!==N.key):[...T,N.key]),className:On("px-3 py-1 rounded border text-sm",c.includes(N.key)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:N.label},N.key))})]}),l.jsxs("div",{children:[l.jsx(ft,{htmlFor:"dnc_reason",className:"text-xs",children:"Reason"}),l.jsx("input",{id:"dnc_reason",className:"border rounded px-2 py-1 text-sm",placeholder:"Customer opt-out"})]})]}),w&&l.jsx(ie,{type:"button",variant:"outline",onClick:g,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Request DNC"}),l.jsx(ie,{type:"button",variant:"outline",onClick:p,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Clear"})]})]})})]})},Hz=({title:t,status:e,count:n,total:s,icon:r,onRetry:i,isLoading:a=!1})=>{const o=d=>{switch(d){case"completed":return"text-green-600 bg-green-50 border-green-200";case"failed":return"text-red-600 bg-red-50 border-red-200";case"processing":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=(d,h)=>{switch(d){case"completed":return l.jsx(ri,{className:"w-5 h-5"});case"failed":return l.jsx(pc,{className:"w-5 h-5"});case"processing":return h>0?l.jsx(Rg,{className:"w-5 h-5 animate-spin"}):l.jsx(ji,{className:"w-5 h-5"});case"pending":return l.jsx(ji,{className:"w-5 h-5"});default:return l.jsx(Wa,{className:"w-5 h-5"})}},u=s>0?Math.round(n/s*100):0;return l.jsx(It.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:l.jsxs(xe,{className:`border-2 ${o(e)} hover:shadow-md transition-shadow`,children:[l.jsx(Ae,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[r,l.jsx(Ne,{className:"text-lg font-semibold",children:t})]}),c(e,n)]})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:n}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"% of total"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e==="completed"?"bg-green-500":e==="failed"?"bg-red-500":e==="processing"?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${u}%`}})}),i&&e==="failed"&&l.jsx(ie,{variant:"outline",size:"sm",onClick:i,disabled:a,className:"w-full",children:a?l.jsxs(l.Fragment,{children:[l.jsx(Rg,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Au,{className:"w-4 h-4 mr-2"}),"Retry Failed"]})})]})})]})})},Bz=()=>{const{stats:t,isLoading:e,demoTotal:n}=Ds(h=>h.crmStatus),{phoneNumbers:s}=Ds(h=>h.phoneNumbers),r=n||s.length,i=h=>{switch(h){case"logics":return"Logics";case"genesys":return"Genesys";case"ringcentral":return"Ring Central";case"convoso":return"Convoso";case"ytel":return"Ytel";default:return h}},a=h=>{switch(h){case"logics":return l.jsx(H4,{className:"w-5 h-5"});case"genesys":return l.jsx(z4,{className:"w-5 h-5"});case"ringcentral":return l.jsx(F4,{className:"w-5 h-5"});case"convoso":return l.jsx(K4,{className:"w-5 h-5"});case"ytel":return l.jsx(Wa,{className:"w-5 h-5"});default:return l.jsx(Wa,{className:"w-5 h-5"})}},o=h=>{console.log(`Retrying failed removals for ${h}`)},u={...{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},...t},d=h=>h.failed>0?"failed":h.processing>0?"processing":h.pending>0?"pending":(h.completed>0,"completed");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CRM Status Dashboard"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Phone Numbers: ",r]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(u).map(([h,f])=>l.jsx(Hz,{title:i(h),status:d(f),count:f.total,total:r,icon:a(h),onRetry:f.failed>0?()=>o(h):void 0,isLoading:e},h))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(xe,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Processed"}),l.jsx("p",{className:"text-2xl font-bold",children:Object.values(u).reduce((h,f)=>h+f.total,0)})]}),l.jsx(G_,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(xe,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(()=>{const h=Object.values(u).reduce((m,S)=>m+S.total,0),f=Object.values(u).reduce((m,S)=>m+S.completed,0);return h>0?Math.round(f/h*100):0})(),"%"]})]}),l.jsx(ri,{className:"w-8 h-8 text-green-500"})]})})}),l.jsx(xe,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Object.values(u).reduce((h,f)=>h+f.processing,0)})]}),Object.values(u).reduce((f,m)=>f+m.processing,0)>0?l.jsx(Rg,{className:"w-8 h-8 text-blue-500 animate-spin"}):l.jsx(ji,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(xe,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Failed"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:Object.values(u).reduce((h,f)=>h+f.failed,0)})]}),l.jsx(pc,{className:"w-8 h-8 text-red-500"})]})})})]})]})},en=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},zz=({numbers:t,onAutomationComplete:e})=>{const[n,s]=x.useState({}),[r,i]=x.useState({}),[,a]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(null),[h,f]=x.useState(!1),[m,S]=x.useState({total:0,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),b=async g=>{var v,w,N,T,_;console.log(" Starting DNC check for phone:",g),console.log(" Demo headers:",en()),i(A=>({...A,[g]:!0}));try{const A={};try{const k=await fetch(`${J}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json();A.dnc={listed:!!(P!=null&&P.is_dnc)}}}catch{}try{const k=await fetch(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(v=P==null?void 0:P.data)==null?void 0:v.is_on_dnc;R===null?A.ringcentral={listed:null,status:"unknown"}:A.ringcentral={listed:R||!1}}}catch{}try{const k=await fetch(`${J}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(w=P==null?void 0:P.data)==null?void 0:w.is_on_dnc;R===null?A.convoso={listed:null,status:"unknown"}:A.convoso={listed:R||!1}}}catch{}try{const k=await fetch(`${J}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(N=P==null?void 0:P.data)==null?void 0:N.is_on_dnc,I=(T=P==null?void 0:P.data)==null?void 0:T.status;R===null||I==="unknown"?A.ytel={listed:null,status:"unknown"}:A.ytel={listed:R||!1,status:I}}}catch{}await p(g);try{const k=await fetch(`${J}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(k.ok){const P=await k.json(),R=(_=P==null?void 0:P.data)==null?void 0:_.is_on_dnc;R===null?A.genesys={listed:null,status:"unknown"}:A.genesys={listed:R||!1}}}catch{}s(k=>{var P;return{...k,[g]:{phone_number:g,providers:{...((P=k[g])==null?void 0:P.providers)||{},...A}}}}),a(null),console.log(" Search history saving is DISABLED - should not make any calls")}catch{a("Cannot reach backend (check that it is running)")}finally{i(A=>({...A,[g]:!1}))}};x.useEffect(()=>{t.forEach(g=>b(g))},[t.join(",")]);const C=(g,v)=>g===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):g===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",v?`  ${v}`:""]}),y=async(g,v)=>{var w,N,T,_,A,k,P;c(`${g}:${v}`);try{console.log(`Pushing ${v} to ${g}...`);try{await fetch(`${J}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"pending",attempt_no:1})})}catch{}if(g==="ringcentral"){const R=await fetch(`${J}/api/v1/ringcentral/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:v})});console.log(`RingCentral response: ${R.status}`)}else if(g==="convoso"){const R=await fetch(`${J}/api/v1/convoso/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:v})});console.log(`Convoso response: ${R.status}`)}else if(g==="ytel"){const R=await fetch(`${J}/api/v1/ytel/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:v})});if(console.log(`Ytel response: ${R.status}`),R.ok){const I=await R.json();console.log(`Ytel message: ${I.message}`),(w=I.data)!=null&&w.already_on_dnc?alert(` ${I.message}`):((N=I.data)!=null&&N.added_to_dnc||(T=I.data)!=null&&T.added_to_global_dnc)&&alert(` ${I.message}`)}}else if(g==="genesys"){const R=await fetch(`${J}/api/v1/genesys/dnclists/d4a6a02e-4ab9-495b-a141-4c65aee551db/phonenumbers`,{method:"PATCH",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({action:"Add",phone_numbers:[v],expiration_date_time:""})});console.log(`Genesys response: ${R.status}`)}else if(g==="logics"){const R=n[v],I=(P=(k=(A=(_=R==null?void 0:R.providers)==null?void 0:_.logics)==null?void 0:A.cases)==null?void 0:k[0])==null?void 0:P.CaseID;if(I){const B=await fetch(`${J}/api/v1/logics/update-case`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({caseId:I,statusId:2})});console.log(`Logics response: ${B.status}`)}}console.log(`Successfully pushed ${v} to ${g}`),await b(v),S(R=>({...R,completed:R.completed+1,per:{...R.per,[g]:{...R.per[g],completed:R.per[g].completed+1}},logs:[...R.logs,`${g}  ${v}`].slice(-200)}));try{await fetch(`${J}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"success",attempt_no:1})})}catch{}}catch(R){console.error(`Failed to push ${v} to ${g}:`,R),alert(`Failed to push ${v} to ${g}: ${(R==null?void 0:R.message)||"Unknown error"}`),S(I=>({...I,failed:I.failed+1,per:{...I.per,[g]:{...I.per[g],failed:I.per[g].failed+1}},logs:[...I.logs,`${g}  ${v} ${(R==null?void 0:R.message)||""}`].slice(-200)}));try{await fetch(`${J}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"failed",error_message:(R==null?void 0:R.message)||"failed",attempt_no:1})})}catch{}}finally{c(null)}},p=async g=>{var v,w,N;try{const T=await fetch(`${J}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({phone_number:g})});if(!T.ok)return;const _=await T.json(),A=((v=_==null?void 0:_.data)==null?void 0:v.is_found)||!1,k=((N=(w=_==null?void 0:_.data)==null?void 0:w.raw_response)==null?void 0:N.Data)||[];s(P=>{const R=P[g]||{phone_number:g,providers:{}};return{...P,[g]:{...R,providers:{...R.providers,logics:{listed:A,count:k.length,cases:k}}}}})}catch{}};return l.jsxs(l.Fragment,{children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Systems Check Results"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:t.map(g=>{var N,T,_,A,k,P,R,I,B,G,M,Y,Z,z,K,D,Q,X,de,se;const v=n[g],w=(v==null?void 0:v.providers)||{};return l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:g}),r[g]&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),r[g]&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"DNC (Federal)"}),l.jsx("div",{className:"flex items-center gap-2",children:w.dnc?w.dnc.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not on DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((N=w.ringcentral)==null?void 0:N.listed),(((T=w.ringcentral)==null?void 0:T.listed)===!1||((_=w.ringcentral)==null?void 0:_.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ringcentral",g),disabled:o===`ringcentral:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((A=w.convoso)==null?void 0:A.listed),(((k=w.convoso)==null?void 0:k.listed)===!1||((P=w.convoso)==null?void 0:P.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("convoso",g),disabled:o===`convoso:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[w.logics?((I=(R=w.logics.cases)==null?void 0:R[0])==null?void 0:I.CaseID)==="57"?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):(G=(B=w.logics.cases)==null?void 0:B[0])!=null&&G.CaseID?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Found"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((M=w.logics)==null?void 0:M.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[w.logics.count," case(s)"]})]}),((z=(Z=(Y=w.logics)==null?void 0:Y.cases)==null?void 0:Z[0])==null?void 0:z.CaseID)&&w.logics.cases[0].CaseID!=="57"&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>d({phone:g,caseId:w.logics.cases[0].CaseID}),disabled:o===`logics:${g}`,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((K=w.genesys)==null?void 0:K.listed),(((D=w.genesys)==null?void 0:D.listed)===!1||((Q=w.genesys)==null?void 0:Q.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("genesys",g),disabled:o===`genesys:${g}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[C((X=w.ytel)==null?void 0:X.listed,"search"),(((de=w.ytel)==null?void 0:de.listed)===!1||((se=w.ytel)==null?void 0:se.listed)===null)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ytel",g),disabled:o===`ytel:${g}`,children:"Push"})]})]})]})]},g)})})})]}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(ie,{onClick:async()=>{try{if(f(!0),S({total:t.length,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),(await fetch(`${J}/api/v1/tenants/dnc/orchestrate`,{method:"POST",headers:{"Content-Type":"application/json",...en()},body:JSON.stringify({mode:"push",phone_numbers:t})})).ok){S(v=>({...v,completed:t.length,logs:[...v.logs,`orchestrate  ${t.length} numbers`]}));for(const v of t)await b(v)}else S(v=>({...v,failed:t.length,logs:[...v.logs,"orchestrate "]}))}finally{e==null||e(t.length)}},disabled:o!==null,children:"Add All Remaining Numbers to DNC Lists"})}),h&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-lg font-semibold",children:"Push Progress"}),l.jsx("button",{className:"text-sm text-gray-600",onClick:()=>f(!1),children:"Close"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"Overall"}),l.jsxs("div",{children:["Completed: ",m.completed," / ",m.total]}),l.jsxs("div",{children:["Failed: ",m.failed]}),l.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 bg-blue-600",style:{width:`${Math.min(100,m.completed/Math.max(1,m.total)*100)}%`}})})]}),l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"By Provider"}),["ringcentral","convoso","ytel","logics","genesys"].map(g=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"capitalize",children:g}),l.jsxs("span",{children:[m.per[g].completed,"  / ",m.per[g].failed," "]})]},g))]})]}),l.jsx("div",{className:"mt-3 max-h-40 overflow-y-auto text-xs bg-gray-50 border rounded p-2",children:m.logs.map((g,v)=>l.jsx("div",{children:g},v))})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:" SERIOUS WARNING"}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Phone:"})," ",u.phone,l.jsx("br",{}),l.jsx("strong",{children:"Case ID:"})," ",u.caseId]}),l.jsxs("p",{className:"mb-4 text-gray-700",children:[l.jsx("strong",{children:"Are you absolutely sure?"})," Adding this number to DNC will ",l.jsx("strong",{children:"END their case"})," in Logics. This action cannot be undone and will permanently close their case."]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx(ie,{variant:"outline",onClick:()=>d(null),className:"flex-1",children:"Cancel"}),l.jsx(ie,{onClick:async()=>{await y("logics",u.phone),d(null)},disabled:o===`logics:${u.phone}`,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Yes, End Case"})]})]})})]})},Vz=({organizationId:t,adminUserId:e})=>{const[n,s]=x.useState([]),[r,i]=x.useState(!1),[a,o]=x.useState(null),c=async()=>{const h={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const f=window.__msalAcquireToken,m="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(f&&m){const S=await f([m]);S&&(h.Authorization=`Bearer ${S}`)}}catch{}return h},u=async()=>{o(null),i(!0);try{const h=await c(),m=await(await fetch(`${J}/api/v1/tenants/dnc-requests/org/${t}?status=pending&limit=10`,{headers:h})).json();s(m||[])}catch(h){o(h instanceof Error?h.message:"Failed to load pending requests")}finally{i(!1)}};x.useEffect(()=>{u()},[]);const d=async(h,f)=>{o(null);try{const m=await c();if(!(await fetch(`${J}/api/v1/tenants/dnc-requests/${h}/${f}`,{method:"POST",headers:m,body:JSON.stringify({notes:""})})).ok)throw new Error("Action failed");s(b=>b.filter(C=>C.id!==h))}catch(m){o(m instanceof Error?m.message:"Action failed")}};return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Pending Requests"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[l.jsx("div",{className:"text-gray-600",children:"Top 10 newest pending."}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ie,{size:"sm",variant:"outline",onClick:u,disabled:r,children:"Refresh"})})]}),a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),r?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((h,f)=>l.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},f))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests."}):l.jsx("div",{className:"space-y-2",children:n.map(h=>l.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[h.phone_e164,"  ",h.channel||"n/a"]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",h.reason||""]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>d(h.id,"approve"),children:"Approve"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>d(h.id,"deny"),children:"Deny"})]})]},h.id))})]})]})},bt=x.forwardRef(({className:t,type:e,...n},s)=>l.jsx("input",{type:e,className:On("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));bt.displayName="Input";const Fz=({organizationId:t,adminUserId:e})=>{const[n,s]=x.useState([]),[r,i]=x.useState(""),[a,o]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(!1),[f,m]=x.useState(""),[S,b]=x.useState(""),[C,y]=x.useState(""),[p,g]=x.useState(""),v=async()=>{const T={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const _=window.__msalAcquireToken,A="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(_&&A){const k=await _([A]);k&&(T.Authorization=`Bearer ${k}`)}}catch{}return T},w=async(T=!1)=>{h(!0);const _=new URLSearchParams;r&&_.set("q",r),a&&_.set("cursor",String(a)),_.set("limit","50");const A=await v(),P=await(await fetch(`${J}/api/v1/tenants/litigations/${t}?${_.toString()}`,{headers:A})).json();s(T?[...n,...P]:P),u(P.length===50),o(P.length?P[P.length-1].id:null),h(!1)};x.useEffect(()=>{o(null),w(!1)},[r]);const N=async()=>{if(!f||!S)return;const T=await v();await fetch(`${J}/api/v1/tenants/litigations/${t}`,{method:"POST",headers:T,body:JSON.stringify({phone_e164:f,company:S,case_number:C,notes:p})}),m(""),b(""),y(""),g(""),o(null),w(!1)};return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"TCPA Litigation Records"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(ft,{className:"text-xs",children:"Search"}),l.jsx(bt,{placeholder:"Phone, company, case #",value:r,onChange:T=>i(T.target.value)})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[l.jsxs("div",{children:[l.jsx(ft,{className:"text-xs",children:"Phone (digits)"}),l.jsx(bt,{value:f,onChange:T=>m(T.target.value),placeholder:"e.g. 5618189087"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(ft,{className:"text-xs",children:"Company"}),l.jsx(bt,{value:S,onChange:T=>b(T.target.value),placeholder:"Company name"})]}),l.jsxs("div",{children:[l.jsx(ft,{className:"text-xs",children:"Case #"}),l.jsx(bt,{value:C,onChange:T=>y(T.target.value),placeholder:"Optional"})]}),l.jsx("div",{className:"md:col-span-2 flex items-end",children:l.jsx(ie,{onClick:N,children:"Add"})})]}),d&&n.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((T,_)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},_))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No litigation records"}):l.jsxs("div",{className:"space-y-2",children:[n.map(T=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[T.phone_e164,"  ",T.company]}),l.jsxs("div",{className:"text-gray-600",children:["Case: ",T.case_number||"","  Status: ",T.status]})]})},T.id)),c&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(ie,{variant:"outline",onClick:()=>w(!0),children:"Load more"})})]})]})]})},Gz=({organizationId:t,adminUserId:e})=>{const[n,s]=x.useState([]),[r,i]=x.useState({}),[a,o]=x.useState(!1),c=async()=>{const f={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const m=window.__msalAcquireToken,S="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(m&&S){const b=await m([S]);b&&(f.Authorization=`Bearer ${b}`)}}catch{}return f},u=async()=>{o(!0);const f=await c(),S=await(await fetch(`${J}/api/v1/tenants/dnc-samples/${t}?only_gaps=true&limit=200`,{headers:f})).json();s(S),o(!1)};x.useEffect(()=>{u()},[]);const d=x.useMemo(()=>Object.entries(r).filter(([,f])=>f).map(([f])=>Number(f)),[r]),h=async()=>{if(d.length===0)return;const f=await c();await fetch(`${J}/api/v1/tenants/dnc-samples/${t}/bulk_add_to_dnc`,{method:"POST",headers:f,body:JSON.stringify({ids:d})}),i({}),u()};return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"National DNC Gaps (not in org DNC)"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(ie,{variant:"outline",onClick:h,disabled:d.length===0,children:"Add selected to DNC"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",d.length]})]}),a?l.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((f,m)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},m))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No gaps found."}):l.jsx("div",{className:"space-y-2",children:n.map(f=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!r[f.id],onChange:m=>i({...r,[f.id]:m.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:f.phone_e164}),l.jsxs("div",{className:"text-gray-600",children:["Sample: ",new Date(f.sample_date).toLocaleString()]})]})]})},f.id))})]})]})},qz=({request:t,onBack:e})=>{var g,v,w,N,T,_,A,k,P,R,I,B,G,M,Y,Z,z,K,D,Q,X,de;const[n,s]=x.useState(!1),[r,i]=x.useState(null),[a,o]=x.useState(null),[c,u]=x.useState([]),[d,h]=x.useState(""),[f,m]=x.useState(!1),[S,b]=x.useState({}),[C,y]=x.useState(!1);x.useEffect(()=>{(async()=>{var be,Te,le,he,ce,pe;s(!0),i(null);try{const L={};try{const V=await lt(`${J}/api/check_number`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})});L.dnc={listed:!!(V!=null&&V.is_dnc)}}catch{}try{const V=await lt(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(be=V==null?void 0:V.data)==null?void 0:be.is_on_dnc;ae===null?L.ringcentral={listed:null,status:"unknown"}:L.ringcentral={listed:ae||!1}}catch{}try{const V=await lt(`${J}/api/v1/convoso/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(Te=V==null?void 0:V.data)==null?void 0:Te.is_on_dnc;ae===null?L.convoso={listed:null,status:"unknown"}:L.convoso={listed:ae||!1}}catch{}try{const V=await lt(`${J}/api/v1/ytel/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(le=V==null?void 0:V.data)==null?void 0:le.is_on_dnc;ae===null?L.ytel={listed:null,status:"unknown"}:L.ytel={listed:ae||!1}}catch{}try{const V=await lt(`${J}/api/v1/logics/search-by-phone`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=((ce=(he=V==null?void 0:V.data)==null?void 0:he.raw_response)==null?void 0:ce.Data)||[];L.logics={listed:ae.length>0,count:ae.length,cases:ae},u(ae)}catch{}try{const V=await lt(`${J}/api/v1/genesys/search-dnc`,{method:"POST",body:JSON.stringify({phone_number:t.phone_e164})}),ae=(pe=V==null?void 0:V.data)==null?void 0:pe.is_on_dnc;ae===null?L.genesys={listed:null,status:"unknown"}:L.genesys={listed:ae||!1}}catch{}o({phone_number:t.phone_e164,providers:L})}catch(L){i(L instanceof Error?L.message:"Failed to load details")}finally{s(!1)}})()},[t.id]);const p=async se=>{if(se==="approve"){m(!0),i(null),y(!1);const be=["RingCentral","Convoso","Ytel","Genesys","Logics","DNC History"],Te={};be.forEach(le=>{Te[le]="pending"}),b(Te);try{b(he=>({...he,"DNC History":"loading"})),await lt(`${J}/api/v1/tenants/dnc-requests/${t.id}/approve`,{method:"POST",body:JSON.stringify({notes:d})}),b(he=>({...he,"DNC History":"success"}));const le=["RingCentral","Convoso","Ytel","Genesys","Logics"];for(const he of le)b(ce=>({...ce,[he]:"loading"})),await new Promise(ce=>setTimeout(ce,1e3)),b(ce=>({...ce,[he]:"success"}));y(!0),setTimeout(()=>{e()},3e3)}catch(le){i(le instanceof Error?le.message:"Approval failed"),b(he=>{const ce={...he};return Object.keys(ce).forEach(pe=>{ce[pe]==="loading"&&(ce[pe]="error")}),ce})}finally{m(!1)}}else try{await lt(`${J}/api/v1/tenants/dnc-requests/${t.id}/deny`,{method:"POST",body:JSON.stringify({notes:d})}),e()}catch(be){i(be instanceof Error?be.message:"Denial failed")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-semibold",children:["Request #",t.id]}),l.jsx(ie,{variant:"outline",onClick:e,children:"Back"})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Request Info"})}),l.jsx(Se,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone_e164]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Channel:"})," ",t.channel||"n/a"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Reason:"})," ",t.reason||""]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Requested by:"})," #",t.requested_by_user_id]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Systems Check"})}),l.jsx(Se,{children:n?"Loading":a?l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsx("div",{className:"flex items-center gap-2",children:((v=(g=a.providers)==null?void 0:g.dnc)==null?void 0:v.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((N=(w=a.providers)==null?void 0:w.dnc)==null?void 0:N.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsx("div",{className:"flex items-center gap-2",children:((_=(T=a.providers)==null?void 0:T.ringcentral)==null?void 0:_.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((k=(A=a.providers)==null?void 0:A.ringcentral)==null?void 0:k.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsx("div",{className:"flex items-center gap-2",children:((R=(P=a.providers)==null?void 0:P.convoso)==null?void 0:R.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((B=(I=a.providers)==null?void 0:I.convoso)==null?void 0:B.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsx("div",{className:"flex items-center gap-2",children:((M=(G=a.providers)==null?void 0:G.ytel)==null?void 0:M.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((Z=(Y=a.providers)==null?void 0:Y.ytel)==null?void 0:Z.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics"}),l.jsx("div",{className:"flex items-center gap-2",children:(K=(z=a.providers)==null?void 0:z.logics)!=null&&K.listed?l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 font-medium",children:["Active Case (",a.providers.logics.count," case",a.providers.logics.count!==1?"s":"",")"]}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"No Cases"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsx("div",{className:"flex items-center gap-2",children:((Q=(D=a.providers)==null?void 0:D.genesys)==null?void 0:Q.listed)===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):((de=(X=a.providers)==null?void 0:X.genesys)==null?void 0:de.listed)===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"})})]})]}):l.jsx("div",{className:"text-gray-600 text-sm",children:"No data"})})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsxs(Ne,{className:"flex items-center gap-2",children:["Logics Cases",c.length>0&&l.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:[c.length," Active Case",c.length!==1?"s":""]})]})}),l.jsx(Se,{children:n?"Loading":c.length?l.jsx("div",{className:"space-y-3",children:c.map((se,be)=>l.jsxs("div",{className:"border border-blue-200 rounded-lg p-3 bg-blue-50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs rounded font-medium",children:"ACTIVE CASE"}),l.jsxs("span",{className:"font-semibold text-blue-900",children:["Case #",se.CaseID]})]}),l.jsx("a",{href:`https://tps.logiqs.com/Cases/Case.aspx?CaseID=${se.CaseID}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",children:"View in Logics "})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:[se.FirstName,se.MiddleName,se.LastName].filter(Boolean).join(" ")||"N/A"})]}),se.Email&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:se.Email})]}),se.CreatedDate&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:new Date(se.CreatedDate).toLocaleString()})]}),se.TaxAmount&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tax Amount:"}),l.jsxs("span",{className:"ml-1 text-gray-900",children:["$",se.TaxAmount.toLocaleString()]})]}),se.StatusID&&l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:se.StatusID})]})]})]},be))}):l.jsxs("div",{className:"text-gray-600 text-sm text-center py-4",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:""}),"No Logics cases found"]})})]})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Decision"})}),l.jsxs(Se,{children:[r&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:r}),C&&l.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"font-medium",children:"Request approved successfully!"})]}),l.jsx("div",{className:"text-sm text-green-700 mt-1",children:"Number has been added to DNC lists and will appear in DNC History. This window will close automatically."})]}),f&&l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),l.jsx("span",{className:"font-medium",children:"Approving request and pushing to systems..."})]}),l.jsx("div",{className:"space-y-2",children:Object.entries(S).map(([se,be])=>l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-700",children:se}),l.jsxs("div",{className:"flex items-center gap-2",children:[be==="pending"&&l.jsx("span",{className:"text-gray-400",children:" Pending"}),be==="loading"&&l.jsx("span",{className:"text-blue-600",children:" Processing..."}),be==="success"&&l.jsx("span",{className:"text-green-600",children:" Success"}),be==="error"&&l.jsx("span",{className:"text-red-600",children:" Failed"})]})]},se))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bt,{placeholder:"Decision notes (optional)",value:d,onChange:se=>h(se.target.value),disabled:f}),l.jsx(ie,{onClick:()=>p("approve"),className:"bg-green-600 hover:bg-green-700",disabled:f,children:f?"Approving...":"Approve"}),l.jsx(ie,{variant:"outline",onClick:()=>p("deny"),disabled:f,children:"Deny"})]})]})]})]})},Kz=({phone:t,requestedBy:e,reason:n,submitted:s,onApprove:r,onCancel:i})=>{const[a,o]=x.useState(""),[c,u]=x.useState(!1),d=async()=>{u(!0),await r(a),u(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Approve DNC Request?"}),l.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:[l.jsxs("div",{children:["Phone: ",l.jsx("span",{className:"font-medium",children:t})]}),e&&l.jsxs("div",{children:["Requested by: ",e]}),n&&l.jsxs("div",{children:["Reason: ",n]}),s&&l.jsxs("div",{children:["Submitted: ",s]})]}),l.jsx("div",{className:"text-sm text-gray-700 mb-3",children:"This will add the number to DNC lists across RingCentral, Convoso, Ytel, Logics, and Genesys."}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-xs text-gray-700 mb-1",children:"Decision Notes (optional)"}),l.jsx(Fi,{value:a,onChange:h=>o(h.target.value),rows:3})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ie,{variant:"outline",onClick:i,children:"Cancel"}),l.jsx(ie,{onClick:d,disabled:c,children:c?"Approving":"Approve & Propagate"})]})]})})},$z=({phone:t,onReject:e,onCancel:n})=>{const[s,r]=x.useState(""),[i,a]=x.useState(!1),[o,c]=x.useState(null),u=async()=>{if(!s.trim()){c("Rejection notes are required");return}c(null),a(!0),await e(s),a(!1)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Reject DNC Request?"}),l.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Phone: ",l.jsx("span",{className:"font-medium",children:t})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("div",{className:"text-xs text-gray-700 mb-1",children:"Please provide a reason for rejection"}),l.jsx(Fi,{value:s,onChange:d=>r(d.target.value),rows:3}),o&&l.jsx("div",{className:"text-xs text-red-600 mt-1",children:o})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ie,{variant:"outline",onClick:n,children:"Cancel"}),l.jsx(ie,{onClick:u,disabled:i,children:i?"Rejecting":"Reject Request"})]})]})})};function Yz(t,e=[]){let n=[];function s(i,a){const o=x.createContext(a),c=n.length;n=[...n,a];const u=h=>{var y;const{scope:f,children:m,...S}=h,b=((y=f==null?void 0:f[t])==null?void 0:y[c])||o,C=x.useMemo(()=>S,Object.values(S));return l.jsx(b.Provider,{value:C,children:m})};u.displayName=i+"Provider";function d(h,f){var b;const m=((b=f==null?void 0:f[t])==null?void 0:b[c])||o,S=x.useContext(m);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>x.createContext(a));return function(o){const c=(o==null?void 0:o[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return r.scopeName=t,[s,Qz(r,...e)]}function Qz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...o,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Nv="Progress",_v=100,[Xz,Y3]=Yz(Nv),[Jz,Zz]=Xz(Nv),tR=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=Wz,...a}=t;(r||r===0)&&!NS(r)&&console.error(e3(`${r}`,"Progress"));const o=NS(r)?r:_v;s!==null&&!_S(s,o)&&console.error(t3(`${s}`,"Progress"));const c=_S(s,o)?s:null,u=Hd(c)?i(c,o):void 0;return l.jsx(Jz,{scope:n,value:c,max:o,children:l.jsx(Av.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Hd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":rR(c,o),"data-value":c??void 0,"data-max":o,...a,ref:e})})});tR.displayName=Nv;var nR="ProgressIndicator",sR=x.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=Zz(nR,n);return l.jsx(Av.div,{"data-state":rR(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});sR.displayName=nR;function Wz(t,e){return`${Math.round(t/e*100)}%`}function rR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Hd(t){return typeof t=="number"}function NS(t){return Hd(t)&&!isNaN(t)&&t>0}function _S(t,e){return Hd(t)&&!isNaN(t)&&t<=e&&t>=0}function e3(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_v}\`.`}function t3(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_v} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var iR=tR,n3=sR;const Rv=x.forwardRef(({className:t,value:e,...n},s)=>l.jsx(iR,{ref:s,className:On("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(n3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Rv.displayName=iR.displayName;const s3=({status:t,className:e})=>{const n={pending:"bg-gray-100 text-gray-800 border border-gray-300",in_progress:"bg-blue-100 text-blue-800 border border-blue-300",success:"bg-green-100 text-green-800 border border-green-300",failed:"bg-red-100 text-red-800 border border-red-300",approved:"bg-green-100 text-green-800 border border-green-300",denied:"bg-red-100 text-red-800 border border-red-300",completed:"bg-green-100 text-green-800 border border-green-300"};return l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${n[t]} ${e||""}`,children:t.replace("_"," ")})},r3=({requestId:t,phone:e,onClose:n})=>{const[s,r]=x.useState([]),[,i]=x.useState(!0),[,a]=x.useState({}),o=async()=>{i(!0);try{const d=await lt(`${J}/api/v1/tenants/dnc-requests/${t}/status`);a(d.aggregate||{}),r(d.attempts||[])}finally{i(!1)}};x.useEffect(()=>{o();const d=setInterval(o,2e3);return()=>clearInterval(d)},[t]);const c=x.useMemo(()=>{const d=s.length||5,h=s.filter(f=>f.status==="success"||f.status==="failed").length;return Math.round(h/d*100)},[s]),u=d=>!d&&d!==0?"":`${d.toFixed(1)}s`;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"font-semibold",children:["Propagating Request #",t,"  ",e]}),l.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-sm text-gray-700 mb-1",children:["Progress: ",c,"%"]}),l.jsx(Rv,{value:c})]}),l.jsx("div",{className:"border rounded",children:["ringcentral","convoso","ytel","logics","genesys"].map(d=>{const h=s.find(m=>m.service_key===d),f=(h==null?void 0:h.status)||"pending";return l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b last:border-b-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-28 font-medium capitalize",children:d}),l.jsx(s3,{status:f})]}),l.jsx("div",{className:"text-xs text-gray-600",children:h!=null&&h.finished_at?new Date(h.finished_at).toLocaleTimeString():h!=null&&h.started_at?"In progress":"Pending"}),l.jsx("div",{className:"text-xs text-gray-600 w-12 text-right",children:u(h==null?void 0:h.duration_seconds)})]},d)})}),l.jsx("div",{className:"mt-3 flex justify-end gap-2",children:l.jsx(ie,{variant:"outline",onClick:n,children:"Close"})})]})})},i3=({organizationId:t,adminUserId:e})=>{var ce,pe;const[n,s]=x.useState([]),[r,i]=x.useState(!1),[a,o]=x.useState(null),[c,u]=x.useState("pending"),[d,h]=x.useState(""),[f,m]=x.useState(""),[S,b]=x.useState(""),[C,y]=x.useState(null),[p,g]=x.useState(!1),[v,w]=x.useState({}),[N,T]=x.useState(""),[_,A]=x.useState({}),[k,P]=x.useState(null),[R,I]=x.useState({}),[B,G]=x.useState(new Set),[M,Y]=x.useState(new Set),[Z,z]=x.useState(null),[K,D]=x.useState(null),[Q,X]=x.useState(null),de=async(L=!1)=>{i(!0),o(null);try{const V=new URLSearchParams;c&&V.set("status",c),L&&C&&V.set("cursor",String(C)),V.set("limit","50"),console.log(" FETCHING PENDING REQUESTS:",{organizationId:t,status:c,cursor:C,append:L});const ae=await lt(`${J}/api/v1/tenants/dnc-requests/org/${t}?${V.toString()}`);console.log(" PENDING REQUESTS LOADED:",ae),s(L?[...n,...ae]:ae),g(ae.length===50),y(ae.length?ae[ae.length-1].id:null)}catch(V){console.error(" FAILED TO LOAD REQUESTS:",V),o(V instanceof Error?V.message:"Failed to load")}finally{i(!1)}};x.useEffect(()=>{y(null),de(!1)},[c]),x.useEffect(()=>{(async()=>{try{console.log(" LOADING USERS for organization:",t);const L=await lt(`${J}/api/v1/tenants/users`),V={};L.forEach(ae=>{V[ae.id]=ae}),A(V),console.log(" USERS LOADED:",V)}catch(L){console.error(" FAILED TO LOAD USERS:",L),A({})}})()},[]);const se=async(L,V,ae)=>{Y(ye=>new Set(ye).add(L));try{console.log(` ${V.toUpperCase()} REQUEST:`,L);const ye=await lt(`${J}/api/v1/tenants/dnc-requests/${L}/${V}`,{method:"POST",body:JSON.stringify({notes:ae??N})});if(console.log(` ${V.toUpperCase()} SUCCESS:`,ye),await de(!1),pn.success(V==="approve"?"Request approved successfully!":"Request denied"),V==="approve"){const _e=n.find(Jt=>Jt.id===L);_e&&X({requestId:_e.id,phone:_e.phone_e164})}}catch(ye){console.error(` ${V.toUpperCase()} FAILED:`,ye),o(ye instanceof Error?ye.message:"Action failed"),pn.error(`${V==="approve"?"Approval":"Denial"} failed`)}finally{Y(ye=>{const _e=new Set(ye);return _e.delete(L),_e})}},be=x.useMemo(()=>Object.entries(v).filter(([,L])=>L).map(([L])=>Number(L)),[v]),Te=async L=>{if(be.length!==0)try{if(L==="approve"){pn.info(`Checking systems for ${be.length} requests before approval...`);const ye=n.filter(_e=>be.includes(_e.id));for(const _e of ye)await le(_e.phone_e164);await new Promise(_e=>setTimeout(_e,3e3))}const V=`${J}/api/v1/tenants/dnc-requests/bulk/${L}`;console.log(` BULK ${L.toUpperCase()}:`,be);const ae=await lt(V,{method:"POST",body:JSON.stringify({ids:be,notes:N})});console.log(` BULK ${L.toUpperCase()} SUCCESS:`,ae),w({}),await de(!1),pn.success(`${L==="approve"?"Approved":"Denied"} ${be.length} requests successfully!`)}catch(V){console.error(` BULK ${L.toUpperCase()} FAILED:`,V),pn.error(`Bulk ${L} failed: ${V instanceof Error?V.message:"Unknown error"}`)}},le=async L=>{var ae,ye,_e,Jt,an,on;if(B.has(L))return;G(E=>new Set(E).add(L));const V={};try{try{const E=await fetch(`${J}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json();V.dnc={listed:!!(j!=null&&j.is_dnc)}}}catch{}try{const E=await fetch(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(ae=j==null?void 0:j.data)==null?void 0:ae.is_on_dnc;U===null?V.ringcentral={listed:null,status:"unknown"}:V.ringcentral={listed:U||!1}}}catch{}try{const E=await fetch(`${J}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(ye=j==null?void 0:j.data)==null?void 0:ye.is_on_dnc;U===null?V.convoso={listed:null,status:"unknown"}:V.convoso={listed:U||!1}}}catch{}try{const E=await fetch(`${J}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(_e=j==null?void 0:j.data)==null?void 0:_e.is_on_dnc;U===null?V.ytel={listed:null,status:"unknown"}:V.ytel={listed:U||!1}}}catch{}try{const E=await fetch(`${J}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=((an=(Jt=j==null?void 0:j.data)==null?void 0:Jt.raw_response)==null?void 0:an.Data)||[];V.logics={listed:U.length>0,count:U.length,cases:U}}}catch{}try{const E=await fetch(`${J}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(E.ok){const j=await E.json(),U=(on=j==null?void 0:j.data)==null?void 0:on.is_on_dnc;U===null?V.genesys={listed:null,status:"unknown"}:V.genesys={listed:U||!1}}}catch{}I(E=>({...E,[L]:{phone_number:L,providers:V}}))}finally{G(E=>{const j=new Set(E);return j.delete(L),j})}},he=L=>L===!0?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):L===!1?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"});return k?l.jsx(qz,{organizationId:t,adminUserId:e,request:k,onBack:()=>{P(null),de(!1)}}):l.jsxs(l.Fragment,{children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Pending DNC Requests"})}),l.jsxs(Se,{children:[a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx(ft,{className:"text-xs",children:"Status"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:c,onChange:L=>u(L.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(ft,{className:"text-xs",children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:f,onChange:L=>m(L.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]}),l.jsxs("div",{children:[l.jsx(ft,{className:"text-xs",children:"Requester"}),l.jsx(bt,{value:S,onChange:L=>b(L.target.value),placeholder:"name or email"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(ft,{className:"text-xs",children:"Search phone"}),l.jsx(bt,{value:d,onChange:L=>h(L.target.value),placeholder:"digits only"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(bt,{placeholder:"Decision notes (optional)",value:N,onChange:L=>T(L.target.value)}),l.jsx(ie,{variant:"outline",onClick:()=>Te("approve"),disabled:be.length===0,children:"Approve selected"}),l.jsx(ie,{variant:"outline",onClick:()=>Te("deny"),disabled:be.length===0,children:"Deny selected"}),l.jsx(ie,{variant:"outline",onClick:()=>{n.filter(V=>V.status==="pending").map(V=>V.phone_e164).forEach(V=>le(V))},disabled:B.size>0,children:"Check All Systems"})]}),r&&n.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((L,V)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},V))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests"}):l.jsxs("div",{className:"space-y-2",children:[n.filter(L=>{if(d&&!L.phone_e164.includes(d)||f&&L.channel!==f)return!1;if(S){const V=_[L.requested_by_user_id];if(!`${(V==null?void 0:V.name)||""} ${(V==null?void 0:V.email)||""}`.toLowerCase().includes(S.toLowerCase()))return!1}return!0}).map(L=>{var ye,_e,Jt,an,on,E,j,U,re,ee,ne,oe,Re,Le,St,ln,Zt,Cs,In;const V=R[L.phone_e164],ae=B.has(L.phone_e164);return l.jsxs("div",{className:"border rounded p-3 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!v[L.id],onChange:cn=>w({...v,[L.id]:cn.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"font-medium",children:[L.phone_e164,"  ",L.channel||"n/a"]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.status==="pending"?"bg-yellow-100 text-yellow-800":L.status==="approved"?"bg-green-100 text-green-800":L.status==="denied"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.status.toUpperCase()}),M.has(L.id)&&l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800 animate-pulse",children:"PROCESSING..."})]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",L.reason||"","  Requested by ",((ye=L.requested_by)==null?void 0:ye.name)||((_e=_[L.requested_by_user_id])==null?void 0:_e.name)||"User",(Jt=L.requested_by)!=null&&Jt.email?` (${(an=L.requested_by)==null?void 0:an.email})`:(on=_[L.requested_by_user_id])!=null&&on.email?` (${(E=_[L.requested_by_user_id])==null?void 0:E.email})`:""]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{variant:"outline",onClick:()=>P(L),children:"View"}),l.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:()=>z(L),disabled:M.has(L.id),children:M.has(L.id)?"Processing...":"Approve"}),l.jsx(ie,{variant:"outline",onClick:()=>D(L),disabled:M.has(L.id),children:M.has(L.id)?"Processing...":"Deny"})]})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Systems Check"}),l.jsx(ie,{variant:"outline",size:"sm",onClick:()=>le(L.phone_e164),disabled:ae,children:ae?"Checking...":V?"Re-check":"Check Systems"})]}),V?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"National DNC"}),he((U=(j=V.providers)==null?void 0:j.dnc)==null?void 0:U.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"RingCentral"}),he((ee=(re=V.providers)==null?void 0:re.ringcentral)==null?void 0:ee.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Convoso"}),he((oe=(ne=V.providers)==null?void 0:ne.convoso)==null?void 0:oe.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Ytel"}),he((Le=(Re=V.providers)==null?void 0:Re.ytel)==null?void 0:Le.listed)]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Logics"}),(St=V.providers)!=null&&St.logics?V.providers.logics.listed?l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):l.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),((Zt=(ln=V.providers)==null?void 0:ln.logics)==null?void 0:Zt.count)&&l.jsxs("span",{className:"text-xs text-gray-600 mt-1",children:[V.providers.logics.count," case(s)"]})]}),l.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Genesys"}),he((In=(Cs=V.providers)==null?void 0:Cs.genesys)==null?void 0:In.listed)]})]}):l.jsx("div",{className:"text-sm text-gray-500 italic",children:'Click "Check Systems" to see DNC status across all CRM systems'})]})]},L.id)}),p&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(ie,{variant:"outline",onClick:()=>de(!0),children:"Load more"})})]})]})]}),Z&&l.jsx(Kz,{phone:Z.phone_e164,requestedBy:((ce=_[Z.requested_by_user_id])==null?void 0:ce.name)||((pe=_[Z.requested_by_user_id])==null?void 0:pe.email),reason:Z.reason,submitted:Z.created_at,onApprove:async L=>{await se(Z.id,"approve",L),z(null)},onCancel:()=>z(null)}),K&&l.jsx($z,{phone:K.phone_e164,onReject:async L=>{await se(K.id,"deny",L),D(null)},onCancel:()=>D(null)}),Q&&l.jsx(r3,{requestId:Q.requestId,phone:Q.phone,onClose:()=>X(null)})]})},dn=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},a3=({initialPhones:t})=>{var Z,z,K,D,Q,X,de,se,be,Te;const[e,n]=x.useState((t==null?void 0:t[0])||""),[s,r]=x.useState(!1),[i,a]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(null),[h,f]=x.useState({}),[m,S]=x.useState(!1),[b,C]=x.useState(null),[y,p]=x.useState(null),[g,v]=x.useState(null),w=async()=>{var he,ce,pe,L,V;if(!e.trim())return;r(!0),a(null),c(null),p(null),C(null),v(null);const le={};try{try{const ae=await fetch(`${J}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json();le.dnc={listed:!!(ye!=null&&ye.is_dnc)}}}catch{}try{const ae=await fetch(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json(),_e=(he=ye==null?void 0:ye.data)==null?void 0:he.is_on_dnc;_e===null?le.ringcentral={listed:null,status:"unknown"}:le.ringcentral={listed:_e||!1}}}catch{}try{const ae=await fetch(`${J}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json(),_e=(ce=ye==null?void 0:ye.data)==null?void 0:ce.is_on_dnc;_e===null?le.convoso={listed:null,status:"unknown"}:le.convoso={listed:_e||!1}}}catch{}try{const ae=await fetch(`${J}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json(),_e=(pe=ye==null?void 0:ye.data)==null?void 0:pe.is_on_dnc;_e===null?le.ytel={listed:null,status:"unknown"}:le.ytel={listed:_e||!1}}}catch{}try{const ae=await fetch(`${J}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json(),_e=((L=ye==null?void 0:ye.data)==null?void 0:L.cases)||[];le.logics={listed:_e.length>0,count:_e.length,cases:_e}}}catch{}try{const ae=await fetch(`${J}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:e})});if(ae.ok){const ye=await ae.json(),_e=(V=ye==null?void 0:ye.data)==null?void 0:V.is_on_dnc;_e===null?le.genesys={listed:null,status:"unknown"}:le.genesys={listed:_e||!1}}}catch{}c({phone_number:e,providers:le}),Y(e)}catch(ae){a(ae instanceof Error?ae.message:"Failed systems check")}finally{r(!1)}},N=(le,he)=>le===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):le===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),T=(o==null?void 0:o.providers)||{},_=async()=>{if(o){d("ringcentral");try{const le=await fetch(`${J}/api/v1/ringcentral/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await le.text();let ce=he;try{ce=JSON.parse(he)}catch{}f(pe=>({...pe,ringcentral:{provider:"ringcentral",ok:le.ok,status:le.status,body:ce,at:new Date().toISOString()}})),await w()}finally{d(null)}}},A=async()=>{if(o){d("convoso");try{const le=await fetch(`${J}/api/v1/convoso/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await le.text();let ce=he;try{ce=JSON.parse(he)}catch{}f(pe=>({...pe,convoso:{provider:"convoso",ok:le.ok,status:le.status,body:ce,at:new Date().toISOString()}})),await w()}finally{d(null)}}},k=async()=>{if(o){d("ytel");try{const le=await fetch(`${J}/api/v1/ytel/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),he=await le.text();let ce=he;try{ce=JSON.parse(he)}catch{}f(pe=>({...pe,ytel:{provider:"ytel",ok:le.ok,status:le.status,body:ce,at:new Date().toISOString()}})),await w()}finally{d(null)}}},P=async()=>{var he,ce,pe;if(!(!o||!((pe=(ce=(he=T.logics)==null?void 0:he.cases)==null?void 0:ce[0])!=null&&pe.CaseID))){d("logics");try{const L=await fetch(`${J}/api/v1/logics/add-to-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:o.phone_number})}),V=await L.text();let ae=V;try{ae=JSON.parse(V)}catch{}f(ye=>({...ye,logics:{provider:"logics",ok:L.ok,status:L.status,body:ae,at:new Date().toISOString()}})),await w()}finally{d(null)}}},R=async()=>{var le,he,ce;o&&((le=T.ringcentral)!=null&&le.listed||await _(),(he=T.convoso)!=null&&he.listed||await A(),await k(),(ce=T.logics)!=null&&ce.listed||await P())},I=async le=>{try{const he=await fetch(`${J}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:le})});if(!he.ok)return;const ce=await he.text();let pe=ce;try{pe=JSON.parse(ce)}catch{}f(L=>({...L,logics_lookup:{provider:"logics_lookup",ok:!0,status:200,body:pe,at:new Date().toISOString()}})),c(L=>{var ae;if(!L)return L;const V=Array.isArray((ae=pe==null?void 0:pe.data)==null?void 0:ae.cases)?pe.data.cases:[];return{...L,providers:{...L.providers,logics:{listed:V.length>0,count:V.length,cases:V}}}})}catch{}},B=async le=>{const he=(le||e||"").trim();if(he)try{const ce=await fetch(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),pe=await ce.text();let L=pe;try{L=JSON.parse(pe)}catch{}f(V=>({...V,ringcentral_lookup:{provider:"ringcentral_lookup",ok:ce.ok,status:ce.status,body:L,at:new Date().toISOString()}}))}catch{}},G=async le=>{const he=(le||e||"").trim();if(he)try{const ce=await fetch(`${J}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),pe=await ce.text();let L=pe;try{L=JSON.parse(pe)}catch{}f(V=>({...V,convoso_lookup:{provider:"convoso_lookup",ok:ce.ok,status:ce.status,body:L,at:new Date().toISOString()}}))}catch{}},M=async le=>{const he=(le||e||"").trim();if(he)try{const ce=await fetch(`${J}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_number:he})}),pe=await ce.text();let L=pe;try{L=JSON.parse(pe)}catch{}f(V=>({...V,ytel_lookup:{provider:"ytel_lookup",ok:ce.ok,status:ce.status,body:L,at:new Date().toISOString()}}))}catch{}},Y=async le=>{var ce;const he=(le||e||"").trim();if(he){S(!0),C(null),p(null),v(null);try{const L=await(await fetch(`${J}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json",...dn()},body:JSON.stringify({phone_numbers:[he]})})).text();let V=L;try{V=JSON.parse(L)}catch{}v(V);const ae=(ce=V==null?void 0:V.results)==null?void 0:ce[0],ye=typeof(ae==null?void 0:ae.is_dnc)=="boolean"?ae.is_dnc:Array.isArray(V==null?void 0:V.matches)?V.matches.length>0:null;p(ye)}catch(pe){C(pe instanceof Error?pe.message:"Failed DNC check")}finally{S(!1)}}};return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Systems Check"})}),l.jsxs(Se,{children:[i&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:i}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx(bt,{placeholder:"Enter phone (any format)",value:e,onChange:le=>n(le.target.value),onKeyDown:le=>{le.key==="Enter"&&w()}}),l.jsx(ie,{onClick:w,disabled:s,children:s?"Checking":"Run Check"})]}),o&&l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:o.phone_number}),s&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),s&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsxs("div",{className:"flex items-center gap-2",children:[m?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"}):y===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):y===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>Y(o.phone_number),disabled:m,children:"Check"})]})]}),(b||g)&&l.jsx("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:b?l.jsx("div",{className:"text-red-600",children:b}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-1",children:"DNC API Response"}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof g=="string"?g:JSON.stringify(g,null,2)})]})}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((Z=T.ringcentral)==null?void 0:Z.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>B(o.phone_number),children:"Lookup"}),!((z=T.ringcentral)!=null&&z.listed)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:_,disabled:u==="ringcentral",children:"Push"})]})]}),h.ringcentral_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.ringcentral_lookup.status,")  ",new Date(h.ringcentral_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ringcentral_lookup.body=="string"?h.ringcentral_lookup.body:JSON.stringify(h.ringcentral_lookup.body,null,2)})]}),h.ringcentral&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.ringcentral.status,")  ",new Date(h.ringcentral.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ringcentral.body=="string"?h.ringcentral.body:JSON.stringify(h.ringcentral.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((K=T.convoso)==null?void 0:K.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>G(o.phone_number),children:"Lookup"}),!((D=T.convoso)!=null&&D.listed)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:A,disabled:u==="convoso",children:"Push"})]})]}),h.convoso_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.convoso_lookup.status,")  ",new Date(h.convoso_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.convoso_lookup.body=="string"?h.convoso_lookup.body:JSON.stringify(h.convoso_lookup.body,null,2)})]}),h.convoso&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.convoso.status,")  ",new Date(h.convoso.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.convoso.body=="string"?h.convoso.body:JSON.stringify(h.convoso.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[T.logics?T.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"True"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"False"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((Q=T.logics)==null?void 0:Q.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[T.logics.count," case(s)"]})]}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>I(o.phone_number),children:"Lookup"}),((se=(de=(X=T.logics)==null?void 0:X.cases)==null?void 0:de[0])==null?void 0:se.CaseID)&&l.jsx(ie,{size:"sm",variant:"outline",onClick:P,disabled:u==="logics",children:"Push"})]})]}),h.logics_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.logics_lookup.status,")  ",new Date(h.logics_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.logics_lookup.body=="string"?h.logics_lookup.body:JSON.stringify(h.logics_lookup.body,null,2)})]}),h.logics&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.logics.status,")  ",new Date(h.logics.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.logics.body=="string"?h.logics.body:JSON.stringify(h.logics.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((be=T.ytel)==null?void 0:be.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>M(o.phone_number),children:"Lookup"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:k,disabled:u==="ytel",children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsxs("div",{className:"flex items-center gap-2",children:[N((Te=T.genesys)==null?void 0:Te.listed),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Lookup"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Push"})]})]}),h.ytel_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",h.ytel_lookup.status,")  ",new Date(h.ytel_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ytel_lookup.body=="string"?h.ytel_lookup.body:JSON.stringify(h.ytel_lookup.body,null,2)})]}),h.ytel&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",h.ytel.status,")  ",new Date(h.ytel.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof h.ytel.body=="string"?h.ytel.body:JSON.stringify(h.ytel.body,null,2)})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx(ie,{onClick:R,disabled:u!==null,children:"Push DNC to remaining"})}),l.jsxs("div",{className:"mt-3 text-xs text-gray-600 space-y-1",children:[l.jsx("div",{children:l.jsx("strong",{children:"Current behavior:"})}),l.jsx("div",{children:' RingCentral: search blocked list; "Listed" if found on DNC.'}),l.jsx("div",{children:' Convoso: search DNC leads; "Listed" if found on DNC.'}),l.jsx("div",{children:' Logics (TPS): search cases by phone; "Listed" if cases found.'}),l.jsx("div",{children:' Ytel: two-step DNC check; "Listed" if on DNC or global DNC.'}),l.jsx("div",{children:' Genesys: search DNC list; "Listed" if found on DNC.'})]})]})]})]})},o3=({organizationId:t,adminUserId:e})=>{const[n,s]=x.useState([]),[r,i]=x.useState([]),[a,o]=x.useState({}),[c,u]=x.useState(!1),[d,h]=x.useState(""),[f,m]=x.useState(""),[S,b]=x.useState(""),C=Ds(A=>{var k;return((k=A.demoAuth)==null?void 0:k.role)||"member"}),y=async()=>{const A={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const k=window.__msalAcquireToken,P="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(k&&P){const R=await k([P]);R&&(A.Authorization=`Bearer ${R}`)}}catch(k){console.warn("Failed to acquire token:",k)}return A},p=async()=>{u(!0);try{const A=await y();try{const k=await fetch(`${J}/api/v1/tenants/propagation/attempts/${t}`,{headers:A});if(k.ok){const P=await k.json();s(P||[])}else console.warn("Failed to fetch propagation attempts:",k.status,k.statusText),s([])}catch(k){console.error("Error fetching propagation attempts:",k),s([])}try{const k=await fetch(`${J}/api/v1/tenants/dnc-requests/org/${t}?limit=500`,{headers:A});if(k.ok){const P=await k.json();i(P||[])}else console.warn("Failed to fetch DNC requests:",k.status,k.statusText),i([])}catch(k){console.error("Error fetching DNC requests:",k),i([])}try{const k=await fetch(`${J}/api/v1/tenants/users`,{headers:A});if(k.ok){const P=await k.json(),R={};P.forEach(I=>{R[I.id]=I}),o(R)}else console.warn("Failed to fetch users:",k.status,k.statusText)}catch(k){console.error("Error fetching users:",k)}}finally{u(!1)}};x.useEffect(()=>{p()},[]);const g=x.useMemo(()=>{const A={};return n.forEach(R=>{d&&!R.phone_e164.includes(d)||f&&R.service_key!==f||S&&R.status!==S||(A[R.phone_e164]||(A[R.phone_e164]=[]),A[R.phone_e164].push(R))}),Object.keys(A).map(R=>{const I=A[R].sort((K,D)=>new Date(D.started_at).getTime()-new Date(K.started_at).getTime()),B={};I.forEach(K=>{B[K.service_key]||(B[K.service_key]=K)});const G=r.find(K=>K.phone_e164===R),M=a[e],Y=String(C).toLowerCase()==="superadmin",Z=I[0],z=Z?new Date(Z.started_at).getTime():0;return{phone:R,providers:B,requested_by:G?a[G.requested_by_user_id]:Y?M:void 0,approved_by:G&&G.reviewed_by_user_id?a[G.reviewed_by_user_id]:Y?M:void 0,decided_at:G==null?void 0:G.decided_at,most_recent_timestamp:z}}).sort((R,I)=>I.most_recent_timestamp-R.most_recent_timestamp)},[n,r,a,d,f,S]),v=["ringcentral","convoso","ytel","logics","genesys"],w=()=>{const k=[["phone","provider","status","attempt_no","started_at","finished_at","error","requested_by","approved_by"].join(",")];g.forEach(B=>{v.forEach(G=>{const M=B.providers[G];M&&k.push([B.phone,G,M.status,String(M.attempt_no),M.started_at,M.finished_at||"",(M.error_message||"").replace(/\n|\r|,/g," "),B.requested_by?`${B.requested_by.email}`:"",B.approved_by?`${B.approved_by.email}`:""].join(","))})});const P=new Blob([k.join(`
`)],{type:"text/csv"}),R=URL.createObjectURL(P),I=document.createElement("a");I.href=R,I.download="dnc_history_export.csv",I.click(),URL.revokeObjectURL(R)},N=A=>{if(!A)return l.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:""});const k=A==="success"?"bg-green-100 text-green-800":A==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${k}`,children:A})},T=async(A,k)=>{try{if(console.log(` RETRYING ${A.toUpperCase()}:`,k),pn.info(`Retrying ${A} for ${k}...`),A==="ringcentral")await lt(`${J}/api/v1/ringcentral/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k,label:"API Block"})});else if(A==="convoso")await lt(`${J}/api/v1/convoso/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k})});else if(A==="ytel")await lt(`${J}/api/v1/ytel/add-dnc`,{method:"POST",body:JSON.stringify({phone_number:k})});else if(A==="genesys")await lt(`${J}/api/v1/genesys/dnclists/d4a6a02e-4ab9-495b-a141-4c65aee551db/phonenumbers`,{method:"PATCH",body:JSON.stringify({action:"Add",phone_numbers:[k],expiration_date_time:""})});else if(A==="logics"){pn.warning("Logics retry requires case-specific updates. Use Systems Check flow.");return}console.log(` RETRY SUCCESS: ${A} for ${k}`),pn.success(`Successfully retried ${A} for ${k}`),await p()}catch(P){console.error(` RETRY FAILED: ${A} for ${k}:`,P),pn.error(`Retry failed for ${A}: ${P instanceof Error?P.message:"Unknown error"}`)}},_=async A=>{try{console.log(" RETRYING ALL SERVICES FOR:",A),pn.info(`Retrying all services for ${A}...`);const k=["ringcentral","convoso","ytel","genesys"];for(const P of k)try{await T(P,A),await new Promise(R=>setTimeout(R,1e3))}catch(R){console.error(`Failed to retry ${P} for ${A}:`,R)}console.log(` RETRY ALL COMPLETE: ${A}`),pn.success(`Completed retry for all services for ${A}`),await p()}catch(k){console.error(` RETRY ALL FAILED: ${A}:`,k),pn.error(`Retry all failed for ${A}: ${k instanceof Error?k.message:"Unknown error"}`)}};return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"DNC History Monitor"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-3 text-sm",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Search phone"}),l.jsx("input",{className:"border rounded px-2 py-1",placeholder:"digits",value:d,onChange:A=>h(A.target.value)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Provider"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:f,onChange:A=>m(A.target.value),children:[l.jsx("option",{value:"",children:"Any"}),v.map(A=>l.jsx("option",{value:A,children:A},A))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:S,onChange:A=>b(A.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"success",children:"success"}),l.jsx("option",{value:"failed",children:"failed"}),l.jsx("option",{value:"pending",children:"pending"})]})]}),l.jsx(ie,{onClick:p,disabled:c,children:"Refresh"}),l.jsx(ie,{variant:"outline",onClick:w,children:"Export CSV"})]}),c?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):g.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No DNC history yet."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"p-2 text-left",children:"Phone"}),l.jsx("th",{className:"p-2 text-left",children:"Requested By"}),l.jsx("th",{className:"p-2 text-left",children:"Approved By"}),l.jsx("th",{className:"p-2 text-left",children:"Services"}),l.jsx("th",{className:"p-2 text-left",children:"Last Updated"})]})}),l.jsx("tbody",{children:g.map(A=>{var k;return l.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[l.jsx("td",{className:"p-2 font-medium",children:A.phone}),l.jsx("td",{className:"p-2",children:A.requested_by?A.requested_by.name||A.requested_by.email:""}),l.jsx("td",{className:"p-2",children:A.approved_by?A.approved_by.name||A.approved_by.email:""}),l.jsxs("td",{className:"p-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.map(P=>{const R=A.providers[P];return R?l.jsxs("div",{className:"flex items-center gap-1",children:[N(R.status),l.jsx("span",{className:"text-xs text-gray-600 capitalize",children:P}),R.status==="failed"&&l.jsx("button",{className:"text-xs text-blue-600 underline hover:text-blue-800",onClick:()=>T(P,A.phone),title:`Retry ${P} for ${A.phone}`,children:"Retry"})]},P):null}),Object.keys(A.providers).length===0&&l.jsx("span",{className:"text-xs text-gray-400",children:"No services"})]}),Object.keys(A.providers).length>0&&l.jsx("div",{className:"mt-2",children:l.jsx("button",{className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700 transition-colors",onClick:()=>_(A.phone),title:`Retry all services for ${A.phone}`,children:"Retry All"})})]}),l.jsx("td",{className:"p-2 text-xs text-gray-500",children:A.decided_at?new Date(A.decided_at).toLocaleString():(k=Object.values(A.providers).find(P=>P==null?void 0:P.finished_at))!=null&&k.finished_at?new Date(Object.values(A.providers).find(P=>P==null?void 0:P.finished_at).finished_at).toLocaleString():""})]},A.phone)})})]})})]})]})},l3=(t,e)=>{const n={};return t.forEach(s=>{const r=e(s);n[r]||(n[r]=[]),n[r].push(s)}),n},c3=t=>{const e=t.toUpperCase();return["GET","POST","PUT","DELETE","PATCH"].includes(e)?e:null},u3=()=>{const[t,e]=x.useState("5618189087"),[n,s]=x.useState([]),[r,i]=x.useState({}),[a,o]=x.useState({}),[c,u]=x.useState(!1),[d,h]=x.useState(null),[f,m]=x.useState(null),[S,b]=x.useState(void 0),[C,y]=x.useState({}),[p,g]=x.useState({}),v=I=>I.replace(/\{[^/}]+\}/g,encodeURIComponent(t||"")),w=x.useMemo(()=>l3(n,I=>I.tags&&I.tags[0]||I.url.split("/").slice(0,4).join("/")||"Untagged"),[n]),N=async()=>{var I;u(!0),m(null);try{const B=await fetch(`${J}/openapi.json`);if(!B.ok)throw new Error(`OpenAPI fetch failed: ${B.status}`);const G=await B.json(),M=G.servers&&((I=G.servers[0])==null?void 0:I.url)||void 0;b(M);const Y=[],Z=G.paths||{};Object.entries(Z).forEach(([Q,X])=>{Object.entries(X||{}).forEach(([de,se])=>{var Jt,an,on,E,j,U,re;const be=c3(de);if(!be)return;const Te=`${be}-${Q}`,le=Array.isArray(se==null?void 0:se.parameters)?se.parameters.filter(ee=>(ee==null?void 0:ee.in)==="query").map(ee=>ee==null?void 0:ee.name).filter(Boolean):[],he=le.length?`?${le.map(ee=>`${ee}={${ee}}`).join("&")}`:"",ce=`${Q}${he}`,pe=(se==null?void 0:se.summary)||`${be} ${Q}`,L=Array.isArray(se==null?void 0:se.tags)?se.tags:["Untagged"];let V;try{V=((on=(an=(Jt=se==null?void 0:se.requestBody)==null?void 0:Jt.content)==null?void 0:an["application/json"])==null?void 0:on.example)||((re=(U=(j=(E=se==null?void 0:se.requestBody)==null?void 0:E.content)==null?void 0:j["application/json"])==null?void 0:U.examples)==null?void 0:re[0])}catch{}const ae=!!(se!=null&&se.requestBody),ye=ce.includes("/ringcentral/")&&!ce.includes("/auth")?[{id:"rc-auth",name:"RingCentral Auth",url:"/api/ringcentral/auth",method:"POST",tags:["RingCentral"]}]:[],_e=ae?{"Content-Type":"application/json"}:void 0;Y.push({id:Te,name:pe,url:ce,method:be,tags:L,description:se==null?void 0:se.description,requestBodyExample:V,headers:_e,prereqs:ye,hasBody:ae})})});const z=d3(),K=new Set(Y.map(Q=>Q.id)),D=[...Y];z.forEach(Q=>{K.has(Q.id)||(D.push(Q),K.add(Q.id))}),s(D),h(new Date().toISOString())}catch(B){m((B==null?void 0:B.message)||String(B))}finally{u(!1)}};x.useEffect(()=>{N()},[]);const T=I=>{if(/^https?:\/\//i.test(I))return I;const G=(S&&/^https?:\/\//i.test(S)?S:J).replace(/\/$/,""),Y=(I.startsWith("/")?I:`/${I}`).replace(/\{[^/}]+\}/g,encodeURIComponent(t||""));return`${G}${Y}`},_=async(I,B,G,M,Y)=>{const Z=performance.now();try{let z=Y;if(["POST","PUT","PATCH"].includes(B)){const de=C[G];if(de&&de.trim().length)try{z=JSON.parse(de)}catch{}}const K=z!==void 0?typeof z=="string"?z:JSON.stringify(RS(z)):void 0,D=await fetch(T(k(G)),{method:B,headers:M,body:K}),Q=await D.text();let X=Q;try{X=JSON.parse(Q)}catch{}return{title:I,ok:D.ok,status:D.status,ms:Math.round(performance.now()-Z),body:X}}catch(z){return{title:I,ok:!1,status:0,ms:Math.round(performance.now()-Z),body:String((z==null?void 0:z.message)||z)}}},A=I=>{const B=I.indexOf("?");return B===-1?[]:I.slice(B+1).split("&").map(M=>M.split("=")[0]).filter(Boolean)},k=I=>{const B=p[I];if(!B||Object.keys(B).length===0)return I;const G=I.indexOf("?"),M=G===-1?I:I.slice(0,G),Y=new URLSearchParams(G===-1?"":I.slice(G+1));Object.entries(B).forEach(([z,K])=>{K==null||String(K).trim()===""||Y.set(z,String(K))});const Z=Y.toString();return Z?`${M}?${Z}`:M},P=async I=>{o(z=>({...z,[I.id]:!0}));const B=[],G=performance.now();if(I.prereqs&&I.prereqs.length)for(const z of I.prereqs){const K=v(z.url||"")||v(I.url),D=await _(z.name||"OAuth / Prereq",z.method||"GET",K,z.headers);if(B.push(D),!D.ok)break}if(B.every(z=>z.ok)){const z=v(I.url),K=await _("API Call",I.method,z,I.headers,I.hasBody?I.requestBodyExample:void 0);B.push(K)}const M=Math.round(performance.now()-G),Y=B.length>0&&B.every(z=>z.ok),Z={id:I.id,ok:Y,totalMs:M,steps:B,when:new Date().toISOString()};i(z=>({...z,[I.id]:Z})),o(z=>({...z,[I.id]:!1}))},R=I=>l.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${I==="GET"?"bg-green-100 text-green-800":I==="POST"?"bg-blue-100 text-blue-800":I==="PUT"?"bg-yellow-100 text-yellow-800":I==="DELETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:I});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"API Endpoint Tester"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"Test Value (replaces path parameters in URLs)"}),l.jsx(bt,{value:t,onChange:I=>e(I.target.value),placeholder:"5618189087"})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:N,disabled:c,children:c?"Syncing":"Sync with OpenAPI"}),l.jsx("div",{className:"text-xs text-gray-600",children:d?`Last synced: ${new Date(d).toLocaleTimeString()}  ${n.length} endpoints`:"Not synced yet"})]})]}),f&&l.jsx("div",{className:"text-sm text-red-600 mt-2",children:f})]})]}),Object.entries(w).map(([I,B])=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:[I,"  ",B.length]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:B.map(G=>{const M=r[G.id],Y=["POST","PUT","PATCH"].includes(G.method),Z=G.url.includes("?"),z=JSON.stringify(RS(G.requestBodyExample??{phoneNumber:"{phoneNumber}"}),null,2);return l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsxs(Ne,{className:"flex items-center justify-between text-base",children:[l.jsx("span",{children:G.name}),R(G.method)]})}),l.jsxs(Se,{children:[G.description&&l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:G.description}),l.jsx("div",{className:"text-xs font-mono break-all bg-gray-50 border rounded p-2 mb-2",children:v(G.url)}),Z&&l.jsxs("div",{className:"mb-2 space-y-1",children:[l.jsx("div",{className:"text-xs text-gray-600",children:"Query Parameters"}),A(G.url).map(K=>{var D;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs w-32 text-gray-700",children:K}),l.jsx(bt,{value:((D=p[G.url])==null?void 0:D[K])??"",onChange:Q=>g(X=>({...X,[G.url]:{...X[G.url]||{},[K]:Q.target.value}})),placeholder:K==="phoneNumber"?t:""})]},K)})]}),Y&&G.hasBody&&l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Request JSON Body"}),l.jsx("textarea",{className:"w-full text-xs font-mono border rounded p-2 bg-white",rows:6,defaultValue:z,onChange:K=>y(D=>({...D,[G.url]:K.target.value}))})]}),l.jsx("div",{className:"flex items-center justify-end gap-2",children:l.jsx(ie,{onClick:()=>P(G),disabled:!!a[G.id],children:a[G.id]?"Testing":"Test"})}),M&&l.jsxs("div",{className:"mt-3 border-t pt-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:`flex items-center gap-2 ${M.ok?"text-green-700":"text-red-700"}`,children:l.jsx("span",{className:"font-semibold",children:M.ok?"Success":"Error"})}),l.jsxs("div",{className:"text-xs text-gray-600",children:[new Date(M.when).toLocaleString(),"  ",M.totalMs," ms"]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:M.steps.map((K,D)=>l.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"font-medium",children:[D+1,". ",K.title]}),l.jsxs("div",{className:`text-xs ${K.ok?"text-green-700":"text-red-700"}`,children:[K.ok?"":""," ",K.status,"  ",K.ms," ms"]})]}),l.jsx("pre",{className:"mt-1 text-xs whitespace-pre-wrap break-words",children:typeof K.body=="string"?K.body:JSON.stringify(K.body,null,2)})]},D))})]})]})]},G.id)})})]},I))]})};function jg(t,e){if(typeof t=="string"){let n=t;return Object.entries(e).forEach(([s,r])=>{n=n.split(`{${s}}`).join(r)}),n}if(Array.isArray(t))return t.map(n=>jg(n,e));if(t&&typeof t=="object"){const n={};return Object.entries(t).forEach(([s,r])=>{n[s]=jg(r,e)}),n}return t}function d3(){const t={"Content-Type":"application/json"},e=Object.assign({},t,{"X-Org-Id":"1","X-User-Id":"1","X-Role":"superadmin"});return[{id:"GET-/api/v1/statuses",name:"CRM Statuses",url:"/api/v1/statuses",method:"GET",tags:["Core"]},{id:"POST-/api/check_number",name:"Check Single Number",url:"/api/check_number",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/check_tps_database",name:"Check TPS DB DNC",url:"/api/check_tps_database",method:"POST",tags:["Core"],headers:t,requestBodyExample:{limit:100}},{id:"POST-/api/cases_by_phone",name:"Cases By Phone (TPS)",url:"/api/cases_by_phone",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/run_automation",name:"Run DNC Automation (stub)",url:"/api/run_automation",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/cookies/refresh",name:"Refresh FreeDNC Cookies",url:"/api/cookies/refresh",method:"POST",tags:["Core"]},{id:"GET-/api/v1/tenants/propagation/attempts",name:"Tenant DNC History (by Org)",url:"/api/v1/tenants/propagation/attempts/1",method:"GET",tags:["Tenants"],headers:e},{id:"GET-/api/v1/tenants/system/services",name:"System Services (admin)",url:"/api/v1/tenants/system/services",method:"GET",tags:["Tenants"],headers:e},{id:"POST-/api/v1/tenants/system/test",name:"System Provider Test (admin)",url:"/api/v1/tenants/system/test/{phoneNumber}",method:"POST",tags:["Tenants"],headers:e}]}function RS(t){var s;if(t===void 0)return;const e=((s=document.querySelector('input[placeholder="5618189087"]'))==null?void 0:s.value)||"";return jg(t,{phoneNumber:e,phone_number:e})}const h3=wv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Jc({className:t,variant:e,...n}){return l.jsx("div",{className:On(h3({variant:e}),t),...n})}const Zc="https://dnc-backend-bb96.onrender.com",Wc=()=>({"X-Org-Id":"1","X-User-Id":"1","X-Role":"admin"});function f3(){const[t,e]=x.useState(null),[n,s]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[c,u]=x.useState(null),d=async()=>{try{const C=await fetch(`${Zc}/api/v1/dnc-sync/stats`,{headers:Wc()});if(C.ok){const y=await C.json();e(y)}}catch(C){console.error("Error fetching sync stats:",C)}},h=async()=>{try{const C=await fetch(`${Zc}/api/v1/dnc-sync/sync-jobs?limit=10`,{headers:Wc()});if(C.ok){const y=await C.json();s(y)}}catch(C){console.error("Error fetching sync jobs:",C)}},f=async()=>{o(!0),u(null);try{(await fetch(`${Zc}/api/v1/dnc-sync/sync-from-convoso`,{method:"POST",headers:{"Content-Type":"application/json",...Wc()}})).ok?setTimeout(()=>{d(),h()},2e3):u("Failed to start sync from Convoso")}catch{u("Error starting sync from Convoso")}finally{o(!1)}},m=async()=>{o(!0),u(null);try{(await fetch(`${Zc}/api/v1/dnc-sync/sync-to-providers`,{method:"POST",headers:{"Content-Type":"application/json",...Wc()},body:JSON.stringify({providers:["ringcentral","genesys","ytel","logics"]})})).ok?setTimeout(()=>{d(),h()},2e3):u("Failed to start sync to providers")}catch{u("Error starting sync to providers")}finally{o(!1)}};x.useEffect(()=>{const C=async()=>{i(!0),await Promise.all([d(),h()]),i(!1)};C();const y=setInterval(C,3e4);return()=>clearInterval(y)},[]);const S=C=>{switch(C){case"completed":return l.jsx(ri,{className:"h-4 w-4 text-green-500"});case"failed":return l.jsx(bl,{className:"h-4 w-4 text-red-500"});case"running":return l.jsx(Au,{className:"h-4 w-4 text-blue-500 animate-spin"});case"pending":return l.jsx(ji,{className:"h-4 w-4 text-yellow-500"});default:return l.jsx(pc,{className:"h-4 w-4 text-gray-500"})}},b=C=>{const y={completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",running:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800"};return l.jsx(Jc,{className:y[C]||"bg-gray-100 text-gray-800",children:C})};return r?l.jsxs("div",{className:"flex items-center justify-center h-64",children:[l.jsx(Au,{className:"h-8 w-8 animate-spin"}),l.jsx("span",{className:"ml-2",children:"Loading sync data..."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h1",{className:"text-3xl font-bold",children:"DNC Sync Dashboard"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ie,{onClick:f,disabled:a,className:"flex items-center gap-2",children:[l.jsx(Ng,{className:"h-4 w-4"}),"Sync from Convoso"]}),l.jsxs(ie,{onClick:m,disabled:a,variant:"outline",className:"flex items-center gap-2",children:[l.jsx(G4,{className:"h-4 w-4"}),"Sync to Providers"]})]})]}),c&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx(bl,{className:"h-5 w-5 text-red-400"}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Total DNC Entries"}),l.jsx(Ng,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.total_dnc_entries)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Master DNC list"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Active Sync Jobs"}),l.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:n.filter(C=>C.status==="running").length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Total Synced"}),l.jsx(ri,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.synced,0):0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all providers"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Failed Syncs"}),l.jsx(bl,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.failed,0):0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Provider Sync Status"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-4",children:t&&Object.entries(t.provider_stats).map(([C,y])=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"font-medium capitalize",children:C}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(Jc,{variant:"outline",className:"text-green-600",children:[y.synced," synced"]}),l.jsxs(Jc,{variant:"outline",className:"text-red-600",children:[y.failed," failed"]}),l.jsxs(Jc,{variant:"outline",className:"text-yellow-600",children:[y.pending," pending"]})]})]}),l.jsx("div",{className:"w-32",children:l.jsx(Rv,{value:y.total>0?y.synced/y.total*100:0,className:"h-2"})})]},C))})})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Recent Sync Jobs"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-4",children:n.map(C=>l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[S(C.status),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium capitalize",children:C.job_type.replace("_"," ")}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.processed_entries," / ",C.total_entries," processed"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium",children:[C.successful_syncs," success, ",C.failed_syncs," failed"]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(C.created_at).toLocaleString()})]}),b(C.status)]})]},C.id))})})]})]})}const m3=({onPhoneSelect:t})=>{const[e,n]=x.useState([]),[s,r]=x.useState(!0),i=async()=>{try{n([])}catch(c){console.error("Failed to fetch recent searches:",c)}finally{r(!1)}};x.useEffect(()=>{i()},[]);const a=c=>new Date(c).toLocaleString(),o=c=>Object.values(c).some(d=>(d==null?void 0:d.listed)===!0)?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"On DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Clear"});return s?l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Recent Searches"})}),l.jsx(Se,{children:l.jsx("div",{className:"text-center text-gray-500",children:"Loading..."})})]}):e.length===0?l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Recent Searches"})}),l.jsx(Se,{children:l.jsx("div",{className:"text-center text-gray-500",children:"No recent searches found"})})]}):l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Recent Searches"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-2",children:e.map(c=>{var u;return l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50 cursor-pointer",onClick:()=>t==null?void 0:t(c.phone_number),children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm",children:c.phone_number}),((u=c.search_results)==null?void 0:u.providers)&&o(c.search_results.providers)]}),l.jsx("div",{className:"text-xs text-gray-500",children:a(c.created_at)})]}),l.jsx(ie,{size:"sm",variant:"outline",onClick:d=>{d.stopPropagation(),t==null||t(c.phone_number)},children:"Re-check"})]},c.id)})})})]})},g3=()=>{const t=Ev(),{phoneNumbers:e}=Ds(g=>g.phoneNumbers),{crmStatuses:n,stats:s}=Ds(g=>g.crmStatus),[r,i]=x.useState("pending"),a=1,o=1,[c,u]=x.useState({total:0,success:0,failed:0}),[d,h]=x.useState(0),[f,m]=x.useState(!1);x.useEffect(()=>{t(gl()),t(pl())},[t]);const S=async()=>{const g={"Content-Type":"application/json","X-Org-Id":String(a),"X-User-Id":String(o),"X-Role":"superadmin"};try{const v=window.__msalAcquireToken,w="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(v&&w){const N=await v([w]);N&&(g.Authorization=`Bearer ${N}`)}}catch{}return g},b=async()=>{m(!0);try{const g=await S(),v=await fetch(`${J}/api/v1/tenants/propagation/attempts/${a}?limit=200`,{headers:g});if(v.ok){const N=await v.json(),T=N.length,_=N.filter(k=>k.status==="success").length,A=N.filter(k=>k.status==="failed").length;u({total:T,success:_,failed:A})}else u({total:0,success:0,failed:0});const w=await fetch(`${J}/api/v1/tenants/dnc-entries/${a}`,{headers:g});if(w.ok){const N=await w.json();h(N.length)}else h(0)}catch{u({total:0,success:0,failed:0}),h(0)}finally{m(!1)}};x.useEffect(()=>{b()},[]);const C=e.length,y=n.length,p=g=>{switch(g.toLowerCase()){case"completed":return l.jsx(ri,{className:"w-4 h-4 text-green-600"});case"failed":return l.jsx(bl,{className:"w-4 h-4 text-red-600"});case"processing":return l.jsx(ji,{className:"w-4 h-4 text-yellow-600"});case"pending":return l.jsx(ji,{className:"w-4 h-4 text-blue-600"});default:return l.jsx(ji,{className:"w-4 h-4 text-gray-600"})}};return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor phone number removals and CRM system status"})]}),l.jsx(ie,{onClick:b,disabled:f,children:"Refresh Data"})]}),l.jsx("div",{className:"border-b",children:l.jsx("nav",{className:"flex flex-wrap gap-2 -mb-px text-sm",children:[{key:"pending",label:"Pending"},{key:"propagation",label:"DNC History"},{key:"systems",label:"Systems Check"},{key:"litigation",label:"Litigation"},{key:"samples",label:"Samples & Gaps"},{key:"overview",label:"Overview"},{key:"tester",label:"Tester"},{key:"sync",label:"Sync"}].map(g=>l.jsx("button",{className:`px-3 py-2 border-b-2 ${r===g.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,onClick:()=>i(g.key),children:g.label},g.key))})}),r==="pending"&&l.jsx(i3,{organizationId:1,adminUserId:1}),r==="propagation"&&l.jsx(o3,{organizationId:1,adminUserId:1}),r==="systems"&&l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(a3,{})}),l.jsx("div",{children:l.jsx(m3,{onPhoneSelect:g=>console.log("Selected phone:",g)})})]}),r==="litigation"&&l.jsx(Fz,{organizationId:1,adminUserId:1}),r==="samples"&&l.jsx(Gz,{organizationId:1,adminUserId:1}),r==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Total Phone Numbers"}),l.jsx(Wa,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:d||C}),l.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Phone numbers in org DNC"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"CRM Status Records"}),l.jsx(Ng,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.total||y}),l.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Provider attempts (recent)"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Completed Removals"}),l.jsx(ri,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.success}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully pushed to providers (recent)"})]})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Ne,{className:"text-sm font-medium",children:"Failed Removals"}),l.jsx(bl,{className:"h-4 w-4 text-red-600"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.failed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed provider attempts (recent)"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{children:"Logics Statistics"}),l.jsx(ms,{children:"Removal status for Logics CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.logics).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{children:"Genesys Statistics"}),l.jsx(ms,{children:"Removal status for Genesys CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.genesys).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{children:"Ring Central Statistics"}),l.jsx(ms,{children:"Removal status for Ring Central CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.ringcentral).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{children:"Convoso Statistics"}),l.jsx(ms,{children:"Removal status for Convoso CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.convoso).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{children:"Ytel Statistics"}),l.jsx(ms,{children:"Removal status for Ytel CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(s.ytel).map(([g,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),l.jsx("span",{className:"capitalize",children:g})]}),l.jsx("span",{className:"font-semibold",children:v})]},g))})})]})]})]}),r==="tester"&&l.jsx(u3,{}),r==="sync"&&l.jsx(f3,{})]})},p3=({userId:t})=>{const[e,n]=x.useState([]),[s,r]=x.useState(!1),[i,a]=x.useState(""),[o,c]=x.useState(""),[u,d]=x.useState(null),[h,f]=x.useState(!1),[m,S]=x.useState(null),b=async()=>{const C={"Content-Type":"application/json"};try{const y=window.__msalAcquireToken,p="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(y&&p){const g=await y([p]);g&&(C.Authorization=`Bearer ${g}`)}}catch{}return C};return x.useEffect(()=>{const C=async(y=!1)=>{r(!0);try{let p=m;try{const _=await b(),A=await fetch(`${J}/api/v1/tenants/auth/me`,{headers:_});if(A.ok){const k=await A.json();k!=null&&k.user_id&&(p=Number(k.user_id),m!==p&&S(p))}}catch{}const g=new URLSearchParams;i&&g.set("status",i),o&&g.set("channel",o),u&&g.set("cursor",String(u)),g.set("limit","50");const v=await b(),T=await(await fetch(`${J}/api/v1/tenants/dnc-requests/user/${p||m||t}?${g.toString()}`,{headers:v})).json();n(y?[...e,...T]:T),f(T.length===50),d(T.length?T[T.length-1].id:null)}finally{r(!1)}};d(null),C(!1)},[t,i,o,m]),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Your DNC Requests"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{children:[l.jsx(ft,{className:"text-sm font-medium text-gray-700",children:"Status"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:C=>a(C.target.value),children:[l.jsx("option",{value:"",children:"All Statuses"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(ft,{className:"text-sm font-medium text-gray-700",children:"Channel"}),l.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:C=>c(C.target.value),children:[l.jsx("option",{value:"",children:"All Channels"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]}),l.jsx("div",{className:"flex items-end",children:l.jsx("button",{className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{a(""),c("")},children:"Clear Filters"})})]}),s?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):e.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No requests yet."}):l.jsxs("div",{className:"space-y-2",children:[e.map(C=>{const y=p=>{switch(p.toLowerCase()){case"approved":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800 font-medium",children:"Approved"});case"pending":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800 font-medium",children:"Pending"});case"denied":return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800 font-medium",children:"Denied"});default:return l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-800 font-medium",children:p})}};return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-gray-50",children:[l.jsxs("div",{className:"text-sm flex-1",children:[l.jsxs("div",{className:"font-medium text-gray-900",children:[C.phone_e164,"  ",C.channel||"n/a"]}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y(C.status),l.jsx("span",{className:"text-gray-500 text-xs",children:" user request"})]})]}),l.jsx("div",{className:"text-xs text-gray-500 ml-4",children:C.created_at?new Date(C.created_at).toLocaleString():""})]},C.id)}),h&&l.jsx("div",{className:"text-center pt-4",children:l.jsx("button",{className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{(async()=>{const y=await b(),v=await(await fetch(`${J}/api/v1/tenants/dnc-requests/user/${m||t}?cursor=${u||""}&limit=50`,{headers:y})).json();n([...e,...v]),f(v.length===50),d(v.length?v[v.length-1].id:null)})()},children:"Load More"})})]})]})]})};function kS(t){return(t||"").replace(/\D+/g,"")}const y3=({organizationId:t,onClose:e})=>{const[n,s]=x.useState(""),[r,i]=x.useState("Customer opt-out"),[a,o]=x.useState("voice"),[c,u]=x.useState(""),[d,h]=x.useState(!1),f=x.useMemo(()=>{const S={};return kS(n).length<10&&(S.phone="Enter a valid 10+ digit phone number"),r||(S.reason="Select a reason"),a||(S.channel="Select a channel"),S},[n,r,a]),m=async()=>{if(Object.keys(f).length){pn.error("Please fix validation errors");return}h(!0);try{await lt(`${J}/api/v1/tenants/dnc-requests/${t}`,{method:"POST",body:JSON.stringify({phone_e164:kS(n),reason:r,channel:a,notes:c})}),pn.success("Request submitted successfully"),e()}catch(S){pn.error(`Failed to submit: ${(S==null?void 0:S.message)||"Unknown error"}`)}finally{h(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"font-semibold",children:"Request DNC"}),l.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(ft,{children:"Phone Number"}),l.jsx(bt,{value:n,onChange:S=>s(S.target.value),placeholder:"(555) 123-4567"}),f.phone&&l.jsx("div",{className:"text-xs text-red-600 mt-1",children:f.phone})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx(ft,{children:"Reason"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:r,onChange:S=>i(S.target.value),children:[l.jsx("option",{children:"Customer opt-out"}),l.jsx("option",{children:"Legal request"}),l.jsx("option",{children:"Internal block"}),l.jsx("option",{children:"Litigation risk"})]})]}),l.jsxs("div",{children:[l.jsx(ft,{children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:a,onChange:S=>o(S.target.value),children:[l.jsx("option",{value:"voice",children:"Call"}),l.jsx("option",{value:"sms",children:"SMS"})]})]})]}),l.jsxs("div",{children:[l.jsx(ft,{children:"Notes (optional)"}),l.jsx(Fi,{value:c,onChange:S=>u(S.target.value),rows:3})]}),l.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[l.jsx(ie,{variant:"outline",onClick:e,children:"Cancel"}),l.jsx(ie,{onClick:m,disabled:d,children:d?"Submitting":"Submit"})]})]})]})})},v3=()=>{var St,ln,Zt,Cs,In,cn,li,Yn,Ji,ci,go,po,yc,Zi,os,vc,Ee;const[t,e]=x.useState(null),[n,s]=x.useState(0),[r,i]=x.useState(!1),[a,o]=x.useState(null),[c,u]=x.useState(null),[d,h]=x.useState(""),f=x.useRef(null),[m,S]=x.useState(""),[b,C]=x.useState(""),[y,p]=x.useState(null),[g,v]=x.useState(null),[w,N]=x.useState(!1),[T,_]=x.useState(!1),[A,k]=x.useState(""),[P,R]=x.useState(null),[I,B]=x.useState(null),[G,M]=x.useState(null),[Y]=x.useState(!1),[Z,z]=x.useState(!1),[K]=x.useState("systems"),[D,Q]=x.useState(""),[X,de]=x.useState(null),[se,be]=x.useState(!1),[Te,le]=x.useState(!1),[he,ce]=x.useState(!1),pe=localStorage.getItem("role")||"user",L=["admin","superadmin","owner"].includes(pe),V=H=>{var ze;const fe=(ze=H.target.files)==null?void 0:ze[0];fe&&fe.type==="text/csv"?(e(fe),o(null)):o("Please select a valid CSV file")},ae=H=>{H.preventDefault()},ye=H=>{H.preventDefault();const fe=H.dataTransfer.files[0];fe&&fe.type==="text/csv"?(e(fe),o(null)):o("Please drop a valid CSV file")},_e=async()=>{if(t){i(!0),o(null),h("Uploading CSV file...");try{const H=new FormData;H.append("file",t),H.append("column_index",n.toString()),H.append("format","json"),h("Processing CSV with DNC checking...");const fe=await fetch(`${J}/api/dnc/process`,{method:"POST",body:H});if(!fe.ok){const De=await fe.json();throw new Error(De.detail||"Failed to process file")}const ze=await fe.json();console.log("API Response:",ze),h("Downloading processed results...");const He=`${J}/api/dnc${ze.file}`;console.log("Downloading from:",He);const tt=await fetch(He);if(!tt.ok)throw new Error("Failed to download processed file");const Wt=await tt.text(),kt=Jt(Wt);u(kt),h("Processing complete!")}catch(H){o(H instanceof Error?H.message:"An error occurred"),h("")}finally{i(!1)}}},Jt=H=>{const fe=H.split(`
`);if(fe.length<2)return[];const ze=fe[0].split(",").map(tt=>tt.trim().replace(/"/g,"")),He=[];for(let tt=1;tt<fe.length;tt++)if(fe[tt].trim()){const Wt=fe[tt].split(",").map(De=>De.trim().replace(/"/g,"")),kt={};ze.forEach((De,nt)=>{kt[De]=Wt[nt]||""}),He.push(kt)}return He},an=()=>{if(!c)return;const H=[Object.keys(c[0]),...c.map(tt=>Object.values(tt))].map(tt=>tt.map(Wt=>`"${Wt}"`).join(",")).join(`
`),fe=new Blob([H],{type:"text/csv"}),ze=window.URL.createObjectURL(fe),He=document.createElement("a");He.href=ze,He.download=`dnc_results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(He),He.click(),document.body.removeChild(He),window.URL.revokeObjectURL(ze)},on=async()=>{if(m.trim()){N(!0),o(null),p(null);try{const H=await fetch(`${J}/api/dnc/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:m.trim()})});if(!H.ok){const ze=await H.json();throw new Error(ze.detail||"Failed to check phone number")}const fe=await H.json();p(fe)}catch(H){o(H instanceof Error?H.message:"An error occurred")}finally{N(!1)}}},E=async()=>{if(b.trim()){_(!0),o(null),v(null);try{const H=b.split(/[,\n\s]+/).map(He=>He.trim()).filter(He=>He.length>0);if(H.length===0)throw new Error("No valid phone numbers found");if(H.length>1e3)throw new Error("Maximum 1000 phone numbers per batch");const fe=await fetch(`${J}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_numbers:H})});if(!fe.ok){const He=await fe.json();throw new Error(He.detail||"Failed to check batch phone numbers")}const ze=await fe.json();v(ze)}catch(H){o(H instanceof Error?H.message:"An error occurred")}finally{_(!1)}}},j=async()=>{if(A.trim()){z(!0),o(null),R(null);try{const H=await fetch(`${J}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:A.trim()})});if(!H.ok){const ze=await H.json();throw new Error(ze.detail||"Failed to fetch TPS cases")}const fe=await H.json();R(fe.cases||[])}catch(H){o(H instanceof Error?H.message:"Failed to fetch TPS cases")}finally{z(!1)}}},U=H=>{if(!H)return"";try{const fe=new Date(H);return Number.isNaN(fe.getTime())?"":fe.toLocaleString()}catch{return""}},re=async()=>{if(I)try{const H=await fetch(`${J}/api/dnc/run_automation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:I})});if(!H.ok){const fe=await H.json();throw new Error(fe.detail||"Automation failed to start")}}catch(H){o(H instanceof Error?H.message:"Automation failed")}},ee=async()=>{var fe,ze,He,tt,Wt,kt;if(!D.trim())return;be(!0),o(null),de(null),le(!1);const H={};try{try{const De=await fetch(`${J}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json();H.dnc={listed:!!(nt!=null&&nt.is_dnc)}}}catch{}try{const De=await fetch(`${J}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json(),un=(fe=nt==null?void 0:nt.data)==null?void 0:fe.is_on_dnc;un===null?H.ringcentral={listed:null,status:"unknown"}:H.ringcentral={listed:un||!1}}}catch{}try{const De=await fetch(`${J}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json(),un=(ze=nt==null?void 0:nt.data)==null?void 0:ze.is_on_dnc;un===null?H.convoso={listed:null,status:"unknown"}:H.convoso={listed:un||!1}}}catch{}try{const De=await fetch(`${J}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json(),un=(He=nt==null?void 0:nt.data)==null?void 0:He.is_on_dnc;un===null?H.ytel={listed:null,status:"unknown"}:H.ytel={listed:un||!1}}}catch{}try{const De=await fetch(`${J}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json(),un=((Wt=(tt=nt==null?void 0:nt.data)==null?void 0:tt.raw_response)==null?void 0:Wt.Data)||[];H.logics={listed:un.length>0,count:un.length,cases:un}}}catch{}try{const De=await fetch(`${J}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:D})});if(De.ok){const nt=await De.json(),un=(kt=nt==null?void 0:nt.data)==null?void 0:kt.is_on_dnc;un===null?H.genesys={listed:null,status:"unknown"}:H.genesys={listed:un||!1}}}catch{}de({phone_number:D,providers:H})}catch(De){o(De instanceof Error?De.message:"Failed systems check")}finally{be(!1)}},ne=()=>{e(null),s(0),u(null),S(""),C(""),p(null),v(null),Q(""),de(null),o(null),h(""),f.current&&(f.current.value="")},oe=(H,fe)=>H===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):H===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),Re=H=>{ce(!0)},Le=()=>{ce(!1)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(It.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DNC Checker"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys) to ensure compliance and avoid calling restricted numbers."})]}),l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:K==="quick"?"Quick Phone Number Check":K==="systems"?"Systems Check":"TPS2 Database Check"}),l.jsx("p",{className:"text-gray-600",children:K==="quick"?"Check individual phone numbers or batches without CSV upload":K==="systems"?"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys)":"Find possible DNC matches from TPS and view case details"})]}),l.jsxs(Se,{className:"space-y-4",children:[K==="quick"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(ft,{htmlFor:"single-phone",children:"Single Phone Number"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(bt,{id:"single-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:m,onChange:H=>S(H.target.value),className:"flex-1"}),l.jsx(ie,{onClick:on,disabled:!m.trim()||w,className:"bg-blue-600 hover:bg-blue-700",children:w?"Checking...":"Check"})]}),y&&l.jsxs("div",{className:`p-3 rounded-lg border ${y.is_dnc?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[l.jsxs("div",{className:"font-medium",children:[y.phone_number,": ",y.is_dnc?"Yes - On DNC List":"No - Not on DNC"]}),l.jsx("div",{className:"text-sm opacity-75",children:y.notes})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ft,{htmlFor:"batch-phones",children:"Batch Phone Numbers"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Fi,{id:"batch-phones",placeholder:`Enter phone numbers separated by commas, spaces, or new lines
Example:
5173715410
555-000-1234
555-111-5678`,value:b,onChange:H=>C(H.target.value),rows:4,className:"font-mono text-sm"}),l.jsx(ie,{onClick:E,disabled:!b.trim()||T,className:"bg-blue-600 hover:bg-blue-700 w-full",children:T?"Checking...":`Check ${b.split(/[,\n\s]+/).filter(H=>H.trim()).length} Numbers`})]}),g&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:g.results.map((H,fe)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${H.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("span",{className:"font-medium",children:H.phone_number}),":",l.jsx("span",{className:H.is_dnc?"text-red-700":"text-green-700",children:H.is_dnc?" DNC":" Safe"})]},fe))})]})]})]}),K==="systems"&&l.jsx(l.Fragment,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx(ft,{htmlFor:"systems-phone",children:"Phone Number"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(bt,{id:"systems-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:D,onChange:H=>Q(H.target.value),className:"flex-1"}),l.jsx(ie,{onClick:ee,disabled:!D.trim()||se,className:"bg-blue-600 hover:bg-blue-700",children:se?"Checking...":"Check All Systems"})]}),X&&l.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:X.phone_number}),se&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsx("div",{className:"flex items-center gap-2",children:oe((ln=(St=X.providers)==null?void 0:St.dnc)==null?void 0:ln.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsx("div",{className:"flex items-center gap-2",children:oe((Cs=(Zt=X.providers)==null?void 0:Zt.ringcentral)==null?void 0:Cs.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsx("div",{className:"flex items-center gap-2",children:oe((cn=(In=X.providers)==null?void 0:In.convoso)==null?void 0:cn.listed)})]}),l.jsxs("div",{className:"border rounded p-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[(li=X.providers)!=null&&li.logics?X.providers.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Active Case"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((Ji=(Yn=X.providers)==null?void 0:Yn.logics)==null?void 0:Ji.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[X.providers.logics.count," case(s)"]})]}),((go=(ci=X.providers)==null?void 0:ci.logics)==null?void 0:go.cases)&&X.providers.logics.cases.length>0&&l.jsx("button",{onClick:()=>le(!Te),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:Te?"Hide Details":"Show Details"})]})]}),Te&&((yc=(po=X.providers)==null?void 0:po.logics)==null?void 0:yc.cases)&&X.providers.logics.cases.length>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Case Details:"}),l.jsx("div",{className:"space-y-1",children:X.providers.logics.cases.map((H,fe)=>l.jsx("div",{className:"bg-gray-50 p-2 rounded text-xs",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Case ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:H.CaseID||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Status ID:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:H.StatusID||"N/A"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:[H.FirstName,H.MiddleName,H.LastName].filter(Boolean).join(" ")||"N/A"})]}),H.Email&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:H.Email})]}),H.CreatedDate&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:new Date(H.CreatedDate).toLocaleString()})]}),H.TaxAmount&&l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Tax Amount:"}),l.jsxs("span",{className:"ml-1 text-gray-900",children:["$",H.TaxAmount.toLocaleString()]})]})]})},fe))})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsx("div",{className:"flex items-center gap-2",children:oe((os=(Zi=X.providers)==null?void 0:Zi.ytel)==null?void 0:os.listed)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsx("div",{className:"flex items-center gap-2",children:oe((Ee=(vc=X.providers)==null?void 0:vc.genesys)==null?void 0:Ee.listed)})]})]}),l.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[l.jsx("div",{className:"text-xs text-gray-600",children:l.jsxs("div",{children:[l.jsx("strong",{children:"Note:"})," This shows DNC status across all systems.",L?" You can add numbers to DNC lists directly from the Admin Dashboard.":" Only admins can add numbers to DNC lists."]})}),!L&&l.jsx(ie,{onClick:()=>Re(X.phone_number),className:"bg-red-600 hover:bg-red-700 text-white text-sm px-4 py-2",children:"Request DNC"})]})]})]})}),K==="tps"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(ft,{htmlFor:"tps-phone",children:"TPS (Logiqs) Cases"})}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(bt,{id:"tps-phone",type:"tel",placeholder:"Enter phone number",value:A,onChange:H=>k(H.target.value),className:"flex-1"}),l.jsx(ie,{onClick:j,disabled:Z,className:"bg-purple-600 hover:bg-purple-700",children:Z?"Finding cases":"Find cases"})]}),P&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Found ",P.length," case(s)"]}),l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:P.map((H,fe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",H.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",U(H.CreatedDate)," | Last Modified: ",U(H.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:H.StatusName||`Status ${H.StatusID}`})]},fe))})]})]})]})]})}),K==="tps"&&I&&l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ne,{className:"text-purple-700",children:I}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie,{onClick:re,className:"bg-red-600 hover:bg-red-700",children:"RUN DNC Automation"}),l.jsx(ie,{variant:"outline",onClick:()=>{B(null),M(null)},children:"Close"})]})]}),l.jsx(ms,{children:"All cases for this number with created/last modified/status."})]}),l.jsx(Se,{children:Y?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading cases..."}):l.jsx("div",{className:"space-y-2",children:G&&G.length>0?l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:G.map((H,fe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",H.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",U(H.CreatedDate)," | Last Modified: ",U(H.LastModifiedDate)]})]}),l.jsxs("div",{className:"text-xs text-gray-700",children:[H.StatusName||`Status ${H.StatusID}`,"  ",H.PhoneType]})]},fe))}):l.jsx("div",{className:"text-sm text-gray-600",children:"No cases found for this number."})})})]})}),K==="csv"&&l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(xe,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ae,{children:[l.jsxs(Ne,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(kg,{className:"h-5 w-5"}),"Upload CSV File"]}),l.jsx(ms,{children:"Drag and drop your CSV file here, or click to browse"})]}),l.jsx(Se,{children:l.jsxs("div",{className:`relative p-8 text-center transition-colors ${t?"bg-blue-50":"bg-gray-50"}`,onDragOver:ae,onDrop:ye,children:[l.jsx("input",{ref:f,type:"file",accept:".csv",onChange:V,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kg,{className:"h-12 w-12 mx-auto text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:t?`Selected: ${t.name}`:"Click to select or drag and drop CSV file"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Only CSV files are supported"})]})]})})]})}),K==="csv"&&l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{className:"text-blue-600",children:"Phone Number Column"}),l.jsx(ms,{children:"Specify which column contains the phone numbers (0-based index)"})]}),l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ft,{htmlFor:"columnIndex",children:"Column Index:"}),l.jsx(bt,{id:"columnIndex",type:"number",min:"0",value:n,onChange:H=>s(parseInt(H.target.value)||0),className:"w-20"}),l.jsx("span",{className:"text-sm text-gray-500",children:"(0 = first column, 1 = second column, etc.)"})]})})]})}),K==="csv"&&l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:l.jsx(ie,{onClick:_e,disabled:!t||r,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:r?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_g,{className:"h-5 w-5 mr-2"}),"Process DNC Check"]})})}),K==="csv"&&d&&l.jsx(It.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[l.jsx(ri,{className:"h-4 w-4 mr-2"}),d]})}),a&&l.jsxs(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center p-4 bg-red-100 border border-red-300 rounded-lg",children:[l.jsx(pc,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:a}),l.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:l.jsx(q4,{className:"h-4 w-4"})})]}),K==="csv"&&c&&l.jsxs(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{className:"text-green-600",children:"Processing Results"})}),l.jsx(Se,{children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),l.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.filter(H=>H.DNC_Status==="DNC_MATCH").length}),l.jsx("div",{className:"text-sm text-red-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(H=>H.DNC_Status==="SAFE").length}),l.jsx("div",{className:"text-sm text-green-600",children:"Safe to Call"})]})]})})]}),l.jsx("div",{className:"text-center",children:l.jsxs(ie,{onClick:an,className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(B4,{className:"h-4 w-4 mr-2"}),"Download Results CSV"]})}),l.jsxs(xe,{children:[l.jsxs(Ae,{children:[l.jsx(Ne,{className:"text-blue-600",children:"Results in JSON Format"}),l.jsx(ms,{children:"Processed data from FreeDNCList.com API"})]}),l.jsx(Se,{children:l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto max-h-96",children:l.jsx("pre",{className:"text-sm",children:JSON.stringify(c,null,2)})})})]}),l.jsx("div",{className:"text-center",children:l.jsx(ie,{onClick:ne,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Process Another File"})})]}),he&&l.jsx(y3,{organizationId:Number(localStorage.getItem("org_id")||"1"),onClose:Le})]})},b3=({activeTab:t,onTabChange:e})=>{var v,w;const{role:n,organizationId:s,userId:r}=Ds(N=>N.demoAuth),i=Ev(),a=N=>N==="admin"||N==="superadmin",o=N=>N==="superadmin",[c,u]=x.useState(""),[d,h]=x.useState(""),[f,m]=x.useState(null),S=f||d||c||n,b=o(S),C=a(S),[y,p]=x.useState(""),g=x.useRef(!1);return x.useEffect(()=>{var N;try{const T=window.__msalInstance,_=(N=T==null?void 0:T.getAllAccounts)==null?void 0:N.call(T)[0];_&&p(_.name||_.username||"")}catch{}(async()=>{if(!g.current){try{const T={"Content-Type":"application/json"},_=window.__msalAcquireToken,A="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";let k="";_&&A&&(k=await _([A]),k&&(T.Authorization=`Bearer ${k}`)),console.log(" Auth headers being sent:",T);const P=await fetch(`${J}/api/v1/tenants/auth/me`,{headers:T});if(P.ok){const R=await P.json();console.log(" Auth response:",R);const I=String(R.role||"").toLowerCase();if(console.log(" Backend role:",I),I){u(I),d||h(I),I!==n&&i(Xc(I)),g.current=!0;return}}if(k)try{const R=JSON.parse(atob(k.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),I=Array.isArray(R.roles)?R.roles.map(M=>String(M).toLowerCase()):[],B=new Set(I.map(M=>M.replace(/[^a-z0-9]/g,"")));let G="member";I.includes("all")||I.includes("superadmin")||B.has("superadmin")?G="superadmin":I.includes("owner")||B.has("owner")?G="owner":(I.includes("approve_requests")||I.includes("admin")||B.has("admin"))&&(G="admin"),u(G),d||h(G),G!==n&&i(Xc(G))}catch{}}catch{}g.current=!0}})()},[]),l.jsx("nav",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wa,{className:"h-6 w-6 text-blue-600"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TRA DNC Portal"})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsxs(ie,{variant:t==="main"?"default":"ghost",onClick:()=>e("main"),className:"flex items-center space-x-2",children:[l.jsx(V4,{className:"h-4 w-4"}),l.jsx("span",{children:"Main View"})]}),l.jsxs(ie,{variant:t==="dnc-checker"?"default":"ghost",onClick:()=>e("dnc-checker"),className:"flex items-center space-x-2",children:[l.jsx(_g,{className:"h-4 w-4"}),l.jsx("span",{children:"DNC Checker"})]}),!C&&l.jsxs(ie,{variant:t==="requests"?"default":"ghost",onClick:()=>e("requests"),className:"flex items-center space-x-2",children:[l.jsx(_g,{className:"h-4 w-4"}),l.jsx("span",{children:"My Requests"})]}),C&&l.jsxs(ie,{variant:t==="admin"?"default":"ghost",onClick:()=>e("admin"),className:"flex items-center space-x-2",children:[l.jsx(G_,{className:"h-4 w-4"}),l.jsx("span",{children:"Admin"})]}),b&&l.jsxs(ie,{variant:t==="settings"?"default":"ghost",onClick:()=>e("settings"),className:"flex items-center space-x-2",children:[l.jsx(xS,{className:"h-4 w-4"}),l.jsx("span",{children:"Settings"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[d==="superadmin"&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("span",{children:"Role:"}),l.jsxs("select",{value:S,onChange:N=>{const T=N.target.value;m(T),i(Xc(T))},className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"member",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-700 mr-2",children:[y&&l.jsx("span",{className:"mr-2 truncate max-w-[220px]",title:y,children:y}),l.jsx("span",{className:"px-2 py-0.5 border rounded bg-gray-50",children:S})]}),l.jsxs(ie,{variant:"outline",size:"sm",onClick:async()=>{var T,_;const N="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";try{const A=window.__msalAcquireToken,k=window.__msalLogout,P=window.__msalInstance,R=(((T=P==null?void 0:P.getAllAccounts)==null?void 0:T.call(P))||[]).length>0;if(!R&&A){await A([N]);const I=(_=P==null?void 0:P.getAllAccounts)==null?void 0:_.call(P)[0];I&&p(I.name||I.username||"");const B={"X-Role":String(n),"X-Org-Id":String(s),"X-User-Id":String(r)};try{const M=window.__msalAcquireToken;if(M&&N){const Y=await M([N]);Y&&(B.Authorization=`Bearer ${Y}`)}}catch{}const G=await fetch(`${J}/api/v1/tenants/auth/me`,{headers:B});if(G.ok){const M=await G.json();u(M.role),M.role&&i(Xc(M.role))}}else R&&k&&(await k(),p(""),u(""))}catch{}},children:[l.jsx(xS,{className:"h-4 w-4 mr-2"}),(w=(v=window.__msalInstance)==null?void 0:v.getAllAccounts)!=null&&w.call(v).length?"Sign Out":"Sign In"]})]})]})})})},OS=(t,e,n)=>({"Content-Type":"application/json","X-Role":t,"X-Org-Id":String(e||1),"X-User-Id":String(n||1)}),x3=()=>{const{role:t,organizationId:e,userId:n}=Ds(D=>D.demoAuth),s=t==="superadmin",[r]=x.useState(!0),[i,a]=x.useState([]),[o,c]=x.useState([]),[u,d]=x.useState(""),[h,f]=x.useState(""),[m,S]=x.useState({}),[b,C]=x.useState(!1),[y,p]=x.useState("5551234567"),[g,v]=x.useState(""),[w,N]=x.useState(""),[T,_]=x.useState(!1),[A,k]=x.useState(!1),[P,R]=x.useState("");x.useEffect(()=>{!r||!s||(async()=>{try{const D=await B(),Q=await fetch(`${J}/api/v1/tenants/system/services`,{headers:D});Q.ok&&a(await Q.json());const X=await fetch(`${J}/api/v1/tenants/users`,{headers:D});X.ok&&c(await X.json())}catch{}})()},[r,s]);const I=async(D,Q)=>{try{const X=await B();(await fetch(`${J}/api/v1/tenants/system/services/${D}`,{method:"PUT",headers:X,body:JSON.stringify({enabled:Q})})).ok&&a(se=>se.map(be=>be.key===D?{...be,enabled:Q}:be))}catch{}},B=async()=>{const D=OS(t,e,n);try{const Q=window.__msalAcquireToken,X="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(Q&&X){const de=await Q([X]);de&&(D.Authorization=`Bearer ${de}`)}}catch{}return D},G=async()=>{k(!0),R("");try{const D=await B(),Q=await fetch(`${J}/api/v1/tenants/admin/entra/sync-users`,{method:"POST",headers:D}),X=await Q.json().catch(()=>({}));Q.ok?R(`Synced: upserted ${X.upserted??0}, linked ${X.linked??0}`):R(`Error: ${X.detail||Q.status}`)}catch(D){R(`Error: ${D.message}`)}finally{k(!1)}},M=async D=>{C(!0),v("");try{const X=await(await fetch(`${J}/api/v1/tenants/system/test/${D}`,{method:"POST",headers:OS(t,e,n),body:JSON.stringify({phone_e164:y})})).json();v(`${D}: ${X.success?"OK":"FAILED"} (${X.status_code})
${X.response||""}`)}catch(Q){v(`${D}: ERROR ${Q.message}`)}finally{C(!1)}},Y=async()=>{_(!0),N("");try{const D=await B(),X=await(await fetch(`${J}/api/v1/ringcentral/auth/status`,{headers:D})).json();N(JSON.stringify(X,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},Z=async()=>{_(!0);try{const D=await B(),X=await(await fetch(`${J}/api/v1/ringcentral/dnc/list`,{headers:D})).json();N(JSON.stringify(X,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},z=async()=>{_(!0);try{const D=encodeURIComponent(y),Q=await B(),de=await(await fetch(`${J}/api/v1/ringcentral/dnc/search/${D}`,{headers:Q})).json();N(JSON.stringify(de,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}},K=async()=>{_(!0);try{const D=await B(),Q=`${J}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(y)}&label=${encodeURIComponent("API Block")}`,de=await(await fetch(Q,{method:"POST",headers:D})).json();N(JSON.stringify(de,null,2))}catch(D){N(`Error: ${D.message}`)}finally{_(!1)}};return s&&r?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Providers"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-2",children:i.map(D=>l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("span",{className:"capitalize",children:D.key}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:D.enabled?"Enabled":"Disabled"}),l.jsx("input",{type:"checkbox",checked:D.enabled,onChange:Q=>I(D.key,Q.target.checked)})]})]},D.key))})})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Test Endpoints"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(bt,{value:y,onChange:D=>p(D.target.value),placeholder:"E.164 or digits"})}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["ringcentral","convoso","ytel","logics"].map(D=>l.jsx(ie,{size:"sm",variant:"outline",onClick:()=>M(D),disabled:b,children:D},D))}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:g||"Run a test to see response here."})]})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Directory Sync (Entra  DB)"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ie,{size:"sm",onClick:G,disabled:A,children:A?"Syncing":"Sync Entra users"}),P&&l.jsx("span",{className:"text-sm text-gray-600",children:P})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requires Graph app permissions and superadmin role."})]})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Maintenance"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(ie,{size:"sm",variant:"destructive",onClick:async()=>{if(confirm("Delete ALL DNC requests? This cannot be undone."))try{const D=await B(),Q=await fetch(`${J}/api/v1/tenants/admin/purge/dnc-requests`,{method:"POST",headers:D}),X=await Q.json().catch(()=>({}));alert(Q.ok?`Deleted ${X.deleted??0} request(s)`:X.detail||"Failed")}catch(D){alert(`Error: ${D.message}`)}},children:"Purge DNC requests"})}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Superadmin only. Deletes rows; keeps table."})]})]}),l.jsxs(xe,{children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"RingCentral Auth & DNC"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(bt,{value:y,onChange:D=>p(D.target.value),placeholder:"Phone to add/search"})}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[l.jsx(ie,{size:"sm",variant:"outline",onClick:Y,disabled:T,children:"Check Auth"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:Z,disabled:T,children:"List Blocked"}),l.jsx(ie,{size:"sm",variant:"outline",onClick:z,disabled:T,children:"Search Blocked"}),l.jsx(ie,{size:"sm",variant:"default",onClick:K,disabled:T,children:"Add to DNC"})]}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:w||"Use the buttons above to interact with RingCentral."})]})]}),l.jsxs(xe,{className:"md:col-span-2",children:[l.jsx(Ae,{children:l.jsx(Ne,{children:"Users & Roles (minimal)"})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(bt,{placeholder:"Email",value:u,onChange:D=>d(D.target.value)}),l.jsx(bt,{placeholder:"Name",value:h,onChange:D=>f(D.target.value)}),l.jsx(ie,{onClick:async()=>{try{const D=await B(),Q=await fetch(`${J}/api/v1/tenants/users`,{method:"POST",headers:{...D,"Content-Type":"application/json"},body:JSON.stringify({email:u,name:h})});if(Q.ok){const X=await Q.json();c([X,...o]),d(""),f("")}}catch{}},children:"Add"})]}),l.jsx("div",{className:"border rounded divide-y",children:o.map(D=>l.jsxs("div",{className:"p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:D.email}),l.jsx("div",{className:"text-gray-600",children:D.name||""})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:"System Admin"}),l.jsx("input",{type:"checkbox",checked:!!m[D.id],onChange:Q=>S({...m,[D.id]:Q.target.checked})})]})]},D.id))})]})})]})]}):null},jS=()=>{const[t,e]=x.useState(!1),[n,s]=x.useState(null),r="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";x.useEffect(()=>{location.pathname!=="/login"&&window.history.replaceState({},"","/login")},[]);const i=async()=>{s(null),e(!0);try{const a=window.__msalAcquireToken;if(!a)throw new Error("Auth not initialized");await a([r]),location.pathname!=="/"&&window.history.replaceState({},"","/")}catch(a){s((a==null?void 0:a.message)||"Login failed")}finally{e(!1)}};return l.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white border rounded",children:[l.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Sign in"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use your Microsoft account to sign in."}),n&&l.jsx("div",{className:"mb-3 text-sm text-red-600",children:n}),l.jsx(ie,{onClick:i,disabled:t,children:t?"Signing in":"Sign in with Microsoft"})]})},S3=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},C3=()=>{const t=Ev(),{isLoading:e,error:n}=Ds(g=>g.phoneNumbers),s=Ds(g=>g.demoAuth.role),[r,i]=x.useState("dnc-checker"),[a,o]=x.useState("none"),[c,u]=x.useState([]),[d]=x.useState(null),[h,f]=x.useState(null),[m]=x.useState(!1);x.useEffect(()=>{t(_o());const g=setTimeout(()=>{t(_o())},100);return t(gl()),t(pl()),()=>{clearTimeout(g),t(_o())}},[t]);const S=async(g,v)=>{if(s==="admin"||s==="superadmin"){u(g),o("systems"),t(ko({type:"info",message:'Checking systems Use "Put on DNC List (all remaining)" to push.',duration:5e3}));return}try{const w=await t(wu({phone_numbers:g,notes:v})).unwrap();t(ko({type:"success",message:`Successfully submitted ${w.success_count} phone numbers for removal`,duration:5e3})),w.failed_count>0&&t(ko({type:"warning",message:`${w.failed_count} phone numbers failed validation`,duration:5e3}));const N=g.length;t(ZB(N));const T=["logics","genesys","ringcentral","convoso","ytel"];let _=0;o("crm");const A=setInterval(()=>{_++,T.forEach(k=>{const P=Math.min(N,Math.round(_/5*N)),R=_===5?Math.floor(P*.1):0,I=_<5?Math.max(0,N-P):0,B=Math.max(0,N-P-I);t(WB({crm:k,stats:{total:P,pending:B,processing:I,completed:P-R,failed:R}}))}),_>=5&&clearInterval(A)},800);t(_o())}catch{t(ko({type:"error",message:"Failed to submit phone numbers for removal",duration:5e3})),t(_o())}},b=async g=>{try{f({phone:g,cases:[]});const v=await fetch(`${J}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json",...S3()},body:JSON.stringify({phone_number:g})});if(!v.ok)throw new Error("Failed to fetch details");const w=await v.json();f({phone:g,cases:w.cases||[]})}catch(v){t(ko({type:"error",message:v instanceof Error?v.message:"Failed to fetch details",duration:4e3}))}},C=g=>{if(!g)return"";const v=new Date(g);return isNaN(v.getTime())?"":v.toLocaleString()},y=a!=="none",p=()=>{var w;const g=window.__msalInstance;if((((w=g==null?void 0:g.getAllAccounts)==null?void 0:w.call(g))||[]).length===0)return l.jsx(jS,{});switch(r){case"main":return l.jsxs(l.Fragment,{children:[l.jsxs(It.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TRA Do Not Call List Manager"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Manage phone number removals from Do Not Call lists across multiple CRM systems"})]}),l.jsx("div",{className:`${y?"max-w-7xl":"max-w-3xl"} mx-auto w-full transition-all duration-300`,children:l.jsxs(It.div,{layout:!0,transition:{duration:.35,ease:"easeInOut"},className:`grid gap-8 ${y?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"} ${y?"":"justify-items-center"}`,children:[l.jsx(It.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:`${y?"":"w-full max-w-3xl"}`,children:l.jsx(Lz,{onNumbersSubmit:S,isLoading:e})}),y&&l.jsxs(It.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a==="crm"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(Vz,{organizationId:1,adminUserId:1}),l.jsx(Bz,{})]}),a==="systems"&&l.jsx(zz,{numbers:c}),a==="precheck"&&d&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:d.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:d.results.slice(0,20).map((N,T)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${N.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"} flex items-center justify-between`,children:[l.jsx("span",{className:"font-medium",children:N.phone_number}),l.jsx("span",{className:N.is_dnc?"text-red-700":"text-green-700",children:N.is_dnc?" DNC":" Safe"}),l.jsx("button",{className:"ml-2 px-2 py-1 text-xs border rounded hover:bg-gray-50",onClick:()=>b(N.phone_number),children:"View details"})]},T))}),h&&l.jsxs("div",{className:"p-3 rounded border bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:h.phone}),l.jsx("button",{className:"text-xs text-gray-500 underline",onClick:()=>f(null),children:"Close"})]}),m?l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Loading details..."}):h.cases.length?l.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[l.jsxs("div",{className:"text-gray-700",children:["Cases found: ",h.cases.length]}),l.jsx("div",{className:"max-h-40 overflow-y-auto divide-y",children:h.cases.map((N,T)=>l.jsxs("div",{className:"py-1 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-gray-800",children:["Case ",N.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",C(N.CreatedDate),"  Last Modified: ",C(N.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:N.StatusName||`Status ${N.StatusID}`})]},T))})]}):l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No cases found for this number."})]})]})]})]})}),l.jsx(AH,{children:n&&l.jsx(It.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:"Error:"}),l.jsx("span",{children:n})]})})})]});case"dnc-checker":return l.jsx(v3,{});case"requests":return s==="admin"||s==="superadmin"?l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"No personal requests for admins"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Admins submit removals directly and review member requests on the Admin page."})]}):l.jsxs("div",{children:[l.jsx(It.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold mb-4",children:"Your DNC Requests"}),l.jsx(p3,{userId:0})]});case"admin":return s==="admin"||s==="superadmin"?l.jsx(g3,{}):l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"Admin access required"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Switch role to Admin in the top-right selector to view the Admin dashboard."})]});case"settings":return s==="superadmin"?l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"System Settings"}),l.jsx(x3,{})]}):l.jsx(jS,{});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsx(b3,{activeTab:r,onTabChange:i}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p(),l.jsx(It.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-16 text-center text-gray-500 text-sm",children:l.jsx("p",{children:"TRA Do Not Call List Management System  Built with React, TypeScript, and FastAPI"})})]})]})},w3=()=>l.jsx(T2,{store:D_,children:l.jsxs(GE,{loading:null,persistor:f4,children:[l.jsx(C3,{}),l.jsx(lP,{position:"top-right",richColors:!0,closeButton:!0,duration:5e3})]})}),xr=new By({auth:{clientId:"a2a6c2c2-cb10-411e-a354-da61bfa4a3b2",authority:"https://login.microsoftonline.com/185fc38c-2c1b-4307-a164-24a4072e83e1",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"localStorage"}});(async()=>{try{await xr.initialize()}catch(e){console.error("MSAL initialize failed:",e)}window.__msalInstance=xr;let t=null;window.__msalAcquireToken=async e=>t||(t=(async()=>{try{const n=xr.getAllAccounts();if(n.length>0)try{const s={account:n[0],scopes:e};return(await xr.acquireTokenSilent(s)).accessToken}catch{}try{return(await xr.loginPopup({scopes:e})).accessToken}catch(s){const r=(s==null?void 0:s.errorCode)||(s==null?void 0:s.message)||"";if(String(r).includes("interaction_in_progress"))return null;throw s}}finally{t=null}})(),t),window.__msalLogout=async()=>{try{await xr.logoutPopup()}catch{await xr.logoutRedirect()}},rO.createRoot(document.getElementById("root")).render(l.jsx(te.StrictMode,{children:l.jsx(t2,{instance:xr,children:l.jsx(w3,{})})}))})();
//# sourceMappingURL=index-COtrle7l.js.map
