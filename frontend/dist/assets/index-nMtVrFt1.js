var BN=Object.defineProperty;var zN=(t,e,n)=>e in t?BN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var xh=(t,e,n)=>zN(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Sg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pC={exports:{}},Ad={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN=Symbol.for("react.transitional.element"),FN=Symbol.for("react.fragment");function yC(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:VN,type:t,key:r,ref:e!==void 0?e:null,props:n}}Ad.Fragment=FN;Ad.jsx=yC;Ad.jsxs=yC;pC.exports=Ad;var l=pC.exports,vC={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=Symbol.for("react.transitional.element"),qN=Symbol.for("react.portal"),GN=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),YN=Symbol.for("react.consumer"),QN=Symbol.for("react.context"),XN=Symbol.for("react.forward_ref"),JN=Symbol.for("react.suspense"),ZN=Symbol.for("react.memo"),bC=Symbol.for("react.lazy"),mv=Symbol.iterator;function WN(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var SC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CC=Object.assign,xC={};function qa(t,e,n){this.props=t,this.context=e,this.refs=xC,this.updater=n||SC}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wC(){}wC.prototype=qa.prototype;function xg(t,e,n){this.props=t,this.context=e,this.refs=xC,this.updater=n||SC}var wg=xg.prototype=new wC;wg.constructor=xg;CC(wg,qa.prototype);wg.isPureReactComponent=!0;var gv=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},TC=Object.prototype.hasOwnProperty;function Tg(t,e,n,r,i,s){return n=s.ref,{$$typeof:Cg,type:t,key:e,ref:n!==void 0?n:null,props:s}}function eR(t,e){return Tg(t.type,e,void 0,void 0,void 0,t.props)}function Ag(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cg}function tR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pv=/\/+/g;function wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tR(""+t.key):e.toString(36)}function yv(){}function nR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(yv,yv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Gs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Cg:case qN:a=!0;break;case bC:return a=t._init,Gs(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+wh(t,0):r,gv(i)?(n="",a!=null&&(n=a.replace(pv,"$&/")+"/"),Gs(i,e,n,"",function(u){return u})):i!=null&&(Ag(i)&&(i=eR(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(pv,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(gv(t))for(var c=0;c<t.length;c++)r=t[c],s=o+wh(r,c),a+=Gs(r,e,n,s,i);else if(c=WN(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=o+wh(r,c++),a+=Gs(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Gs(nR(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function ol(t,e,n){if(t==null)return t;var r=[],i=0;return Gs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function iR(){}we.Children={map:ol,forEach:function(t,e,n){ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ol(t,function(){e++}),e},toArray:function(t){return ol(t,function(e){return e})||[]},only:function(t){if(!Ag(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=qa;we.Fragment=GN;we.Profiler=$N;we.PureComponent=xg;we.StrictMode=KN;we.Suspense=JN;we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt;we.__COMPILER_RUNTIME={__proto__:null,c:function(t){return nt.H.useMemoCache(t)}};we.cache=function(t){return function(){return t.apply(null,arguments)}};we.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=CC({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!TC.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}return Tg(t.type,i,void 0,void 0,s,r)};we.createContext=function(t){return t={$$typeof:QN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:YN,_context:t},t};we.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)TC.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Tg(t,s,void 0,void 0,null,i)};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:XN,render:t}};we.isValidElement=Ag;we.lazy=function(t){return{$$typeof:bC,_payload:{_status:-1,_result:t},_init:rR}};we.memo=function(t,e){return{$$typeof:ZN,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=nt.T,n={};nt.T=n;try{var r=t(),i=nt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(iR,vv)}catch(s){vv(s)}finally{nt.T=e}};we.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()};we.use=function(t){return nt.H.use(t)};we.useActionState=function(t,e,n){return nt.H.useActionState(t,e,n)};we.useCallback=function(t,e){return nt.H.useCallback(t,e)};we.useContext=function(t){return nt.H.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t,e){return nt.H.useDeferredValue(t,e)};we.useEffect=function(t,e,n){var r=nt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};we.useId=function(){return nt.H.useId()};we.useImperativeHandle=function(t,e,n){return nt.H.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return nt.H.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return nt.H.useLayoutEffect(t,e)};we.useMemo=function(t,e){return nt.H.useMemo(t,e)};we.useOptimistic=function(t,e){return nt.H.useOptimistic(t,e)};we.useReducer=function(t,e,n){return nt.H.useReducer(t,e,n)};we.useRef=function(t){return nt.H.useRef(t)};we.useState=function(t){return nt.H.useState(t)};we.useSyncExternalStore=function(t,e,n){return nt.H.useSyncExternalStore(t,e,n)};we.useTransition=function(){return nt.H.useTransition()};we.version="19.1.1";vC.exports=we;var w=vC.exports;const Q=Sg(w);var AC={exports:{}},Ed={},EC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,K){var J=I.length;I.push(K);e:for(;0<J;){var k=J-1>>>1,H=I[k];if(0<i(H,K))I[k]=K,I[J]=H,J=k;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var K=I[0],J=I.pop();if(J!==K){I[0]=J;e:for(var k=0,H=I.length,P=H>>>1;k<P;){var G=2*(k+1)-1,W=I[G],le=G+1,ce=I[le];if(0>i(W,J))le<H&&0>i(ce,W)?(I[k]=ce,I[le]=J,k=le):(I[k]=W,I[G]=J,k=G);else if(le<H&&0>i(ce,J))I[k]=ce,I[le]=J,k=le;else break e}}return K}function i(I,K){var J=I.sortIndex-K.sortIndex;return J!==0?J:I.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,d=null,f=3,m=!1,S=!1,b=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function v(I){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=I)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function E(I){if(b=!1,v(I),!S)if(n(c)!==null)S=!0,T||(T=!0,D());else{var K=n(u);K!==null&&V(E,K.startTime-I)}}var T=!1,C=-1,x=5,N=-1;function M(){return A?!0:!(t.unstable_now()-N<x)}function F(){if(A=!1,T){var I=t.unstable_now();N=I;var K=!0;try{e:{S=!1,b&&(b=!1,g(C),C=-1),m=!0;var J=f;try{t:{for(v(I),d=n(c);d!==null&&!(d.expirationTime>I&&M());){var k=d.callback;if(typeof k=="function"){d.callback=null,f=d.priorityLevel;var H=k(d.expirationTime<=I);if(I=t.unstable_now(),typeof H=="function"){d.callback=H,v(I),K=!0;break t}d===n(c)&&r(c),v(I)}else r(c);d=n(c)}if(d!==null)K=!0;else{var P=n(u);P!==null&&V(E,P.startTime-I),K=!1}}break e}finally{d=null,f=J,m=!1}K=void 0}}finally{K?D():T=!1}}}var D;if(typeof p=="function")D=function(){p(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=F,D=function(){L.postMessage(null)}}else D=function(){y(F,0)};function V(I,K){C=y(function(){I(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var J=f;f=K;try{return I()}finally{f=J}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var J=f;f=I;try{return K()}finally{f=J}},t.unstable_scheduleCallback=function(I,K,J){var k=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?k+J:k):J=k,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=J+H,I={id:h++,callback:K,priorityLevel:I,startTime:J,expirationTime:H,sortIndex:-1},J>k?(I.sortIndex=J,e(u,I),n(c)===null&&I===n(u)&&(b?(g(C),C=-1):b=!0,V(E,J-k))):(I.sortIndex=H,e(c,I),S||m||(S=!0,T||(T=!0,D()))),I},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(I){var K=f;return function(){var J=f;f=K;try{return I.apply(this,arguments)}finally{f=J}}}})(_C);EC.exports=_C;var sR=EC.exports,NC={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=w;function RC(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function li(){}var nn={d:{f:li,r:function(){throw Error(RC(522))},D:li,C:li,L:li,m:li,X:li,S:li,M:li},p:0,findDOMNode:null},oR=Symbol.for("react.portal");function cR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oR,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Io=aR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _d(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nn;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(RC(299));return cR(t,e,null,n)};rn.flushSync=function(t){var e=Io.T,n=nn.p;try{if(Io.T=null,nn.p=2,t)return t()}finally{Io.T=e,nn.p=n,nn.d.f()}};rn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,nn.d.C(t,e))};rn.prefetchDNS=function(t){typeof t=="string"&&nn.d.D(t)};rn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=_d(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?nn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&nn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};rn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=_d(e.as,e.crossOrigin);nn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&nn.d.M(t)};rn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=_d(n,e.crossOrigin);nn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};rn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=_d(e.as,e.crossOrigin);nn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else nn.d.m(t)};rn.requestFormReset=function(t){nn.d.r(t)};rn.unstable_batchedUpdates=function(t,e){return t(e)};rn.useFormState=function(t,e,n){return Io.H.useFormState(t,e,n)};rn.useFormStatus=function(){return Io.H.useHostTransitionStatus()};rn.version="19.1.1";function kC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kC)}catch(t){console.error(t)}}kC(),NC.exports=rn;var OC=NC.exports;const lR=Sg(OC);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=sR,IC=w,uR=OC;function q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function MC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bv(t){if(Mc(t)!==t)throw Error(q(188))}function dR(t){var e=t.alternate;if(!e){if(e=Mc(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bv(i),t;if(s===r)return bv(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function PC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=PC(t),e!==null)return e;t=t.sibling}return null}var Xe=Object.assign,hR=Symbol.for("react.element"),cl=Symbol.for("react.transitional.element"),To=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),DC=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),fR=Symbol.for("react.provider"),UC=Symbol.for("react.consumer"),Hr=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Uf=Symbol.for("react.activity"),mR=Symbol.for("react.memo_cache_sentinel"),Sv=Symbol.iterator;function so(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var gR=Symbol.for("react.client.reference");function Lf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===gR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Js:return"Fragment";case jf:return"Profiler";case DC:return"StrictMode";case Pf:return"Suspense";case Df:return"SuspenseList";case Uf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case To:return"Portal";case Hr:return(t.displayName||"Context")+".Provider";case UC:return(t._context.displayName||"Context")+".Consumer";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _g:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case yi:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}var Ao=Array.isArray,ge=IC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=uR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ps={pending:!1,data:null,method:null,action:null},Hf=[],Zs=-1;function Ar(t){return{current:t}}function Lt(t){0>Zs||(t.current=Hf[Zs],Hf[Zs]=null,Zs--)}function rt(t,e){Zs++,Hf[Zs]=t.current,t.current=e}var Cr=Ar(null),cc=Ar(null),Oi=Ar(null),du=Ar(null);function hu(t,e){switch(rt(Oi,e),rt(cc,t),rt(Cr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Ab(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Ab(e),t=eT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Lt(Cr),rt(Cr,t)}function Ea(){Lt(Cr),Lt(cc),Lt(Oi)}function Bf(t){t.memoizedState!==null&&rt(du,t);var e=Cr.current,n=eT(e,t.type);e!==n&&(rt(cc,t),rt(Cr,n))}function fu(t){cc.current===t&&(Lt(Cr),Lt(cc)),du.current===t&&(Lt(du),vc._currentValue=ps)}var zf=Object.prototype.hasOwnProperty,Ng=kt.unstable_scheduleCallback,Th=kt.unstable_cancelCallback,pR=kt.unstable_shouldYield,yR=kt.unstable_requestPaint,xr=kt.unstable_now,vR=kt.unstable_getCurrentPriorityLevel,LC=kt.unstable_ImmediatePriority,HC=kt.unstable_UserBlockingPriority,mu=kt.unstable_NormalPriority,bR=kt.unstable_LowPriority,BC=kt.unstable_IdlePriority,SR=kt.log,CR=kt.unstable_setDisableYieldValue,jc=null,wn=null;function Ei(t){if(typeof SR=="function"&&CR(t),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(jc,t)}catch{}}var Tn=Math.clz32?Math.clz32:TR,xR=Math.log,wR=Math.LN2;function TR(t){return t>>>=0,t===0?32:31-(xR(t)/wR|0)|0}var ll=256,ul=4194304;function is(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nd(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=is(r):(a&=o,a!==0?i=is(a):n||(n=o&~t,n!==0&&(i=is(n))))):(o=r&~s,o!==0?i=is(o):a!==0?i=is(a):n||(n=r&~t,n!==0&&(i=is(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Pc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function AR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zC(){var t=ll;return ll<<=1,!(ll&4194048)&&(ll=256),t}function VC(){var t=ul;return ul<<=1,!(ul&62914560)&&(ul=4194304),t}function Ah(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ER(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-Tn(n),d=1<<h;o[h]=0,c[h]=-1;var f=u[h];if(f!==null)for(u[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&FC(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function FC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Tn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function qC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Rg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function GC(){var t=je.p;return t!==0?t:(t=window.event,t===void 0?32:uT(t.type))}function _R(t,e){var n=je.p;try{return je.p=t,e()}finally{je.p=n}}var Ji=Math.random().toString(36).slice(2),$t="__reactFiber$"+Ji,fn="__reactProps$"+Ji,Ga="__reactContainer$"+Ji,Vf="__reactEvents$"+Ji,NR="__reactListeners$"+Ji,RR="__reactHandles$"+Ji,Cv="__reactResources$"+Ji,Uc="__reactMarker$"+Ji;function Og(t){delete t[$t],delete t[fn],delete t[Vf],delete t[NR],delete t[RR]}function Ws(t){var e=t[$t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ga]||n[$t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nb(t);t!==null;){if(n=t[$t])return n;t=Nb(t)}return e}t=n,n=t.parentNode}return null}function Ka(t){if(t=t[$t]||t[Ga]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Eo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(q(33))}function fa(t){var e=t[Cv];return e||(e=t[Cv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Pt(t){t[Uc]=!0}var KC=new Set,$C={};function js(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for($C[t]=e,t=0;t<e.length;t++)KC.add(e[t])}var kR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xv={},wv={};function OR(t){return zf.call(wv,t)?!0:zf.call(xv,t)?!1:kR.test(t)?wv[t]=!0:(xv[t]=!0,!1)}function Bl(t,e,n){if(OR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function dl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function kr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Eh,Tv;function Ks(t){if(Eh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Eh=e&&e[1]||"",Tv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eh+t+Tv}var _h=!1;function Nh(t,e){if(!t||_h)return"";_h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(t,[],d)}else{try{d.call()}catch(m){f=m}t.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var h=`
`+c[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{_h=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ks(n):""}function IR(t){switch(t.tag){case 26:case 27:case 5:return Ks(t.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return Nh(t.type,!1);case 11:return Nh(t.type.render,!1);case 1:return Nh(t.type,!0);case 31:return Ks("Activity");default:return""}}function Av(t){try{var e="";do e+=IR(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MR(t){var e=YC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=MR(t))}function QC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jR=/[\n"\\]/g;function Hn(t){return t.replace(jR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ff(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Pn(e)):t.value!==""+Pn(e)&&(t.value=""+Pn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?qf(t,a,Pn(e)):n!=null?qf(t,a,Pn(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Pn(o):t.removeAttribute("name")}function XC(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Pn(n):"",e=e!=null?""+Pn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function qf(t,e,n){e==="number"&&pu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function JC(t,e,n){if(e!=null&&(e=""+Pn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Pn(n):""}function ZC(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(q(92));if(Ao(r)){if(1<r.length)throw Error(q(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Pn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var PR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ev(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||PR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function WC(t,e,n){if(e!=null&&typeof e!="object")throw Error(q(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Ev(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&Ev(t,s,e[s])}function Ig(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(t){return UR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gf=null;function Mg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,ga=null;function _v(t){var e=Ka(t);if(e&&(t=e.stateNode)){var n=t[fn]||null;e:switch(t=e.stateNode,e.type){case"input":if(Ff(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Hn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[fn]||null;if(!i)throw Error(q(90));Ff(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&QC(r)}break e;case"textarea":JC(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ma(t,!!n.multiple,e,!1)}}}var Rh=!1;function ex(t,e,n){if(Rh)return t(e,n);Rh=!0;try{var r=t(e);return r}finally{if(Rh=!1,(ea!==null||ga!==null)&&(Ld(),ea&&(e=ea,t=ga,ga=ea=null,_v(e),t)))for(e=0;e<t.length;e++)_v(t[e])}}function lc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[fn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=!1;if(Jr)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Kf=!1}var _i=null,jg=null,Vl=null;function tx(){if(Vl)return Vl;var t,e=jg,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Vl=i.slice(t,1<r?1-r:void 0)}function Fl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hl(){return!0}function Nv(){return!1}function pn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hl:Nv,this.isPropagationStopped=Nv,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=pn(Ps),Lc=Xe({},Ps,{view:0,detail:0}),LR=pn(Lc),kh,Oh,oo,kd=Xe({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oo&&(oo&&t.type==="mousemove"?(kh=t.screenX-oo.screenX,Oh=t.screenY-oo.screenY):Oh=kh=0,oo=t),kh)},movementY:function(t){return"movementY"in t?t.movementY:Oh}}),Rv=pn(kd),HR=Xe({},kd,{dataTransfer:0}),BR=pn(HR),zR=Xe({},Lc,{relatedTarget:0}),Ih=pn(zR),VR=Xe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),FR=pn(VR),qR=Xe({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GR=pn(qR),KR=Xe({},Ps,{data:0}),kv=pn(KR),$R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QR[t])?!!e[t]:!1}function Pg(){return XR}var JR=Xe({},Lc,{key:function(t){if(t.key){var e=$R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZR=pn(JR),WR=Xe({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ov=pn(WR),ek=Xe({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),tk=pn(ek),nk=Xe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),rk=pn(nk),ik=Xe({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sk=pn(ik),ak=Xe({},Ps,{newState:0,oldState:0}),ok=pn(ak),ck=[9,13,27,32],Dg=Jr&&"CompositionEvent"in window,Mo=null;Jr&&"documentMode"in document&&(Mo=document.documentMode);var lk=Jr&&"TextEvent"in window&&!Mo,nx=Jr&&(!Dg||Mo&&8<Mo&&11>=Mo),Iv=" ",Mv=!1;function rx(t,e){switch(t){case"keyup":return ck.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ix(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ta=!1;function uk(t,e){switch(t){case"compositionend":return ix(e);case"keypress":return e.which!==32?null:(Mv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Mv?null:t;default:return null}}function dk(t,e){if(ta)return t==="compositionend"||!Dg&&rx(t,e)?(t=tx(),Vl=jg=_i=null,ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nx&&e.locale!=="ko"?null:e.data;default:return null}}var hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hk[t.type]:e==="textarea"}function sx(t,e,n,r){ea?ga?ga.push(r):ga=[r]:ea=r,e=ju(e,"onChange"),0<e.length&&(n=new Rd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jo=null,uc=null;function fk(t){Jw(t,0)}function Od(t){var e=Eo(t);if(QC(e))return t}function Pv(t,e){if(t==="change")return e}var ax=!1;if(Jr){var Mh;if(Jr){var jh="oninput"in document;if(!jh){var Dv=document.createElement("div");Dv.setAttribute("oninput","return;"),jh=typeof Dv.oninput=="function"}Mh=jh}else Mh=!1;ax=Mh&&(!document.documentMode||9<document.documentMode)}function Uv(){jo&&(jo.detachEvent("onpropertychange",ox),uc=jo=null)}function ox(t){if(t.propertyName==="value"&&Od(uc)){var e=[];sx(e,uc,t,Mg(t)),ex(fk,e)}}function mk(t,e,n){t==="focusin"?(Uv(),jo=e,uc=n,jo.attachEvent("onpropertychange",ox)):t==="focusout"&&Uv()}function gk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(uc)}function pk(t,e){if(t==="click")return Od(e)}function yk(t,e){if(t==="input"||t==="change")return Od(e)}function vk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:vk;function dc(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zf.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function Lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=Lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lv(n)}}function cx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=pu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pu(t.document)}return e}function Ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var bk=Jr&&"documentMode"in document&&11>=document.documentMode,na=null,$f=null,Po=null,Yf=!1;function Bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||na==null||na!==pu(r)||(r=na,"selectionStart"in r&&Ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&dc(Po,r)||(Po=r,r=ju($f,"onSelect"),0<r.length&&(e=new Rd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=na)))}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ra={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Ph={},ux={};Jr&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Ds(t){if(Ph[t])return Ph[t];if(!ra[t])return t;var e=ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ux)return Ph[t]=e[n];return t}var dx=Ds("animationend"),hx=Ds("animationiteration"),fx=Ds("animationstart"),Sk=Ds("transitionrun"),Ck=Ds("transitionstart"),xk=Ds("transitioncancel"),mx=Ds("transitionend"),gx=new Map,Qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qf.push("scrollEnd");function cr(t,e){gx.set(t,e),js(e,[t])}var zv=new WeakMap;function Bn(t,e){if(typeof t=="object"&&t!==null){var n=zv.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Av(e)},zv.set(t,e),e)}return{value:t,source:e,stack:Av(e)}}var jn=[],ia=0,Lg=0;function Id(){for(var t=ia,e=Lg=ia=0;e<t;){var n=jn[e];jn[e++]=null;var r=jn[e];jn[e++]=null;var i=jn[e];jn[e++]=null;var s=jn[e];if(jn[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&px(n,i,s)}}function Md(t,e,n,r){jn[ia++]=t,jn[ia++]=e,jn[ia++]=n,jn[ia++]=r,Lg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Hg(t,e,n,r){return Md(t,e,n,r),yu(t)}function $a(t,e){return Md(t,null,null,e),yu(t)}function px(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Tn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function yu(t){if(50<Go)throw Go=0,pm=null,Error(q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sa={};function wk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,n,r){return new wk(t,e,n,r)}function Bg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kr(t,e){var n=t.alternate;return n===null?(n=xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function yx(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ql(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Bg(t)&&(a=1);else if(typeof t=="string")a=A1(t,n,Cr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Uf:return t=xn(31,n,e,i),t.elementType=Uf,t.lanes=s,t;case Js:return ys(n.children,i,s,e);case DC:a=8,i|=24;break;case jf:return t=xn(12,n,e,i|2),t.elementType=jf,t.lanes=s,t;case Pf:return t=xn(13,n,e,i),t.elementType=Pf,t.lanes=s,t;case Df:return t=xn(19,n,e,i),t.elementType=Df,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fR:case Hr:a=10;break e;case UC:a=9;break e;case Eg:a=11;break e;case _g:a=14;break e;case yi:a=16,r=null;break e}a=29,n=Error(q(130,t===null?"null":typeof t,"")),r=null}return e=xn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ys(t,e,n,r){return t=xn(7,t,r,e),t.lanes=n,t}function Dh(t,e,n){return t=xn(6,t,null,e),t.lanes=n,t}function Uh(t,e,n){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var aa=[],oa=0,vu=null,bu=0,Dn=[],Un=0,vs=null,Br=1,zr="";function ss(t,e){aa[oa++]=bu,aa[oa++]=vu,vu=t,bu=e}function vx(t,e,n){Dn[Un++]=Br,Dn[Un++]=zr,Dn[Un++]=vs,vs=t;var r=Br;t=zr;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Br=1<<32-Tn(e)+i|n<<i|r,zr=s+t}else Br=1<<s|n<<i|r,zr=t}function zg(t){t.return!==null&&(ss(t,1),vx(t,1,0))}function Vg(t){for(;t===vu;)vu=aa[--oa],aa[oa]=null,bu=aa[--oa],aa[oa]=null;for(;t===vs;)vs=Dn[--Un],Dn[Un]=null,zr=Dn[--Un],Dn[Un]=null,Br=Dn[--Un],Dn[Un]=null}var en=null,ct=null,Me=!1,bs=null,pr=!1,Xf=Error(q(519));function Ts(t){var e=Error(q(418,""));throw hc(Bn(e,t)),Xf}function Vv(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[$t]=t,e[fn]=r,n){case"dialog":_e("cancel",e),_e("close",e);break;case"iframe":case"object":case"embed":_e("load",e);break;case"video":case"audio":for(n=0;n<gc.length;n++)_e(gc[n],e);break;case"source":_e("error",e);break;case"img":case"image":case"link":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"input":_e("invalid",e),XC(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),gu(e);break;case"select":_e("invalid",e);break;case"textarea":_e("invalid",e),ZC(e,r.value,r.defaultValue,r.children),gu(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Ww(e.textContent,n)?(r.popover!=null&&(_e("beforetoggle",e),_e("toggle",e)),r.onScroll!=null&&_e("scroll",e),r.onScrollEnd!=null&&_e("scrollend",e),r.onClick!=null&&(e.onclick=zd),e=!0):e=!1,e||Ts(t)}function Fv(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:en=en.return}}function co(t){if(t!==en)return!1;if(!Me)return Fv(t),Me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||xm(t.type,t.memoizedProps)),n=!n),n&&ct&&Ts(t),Fv(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ct=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ct=null}}else e===27?(e=ct,Zi(t.type)?(t=Am,Am=null,ct=t):ct=e):ct=en?nr(t.stateNode.nextSibling):null;return!0}function Hc(){ct=en=null,Me=!1}function qv(){var t=bs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),bs=null),t}function hc(t){bs===null?bs=[t]:bs.push(t)}var Jf=Ar(null),Us=null,Vr=null;function Si(t,e,n){rt(Jf,e._currentValue),e._currentValue=n}function $r(t){t._currentValue=Jf.current,Lt(Jf)}function Zf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wf(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Zf(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(q(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Zf(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Bc(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(q(387));if(a=a.memoizedProps,a!==null){var o=i.type;Rn(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===du.current){if(a=i.alternate,a===null)throw Error(q(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(vc):t=[vc])}i=i.return}t!==null&&Wf(e,t,n,r),e.flags|=262144}function Su(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){Us=t,Vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return bx(Us,t)}function fl(t,e){return Us===null&&As(t),bx(t,e)}function bx(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Vr===null){if(t===null)throw Error(q(308));Vr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Vr=Vr.next=e;return n}var Tk=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Ak=kt.unstable_scheduleCallback,Ek=kt.unstable_NormalPriority,At={$$typeof:Hr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fg(){return{controller:new Tk,data:new Map,refCount:0}}function zc(t){t.refCount--,t.refCount===0&&Ak(Ek,function(){t.controller.abort()})}var Do=null,em=0,Ra=0,pa=null;function _k(t,e){if(Do===null){var n=Do=[];em=0,Ra=hp(),pa={status:"pending",value:void 0,then:function(r){n.push(r)}}}return em++,e.then(Gv,Gv),e}function Gv(){if(--em===0&&Do!==null){pa!==null&&(pa.status="fulfilled");var t=Do;Do=null,Ra=0,pa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Nk(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Kv=ge.S;ge.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&_k(t,e),Kv!==null&&Kv(t,e)};var Ss=Ar(null);function qg(){var t=Ss.current;return t!==null?t:Ye.pooledCache}function Gl(t,e){e===null?rt(Ss,Ss.current):rt(Ss,e.pool)}function Sx(){var t=qg();return t===null?null:{parent:At._currentValue,pool:t}}var Vc=Error(q(460)),Cx=Error(q(474)),jd=Error(q(542)),tm={then:function(){}};function $v(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ml(){}function xx(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ml,ml),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qv(t),t;default:if(typeof e.status=="string")e.then(ml,ml);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(q(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qv(t),t}throw Uo=e,Vc}}var Uo=null;function Yv(){if(Uo===null)throw Error(q(459));var t=Uo;return Uo=null,t}function Qv(t){if(t===Vc||t===jd)throw Error(q(483))}var vi=!1;function Gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ii(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=yu(t),px(t,null,n),e}return Md(t,r,e,n),yu(t)}function Lo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qC(t,n)}}function Lh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var rm=!1;function Ho(){if(rm){var t=pa;if(t!==null)throw t}}function Bo(t,e,n,r){rm=!1;var i=t.updateQueue;vi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;a=0,h=u=c=null,o=s;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(Oe&f)===f:(r&f)===f){f!==0&&f===Ra&&(rm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,b=o;f=e;var A=n;switch(b.tag){case 1:if(S=b.payload,typeof S=="function"){d=S.call(A,d,f);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,f=typeof S=="function"?S.call(A,d,f):S,f==null)break e;d=Xe({},d,f);break e;case 2:vi=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,c=d):h=h.next=m,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);h===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),Ki|=a,t.lanes=a,t.memoizedState=d}}function wx(t,e){if(typeof t!="function")throw Error(q(191,t));t.call(e)}function Tx(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)wx(n[t],e)}var ka=Ar(null),Cu=Ar(0);function Xv(t,e){t=ei,rt(Cu,t),rt(ka,e),ei=t|e.baseLanes}function im(){rt(Cu,ei),rt(ka,ka.current)}function Kg(){ei=Cu.current,Lt(ka),Lt(Cu)}var qi=0,Te=null,Ve=null,bt=null,xu=!1,ya=!1,Es=!1,wu=0,fc=0,va=null,Rk=0;function dt(){throw Error(q(321))}function $g(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Yg(t,e,n,r,i,s){return qi=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ge.H=t===null||t.memoizedState===null?tw:nw,Es=!1,s=n(r,i),Es=!1,ya&&(s=Ex(e,n,r,i)),Ax(t),s}function Ax(t){ge.H=Tu;var e=Ve!==null&&Ve.next!==null;if(qi=0,bt=Ve=Te=null,xu=!1,fc=0,va=null,e)throw Error(q(300));t===null||Dt||(t=t.dependencies,t!==null&&Su(t)&&(Dt=!0))}function Ex(t,e,n,r){Te=t;var i=0;do{if(ya&&(va=null),fc=0,ya=!1,25<=i)throw Error(q(301));if(i+=1,bt=Ve=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ge.H=Dk,s=e(n,r)}while(ya);return s}function kk(){var t=ge.H,e=t.useState()[0];return e=typeof e.then=="function"?Fc(e):e,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Te.flags|=1024),e}function Qg(){var t=wu!==0;return wu=0,t}function Xg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Jg(t){if(xu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}xu=!1}qi=0,bt=Ve=Te=null,ya=!1,fc=wu=0,va=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Te.memoizedState=bt=t:bt=bt.next=t,bt}function Ct(){if(Ve===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=bt===null?Te.memoizedState:bt.next;if(e!==null)bt=e,Ve=t;else{if(t===null)throw Te.alternate===null?Error(q(467)):Error(q(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},bt===null?Te.memoizedState=bt=t:bt=bt.next=t}return bt}function Zg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(t){var e=fc;return fc+=1,va===null&&(va=[]),t=xx(va,t,e),e=Te,(bt===null?e.memoizedState:bt.next)===null&&(e=e.alternate,ge.H=e===null||e.memoizedState===null?tw:nw),t}function Pd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fc(t);if(t.$$typeof===Hr)return Yt(t)}throw Error(q(438,String(t)))}function Wg(t){var e=null,n=Te.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Zg(),Te.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=mR;return e.index++,n}function Zr(t,e){return typeof e=="function"?e(t):e}function Kl(t){var e=Ct();return ep(e,Ve,t)}function ep(t,e,n){var r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,c=null,u=e,h=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Oe&d)===d:(qi&d)===d){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ra&&(h=!0);else if((qi&f)===f){u=u.next,f===Ra&&(h=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,a=s):c=c.next=d,Te.lanes|=f,Ki|=f;d=u.action,Es&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,a=s):c=c.next=f,Te.lanes|=d,Ki|=d;u=u.next}while(u!==null&&u!==e);if(c===null?a=s:c.next=o,!Rn(s,t.memoizedState)&&(Dt=!0,h&&(n=pa,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Hh(t){var e=Ct(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Rn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _x(t,e,n){var r=Te,i=Ct(),s=Me;if(s){if(n===void 0)throw Error(q(407));n=n()}else n=e();var a=!Rn((Ve||i).memoizedState,n);a&&(i.memoizedState=n,Dt=!0),i=i.queue;var o=kx.bind(null,r,i,t);if(qc(2048,8,o,[t]),i.getSnapshot!==e||a||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Oa(9,Dd(),Rx.bind(null,r,i,n,e),null),Ye===null)throw Error(q(349));s||qi&124||Nx(r,e,n)}return n}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e=Zg(),Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rx(t,e,n,r){e.value=n,e.getSnapshot=r,Ox(e)&&Ix(t)}function kx(t,e,n){return n(function(){Ox(e)&&Ix(t)})}function Ox(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function Ix(t){var e=$a(t,2);e!==null&&En(e,t,2)}function sm(t){var e=an();if(typeof t=="function"){var n=t;if(t=n(),Es){Ei(!0);try{n()}finally{Ei(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},e}function Mx(t,e,n,r){return t.baseState=n,ep(t,Ve,typeof r=="function"?r:Zr)}function Ok(t,e,n,r,i){if(Ud(t))throw Error(q(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ge.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,jx(e,s)):(s.next=n.next,e.pending=n.next=s)}}function jx(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=ge.T,a={};ge.T=a;try{var o=n(i,r),c=ge.S;c!==null&&c(a,o),Jv(t,e,o)}catch(u){am(t,e,u)}finally{ge.T=s}}else try{s=n(i,r),Jv(t,e,s)}catch(u){am(t,e,u)}}function Jv(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Zv(t,e,r)},function(r){return am(t,e,r)}):Zv(t,e,n)}function Zv(t,e,n){e.status="fulfilled",e.value=n,Px(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,jx(t,n)))}function am(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Px(e),e=e.next;while(e!==r)}t.action=null}function Px(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Dx(t,e){return e}function Wv(t,e){if(Me){var n=Ye.formState;if(n!==null){e:{var r=Te;if(Me){if(ct){t:{for(var i=ct,s=pr;i.nodeType!==8;){if(!s){i=null;break t}if(i=nr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ct=nr(i.nextSibling),r=i.data==="F!";break e}}Ts(r)}r=!1}r&&(e=n[0])}}return n=an(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dx,lastRenderedState:e},n.queue=r,n=Zx.bind(null,Te,r),r.dispatch=n,r=sm(!1),s=ip.bind(null,Te,!1,r.queue),r=an(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=Ok.bind(null,Te,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function eb(t){var e=Ct();return Ux(e,Ve,t)}function Ux(t,e,n){if(e=ep(t,e,Dx)[0],t=Kl(Zr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Fc(e)}catch(a){throw a===Vc?jd:a}else r=e;e=Ct();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(Te.flags|=2048,Oa(9,Dd(),Ik.bind(null,i,n),null)),[r,s,t]}function Ik(t,e){t.action=e}function tb(t){var e=Ct(),n=Ve;if(n!==null)return Ux(e,n,t);Ct(),e=e.memoizedState,n=Ct();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Oa(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Te.updateQueue,e===null&&(e=Zg(),Te.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Dd(){return{destroy:void 0,resource:void 0}}function Lx(){return Ct().memoizedState}function $l(t,e,n,r){var i=an();r=r===void 0?null:r,Te.flags|=t,i.memoizedState=Oa(1|e,Dd(),n,r)}function qc(t,e,n,r){var i=Ct();r=r===void 0?null:r;var s=i.memoizedState.inst;Ve!==null&&r!==null&&$g(r,Ve.memoizedState.deps)?i.memoizedState=Oa(e,s,n,r):(Te.flags|=t,i.memoizedState=Oa(1|e,s,n,r))}function nb(t,e){$l(8390656,8,t,e)}function Hx(t,e){qc(2048,8,t,e)}function Bx(t,e){return qc(4,2,t,e)}function zx(t,e){return qc(4,4,t,e)}function Vx(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fx(t,e,n){n=n!=null?n.concat([t]):null,qc(4,4,Vx.bind(null,e,t),n)}function tp(){}function qx(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&$g(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gx(t,e){var n=Ct();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&$g(e,r[1]))return r[0];if(r=t(),Es){Ei(!0);try{t()}finally{Ei(!1)}}return n.memoizedState=[r,e],r}function np(t,e,n){return n===void 0||qi&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Pw(),Te.lanes|=t,Ki|=t,n)}function Kx(t,e,n,r){return Rn(n,e)?n:ka.current!==null?(t=np(t,n,r),Rn(t,e)||(Dt=!0),t):qi&42?(t=Pw(),Te.lanes|=t,Ki|=t,e):(Dt=!0,t.memoizedState=n)}function $x(t,e,n,r,i){var s=je.p;je.p=s!==0&&8>s?s:8;var a=ge.T,o={};ge.T=o,ip(t,!1,e,n);try{var c=i(),u=ge.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=Nk(c,r);zo(t,e,h,An(t))}else zo(t,e,r,An(t))}catch(d){zo(t,e,{then:function(){},status:"rejected",reason:d},An())}finally{je.p=s,ge.T=a}}function Mk(){}function om(t,e,n,r){if(t.tag!==5)throw Error(q(476));var i=Yx(t).queue;$x(t,i,e,ps,n===null?Mk:function(){return Qx(t),n(r)})}function Yx(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ps,baseState:ps,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:ps},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Qx(t){var e=Yx(t).next.queue;zo(t,e,{},An())}function rp(){return Yt(vc)}function Xx(){return Ct().memoizedState}function Jx(){return Ct().memoizedState}function jk(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=An();t=Ii(n);var r=Mi(e,t,n);r!==null&&(En(r,e,n),Lo(r,e,n)),e={cache:Fg()},t.payload=e;return}e=e.return}}function Pk(t,e,n){var r=An();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ud(t)?Wx(e,n):(n=Hg(t,e,n,r),n!==null&&(En(n,t,r),ew(n,e,r)))}function Zx(t,e,n){var r=An();zo(t,e,n,r)}function zo(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ud(t))Wx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Rn(o,a))return Md(t,e,i,0),Ye===null&&Id(),!1}catch{}finally{}if(n=Hg(t,e,i,r),n!==null)return En(n,t,r),ew(n,e,r),!0}return!1}function ip(t,e,n,r){if(r={lane:2,revertLane:hp(),action:r,hasEagerState:!1,eagerState:null,next:null},Ud(t)){if(e)throw Error(q(479))}else e=Hg(t,n,r,2),e!==null&&En(e,t,2)}function Ud(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Wx(t,e){ya=xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ew(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qC(t,n)}}var Tu={readContext:Yt,use:Pd,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},tw={readContext:Yt,use:Pd,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:nb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,$l(4194308,4,Vx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $l(4194308,4,t,e)},useInsertionEffect:function(t,e){$l(4,2,t,e)},useMemo:function(t,e){var n=an();e=e===void 0?null:e;var r=t();if(Es){Ei(!0);try{t()}finally{Ei(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=an();if(n!==void 0){var i=n(e);if(Es){Ei(!0);try{n(e)}finally{Ei(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=Pk.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:function(t){t=sm(t);var e=t.queue,n=Zx.bind(null,Te,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:tp,useDeferredValue:function(t,e){var n=an();return np(n,t,e)},useTransition:function(){var t=sm(!1);return t=$x.bind(null,Te,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Te,i=an();if(Me){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Ye===null)throw Error(q(349));Oe&124||Nx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,nb(kx.bind(null,r,s,t),[t]),r.flags|=2048,Oa(9,Dd(),Rx.bind(null,r,s,n,e),null),n},useId:function(){var t=an(),e=Ye.identifierPrefix;if(Me){var n=zr,r=Br;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=""+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=Rk++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:rp,useFormState:Wv,useActionState:Wv,useOptimistic:function(t){var e=an();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ip.bind(null,Te,!0,n),n.dispatch=e,[t,e]},useMemoCache:Wg,useCacheRefresh:function(){return an().memoizedState=jk.bind(null,Te)}},nw={readContext:Yt,use:Pd,useCallback:qx,useContext:Yt,useEffect:Hx,useImperativeHandle:Fx,useInsertionEffect:Bx,useLayoutEffect:zx,useMemo:Gx,useReducer:Kl,useRef:Lx,useState:function(){return Kl(Zr)},useDebugValue:tp,useDeferredValue:function(t,e){var n=Ct();return Kx(n,Ve.memoizedState,t,e)},useTransition:function(){var t=Kl(Zr)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:Fc(t),e]},useSyncExternalStore:_x,useId:Xx,useHostTransitionStatus:rp,useFormState:eb,useActionState:eb,useOptimistic:function(t,e){var n=Ct();return Mx(n,Ve,t,e)},useMemoCache:Wg,useCacheRefresh:Jx},Dk={readContext:Yt,use:Pd,useCallback:qx,useContext:Yt,useEffect:Hx,useImperativeHandle:Fx,useInsertionEffect:Bx,useLayoutEffect:zx,useMemo:Gx,useReducer:Hh,useRef:Lx,useState:function(){return Hh(Zr)},useDebugValue:tp,useDeferredValue:function(t,e){var n=Ct();return Ve===null?np(n,t,e):Kx(n,Ve.memoizedState,t,e)},useTransition:function(){var t=Hh(Zr)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:Fc(t),e]},useSyncExternalStore:_x,useId:Xx,useHostTransitionStatus:rp,useFormState:tb,useActionState:tb,useOptimistic:function(t,e){var n=Ct();return Ve!==null?Mx(n,Ve,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Wg,useCacheRefresh:Jx},ba=null,mc=0;function gl(t){var e=mc;return mc+=1,ba===null&&(ba=[]),xx(ba,t,e)}function lo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function pl(t,e){throw e.$$typeof===hR?Error(q(525)):(t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rb(t){var e=t._init;return e(t._payload)}function rw(t){function e(y,g){if(t){var p=y.deletions;p===null?(y.deletions=[g],y.flags|=16):p.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(y,g){return y=Kr(y,g),y.index=0,y.sibling=null,y}function s(y,g,p){return y.index=p,t?(p=y.alternate,p!==null?(p=p.index,p<g?(y.flags|=67108866,g):p):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,g,p,v){return g===null||g.tag!==6?(g=Dh(p,y.mode,v),g.return=y,g):(g=i(g,p),g.return=y,g)}function c(y,g,p,v){var E=p.type;return E===Js?h(y,g,p.props.children,v,p.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yi&&rb(E)===g.type)?(g=i(g,p.props),lo(g,p),g.return=y,g):(g=ql(p.type,p.key,p.props,null,y.mode,v),lo(g,p),g.return=y,g)}function u(y,g,p,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Uh(p,y.mode,v),g.return=y,g):(g=i(g,p.children||[]),g.return=y,g)}function h(y,g,p,v,E){return g===null||g.tag!==7?(g=ys(p,y.mode,v,E),g.return=y,g):(g=i(g,p),g.return=y,g)}function d(y,g,p){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Dh(""+g,y.mode,p),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cl:return p=ql(g.type,g.key,g.props,null,y.mode,p),lo(p,g),p.return=y,p;case To:return g=Uh(g,y.mode,p),g.return=y,g;case yi:var v=g._init;return g=v(g._payload),d(y,g,p)}if(Ao(g)||so(g))return g=ys(g,y.mode,p,null),g.return=y,g;if(typeof g.then=="function")return d(y,gl(g),p);if(g.$$typeof===Hr)return d(y,fl(y,g),p);pl(y,g)}return null}function f(y,g,p,v){var E=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return E!==null?null:o(y,g,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cl:return p.key===E?c(y,g,p,v):null;case To:return p.key===E?u(y,g,p,v):null;case yi:return E=p._init,p=E(p._payload),f(y,g,p,v)}if(Ao(p)||so(p))return E!==null?null:h(y,g,p,v,null);if(typeof p.then=="function")return f(y,g,gl(p),v);if(p.$$typeof===Hr)return f(y,g,fl(y,p),v);pl(y,p)}return null}function m(y,g,p,v,E){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(p)||null,o(g,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cl:return y=y.get(v.key===null?p:v.key)||null,c(g,y,v,E);case To:return y=y.get(v.key===null?p:v.key)||null,u(g,y,v,E);case yi:var T=v._init;return v=T(v._payload),m(y,g,p,v,E)}if(Ao(v)||so(v))return y=y.get(p)||null,h(g,y,v,E,null);if(typeof v.then=="function")return m(y,g,p,gl(v),E);if(v.$$typeof===Hr)return m(y,g,p,fl(g,v),E);pl(g,v)}return null}function S(y,g,p,v){for(var E=null,T=null,C=g,x=g=0,N=null;C!==null&&x<p.length;x++){C.index>x?(N=C,C=null):N=C.sibling;var M=f(y,C,p[x],v);if(M===null){C===null&&(C=N);break}t&&C&&M.alternate===null&&e(y,C),g=s(M,g,x),T===null?E=M:T.sibling=M,T=M,C=N}if(x===p.length)return n(y,C),Me&&ss(y,x),E;if(C===null){for(;x<p.length;x++)C=d(y,p[x],v),C!==null&&(g=s(C,g,x),T===null?E=C:T.sibling=C,T=C);return Me&&ss(y,x),E}for(C=r(C);x<p.length;x++)N=m(C,y,x,p[x],v),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?x:N.key),g=s(N,g,x),T===null?E=N:T.sibling=N,T=N);return t&&C.forEach(function(F){return e(y,F)}),Me&&ss(y,x),E}function b(y,g,p,v){if(p==null)throw Error(q(151));for(var E=null,T=null,C=g,x=g=0,N=null,M=p.next();C!==null&&!M.done;x++,M=p.next()){C.index>x?(N=C,C=null):N=C.sibling;var F=f(y,C,M.value,v);if(F===null){C===null&&(C=N);break}t&&C&&F.alternate===null&&e(y,C),g=s(F,g,x),T===null?E=F:T.sibling=F,T=F,C=N}if(M.done)return n(y,C),Me&&ss(y,x),E;if(C===null){for(;!M.done;x++,M=p.next())M=d(y,M.value,v),M!==null&&(g=s(M,g,x),T===null?E=M:T.sibling=M,T=M);return Me&&ss(y,x),E}for(C=r(C);!M.done;x++,M=p.next())M=m(C,y,x,M.value,v),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?x:M.key),g=s(M,g,x),T===null?E=M:T.sibling=M,T=M);return t&&C.forEach(function(D){return e(y,D)}),Me&&ss(y,x),E}function A(y,g,p,v){if(typeof p=="object"&&p!==null&&p.type===Js&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case cl:e:{for(var E=p.key;g!==null;){if(g.key===E){if(E=p.type,E===Js){if(g.tag===7){n(y,g.sibling),v=i(g,p.props.children),v.return=y,y=v;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===yi&&rb(E)===g.type){n(y,g.sibling),v=i(g,p.props),lo(v,p),v.return=y,y=v;break e}n(y,g);break}else e(y,g);g=g.sibling}p.type===Js?(v=ys(p.props.children,y.mode,v,p.key),v.return=y,y=v):(v=ql(p.type,p.key,p.props,null,y.mode,v),lo(v,p),v.return=y,y=v)}return a(y);case To:e:{for(E=p.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){n(y,g.sibling),v=i(g,p.children||[]),v.return=y,y=v;break e}else{n(y,g);break}else e(y,g);g=g.sibling}v=Uh(p,y.mode,v),v.return=y,y=v}return a(y);case yi:return E=p._init,p=E(p._payload),A(y,g,p,v)}if(Ao(p))return S(y,g,p,v);if(so(p)){if(E=so(p),typeof E!="function")throw Error(q(150));return p=E.call(p),b(y,g,p,v)}if(typeof p.then=="function")return A(y,g,gl(p),v);if(p.$$typeof===Hr)return A(y,g,fl(y,p),v);pl(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,g!==null&&g.tag===6?(n(y,g.sibling),v=i(g,p),v.return=y,y=v):(n(y,g),v=Dh(p,y.mode,v),v.return=y,y=v),a(y)):n(y,g)}return function(y,g,p,v){try{mc=0;var E=A(y,g,p,v);return ba=null,E}catch(C){if(C===Vc||C===jd)throw C;var T=xn(29,C,null,y.mode);return T.lanes=v,T.return=y,T}finally{}}}var Ia=rw(!0),iw=rw(!1),Vn=Ar(null),wr=null;function Ci(t){var e=t.alternate;rt(Et,Et.current&1),rt(Vn,t),wr===null&&(e===null||ka.current!==null||e.memoizedState!==null)&&(wr=t)}function sw(t){if(t.tag===22){if(rt(Et,Et.current),rt(Vn,t),wr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(wr=t)}}else xi()}function xi(){rt(Et,Et.current),rt(Vn,Vn.current)}function Fr(t){Lt(Vn),wr===t&&(wr=null),Lt(Et)}var Et=Ar(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cm={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=An(),i=Ii(r);i.payload=e,n!=null&&(i.callback=n),e=Mi(t,i,r),e!==null&&(En(e,t,r),Lo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=An(),i=Ii(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mi(t,i,r),e!==null&&(En(e,t,r),Lo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=An(),r=Ii(n);r.tag=2,e!=null&&(r.callback=e),e=Mi(t,r,n),e!==null&&(En(e,t,n),Lo(e,t,n))}};function ib(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,s):!0}function sb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cm.enqueueReplaceState(e,e.state,null)}function _s(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Xe({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function aw(t){Eu(t)}function ow(t){console.error(t)}function cw(t){Eu(t)}function _u(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ab(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function lm(t,e,n){return n=Ii(n),n.tag=3,n.payload={element:null},n.callback=function(){_u(t,e)},n}function lw(t){return t=Ii(t),t.tag=3,t}function uw(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){ab(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){ab(e,n,r),typeof i!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function Uk(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Bc(e,n,i,!0),n=Vn.current,n!==null){switch(n.tag){case 13:return wr===null?ym():n.alternate===null&&lt===0&&(lt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===tm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Jh(t,r,i)),!1;case 22:return n.flags|=65536,r===tm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Jh(t,r,i)),!1}throw Error(q(435,n.tag))}return Jh(t,r,i),ym(),!1}if(Me)return e=Vn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Xf&&(t=Error(q(422),{cause:r}),hc(Bn(t,n)))):(r!==Xf&&(e=Error(q(423),{cause:r}),hc(Bn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Bn(r,n),i=lm(t.stateNode,r,i),Lh(t,i),lt!==4&&(lt=2)),!1;var s=Error(q(520),{cause:r});if(s=Bn(s,n),qo===null?qo=[s]:qo.push(s),lt!==4&&(lt=2),e===null)return!0;r=Bn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=lm(n.stateNode,r,t),Lh(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ji===null||!ji.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=lw(i),uw(i,t,n,r),Lh(n,i),!1}n=n.return}while(n!==null);return!1}var dw=Error(q(461)),Dt=!1;function zt(t,e,n,r){e.child=t===null?iw(e,null,n,r):Ia(e,t.child,n,r)}function ob(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return As(e),r=Yg(t,e,n,a,s,i),o=Qg(),t!==null&&!Dt?(Xg(t,e,i),Wr(t,e,i)):(Me&&o&&zg(e),e.flags|=1,zt(t,e,r,i),e.child)}function cb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Bg(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,hw(t,e,s,r,i)):(t=ql(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!sp(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(a,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Kr(s,r),t.ref=e.ref,t.return=e,e.child=t}function hw(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dc(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,sp(t,i))t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return um(t,e,n,r,i)}function fw(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return lb(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gl(e,s!==null?s.cachePool:null),s!==null?Xv(e,s):im(),sw(e);else return e.lanes=e.childLanes=536870912,lb(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Gl(e,s.cachePool),Xv(e,s),xi(),e.memoizedState=null):(t!==null&&Gl(e,null),im(),xi());return zt(t,e,i,n),e.child}function lb(t,e,n,r){var i=qg();return i=i===null?null:{parent:At._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Gl(e,null),im(),sw(e),t!==null&&Bc(t,e,r,!0),null}function Yl(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function um(t,e,n,r,i){return As(e),n=Yg(t,e,n,r,void 0,i),r=Qg(),t!==null&&!Dt?(Xg(t,e,i),Wr(t,e,i)):(Me&&r&&zg(e),e.flags|=1,zt(t,e,n,i),e.child)}function ub(t,e,n,r,i,s){return As(e),e.updateQueue=null,n=Ex(e,r,n,i),Ax(t),r=Qg(),t!==null&&!Dt?(Xg(t,e,s),Wr(t,e,s)):(Me&&r&&zg(e),e.flags|=1,zt(t,e,n,s),e.child)}function db(t,e,n,r,i){if(As(e),e.stateNode===null){var s=sa,a=n.contextType;typeof a=="object"&&a!==null&&(s=Yt(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cm,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Gg(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Yt(a):sa,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Bh(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&cm.enqueueReplaceState(s,s.state,null),Bo(e,r,s,i),Ho(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,c=_s(n,o);s.props=c;var u=s.context,h=n.contextType;a=sa,typeof h=="object"&&h!==null&&(a=Yt(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&sb(e,s,r,a),vi=!1;var f=e.memoizedState;s.state=f,Bo(e,r,s,i),Ho(),u=e.memoizedState,o||f!==u||vi?(typeof d=="function"&&(Bh(e,n,d,r),u=e.memoizedState),(c=vi||ib(e,n,c,r,f,u,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,nm(t,e),a=e.memoizedProps,h=_s(n,a),s.props=h,d=e.pendingProps,f=s.context,u=n.contextType,c=sa,typeof u=="object"&&u!==null&&(c=Yt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==c)&&sb(e,s,r,c),vi=!1,f=e.memoizedState,s.state=f,Bo(e,r,s,i),Ho();var m=e.memoizedState;a!==d||f!==m||vi||t!==null&&t.dependencies!==null&&Su(t.dependencies)?(typeof o=="function"&&(Bh(e,n,o,r),m=e.memoizedState),(h=vi||ib(e,n,h,r,f,m,c)||t!==null&&t.dependencies!==null&&Su(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=c,r=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Yl(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,n,i)):zt(t,e,n,i),e.memoizedState=s.state,t=e.child):t=Wr(t,e,i),t}function hb(t,e,n,r){return Hc(),e.flags|=256,zt(t,e,n,r),e.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:Sx()}}function Fh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zn),t}function mw(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Me){if(i?Ci(e):xi(),Me){var o=ct,c;if(c=o){e:{for(c=o,o=pr;c.nodeType!==8;){if(!o){o=null;break e}if(c=nr(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:vs!==null?{id:Br,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},c=xn(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,en=e,ct=null,c=!0):c=!1}c||Ts(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Tm(o)?e.lanes=32:e.lanes=536870912,null;Fr(e)}return o=r.children,r=r.fallback,i?(xi(),i=e.mode,o=Nu({mode:"hidden",children:o},i),r=ys(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=Vh(n),i.childLanes=Fh(t,a,n),e.memoizedState=zh,r):(Ci(e),dm(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(s)e.flags&256?(Ci(e),e.flags&=-257,e=qh(t,e,n)):e.memoizedState!==null?(xi(),e.child=t.child,e.flags|=128,e=null):(xi(),i=r.fallback,o=e.mode,r=Nu({mode:"visible",children:r.children},o),i=ys(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Ia(e,t.child,null,n),r=e.child,r.memoizedState=Vh(n),r.childLanes=Fh(t,a,n),e.memoizedState=zh,e=i);else if(Ci(e),Tm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(q(419)),r.stack="",r.digest=a,hc({value:r,source:null,stack:null}),e=qh(t,e,n)}else if(Dt||Bc(t,e,n,!1),a=(n&t.childLanes)!==0,Dt||a){if(a=Ye,a!==null&&(r=n&-n,r=r&42?1:Rg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,$a(t,r),En(a,t,r),dw;o.data==="$?"||ym(),e=qh(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ct=nr(o.nextSibling),en=e,Me=!0,bs=null,pr=!1,t!==null&&(Dn[Un++]=Br,Dn[Un++]=zr,Dn[Un++]=vs,Br=t.id,zr=t.overflow,vs=e),e=dm(e,r.children),e.flags|=4096);return e}return i?(xi(),i=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=Kr(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=Kr(u,i):(i=ys(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=Vh(n):(c=o.cachePool,c!==null?(u=At._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Sx(),o={baseLanes:o.baseLanes|n,cachePool:c}),i.memoizedState=o,i.childLanes=Fh(t,a,n),e.memoizedState=zh,r):(Ci(e),n=t.child,t=n.sibling,n=Kr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function dm(t,e){return e=Nu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Nu(t,e){return t=xn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qh(t,e,n){return Ia(e,t.child,null,n),t=dm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zf(t.return,e,n)}function Gh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fb(t,n,e);else if(t.tag===19)fb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(rt(Et,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Gh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Gh(e,!0,n,null,s);break;case"together":Gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,!(n&e.childLanes))if(t!==null){if(Bc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Su(t)))}function Lk(t,e,n){switch(e.tag){case 3:hu(e,e.stateNode.containerInfo),Si(e,At,t.memoizedState.cache),Hc();break;case 27:case 5:Bf(e);break;case 4:hu(e,e.stateNode.containerInfo);break;case 10:Si(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ci(e),e.flags|=128,null):n&e.child.childLanes?mw(t,e,n):(Ci(e),t=Wr(t,e,n),t!==null?t.sibling:null);Ci(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Bc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return gw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,fw(t,e,n);case 24:Si(e,At,t.memoizedState.cache)}return Wr(t,e,n)}function pw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Dt=!0;else{if(!sp(t,n)&&!(e.flags&128))return Dt=!1,Lk(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Me&&e.flags&1048576&&vx(e,bu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Bg(r)?(t=_s(r,t),e.tag=1,e=db(null,e,r,t,n)):(e.tag=0,e=um(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Eg){e.tag=11,e=ob(null,e,r,t,n);break e}else if(i===_g){e.tag=14,e=cb(null,e,r,t,n);break e}}throw e=Lf(r)||r,Error(q(306,e,""))}}return e;case 0:return um(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=_s(r,e.pendingProps),db(t,e,r,i,n);case 3:e:{if(hu(e,e.stateNode.containerInfo),t===null)throw Error(q(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,nm(t,e),Bo(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Si(e,At,r),r!==s.cache&&Wf(e,[At],n,!0),Ho(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=hb(t,e,r,n);break e}else if(r!==i){i=Bn(Error(q(424)),e),hc(i),e=hb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=nr(t.firstChild),en=e,Me=!0,bs=null,pr=!0,n=iw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Hc(),r===i){e=Wr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 26:return Yl(t,e),t===null?(n=kb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Me||(n=e.type,t=e.pendingProps,r=Pu(Oi.current).createElement(n),r[$t]=e,r[fn]=t,qt(r,n,t),Pt(r),e.stateNode=r):e.memoizedState=kb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Bf(e),t===null&&Me&&(r=e.stateNode=nT(e.type,e.pendingProps,Oi.current),en=e,pr=!0,i=ct,Zi(e.type)?(Am=i,ct=nr(r.firstChild)):ct=i),zt(t,e,e.pendingProps.children,n),Yl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Me&&((i=r=ct)&&(r=h1(r,e.type,e.pendingProps,pr),r!==null?(e.stateNode=r,en=e,ct=nr(r.firstChild),pr=!1,i=!0):i=!1),i||Ts(e)),Bf(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,xm(i,s)?r=null:a!==null&&xm(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Yg(t,e,kk,null,null,n),vc._currentValue=i),Yl(t,e),zt(t,e,r,n),e.child;case 6:return t===null&&Me&&((t=n=ct)&&(n=f1(n,e.pendingProps,pr),n!==null?(e.stateNode=n,en=e,ct=null,t=!0):t=!1),t||Ts(e)),null;case 13:return mw(t,e,n);case 4:return hu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):zt(t,e,r,n),e.child;case 11:return ob(t,e,e.type,e.pendingProps,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Si(e,e.type,r.value),zt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,As(e),i=Yt(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return cb(t,e,e.type,e.pendingProps,n);case 15:return hw(t,e,e.type,e.pendingProps,n);case 19:return gw(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Nu(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Kr(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return fw(t,e,n);case 24:return As(e),r=Yt(At),t===null?(i=qg(),i===null&&(i=Ye,s=Fg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Gg(e),Si(e,At,i)):(t.lanes&n&&(nm(t,e),Bo(e,null,null,n),Ho()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Si(e,At,r)):(r=s.cache,Si(e,At,r),r!==i.cache&&Wf(e,[At],n,!0))),zt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(q(156,e.tag))}function Or(t){t.flags|=4}function mb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!sT(e)){if(e=Vn.current,e!==null&&((Oe&4194048)===Oe?wr!==null:(Oe&62914560)!==Oe&&!(Oe&536870912)||e!==wr))throw Uo=tm,Cx;t.flags|=8192}}function yl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?VC():536870912,t.lanes|=e,Ma|=e)}function uo(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hk(t,e,n){var r=e.pendingProps;switch(Vg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return at(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),$r(At),Ea(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(co(e)?Or(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qv())),at(e),null;case 26:return n=e.memoizedState,t===null?(Or(e),n!==null?(at(e),mb(e,n)):(at(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Or(e),at(e),mb(e,n)):(at(e),e.flags&=-16777217):(t.memoizedProps!==r&&Or(e),at(e),e.flags&=-16777217),null;case 27:fu(e),n=Oi.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Or(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return at(e),null}t=Cr.current,co(e)?Vv(e):(t=nT(i,r,n),e.stateNode=t,Or(e))}return at(e),null;case 5:if(fu(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Or(e);else{if(!r){if(e.stateNode===null)throw Error(q(166));return at(e),null}if(t=Cr.current,co(e))Vv(e);else{switch(i=Pu(Oi.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[$t]=e,t[fn]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(qt(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Or(e)}}return at(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Or(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(t=Oi.current,co(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=en,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[$t]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Ww(t.nodeValue,n)),t||Ts(e)}else t=Pu(t).createTextNode(r),t[$t]=e,e.stateNode=t}return at(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=co(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[$t]=e}else Hc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),i=!1}else i=qv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Fr(e),e):(Fr(e),null)}if(Fr(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),yl(e,e.updateQueue),at(e),null;case 4:return Ea(),t===null&&fp(e.stateNode.containerInfo),at(e),null;case 10:return $r(e.type),at(e),null;case 19:if(Lt(Et),i=e.memoizedState,i===null)return at(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)uo(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Au(t),s!==null){for(e.flags|=128,uo(i,!1),t=s.updateQueue,e.updateQueue=t,yl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)yx(n,t),n=n.sibling;return rt(Et,Et.current&1|2),e.child}t=t.sibling}i.tail!==null&&xr()>ku&&(e.flags|=128,r=!0,uo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Au(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,yl(e,t),uo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Me)return at(e),null}else 2*xr()-i.renderingStartTime>ku&&n!==536870912&&(e.flags|=128,r=!0,uo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xr(),e.sibling=null,t=Et.current,rt(Et,r?t&1|2:t&1),e):(at(e),null);case 22:case 23:return Fr(e),Kg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),n=e.updateQueue,n!==null&&yl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Lt(Ss),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),$r(At),at(e),null;case 25:return null;case 30:return null}throw Error(q(156,e.tag))}function Bk(t,e){switch(Vg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $r(At),Ea(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fu(e),null;case 13:if(Fr(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Hc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Et),null;case 4:return Ea(),null;case 10:return $r(e.type),null;case 22:case 23:return Fr(e),Kg(),t!==null&&Lt(Ss),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return $r(At),null;case 25:return null;default:return null}}function yw(t,e){switch(Vg(e),e.tag){case 3:$r(At),Ea();break;case 26:case 27:case 5:fu(e);break;case 4:Ea();break;case 13:Fr(e);break;case 19:Lt(Et);break;case 10:$r(e.type);break;case 22:case 23:Fr(e),Kg(),t!==null&&Lt(Ss);break;case 24:$r(At)}}function Gc(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Ke(e,e.return,o)}}function Gi(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var c=n,u=o;try{u()}catch(h){Ke(i,c,h)}}}r=r.next}while(r!==s)}}catch(h){Ke(e,e.return,h)}}function vw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Tx(e,n)}catch(r){Ke(t,t.return,r)}}}function bw(t,e,n){n.props=_s(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ke(t,e,r)}}function Vo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ke(t,e,i)}}function br(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ke(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ke(t,e,i)}else n.current=null}function Sw(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ke(t,t.return,i)}}function Kh(t,e,n){try{var r=t.stateNode;o1(r,t.type,n,e),r[fn]=e}catch(i){Ke(t,t.return,i)}}function Cw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function $h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(r===27&&Zi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hm(t,e,n),t=t.sibling;t!==null;)hm(t,e,n),t=t.sibling}function Ru(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Zi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ru(t,e,n),t=t.sibling;t!==null;)Ru(t,e,n),t=t.sibling}function xw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);qt(e,r,n),e[$t]=t,e[fn]=n}catch(s){Ke(t,t.return,s)}}var Lr=!1,ht=!1,Yh=!1,gb=typeof WeakSet=="function"?WeakSet:Set,jt=null;function zk(t,e){if(t=t.containerInfo,Sm=Hu,t=lx(t),Ug(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(o=a),f===s&&++h===r&&(c=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cm={focusedElem:t,selectionRange:n},Hu=!1,jt=e;jt!==null;)if(e=jt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,jt=t;else for(;jt!==null;){switch(e=jt,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var S=_s(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(S,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(b){Ke(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(q(163))}if(t=e.sibling,t!==null){t.return=e.return,jt=t;break}jt=e.return}}function ww(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n),r&4&&Gc(5,n);break;case 1:if(ui(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Ke(n,n.return,a)}else{var i=_s(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Ke(n,n.return,a)}}r&64&&vw(n),r&512&&Vo(n,n.return);break;case 3:if(ui(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Tx(t,e)}catch(a){Ke(n,n.return,a)}}break;case 27:e===null&&r&4&&xw(n);case 26:case 5:ui(t,n),e===null&&r&4&&Sw(n),r&512&&Vo(n,n.return);break;case 12:ui(t,n);break;case 13:ui(t,n),r&4&&Ew(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Xk.bind(null,n),m1(t,n))));break;case 22:if(r=n.memoizedState!==null||Lr,!r){e=e!==null&&e.memoizedState!==null||ht,i=Lr;var s=ht;Lr=r,(ht=e)&&!s?mi(t,n,(n.subtreeFlags&8772)!==0):ui(t,n),Lr=i,ht=s}break;case 30:break;default:ui(t,n)}}function Tw(t){var e=t.alternate;e!==null&&(t.alternate=null,Tw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Og(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,on=!1;function Ir(t,e,n){for(n=n.child;n!==null;)Aw(t,e,n),n=n.sibling}function Aw(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(jc,n)}catch{}switch(n.tag){case 26:ht||br(n,e),Ir(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ht||br(n,e);var r=et,i=on;Zi(n.type)&&(et=n.stateNode,on=!1),Ir(t,e,n),Ko(n.stateNode),et=r,on=i;break;case 5:ht||br(n,e);case 6:if(r=et,i=on,et=null,Ir(t,e,n),et=r,on=i,et!==null)if(on)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(n.stateNode)}catch(s){Ke(n,e,s)}else try{et.removeChild(n.stateNode)}catch(s){Ke(n,e,s)}break;case 18:et!==null&&(on?(t=et,_b(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Cc(t)):_b(et,n.stateNode));break;case 4:r=et,i=on,et=n.stateNode.containerInfo,on=!0,Ir(t,e,n),et=r,on=i;break;case 0:case 11:case 14:case 15:ht||Gi(2,n,e),ht||Gi(4,n,e),Ir(t,e,n);break;case 1:ht||(br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bw(n,e,r)),Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:ht=(r=ht)||n.memoizedState!==null,Ir(t,e,n),ht=r;break;default:Ir(t,e,n)}}function Ew(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cc(t)}catch(n){Ke(e,e.return,n)}}function Vk(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new gb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new gb),e;default:throw Error(q(435,t.tag))}}function Qh(t,e){var n=Vk(t);e.forEach(function(r){var i=Jk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Zi(o.type)){et=o.stateNode,on=!1;break e}break;case 5:et=o.stateNode,on=!1;break e;case 3:case 4:et=o.stateNode.containerInfo,on=!0;break e}o=o.return}if(et===null)throw Error(q(160));Aw(s,a,i),et=null,on=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)_w(e,t),e=e.sibling}var Qn=null;function _w(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),bn(t),r&4&&(Gi(3,t,t.return),Gc(3,t),Gi(5,t,t.return));break;case 1:vn(e,t),bn(t),r&512&&(ht||n===null||br(n,n.return)),r&64&&Lr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Qn;if(vn(e,t),bn(t),r&512&&(ht||n===null||br(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Uc]||s[$t]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),qt(s,r,n),s[$t]=t,Pt(s),r=s;break e;case"link":var a=Ib("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),qt(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Ib("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),qt(s,r,n),i.head.appendChild(s);break;default:throw Error(q(468,r))}s[$t]=t,Pt(s),r=s}t.stateNode=r}else Mb(i,t.type,t.stateNode);else t.stateNode=Ob(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Mb(i,t.type,t.stateNode):Ob(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Kh(t,t.memoizedProps,n.memoizedProps)}break;case 27:vn(e,t),bn(t),r&512&&(ht||n===null||br(n,n.return)),n!==null&&r&4&&Kh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vn(e,t),bn(t),r&512&&(ht||n===null||br(n,n.return)),t.flags&32){i=t.stateNode;try{Na(i,"")}catch(m){Ke(t,t.return,m)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Kh(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Yh=!0);break;case 6:if(vn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(q(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){Ke(t,t.return,m)}}break;case 3:if(Jl=null,i=Qn,Qn=Du(e.containerInfo),vn(e,t),Qn=i,bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cc(e.containerInfo)}catch(m){Ke(t,t.return,m)}Yh&&(Yh=!1,Nw(t));break;case 4:r=Qn,Qn=Du(t.stateNode.containerInfo),vn(e,t),bn(t),Qn=r;break;case 12:vn(e,t),bn(t);break;case 13:vn(e,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(up=xr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Qh(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Lr,h=ht;if(Lr=u||i,ht=h||c,vn(e,t),ht=h,Lr=u,bn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Lr||ht||as(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var d=c.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Ke(c,c.return,m)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Ke(c,c.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Qh(t,n))));break;case 19:vn(e,t),bn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Qh(t,r)));break;case 30:break;case 21:break;default:vn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(Cw(r)){n=r;break}r=r.return}if(n==null)throw Error(q(160));switch(n.tag){case 27:var i=n.stateNode,s=$h(t);Ru(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Na(a,""),n.flags&=-33);var o=$h(t);Ru(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=$h(t);hm(t,u,c);break;default:throw Error(q(161))}}catch(h){Ke(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Nw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Nw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ui(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ww(t,e.alternate,e),e=e.sibling}function as(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Gi(4,e,e.return),as(e);break;case 1:br(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&bw(e,e.return,n),as(e);break;case 27:Ko(e.stateNode);case 26:case 5:br(e,e.return),as(e);break;case 22:e.memoizedState===null&&as(e);break;case 30:as(e);break;default:as(e)}t=t.sibling}}function mi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:mi(i,s,n),Gc(4,s);break;case 1:if(mi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Ke(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)wx(c[i],o)}catch(u){Ke(r,r.return,u)}}n&&a&64&&vw(s),Vo(s,s.return);break;case 27:xw(s);case 26:case 5:mi(i,s,n),n&&r===null&&a&4&&Sw(s),Vo(s,s.return);break;case 12:mi(i,s,n);break;case 13:mi(i,s,n),n&&a&4&&Ew(i,s);break;case 22:s.memoizedState===null&&mi(i,s,n),Vo(s,s.return);break;case 30:break;default:mi(i,s,n)}e=e.sibling}}function ap(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zc(n))}function op(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zc(t))}function dr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rw(t,e,n,r),e=e.sibling}function Rw(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:dr(t,e,n,r),i&2048&&Gc(9,e);break;case 1:dr(t,e,n,r);break;case 3:dr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zc(t)));break;case 12:if(i&2048){dr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Ke(e,e.return,c)}}else dr(t,e,n,r);break;case 13:dr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?dr(t,e,n,r):Fo(t,e):s._visibility&2?dr(t,e,n,r):(s._visibility|=2,$s(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&ap(a,e);break;case 24:dr(t,e,n,r),i&2048&&op(e.alternate,e);break;default:dr(t,e,n,r)}}function $s(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,c=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:$s(s,a,o,c,i),Gc(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?$s(s,a,o,c,i):Fo(s,a):(h._visibility|=2,$s(s,a,o,c,i)),i&&u&2048&&ap(a.alternate,a);break;case 24:$s(s,a,o,c,i),i&&u&2048&&op(a.alternate,a);break;default:$s(s,a,o,c,i)}e=e.sibling}}function Fo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Fo(n,r),i&2048&&ap(r.alternate,r);break;case 24:Fo(n,r),i&2048&&op(r.alternate,r);break;default:Fo(n,r)}e=e.sibling}}var _o=8192;function zs(t){if(t.subtreeFlags&_o)for(t=t.child;t!==null;)kw(t),t=t.sibling}function kw(t){switch(t.tag){case 26:zs(t),t.flags&_o&&t.memoizedState!==null&&_1(Qn,t.memoizedState,t.memoizedProps);break;case 5:zs(t);break;case 3:case 4:var e=Qn;Qn=Du(t.stateNode.containerInfo),zs(t),Qn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=_o,_o=16777216,zs(t),_o=e):zs(t));break;default:zs(t)}}function Ow(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function ho(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];jt=r,Mw(r,t)}Ow(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iw(t),t=t.sibling}function Iw(t){switch(t.tag){case 0:case 11:case 15:ho(t),t.flags&2048&&Gi(9,t,t.return);break;case 3:ho(t);break;case 12:ho(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ql(t)):ho(t);break;default:ho(t)}}function Ql(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];jt=r,Mw(r,t)}Ow(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Gi(8,e,e.return),Ql(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ql(e));break;default:Ql(e)}t=t.sibling}}function Mw(t,e){for(;jt!==null;){var n=jt;switch(n.tag){case 0:case 11:case 15:Gi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:zc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,jt=r;else e:for(n=t;jt!==null;){r=jt;var i=r.sibling,s=r.return;if(Tw(r),r===n){jt=null;break e}if(i!==null){i.return=s,jt=i;break e}jt=s}}}var Fk={getCacheForType:function(t){var e=Yt(At),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},qk=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ye=null,Ne=null,Oe=0,De=0,Cn=null,Ni=!1,Ya=!1,cp=!1,ei=0,lt=0,Ki=0,Cs=0,lp=0,zn=0,Ma=0,qo=null,ln=null,fm=!1,up=0,ku=1/0,Ou=null,ji=null,Ft=0,Pi=null,ja=null,Sa=0,mm=0,gm=null,jw=null,Go=0,pm=null;function An(){if(Le&2&&Oe!==0)return Oe&-Oe;if(ge.T!==null){var t=Ra;return t!==0?t:hp()}return GC()}function Pw(){zn===0&&(zn=!(Oe&536870912)||Me?zC():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),zn}function En(t,e,n){(t===Ye&&(De===2||De===9)||t.cancelPendingCommit!==null)&&(Pa(t,0),Ri(t,Oe,zn,!1)),Dc(t,n),(!(Le&2)||t!==Ye)&&(t===Ye&&(!(Le&2)&&(Cs|=n),lt===4&&Ri(t,Oe,zn,!1)),Er(t))}function Dw(t,e,n){if(Le&6)throw Error(q(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Pc(t,e),i=r?$k(t,e):Xh(t,e,!0),s=r;do{if(i===0){Ya&&!r&&Ri(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Gk(n)){i=Xh(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=qo;var c=o.current.memoizedState.isDehydrated;if(c&&(Pa(o,a).flags|=256),a=Xh(o,a,!1),a!==2){if(cp&&!c){o.errorRecoveryDisabledLanes|=s,Cs|=s,i=4;break e}s=ln,ln=i,s!==null&&(ln===null?ln=s:ln.push.apply(ln,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Pa(t,0),Ri(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(q(345));case 4:if((e&4194048)!==e)break;case 6:Ri(r,e,zn,!Ni);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(q(329))}if((e&62914560)===e&&(i=up+300-xr(),10<i)){if(Ri(r,e,zn,!Ni),Nd(r,0,!0)!==0)break e;r.timeoutHandle=tT(pb.bind(null,r,n,ln,Ou,fm,e,zn,Cs,Ma,Ni,s,2,-0,0),i);break e}pb(r,n,ln,Ou,fm,e,zn,Cs,Ma,Ni,s,0,-0,0)}}break}while(!0);Er(t)}function pb(t,e,n,r,i,s,a,o,c,u,h,d,f,m){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:E1},kw(e),d=N1(),d!==null)){t.cancelPendingCommit=d(vb.bind(null,t,e,s,n,r,i,a,o,c,h,1,f,m)),Ri(t,s,a,!u);return}vb(t,e,s,n,r,i,a,o,c)}function Gk(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e,n,r){e&=~lp,e&=~Cs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Tn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&FC(t,n,e)}function Ld(){return Le&6?!0:(Kc(0),!1)}function dp(){if(Ne!==null){if(De===0)var t=Ne.return;else t=Ne,Vr=Us=null,Jg(t),ba=null,mc=0,t=Ne;for(;t!==null;)yw(t.alternate,t),t=t.return;Ne=null}}function Pa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,l1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),dp(),Ye=t,Ne=n=Kr(t.current,null),Oe=e,De=0,Cn=null,Ni=!1,Ya=Pc(t,e),cp=!1,Ma=zn=lp=Cs=Ki=lt=0,ln=qo=null,fm=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Tn(r),s=1<<i;e|=t[i],r&=~s}return ei=e,Id(),n}function Uw(t,e){Te=null,ge.H=Tu,e===Vc||e===jd?(e=Yv(),De=3):e===Cx?(e=Yv(),De=4):De=e===dw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Cn=e,Ne===null&&(lt=1,_u(t,Bn(e,t.current)))}function Lw(){var t=ge.H;return ge.H=Tu,t===null?Tu:t}function Hw(){var t=ge.A;return ge.A=Fk,t}function ym(){lt=4,Ni||(Oe&4194048)!==Oe&&Vn.current!==null||(Ya=!0),!(Ki&134217727)&&!(Cs&134217727)||Ye===null||Ri(Ye,Oe,zn,!1)}function Xh(t,e,n){var r=Le;Le|=2;var i=Lw(),s=Hw();(Ye!==t||Oe!==e)&&(Ou=null,Pa(t,e)),e=!1;var a=lt;e:do try{if(De!==0&&Ne!==null){var o=Ne,c=Cn;switch(De){case 8:dp(),a=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(e=!0);var u=De;if(De=0,Cn=null,ca(t,o,c,u),n&&Ya){a=0;break e}break;default:u=De,De=0,Cn=null,ca(t,o,c,u)}}Kk(),a=lt;break}catch(h){Uw(t,h)}while(!0);return e&&t.shellSuspendCounter++,Vr=Us=null,Le=r,ge.H=i,ge.A=s,Ne===null&&(Ye=null,Oe=0,Id()),a}function Kk(){for(;Ne!==null;)Bw(Ne)}function $k(t,e){var n=Le;Le|=2;var r=Lw(),i=Hw();Ye!==t||Oe!==e?(Ou=null,ku=xr()+500,Pa(t,e)):Ya=Pc(t,e);e:do try{if(De!==0&&Ne!==null){e=Ne;var s=Cn;t:switch(De){case 1:De=0,Cn=null,ca(t,e,s,1);break;case 2:case 9:if($v(s)){De=0,Cn=null,yb(e);break}e=function(){De!==2&&De!==9||Ye!==t||(De=7),Er(t)},s.then(e,e);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:$v(s)?(De=0,Cn=null,yb(e)):(De=0,Cn=null,ca(t,e,s,7));break;case 5:var a=null;switch(Ne.tag){case 26:a=Ne.memoizedState;case 5:case 27:var o=Ne;if(!a||sT(a)){De=0,Cn=null;var c=o.sibling;if(c!==null)Ne=c;else{var u=o.return;u!==null?(Ne=u,Hd(u)):Ne=null}break t}}De=0,Cn=null,ca(t,e,s,5);break;case 6:De=0,Cn=null,ca(t,e,s,6);break;case 8:dp(),lt=6;break e;default:throw Error(q(462))}}Yk();break}catch(h){Uw(t,h)}while(!0);return Vr=Us=null,ge.H=r,ge.A=i,Le=n,Ne!==null?0:(Ye=null,Oe=0,Id(),lt)}function Yk(){for(;Ne!==null&&!pR();)Bw(Ne)}function Bw(t){var e=pw(t.alternate,t,ei);t.memoizedProps=t.pendingProps,e===null?Hd(t):Ne=e}function yb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=ub(n,e,e.pendingProps,e.type,void 0,Oe);break;case 11:e=ub(n,e,e.pendingProps,e.type.render,e.ref,Oe);break;case 5:Jg(e);default:yw(n,e),e=Ne=yx(e,ei),e=pw(n,e,ei)}t.memoizedProps=t.pendingProps,e===null?Hd(t):Ne=e}function ca(t,e,n,r){Vr=Us=null,Jg(e),ba=null,mc=0;var i=e.return;try{if(Uk(t,i,e,n,Oe)){lt=1,_u(t,Bn(n,t.current)),Ne=null;return}}catch(s){if(i!==null)throw Ne=i,s;lt=1,_u(t,Bn(n,t.current)),Ne=null;return}e.flags&32768?(Me||r===1?t=!0:Ya||Oe&536870912?t=!1:(Ni=t=!0,(r===2||r===9||r===3||r===6)&&(r=Vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),zw(e,t)):Hd(e)}function Hd(t){var e=t;do{if(e.flags&32768){zw(e,Ni);return}t=e.return;var n=Hk(e.alternate,e,ei);if(n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);lt===0&&(lt=5)}function zw(t,e){do{var n=Bk(t.alternate,t);if(n!==null){n.flags&=32767,Ne=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=n}while(t!==null);lt=6,Ne=null}function vb(t,e,n,r,i,s,a,o,c){t.cancelPendingCommit=null;do Bd();while(Ft!==0);if(Le&6)throw Error(q(327));if(e!==null){if(e===t.current)throw Error(q(177));if(s=e.lanes|e.childLanes,s|=Lg,ER(t,n,s,a,o,c),t===Ye&&(Ne=Ye=null,Oe=0),ja=e,Pi=t,Sa=n,mm=s,gm=i,jw=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Zk(mu,function(){return Kw(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ge.T,ge.T=null,i=je.p,je.p=2,a=Le,Le|=4;try{zk(t,e,n)}finally{Le=a,je.p=i,ge.T=r}}Ft=1,Vw(),Fw(),qw()}}function Vw(){if(Ft===1){Ft=0;var t=Pi,e=ja,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ge.T,ge.T=null;var r=je.p;je.p=2;var i=Le;Le|=4;try{_w(e,t);var s=Cm,a=lx(t.containerInfo),o=s.focusedElem,c=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&cx(o.ownerDocument.documentElement,o)){if(c!==null&&Ug(o)){var u=c.start,h=c.end;if(h===void 0&&(h=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),S=o.textContent.length,b=Math.min(c.start,S),A=c.end===void 0?b:Math.min(c.end,S);!m.extend&&b>A&&(a=A,A=b,b=a);var y=Hv(o,b),g=Hv(o,A);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var p=d.createRange();p.setStart(y.node,y.offset),m.removeAllRanges(),b>A?(m.addRange(p),m.extend(g.node,g.offset)):(p.setEnd(g.node,g.offset),m.addRange(p))}}}}for(d=[],m=o;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Hu=!!Sm,Cm=Sm=null}finally{Le=i,je.p=r,ge.T=n}}t.current=e,Ft=2}}function Fw(){if(Ft===2){Ft=0;var t=Pi,e=ja,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ge.T,ge.T=null;var r=je.p;je.p=2;var i=Le;Le|=4;try{ww(t,e.alternate,e)}finally{Le=i,je.p=r,ge.T=n}}Ft=3}}function qw(){if(Ft===4||Ft===3){Ft=0,yR();var t=Pi,e=ja,n=Sa,r=jw;e.subtreeFlags&10256||e.flags&10256?Ft=5:(Ft=0,ja=Pi=null,Gw(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ji=null),kg(n),e=e.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ge.T,i=je.p,je.p=2,ge.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{ge.T=e,je.p=i}}Sa&3&&Bd(),Er(t),i=t.pendingLanes,n&4194090&&i&42?t===pm?Go++:(Go=0,pm=t):Go=0,Kc(0)}}function Gw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zc(e)))}function Bd(t){return Vw(),Fw(),qw(),Kw()}function Kw(){if(Ft!==5)return!1;var t=Pi,e=mm;mm=0;var n=kg(Sa),r=ge.T,i=je.p;try{je.p=32>n?32:n,ge.T=null,n=gm,gm=null;var s=Pi,a=Sa;if(Ft=0,ja=Pi=null,Sa=0,Le&6)throw Error(q(331));var o=Le;if(Le|=4,Iw(s.current),Rw(s,s.current,a,n),Le=o,Kc(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(jc,s)}catch{}return!0}finally{je.p=i,ge.T=r,Gw(t,e)}}function bb(t,e,n){e=Bn(n,e),e=lm(t.stateNode,e,2),t=Mi(t,e,2),t!==null&&(Dc(t,2),Er(t))}function Ke(t,e,n){if(t.tag===3)bb(t,t,n);else for(;e!==null;){if(e.tag===3){bb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=Bn(n,t),n=lw(2),r=Mi(e,n,2),r!==null&&(uw(n,r,e,t),Dc(r,2),Er(r));break}}e=e.return}}function Jh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(cp=!0,i.add(n),t=Qk.bind(null,t,e,n),e.then(t,t))}function Qk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ye===t&&(Oe&n)===n&&(lt===4||lt===3&&(Oe&62914560)===Oe&&300>xr()-up?!(Le&2)&&Pa(t,0):lp|=n,Ma===Oe&&(Ma=0)),Er(t)}function $w(t,e){e===0&&(e=VC()),t=$a(t,e),t!==null&&(Dc(t,e),Er(t))}function Xk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$w(t,n)}function Jk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(q(314))}r!==null&&r.delete(e),$w(t,n)}function Zk(t,e){return Ng(t,e)}var Iu=null,Ys=null,vm=!1,Mu=!1,Zh=!1,xs=0;function Er(t){t!==Ys&&t.next===null&&(Ys===null?Iu=Ys=t:Ys=Ys.next=t),Mu=!0,vm||(vm=!0,e1())}function Kc(t,e){if(!Zh&&Mu){Zh=!0;do for(var n=!1,r=Iu;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Tn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Sb(r,s))}else s=Oe,s=Nd(r,r===Ye?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Pc(r,s)||(n=!0,Sb(r,s));r=r.next}while(n);Zh=!1}}function Wk(){Yw()}function Yw(){Mu=vm=!1;var t=0;xs!==0&&(c1()&&(t=xs),xs=0);for(var e=xr(),n=null,r=Iu;r!==null;){var i=r.next,s=Qw(r,e);s===0?(r.next=null,n===null?Iu=i:n.next=i,i===null&&(Ys=n)):(n=r,(t!==0||s&3)&&(Mu=!0)),r=i}Kc(t)}function Qw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Tn(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=AR(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ye,n=Oe,n=Nd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(De===2||De===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Th(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Pc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Th(r),kg(n)){case 2:case 8:n=HC;break;case 32:n=mu;break;case 268435456:n=BC;break;default:n=mu}return r=Xw.bind(null,t),n=Ng(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Th(r),t.callbackPriority=2,t.callbackNode=null,2}function Xw(t,e){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Bd()&&t.callbackNode!==n)return null;var r=Oe;return r=Nd(t,t===Ye?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Dw(t,r,e),Qw(t,xr()),t.callbackNode!=null&&t.callbackNode===n?Xw.bind(null,t):null)}function Sb(t,e){if(Bd())return null;Dw(t,e,!0)}function e1(){u1(function(){Le&6?Ng(LC,Wk):Yw()})}function hp(){return xs===0&&(xs=zC()),xs}function Cb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zl(""+t)}function xb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function t1(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=Cb((i[fn]||null).action),a=r.submitter;a&&(e=(e=a[fn]||null)?Cb(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Rd("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(xs!==0){var c=a?xb(i,a):new FormData(i);om(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(o.preventDefault(),c=a?xb(i,a):new FormData(i),om(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var Wh=0;Wh<Qf.length;Wh++){var ef=Qf[Wh],n1=ef.toLowerCase(),r1=ef[0].toUpperCase()+ef.slice(1);cr(n1,"on"+r1)}cr(dx,"onAnimationEnd");cr(hx,"onAnimationIteration");cr(fx,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Sk,"onTransitionRun");cr(Ck,"onTransitionStart");cr(xk,"onTransitionCancel");cr(mx,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function Jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(h){Eu(h)}i.currentTarget=null,s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(h){Eu(h)}i.currentTarget=null,s=c}}}}function _e(t,e){var n=e[Vf];n===void 0&&(n=e[Vf]=new Set);var r=t+"__bubble";n.has(r)||(Zw(e,t,2,!1),n.add(r))}function tf(t,e,n){var r=0;e&&(r|=4),Zw(n,t,r,e)}var vl="_reactListening"+Math.random().toString(36).slice(2);function fp(t){if(!t[vl]){t[vl]=!0,KC.forEach(function(n){n!=="selectionchange"&&(i1.has(n)||tf(n,!1,t),tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vl]||(e[vl]=!0,tf("selectionchange",!1,e))}}function Zw(t,e,n,r){switch(uT(e)){case 2:var i=O1;break;case 8:i=I1;break;default:i=yp}n=i.bind(null,e,n,t),i=void 0,!Kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=s=a;continue e}o=o.parentNode}}r=r.return}ex(function(){var u=s,h=Mg(n),d=[];e:{var f=gx.get(t);if(f!==void 0){var m=Rd,S=t;switch(t){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":m=ZR;break;case"focusin":S="focus",m=Ih;break;case"focusout":S="blur",m=Ih;break;case"beforeblur":case"afterblur":m=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tk;break;case dx:case hx:case fx:m=FR;break;case mx:m=rk;break;case"scroll":case"scrollend":m=LR;break;case"wheel":m=sk;break;case"copy":case"cut":case"paste":m=GR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ov;break;case"toggle":case"beforetoggle":m=ok}var b=(e&4)!==0,A=!b&&(t==="scroll"||t==="scrollend"),y=b?f!==null?f+"Capture":null:f;b=[];for(var g=u,p;g!==null;){var v=g;if(p=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||p===null||y===null||(v=lc(g,y),v!=null&&b.push(pc(g,v,p))),A)break;g=g.return}0<b.length&&(f=new m(f,S,null,n,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Gf&&(S=n.relatedTarget||n.fromElement)&&(Ws(S)||S[Ga]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Ws(S):null,S!==null&&(A=Mc(S),b=S.tag,S!==A||b!==5&&b!==27&&b!==6)&&(S=null)):(m=null,S=u),m!==S)){if(b=Rv,v="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(b=Ov,v="onPointerLeave",y="onPointerEnter",g="pointer"),A=m==null?f:Eo(m),p=S==null?f:Eo(S),f=new b(v,g+"leave",m,n,h),f.target=A,f.relatedTarget=p,v=null,Ws(h)===u&&(b=new b(y,g+"enter",S,n,h),b.target=p,b.relatedTarget=A,v=b),A=v,m&&S)t:{for(b=m,y=S,g=0,p=b;p;p=Vs(p))g++;for(p=0,v=y;v;v=Vs(v))p++;for(;0<g-p;)b=Vs(b),g--;for(;0<p-g;)y=Vs(y),p--;for(;g--;){if(b===y||y!==null&&b===y.alternate)break t;b=Vs(b),y=Vs(y)}b=null}else b=null;m!==null&&wb(d,f,m,b,!1),S!==null&&A!==null&&wb(d,A,S,b,!0)}}e:{if(f=u?Eo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=Pv;else if(jv(f))if(ax)E=yk;else{E=gk;var T=mk}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Ig(u.elementType)&&(E=Pv):E=pk;if(E&&(E=E(t,u))){sx(d,E,n,h);break e}T&&T(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&qf(f,"number",f.value)}switch(T=u?Eo(u):window,t){case"focusin":(jv(T)||T.contentEditable==="true")&&(na=T,$f=u,Po=null);break;case"focusout":Po=$f=na=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,Bv(d,n,h);break;case"selectionchange":if(bk)break;case"keydown":case"keyup":Bv(d,n,h)}var C;if(Dg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ta?rx(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(nx&&n.locale!=="ko"&&(ta||x!=="onCompositionStart"?x==="onCompositionEnd"&&ta&&(C=tx()):(_i=h,jg="value"in _i?_i.value:_i.textContent,ta=!0)),T=ju(u,x),0<T.length&&(x=new kv(x,t,null,n,h),d.push({event:x,listeners:T}),C?x.data=C:(C=ix(n),C!==null&&(x.data=C)))),(C=lk?uk(t,n):dk(t,n))&&(x=ju(u,"onBeforeInput"),0<x.length&&(T=new kv("onBeforeInput","beforeinput",null,n,h),d.push({event:T,listeners:x}),T.data=C)),t1(d,t,u,n,h)}Jw(d,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=lc(t,n),i!=null&&r.unshift(pc(t,i,s)),i=lc(t,e),i!=null&&r.push(pc(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wb(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,i?(u=lc(n,s),u!=null&&a.unshift(pc(n,u,c))):i||(u=lc(n,s),u!=null&&a.push(pc(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var s1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Tb(t){return(typeof t=="string"?t:""+t).replace(s1,`
`).replace(a1,"")}function Ww(t,e){return e=Tb(e),Tb(t)===e}function zd(){}function ze(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Na(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Na(t,""+r);break;case"className":dl(t,"class",r);break;case"tabIndex":dl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":dl(t,n,r);break;case"style":WC(t,r,s);break;case"data":if(e!=="object"){dl(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zl(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ze(t,e,"name",i.name,i,null),ze(t,e,"formEncType",i.formEncType,i,null),ze(t,e,"formMethod",i.formMethod,i,null),ze(t,e,"formTarget",i.formTarget,i,null)):(ze(t,e,"encType",i.encType,i,null),ze(t,e,"method",i.method,i,null),ze(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zl(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=zd);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=zl(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Bl(t,"popover",r);break;case"xlinkActuate":kr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":kr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":kr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":kr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":kr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":kr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":kr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":kr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":kr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Bl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DR.get(n)||n,Bl(t,n,r))}}function bm(t,e,n,r,i,s){switch(n){case"style":WC(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(q(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Na(t,r):(typeof r=="number"||typeof r=="bigint")&&Na(t,""+r);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=zd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$C.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[fn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Bl(t,n,r)}}}function qt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:ze(t,e,s,a,n,null)}}i&&ze(t,e,"srcSet",n.srcSet,n,null),r&&ze(t,e,"src",n.src,n,null);return;case"input":_e("invalid",t);var o=s=a=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(q(137,e));break;default:ze(t,e,r,h,n,null)}}XC(t,s,o,c,u,a,i,!1),gu(t);return;case"select":_e("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:ze(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?ma(t,!!r,e,!1):n!=null&&ma(t,!!r,n,!0);return;case"textarea":_e("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(q(91));break;default:ze(t,e,a,o,n,null)}ZC(t,r,i,s),gu(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(t,e,c,r,n,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(r=0;r<gc.length;r++)_e(gc[r],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:ze(t,e,u,r,n,null)}return;default:if(Ig(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&bm(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ze(t,e,o,r,n,null))}function o1(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,c=null,u=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(m)||ze(t,e,m,null,r,d)}}for(var f in r){var m=r[f];if(d=n[f],r.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":s=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(q(137,e));break;default:m!==d&&ze(t,e,f,m,r,d)}}Ff(t,a,o,c,u,h,s,i);return;case"select":m=a=o=f=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(s)||ze(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":f=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==c&&ze(t,e,i,s,r,c)}e=o,n=a,r=m,f!=null?ma(t,!!n,f,!1):!!r!=!!n&&(e!=null?ma(t,!!n,e,!0):ma(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ze(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(q(91));break;default:i!==s&&ze(t,e,a,i,r,s)}JC(t,f,m);return;case"option":for(var S in n)if(f=n[S],n.hasOwnProperty(S)&&f!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:ze(t,e,S,null,r,f)}for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ze(t,e,c,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!r.hasOwnProperty(b)&&ze(t,e,b,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(q(137,e));break;default:ze(t,e,u,f,r,m)}return;default:if(Ig(e)){for(var A in n)f=n[A],n.hasOwnProperty(A)&&f!==void 0&&!r.hasOwnProperty(A)&&bm(t,e,A,void 0,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||bm(t,e,h,f,r,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y)&&ze(t,e,y,null,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f==null&&m==null||ze(t,e,d,f,r,m)}var Sm=null,Cm=null;function Pu(t){return t.nodeType===9?t:t.ownerDocument}function Ab(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function xm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rf=null;function c1(){var t=window.event;return t&&t.type==="popstate"?t===rf?!1:(rf=t,!0):(rf=null,!1)}var tT=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(t){return Eb.resolve(null).then(t).catch(d1)}:tT;function d1(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function _b(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&Ko(a.documentElement),n&2&&Ko(a.body),n&4)for(n=a.head,Ko(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[Uc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Cc(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Cc(e)}function wm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wm(n),Og(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function h1(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Uc])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=nr(t.nextSibling),t===null)break}return null}function f1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=nr(t.nextSibling),t===null))return null;return t}function Tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function m1(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Am=null;function Nb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function nT(t,e,n){switch(e=Pu(n),t){case"html":if(t=e.documentElement,!t)throw Error(q(452));return t;case"head":if(t=e.head,!t)throw Error(q(453));return t;case"body":if(t=e.body,!t)throw Error(q(454));return t;default:throw Error(q(451))}}function Ko(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Og(t)}var Fn=new Map,Rb=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=je.d;je.d={f:g1,r:p1,D:y1,C:v1,L:b1,m:S1,X:x1,S:C1,M:w1};function g1(){var t=si.f(),e=Ld();return t||e}function p1(t){var e=Ka(t);e!==null&&e.tag===5&&e.type==="form"?Qx(e):si.r(t)}var Qa=typeof document>"u"?null:document;function rT(t,e,n){var r=Qa;if(r&&typeof e=="string"&&e){var i=Hn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Rb.has(i)||(Rb.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),qt(e,"link",t),Pt(e),r.head.appendChild(e)))}}function y1(t){si.D(t),rT("dns-prefetch",t,null)}function v1(t,e){si.C(t,e),rT("preconnect",t,e)}function b1(t,e,n){si.L(t,e,n);var r=Qa;if(r&&t&&e){var i='link[rel="preload"][as="'+Hn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Hn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Hn(n.imageSizes)+'"]')):i+='[href="'+Hn(t)+'"]';var s=i;switch(e){case"style":s=Da(t);break;case"script":s=Xa(t)}Fn.has(s)||(t=Xe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Fn.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector($c(s))||e==="script"&&r.querySelector(Yc(s))||(e=r.createElement("link"),qt(e,"link",t),Pt(e),r.head.appendChild(e)))}}function S1(t,e){si.m(t,e);var n=Qa;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Hn(r)+'"][href="'+Hn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xa(t)}if(!Fn.has(s)&&(t=Xe({rel:"modulepreload",href:t},e),Fn.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yc(s)))return}r=n.createElement("link"),qt(r,"link",t),Pt(r),n.head.appendChild(r)}}}function C1(t,e,n){si.S(t,e,n);var r=Qa;if(r&&t){var i=fa(r).hoistableStyles,s=Da(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector($c(s)))o.loading=5;else{t=Xe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Fn.get(s))&&mp(t,n);var c=a=r.createElement("link");Pt(c),qt(c,"link",t),c._p=new Promise(function(u,h){c.onload=u,c.onerror=h}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xl(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function x1(t,e){si.X(t,e);var n=Qa;if(n&&t){var r=fa(n).hoistableScripts,i=Xa(t),s=r.get(i);s||(s=n.querySelector(Yc(i)),s||(t=Xe({src:t,async:!0},e),(e=Fn.get(i))&&gp(t,e),s=n.createElement("script"),Pt(s),qt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function w1(t,e){si.M(t,e);var n=Qa;if(n&&t){var r=fa(n).hoistableScripts,i=Xa(t),s=r.get(i);s||(s=n.querySelector(Yc(i)),s||(t=Xe({src:t,async:!0,type:"module"},e),(e=Fn.get(i))&&gp(t,e),s=n.createElement("script"),Pt(s),qt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function kb(t,e,n,r){var i=(i=Oi.current)?Du(i):null;if(!i)throw Error(q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Da(n.href),n=fa(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Da(n.href);var s=fa(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector($c(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Fn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fn.set(t,n),s||T1(i,t,n,a.state))),e&&r===null)throw Error(q(528,""));return a}if(e&&r!==null)throw Error(q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Xa(n),n=fa(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,t))}}function Da(t){return'href="'+Hn(t)+'"'}function $c(t){return'link[rel="stylesheet"]['+t+"]"}function iT(t){return Xe({},t,{"data-precedence":t.precedence,precedence:null})}function T1(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),qt(e,"link",n),Pt(e),t.head.appendChild(e))}function Xa(t){return'[src="'+Hn(t)+'"]'}function Yc(t){return"script[async]"+t}function Ob(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Hn(n.href)+'"]');if(r)return e.instance=r,Pt(r),r;var i=Xe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Pt(r),qt(r,"style",i),Xl(r,n.precedence,t),e.instance=r;case"stylesheet":i=Da(n.href);var s=t.querySelector($c(i));if(s)return e.state.loading|=4,e.instance=s,Pt(s),s;r=iT(n),(i=Fn.get(i))&&mp(r,i),s=(t.ownerDocument||t).createElement("link"),Pt(s);var a=s;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),qt(s,"link",r),e.state.loading|=4,Xl(s,n.precedence,t),e.instance=s;case"script":return s=Xa(n.src),(i=t.querySelector(Yc(s)))?(e.instance=i,Pt(i),i):(r=n,(i=Fn.get(s))&&(r=Xe({},n),gp(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Pt(i),qt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Xl(r,n.precedence,t));return e.instance}function Xl(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function mp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function gp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jl=null;function Ib(t,e,n){if(Jl===null){var r=new Map,i=Jl=new Map;i.set(n,r)}else i=Jl,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Uc]||s[$t]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Mb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function A1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function sT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var yc=null;function E1(){}function _1(t,e,n){if(yc===null)throw Error(q(475));var r=yc;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Da(n.href),s=t.querySelector($c(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Uu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Pt(s);return}s=t.ownerDocument||t,n=iT(n),(i=Fn.get(i))&&mp(n,i),s=s.createElement("link"),Pt(s);var a=s;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),qt(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Uu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function N1(){if(yc===null)throw Error(q(475));var t=yc;return t.stylesheets&&t.count===0&&Em(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Em(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Em(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,e.forEach(R1,t),Lu=null,Uu.call(t))}function R1(t,e){if(!(e.state.loading&4)){var n=Lu.get(t);if(n)var r=n.get(null);else{n=new Map,Lu.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Uu.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var vc={$$typeof:Hr,Provider:null,Consumer:null,_currentValue:ps,_currentValue2:ps,_threadCount:0};function k1(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.hiddenUpdates=Ah(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function aT(t,e,n,r,i,s,a,o,c,u,h,d){return t=new k1(t,e,n,a,o,c,u,d),e=1,s===!0&&(e|=24),s=xn(3,null,null,e),t.current=s,s.stateNode=t,e=Fg(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Gg(s),t}function oT(t){return t?(t=sa,t):sa}function cT(t,e,n,r,i,s){i=oT(i),r.context===null?r.context=i:r.pendingContext=i,r=Ii(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Mi(t,r,e),n!==null&&(En(n,t,e),Lo(n,t,e))}function jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pp(t,e){jb(t,e),(t=t.alternate)&&jb(t,e)}function lT(t){if(t.tag===13){var e=$a(t,67108864);e!==null&&En(e,t,67108864),pp(t,67108864)}}var Hu=!0;function O1(t,e,n,r){var i=ge.T;ge.T=null;var s=je.p;try{je.p=2,yp(t,e,n,r)}finally{je.p=s,ge.T=i}}function I1(t,e,n,r){var i=ge.T;ge.T=null;var s=je.p;try{je.p=8,yp(t,e,n,r)}finally{je.p=s,ge.T=i}}function yp(t,e,n,r){if(Hu){var i=_m(r);if(i===null)nf(t,e,r,Bu,n),Pb(t,r);else if(j1(i,t,e,n,r))r.stopPropagation();else if(Pb(t,r),e&4&&-1<M1.indexOf(t)){for(;i!==null;){var s=Ka(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=is(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-Tn(a);o.entanglements[1]|=c,a&=~c}Er(s),!(Le&6)&&(ku=xr()+500,Kc(0))}}break;case 13:o=$a(s,2),o!==null&&En(o,s,2),Ld(),pp(s,2)}if(s=_m(r),s===null&&nf(t,e,r,Bu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nf(t,e,r,null,n)}}function _m(t){return t=Mg(t),vp(t)}var Bu=null;function vp(t){if(Bu=null,t=Ws(t),t!==null){var e=Mc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=jC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Bu=t,null}function uT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vR()){case LC:return 2;case HC:return 8;case mu:case bR:return 32;case BC:return 268435456;default:return 32}default:return 32}}var Nm=!1,Di=null,Ui=null,Li=null,bc=new Map,Sc=new Map,wi=[],M1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pb(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function fo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ka(e),e!==null&&lT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j1(t,e,n,r,i){switch(e){case"focusin":return Di=fo(Di,t,e,n,r,i),!0;case"dragenter":return Ui=fo(Ui,t,e,n,r,i),!0;case"mouseover":return Li=fo(Li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bc.set(s,fo(bc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sc.set(s,fo(Sc.get(s)||null,t,e,n,r,i)),!0}return!1}function dT(t){var e=Ws(t.target);if(e!==null){var n=Mc(e);if(n!==null){if(e=n.tag,e===13){if(e=jC(n),e!==null){t.blockedOn=e,_R(t.priority,function(){if(n.tag===13){var r=An();r=Rg(r);var i=$a(n,r);i!==null&&En(i,n,r),pp(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_m(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gf=r,n.target.dispatchEvent(r),Gf=null}else return e=Ka(n),e!==null&&lT(e),t.blockedOn=n,!1;e.shift()}return!0}function Db(t,e,n){Zl(t)&&n.delete(e)}function P1(){Nm=!1,Di!==null&&Zl(Di)&&(Di=null),Ui!==null&&Zl(Ui)&&(Ui=null),Li!==null&&Zl(Li)&&(Li=null),bc.forEach(Db),Sc.forEach(Db)}function bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Nm||(Nm=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,P1)))}var Sl=null;function Ub(t){Sl!==t&&(Sl=t,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){Sl===t&&(Sl=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(vp(r||n)===null)continue;break}var s=Ka(n);s!==null&&(t.splice(e,3),e-=3,om(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Cc(t){function e(c){return bl(c,t)}Di!==null&&bl(Di,t),Ui!==null&&bl(Ui,t),Li!==null&&bl(Li,t),bc.forEach(e),Sc.forEach(e);for(var n=0;n<wi.length;n++){var r=wi[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)dT(n),n.blockedOn===null&&wi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[fn]||null;if(typeof s=="function")a||Ub(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[fn]||null)o=a.formAction;else if(vp(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Ub(n)}}}function bp(t){this._internalRoot=t}Vd.prototype.render=bp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));var n=e.current,r=An();cT(n,r,t,e,null,null)};Vd.prototype.unmount=bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cT(t.current,2,null,t,null,null),Ld(),e[Ga]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=GC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&dT(t)}};var Lb=IC.version;if(Lb!=="19.1.1")throw Error(q(527,Lb,"19.1.1"));je.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=dR(e),t=t!==null?PC(t):null,t=t===null?null:t.stateNode,t};var D1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{jc=Cl.inject(D1),wn=Cl}catch{}}Ed.createRoot=function(t,e){if(!MC(t))throw Error(q(299));var n=!1,r="",i=aw,s=ow,a=cw,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=aT(t,1,!1,null,null,n,r,i,s,a,o,null),t[Ga]=e.current,fp(t),new bp(e)};Ed.hydrateRoot=function(t,e,n){if(!MC(t))throw Error(q(299));var r=!1,i="",s=aw,a=ow,o=cw,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=aT(t,1,!0,e,n??null,r,i,s,a,o,c,u),e.context=oT(null),n=e.current,r=An(),r=Rg(r),i=Ii(r),i.callback=null,Mi(n,i,r),n=r,e.current.lanes=n,Dc(e,n),Er(e),t[Ga]=e.current,fp(t),new Vd(e)};Ed.version="19.1.1";function hT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hT)}catch(t){console.error(t)}}hT(),AC.exports=Ed;var U1=AC.exports;const L1=Sg(U1);/*! @azure/msal-common v15.12.0 2025-08-19 */const z={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},ki={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},hs={GET:"GET",POST:"POST"},Ja=[z.OPENID_SCOPE,z.PROFILE_SCOPE,z.OFFLINE_ACCESS_SCOPE],Hb=[...Ja,z.EMAIL_SCOPE],Zt={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Bb={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Hi={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},xl={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},tn={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Sp={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Fd={QUERY:"query",FRAGMENT:"fragment"},H1={QUERY:"query"},fT={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},wl={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},xc={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Vt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Cp="appmetadata",B1="client_info",zu="1",Vu={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Sn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ht={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ue={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},$o={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},zb={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Fs={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},sf={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},os={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},z1={Pop:"pop"},mT=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const Fu="unexpected_error",V1="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const Vb={[Fu]:"Unexpected error in authentication.",[V1]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class qe extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,qe.prototype),this.errorCode=e||z.EMPTY_STRING,this.errorMessage=n||z.EMPTY_STRING,this.subError=r||z.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Rm(t,e){return new qe(t,e?`${Vb[t]} ${e}`:Vb[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const xp="client_info_decoding_error",gT="client_info_empty_error",wp="token_parsing_error",pT="null_or_empty_token",Ur="endpoints_resolution_error",yT="network_error",vT="openid_config_error",bT="hash_not_deserialized",Ua="invalid_state",ST="state_mismatch",km="state_not_found",CT="nonce_mismatch",Tp="auth_time_not_found",xT="max_age_transpired",F1="multiple_matching_tokens",q1="multiple_matching_accounts",wT="multiple_matching_appMetadata",TT="request_cannot_be_made",AT="cannot_remove_empty_scope",ET="cannot_append_scopeset",Om="empty_input_scopeset",G1="device_code_polling_cancelled",K1="device_code_expired",$1="device_code_unknown_error",Ap="no_account_in_silent_request",_T="invalid_cache_record",Ep="invalid_cache_environment",Im="no_account_found",Mm="no_crypto_object",Y1="unexpected_credential_type",Q1="invalid_assertion",X1="invalid_client_credential",Bi="token_refresh_required",J1="user_timeout_reached",NT="token_claims_cnf_required_for_signedjwt",RT="authorization_code_missing_from_server_response",kT="binding_key_not_removed",OT="end_session_endpoint_not_supported",_p="key_id_missing",Z1="no_network_connectivity",W1="user_canceled",eO="missing_tenant_id_error",xe="method_not_implemented",tO="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const Fb={[xp]:"The client info could not be parsed/decoded correctly",[gT]:"The client info was empty",[wp]:"Token cannot be parsed",[pT]:"The token is null or empty",[Ur]:"Endpoints cannot be resolved",[yT]:"Network request failed",[vT]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[bT]:"The hash parameters could not be deserialized",[Ua]:"State was not the expected format",[ST]:"State mismatch error",[km]:"State not found",[CT]:"Nonce mismatch error",[Tp]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[xT]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[F1]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[q1]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[wT]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[TT]:"Token request cannot be made without authorization code or refresh token.",[AT]:"Cannot remove null or empty scope from ScopeSet",[ET]:"Cannot append ScopeSet",[Om]:"Empty input ScopeSet cannot be processed",[G1]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[K1]:"Device code is expired.",[$1]:"Device code stopped polling for unknown reasons.",[Ap]:"Please pass an account object, silent flow is not supported without account information",[_T]:"Cache record object was null or undefined.",[Ep]:"Invalid environment when attempting to create cache entry",[Im]:"No account found in cache for given key.",[Mm]:"No crypto object detected.",[Y1]:"Unexpected credential type.",[Q1]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[X1]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Bi]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[J1]:"User defined timeout for device code polling reached",[NT]:"Cannot generate a POP jwt if the token_claims are not populated",[RT]:"Server response does not contain an authorization code to proceed",[kT]:"Could not remove the credential's binding key from storage.",[OT]:"The provided authority does not support logout",[_p]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[Z1]:"No network connectivity. Check your internet connection.",[W1]:"User cancelled the flow.",[eO]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[xe]:"This method has not been implemented",[tO]:"The nested app auth bridge is disabled"};class Np extends qe{constructor(e,n){super(e,n?`${Fb[e]}: ${n}`:Fb[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Np.prototype)}}function $(t,e){return new Np(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const qu={createNewGuid:()=>{throw $(xe)},base64Decode:()=>{throw $(xe)},base64Encode:()=>{throw $(xe)},base64UrlEncode:()=>{throw $(xe)},encodeKid:()=>{throw $(xe)},async getPublicKeyThumbprint(){throw $(xe)},async removeTokenBindingKey(){throw $(xe)},async clearKeystore(){throw $(xe)},async signJwt(){throw $(xe)},async hashString(){throw $(xe)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var tt;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(tt||(tt={}));class ti{constructor(e,n,r){this.level=tt.Info;const i=()=>{},s=e||ti.createDefaultLoggerOptions();this.localCallback=s.loggerCallback||i,this.piiLoggingEnabled=s.piiLoggingEnabled||!1,this.level=typeof s.logLevel=="number"?s.logLevel:tt.Info,this.correlationId=s.correlationId||z.EMPTY_STRING,this.packageName=n||z.EMPTY_STRING,this.packageVersion=r||z.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tt.Info}}clone(e,n,r){return new ti({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const s=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${tt[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,s,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:tt.Error,containsPii:!1,correlationId:n||z.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:tt.Error,containsPii:!0,correlationId:n||z.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:tt.Warning,containsPii:!1,correlationId:n||z.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:tt.Warning,containsPii:!0,correlationId:n||z.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:tt.Info,containsPii:!1,correlationId:n||z.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:tt.Info,containsPii:!0,correlationId:n||z.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:tt.Verbose,containsPii:!1,correlationId:n||z.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:tt.Verbose,containsPii:!0,correlationId:n||z.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:tt.Trace,containsPii:!1,correlationId:n||z.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:tt.Trace,containsPii:!0,correlationId:n||z.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const IT="@azure/msal-common",Rp="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const kp={None:"none"};/*! @azure/msal-common v15.12.0 2025-08-19 */const MT="redirect_uri_empty",nO="claims_request_parsing_error",jT="authority_uri_insecure",No="url_parse_error",PT="empty_url_error",DT="empty_input_scopes_error",Op="invalid_claims",UT="token_request_empty",LT="logout_request_empty",rO="invalid_code_challenge_method",Ip="pkce_params_missing",Mp="invalid_cloud_discovery_metadata",HT="invalid_authority_metadata",BT="untrusted_authority",qd="missing_ssh_jwk",zT="missing_ssh_kid",iO="missing_nonce_authentication_header",sO="invalid_authentication_header",VT="cannot_set_OIDCOptions",FT="cannot_allow_platform_broker",qT="authority_mismatch",GT="invalid_request_method_for_EAR",KT="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const aO={[MT]:"A redirect URI is required for all calls, and none has been set.",[nO]:"Could not parse the given claims request object.",[jT]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[No]:"URL could not be parsed into appropriate segments.",[PT]:"URL was empty or null.",[DT]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Op]:"Given claims parameter must be a stringified JSON object.",[UT]:"Token request was empty and not found in cache.",[LT]:"The logout request was null or undefined.",[rO]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Ip]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Mp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[HT]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[BT]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[qd]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[zT]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[iO]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[sO]:"Invalid authentication header provided",[VT]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[FT]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[qT]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[KT]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[GT]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class jp extends qe{constructor(e){super(e,aO[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,jp.prototype)}}function Ge(t){return new jp(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class _n{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=s=>decodeURIComponent(s.replace(/\+/g," "));return r.forEach(s=>{if(s.trim()){const[a,o]=s.split(/=(.+)/g,2);a&&o&&(n[i(a)]=i(o))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class _t{constructor(e){const n=e?_n.trimArrayEntries([...e]):[],r=n?_n.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw Ge(DT);this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||z.EMPTY_STRING).split(" ");return new _t(r)}static createSearchScopes(e){const n=e&&e.length>0?e:[...Ja],r=new _t(n);return r.containsOnlyOIDCScopes()?r.removeScope(z.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new _t(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return Hb.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw $(ET)}}removeScope(e){if(!e)throw $(AT);this.scopes.delete(e.trim())}removeOIDCScopes(){Hb.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw $(Om);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw $(Om);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):z.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function qb(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Pp(t,e,n,r){if(r){const{oid:i,sub:s,tid:a,name:o,tfp:c,acr:u,preferred_username:h,upn:d,login_hint:f}=r,m=a||c||u||"";return{tenantId:m,localAccountId:i||s||"",name:o,username:h||d||"",loginHint:f,isHomeTenant:qb(m,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:qb(n,t)}}function Dp(t,e,n,r){let i=t;if(e){const{isHomeTenant:s,...a}=e;i={...t,...a}}if(n){const{isHomeTenant:s,...a}=Pp(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...a,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v15.12.0 2025-08-19 */function Za(t,e){const n=oO(t);try{const r=e(n);return JSON.parse(r)}catch{throw $(wp)}}function oO(t){if(!t)throw $(pT);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw $(wp);return n[2]}function $T(t,e){if(e===0||Date.now()-3e5>t+e)throw $(xT)}/*! @azure/msal-common v15.12.0 2025-08-19 */function Gb(t){if(!t)return t;let e=t.toLowerCase();return _n.endsWith(e,"?")?e=e.slice(0,-1):_n.endsWith(e,"?/")&&(e=e.slice(0,-2)),_n.endsWith(e,"/")||(e+="/"),e}function YT(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function Gu(t){if(!t||t.indexOf("=")<0)return null;try{const e=YT(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw $(bT)}return null}function wc(t,e=!0,n){const r=new Array;return t.forEach((i,s)=>{!e&&n&&s in n?r.push(`${s}=${i}`):r.push(`${s}=${encodeURIComponent(i)}`)}),r.join("&")}function Kb(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),r=n.origin+n.pathname+n.search;return Gb(r)}catch{return Gb(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Ie{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ge(PT);e.includes("#")||(this._urlString=Ie.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return _n.endsWith(n,"?")?n=n.slice(0,-1):_n.endsWith(n,"?/")&&(n=n.slice(0,-2)),_n.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ge(No)}if(!e.HostNameAndPort||!e.PathSegments)throw Ge(No);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ge(jT)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return Ie.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===Hi.COMMON||r[0]===Hi.ORGANIZATIONS)&&(r[0]=e),Ie.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw Ge(No);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(s=>s&&s.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw Ge(No);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===z.FORWARD_SLASH){const i=new Ie(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ie(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Gu(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const QT={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},$b=QT.endpointMetadata,Up=QT.instanceDiscoveryMetadata,XT=new Set;Up.metadata.forEach(t=>{t.aliases.forEach(e=>{XT.add(e)})});function cO(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const s=new Ie(r).getUrlComponents().HostNameAndPort;n=Yb(s,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,Sn.CONFIG,e)||Yb(s,Up.metadata,Sn.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function Yb(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=Ku(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function lO(t){return Ku(Up.metadata,t)}function Ku(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const $u="cache_quota_exceeded",Lp="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const af={[$u]:"Exceeded cache storage capacity.",[Lp]:"Unexpected error occurred when using cache storage."};class Ca extends qe{constructor(e,n){const r=n||(af[e]?af[e]:af[Lp]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Ca.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function jm(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Ca($u):new Ca(t.name,t.message):new Ca(Lp)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Pm{constructor(e,n,r,i,s){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(IT,Rp),this.staticAuthorityOptions=s,this.performanceClient=i}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(i=>!i))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(e,n);return r.length>1?r.sort(s=>s.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,n,r){return e.flatMap(i=>this.getTenantProfilesFromAccountEntity(i,n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,i,s){let a=null,o;if(s&&!this.tenantProfileMatchesFilter(r,s))return null;const c=this.getIdToken(e,i,n,r.tenantId);return c&&(o=Za(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,s))?null:(a=Dp(e,r,o,c==null?void 0:c.secret),a)}getTenantProfilesFromAccountEntity(e,n,r,i){const s=e.getAccountInfo();let a=s.tenantProfiles||new Map;const o=this.getTokenKeys();if(r){const u=a.get(r);if(u)a=new Map([[r,u]]);else return[]}const c=[];return a.forEach(u=>{const h=this.getTenantedAccountInfoByFilter(s,o,u,n,i);h&&c.push(h)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i;if(!e)throw $(_T);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(s){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),s instanceof qe?s:jm(s)}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},i=this.getTokenKeys(),s=_t.fromString(e.target);i.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;const o=this.getAccessTokenCredential(a,n);o&&this.credentialMatchesFilter(o,r)&&_t.fromString(o.target).intersectingScopeSets(s)&&this.removeAccessToken(a,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),i=[];return r.forEach(s=>{var u;const a=this.getAccount(s,n);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const o={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(u=a.tenantProfiles)==null?void 0:u.filter(h=>this.tenantProfileMatchesFilter(h,o));c&&c.length===0||i.push(a)}),i}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Ue.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const s=this.getAppMetadata(i);s&&(e.environment&&!this.matchEnvironment(s,e.environment)||e.clientId&&!this.matchClientId(s,e.clientId)||(r[i]=s))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const s=this.getAuthorityMetadata(i);s&&s.aliases.indexOf(e)!==-1&&(r=s)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const r=this.getAccountKeys(),i=s=>s.includes(e.homeAccountId)&&s.includes(e.environment);r.filter(i).forEach(s=>{this.removeItem(s,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const r=this.getTokenKeys(),i=s=>s.includes(e.homeAccountId)&&s.includes(e.environment);r.idToken.filter(i).forEach(s=>{this.removeIdToken(s,n)}),r.accessToken.filter(i).forEach(s=>{this.removeAccessToken(s,n)}),r.refreshToken.filter(i).forEach(s=>{this.removeRefreshToken(s,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Ue.POP)return;const i=r.keyId;i&&this.cryptoImpl.removeTokenBindingKey(i).catch(()=>{var s;this.commonLogger.error(`Failed to remove token binding key ${i}`,n),(s=this.performanceClient)==null||s.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}getIdToken(e,n,r,i,s){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Vt.ID_TOKEN,clientId:this.clientId,realm:i},o=this.getIdTokensByFilter(a,n,r),c=o.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let u=o;if(!i){const h=new Map;o.forEach((f,m)=>{f.realm===e.tenantId&&h.set(m,f)});const d=h.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),h.values().next().value;u=h}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((h,d)=>{this.removeIdToken(d,n)}),s&&n&&s.addFields({multiMatchedID:o.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,n,r){const i=r&&r.idToken||this.getTokenKeys().idToken,s=new Map;return i.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const o=this.getIdTokenCredential(a,n);o&&this.credentialMatchesFilter(o,e)&&s.set(a,o)}),s}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,i){const s=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",s);const a=_t.createSearchScopes(n.scopes),o=n.authenticationScheme||Ue.BEARER,c=o.toLowerCase()!==Ue.BEARER.toLowerCase()?Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Vt.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},h=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];h.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,u,!0)){const S=this.getAccessTokenCredential(m,s);S&&this.credentialMatchesFilter(S,u)&&d.push(S)}});const f=d.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",s),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",s),d.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),s)}),this.performanceClient.addFields({multiMatchedAT:d.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",s),d[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const s=n.target.asArray();for(let a=0;a<s.length;a++){if(r&&!i.includes(s[a].toLowerCase()))return!1;if(!r&&i.includes(s[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),i=[];return r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,e,!0))return;const a=this.getAccessTokenCredential(s,n);a&&this.credentialMatchesFilter(a,e)&&i.push(a)}),i}getRefreshToken(e,n,r,i,s){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?zu:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Vt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=i&&i.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,o)){const f=this.getRefreshTokenCredential(d,r);f&&this.credentialMatchesFilter(f,o)&&u.push(f)}});const h=u.length;return h<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(h>1&&s&&r&&s.addFields({multiMatchedRT:h},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(a=>r[a]),s=i.length;if(s<1)return null;if(s>1)throw $(wT);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===zu)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=cO(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Vt.ACCESS_TOKEN&&e.credentialType!==Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:_t.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Cp)!==-1}isAuthorityMetadata(e){return e.indexOf(Vu.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Vu.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class uO extends Pm{async setAccount(){throw $(xe)}getAccount(){throw $(xe)}async setIdTokenCredential(){throw $(xe)}getIdTokenCredential(){throw $(xe)}async setAccessTokenCredential(){throw $(xe)}getAccessTokenCredential(){throw $(xe)}async setRefreshTokenCredential(){throw $(xe)}getRefreshTokenCredential(){throw $(xe)}setAppMetadata(){throw $(xe)}getAppMetadata(){throw $(xe)}setServerTelemetry(){throw $(xe)}getServerTelemetry(){throw $(xe)}setAuthorityMetadata(){throw $(xe)}getAuthorityMetadata(){throw $(xe)}getAuthorityMetadataKeys(){throw $(xe)}setThrottlingCache(){throw $(xe)}getThrottlingCache(){throw $(xe)}removeItem(){throw $(xe)}getKeys(){throw $(xe)}getAccountKeys(){throw $(xe)}getTokenKeys(){throw $(xe)}generateCredentialKey(){throw $(xe)}generateAccountKey(){throw $(xe)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const hn={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const R={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},dO={InProgress:1};/*! @azure/msal-common v15.12.0 2025-08-19 */class Qb{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class JT{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:dO.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Qb}}startPerformanceMeasurement(){return new Qb}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const ZT={tokenRenewalOffsetSeconds:mT,preventCorsPreflight:!1},hO={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tt.Info,correlationId:z.EMPTY_STRING},fO={claimsBasedCachingEnabled:!1},mO={async sendGetRequestAsync(){throw $(xe)},async sendPostRequestAsync(){throw $(xe)}},gO={sku:z.SKU,version:Rp,cpu:z.EMPTY_STRING,os:z.EMPTY_STRING},pO={clientSecret:z.EMPTY_STRING,clientAssertion:void 0},yO={azureCloudInstance:kp.None,tenant:`${z.DEFAULT_COMMON_TENANT}`},vO={application:{appName:"",appVersion:""}};function bO({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:s,cryptoInterface:a,clientCredentials:o,libraryInfo:c,telemetry:u,serverTelemetryManager:h,persistencePlugin:d,serializableCache:f}){const m={...hO,...n};return{authOptions:SO(t),systemOptions:{...ZT,...e},loggerOptions:m,cacheOptions:{...fO,...r},storageInterface:i||new uO(t.clientId,qu,new ti(m),new JT),networkInterface:s||mO,cryptoInterface:a||qu,clientCredentials:o||pO,libraryInfo:{...gO,...c},telemetry:{...vO,...u},serverTelemetryManager:h||null,persistencePlugin:d||null,serializableCache:f||null}}function SO(t){return{clientCapabilities:[],azureCloudOptions:yO,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function WT(t){return t.authOptions.authority.options.protocolMode===hn.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const tr={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function Yu(t,e){if(!t)throw $(gT);try{const n=e(t);return JSON.parse(n)}catch{throw $(xp)}}function xa(t){if(!t)throw $(xp);const e=t.split(xc.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?z.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ns="client_id",eA="redirect_uri",CO="response_type",xO="response_mode",wO="grant_type",TO="claims",AO="scope",EO="refresh_token",_O="state",NO="nonce",RO="prompt",kO="code",OO="code_challenge",IO="code_challenge_method",MO="code_verifier",jO="client-request-id",PO="x-client-SKU",DO="x-client-VER",UO="x-client-OS",LO="x-client-CPU",HO="x-client-current-telemetry",BO="x-client-last-telemetry",zO="x-ms-lib-capability",VO="x-app-name",FO="x-app-ver",qO="post_logout_redirect_uri",GO="id_token_hint",KO="client_secret",$O="client_assertion",YO="client_assertion_type",tA="token_type",nA="req_cnf",Xb="return_spa_code",QO="nativebroker",XO="logout_hint",JO="sid",ZO="login_hint",WO="domain_hint",eI="x-client-xtra-sku",Qu="brk_client_id",Xu="brk_redirect_uri",Dm="instance_aware",tI="ear_jwk",nI="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function Gd(t,e,n){if(!e)return;const r=t.get(Ns);r&&t.has(Qu)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(eA)},e))}function Hp(t,e){t.set(CO,e)}function rI(t,e){t.set(xO,e||H1.QUERY)}function iI(t){t.set(QO,"1")}function Bp(t,e,n=!0,r=Ja){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],s=new _t(i);t.set(AO,s.printScopes())}function zp(t,e){t.set(Ns,e)}function Vp(t,e){t.set(eA,e)}function sI(t,e){t.set(qO,e)}function aI(t,e){t.set(GO,e)}function oI(t,e){t.set(WO,e)}function Tl(t,e){t.set(ZO,e)}function Ju(t,e){t.set(Zt.CCS_HEADER,`UPN:${e}`)}function Yo(t,e){t.set(Zt.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function Jb(t,e){t.set(JO,e)}function Fp(t,e,n){const r=fI(e,n);try{JSON.parse(r)}catch{throw Ge(Op)}t.set(TO,r)}function qp(t,e){t.set(jO,e)}function Gp(t,e){t.set(PO,e.sku),t.set(DO,e.version),e.os&&t.set(UO,e.os),e.cpu&&t.set(LO,e.cpu)}function Kp(t,e){e!=null&&e.appName&&t.set(VO,e.appName),e!=null&&e.appVersion&&t.set(FO,e.appVersion)}function cI(t,e){t.set(RO,e)}function rA(t,e){e&&t.set(_O,e)}function lI(t,e){t.set(NO,e)}function iA(t,e,n){if(e&&n)t.set(OO,e),t.set(IO,n);else throw Ge(Ip)}function uI(t,e){t.set(kO,e)}function dI(t,e){t.set(EO,e)}function hI(t,e){t.set(MO,e)}function sA(t,e){t.set(KO,e)}function aA(t,e){e&&t.set($O,e)}function oA(t,e){e&&t.set(YO,e)}function cA(t,e){t.set(wO,e)}function $p(t){t.set(B1,"1")}function lA(t){t.has(Dm)||t.set(Dm,"true")}function zi(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function fI(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw Ge(Op)}return e&&e.length>0&&(n.hasOwnProperty(xl.ACCESS_TOKEN)||(n[xl.ACCESS_TOKEN]={}),n[xl.ACCESS_TOKEN][xl.XMS_CC]={values:e}),JSON.stringify(n)}function Yp(t,e){e&&(t.set(tA,Ue.POP),t.set(nA,e))}function uA(t,e){e&&(t.set(tA,Ue.SSH),t.set(nA,e))}function dA(t,e){t.set(HO,e.generateCurrentRequestHeaderValue()),t.set(BO,e.generateLastRequestHeaderValue())}function hA(t){t.set(zO,$o.X_MS_LIB_CAPABILITY_VALUE)}function mI(t,e){t.set(XO,e)}function Kd(t,e,n){t.has(Qu)||t.set(Qu,e),t.has(Xu)||t.set(Xu,n)}function gI(t,e){t.set(tI,encodeURIComponent(e)),t.set(nI,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function pI(t,e){Object.entries(e).forEach(([n,r])=>{r&&t.set(n,r)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const Xn={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function yI(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function vI(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function bI(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const Nn=(t,e,n,r,i)=>(...s)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,i);if(i){const o=e+"CallCount";r==null||r.incrementFields({[o]:1},i)}try{const o=t(...s);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),o}catch(o){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o}},B=(t,e,n,r,i)=>(...s)=>{n.trace(`Executing function ${e}`);const a=r==null?void 0:r.startMeasurement(e,i);if(i){const o=e+"CallCount";r==null||r.incrementFields({[o]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...s).then(o=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),o)).catch(o=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o})};/*! @azure/msal-common v15.12.0 2025-08-19 */class $d{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(R.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=Fs.ENVIRONMENT_VARIABLE;else{const s=$d.IMDS_OPTIONS;try{const a=await B(this.getRegionFromIMDS.bind(this),R.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(z.IMDS_VERSION,s);if(a.status===ki.SUCCESS&&(r=a.body,n.region_source=Fs.IMDS),a.status===ki.BAD_REQUEST){const o=await B(this.getCurrentVersion.bind(this),R.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!o)return n.region_source=Fs.FAILED_AUTO_DETECTION,null;const c=await B(this.getRegionFromIMDS.bind(this),R.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(o,s);c.status===ki.SUCCESS&&(r=c.body,n.region_source=Fs.IMDS)}}catch{return n.region_source=Fs.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Fs.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(R.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${z.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,z.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(R.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${z.IMDS_ENDPOINT}?format=json`,e);return r.status===ki.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}$d.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function mn(){return Math.round(new Date().getTime()/1e3)}function Zb(t){return t.getTime()/1e3}function wa(t){return t?new Date(Number(t)*1e3):new Date}function Zu(t,e){const n=Number(t)||0;return mn()+e>n}function SI(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function CI(t){return Number(t)>mn()}/*! @azure/msal-common v15.12.0 2025-08-19 */function Yd(t,e,n,r,i){return{credentialType:Vt.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i,lastUpdatedAt:Date.now().toString()}}function Qd(t,e,n,r,i,s,a,o,c,u,h,d,f,m,S){var A,y;const b={homeAccountId:t,credentialType:Vt.ACCESS_TOKEN,secret:n,cachedAt:mn().toString(),expiresOn:a.toString(),extendedExpiresOn:o.toString(),environment:e,clientId:r,realm:i,target:s,tokenType:h||Ue.BEARER,lastUpdatedAt:Date.now().toString()};if(d&&(b.userAssertionHash=d),u&&(b.refreshOn=u.toString()),m&&(b.requestedClaims=m,b.requestedClaimsHash=S),((A=b.tokenType)==null?void 0:A.toLowerCase())!==Ue.BEARER.toLowerCase())switch(b.credentialType=Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case Ue.POP:const g=Za(n,c);if(!((y=g==null?void 0:g.cnf)!=null&&y.kid))throw $(NT);b.keyId=g.cnf.kid;break;case Ue.SSH:b.keyId=f}return b}function fA(t,e,n,r,i,s,a){const o={credentialType:Vt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,lastUpdatedAt:Date.now().toString()};return s&&(o.userAssertionHash=s),i&&(o.familyId=i),a&&(o.expiresOn=a.toString()),o}function Qp(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function Wb(t){return t?Qp(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Vt.ACCESS_TOKEN||t.credentialType===Vt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function xI(t){return t?Qp(t)&&t.hasOwnProperty("realm")&&t.credentialType===Vt.ID_TOKEN:!1}function e0(t){return t?Qp(t)&&t.credentialType===Vt.REFRESH_TOKEN:!1}function wI(t,e){const n=t.indexOf(Ht.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function TI(t,e){let n=!1;t&&(n=t.indexOf($o.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function AI({environment:t,clientId:e}){return[Cp,t,e].join(xc.CACHE_KEY_SEPARATOR).toLowerCase()}function EI(t,e){return e?t.indexOf(Cp)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function _I(t,e){return e?t.indexOf(Vu.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function t0(){return mn()+Vu.REFRESH_TIME_SECONDS}function Al(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function of(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function n0(t){return t.expiresAt<=mn()}/*! @azure/msal-common v15.12.0 2025-08-19 */class Kt{constructor(e,n,r,i,s,a,o,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=s,this.performanceClient=o,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new $d(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(z.CIAM_AUTH_URL))return Xn.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case z.ADFS:return Xn.Adfs;case z.DSTS:return Xn.Dsts}return Xn.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ie(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw $(Ur)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw $(Ur)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw $(Ur)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw $(OT);return this.replacePath(this.metadata.end_session_endpoint)}else throw $(Ur)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw $(Ur)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw $(Ur)}canReplaceTenant(e){return e.PathSegments.length===1&&!Kt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Xn.Default&&this.protocolMode!==hn.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new Ie(this.metadata.canonical_authority).getUrlComponents(),s=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((o,c)=>{let u=s[c];if(c===0&&this.canReplaceTenant(i)){const h=new Ie(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==h&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${h}`),u=h)}o!==u&&(n=n.replace(`/${u}/`,`/${o}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Xn.Adfs||this.protocolMode===hn.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(R.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await B(this.updateCloudDiscoveryMetadata.bind(this),R.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await B(this.updateEndpointMetadata.bind(this),R.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(s=this.performanceClient)==null||s.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:t0(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==Sn.CACHE&&(r==null?void 0:r.source)!==Sn.CACHE&&(e.expiresAt=t0(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,s,a;(i=this.performanceClient)==null||i.addQueueMeasurement(R.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Sn.HARDCODED_VALUES&&(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&n.metadata){const o=await B(this.updateMetadataWithRegionalInformation.bind(this),R.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Al(e,o,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await B(this.getEndpointMetadataFromNetwork.bind(this),R.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(r=await B(this.updateMetadataWithRegionalInformation.bind(this),R.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Al(e,r,!0),Sn.NETWORK;throw $(vT,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Al(e,n,!1),{source:Sn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Al(e,i,!1),{source:Sn.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=n0(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Sn.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ie(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ge(HT)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(R.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return yI(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in $b?$b[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,s;(r=this.performanceClient)==null||r.addQueueMeasurement(R.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==z.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=sf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Kt.replaceWithRegionalInformation(e,n);const a=await B(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),R.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((s=this.authorityOptions.azureRegionConfiguration)==null?void 0:s.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=sf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,Kt.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=sf.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(R.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await B(this.getCloudDiscoveryMetadataFromNetwork.bind(this),R.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return of(e,r,!0),Sn.NETWORK;throw Ge(BT)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||z.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||z.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||z.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),of(e,n,!1),Sn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=lO(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),of(e,i,!1),Sn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=n0(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Sn.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Xn.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Ku(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ge(Mp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(R.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${z.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(e,n);let a,o;if(vI(s.body))a=s.body,o=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(bI(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),a=s.body,a.error===z.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Ku(o,this.hostnameAndPort)}catch(s){if(s instanceof qe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const a=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Kt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&Ie.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==kp.None){const i=n.tenant?n.tenant:z.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return z.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw $(Ur)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return XT.has(e)}static isPublicCloudAuthority(e){return z.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new Ie(e);i.validateAsUri();const s=i.getUrlComponents();let a=`${n}.${s.HostNameAndPort}`;this.isPublicCloudAuthority(s.HostNameAndPort)&&(a=`${n}.${z.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const o=Ie.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:a}).urlString;return r?`${o}?${r}`:o}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Kt.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Kt.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Kt.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new Ie(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(z.CIAM_AUTH_URL)){const s=i.HostNameAndPort.split(".")[0];n=`${n}${s}${z.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Kt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Hi.COMMON,Hi.CONSUMERS,Hi.ORGANIZATIONS]);function NI(t){var i;const r=(i=new Ie(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case Hi.COMMON:case Hi.ORGANIZATIONS:case Hi.CONSUMERS:return;default:return r}}function mA(t){return t.endsWith(z.FORWARD_SLASH)?t:`${t}${z.FORWARD_SLASH}`}function RI(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw Ge(Mp)}return{canonicalAuthority:t.authority?mA(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function gA(t,e,n,r,i,s,a){a==null||a.addQueueMeasurement(R.AuthorityFactoryCreateDiscoveredInstance,s);const o=Kt.transformCIAMAuthority(mA(t)),c=new Kt(o,e,n,r,i,s,a);try{return await B(c.resolveEndpointsAsync.bind(c),R.AuthorityResolveEndpointsAsync,i,a,s)(),c}catch{throw $(Ur)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Ls extends qe{constructor(e,n,r,i,s){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=s,Object.setPrototypeOf(this,Ls.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function Xd(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class yr{static generateThrottlingStorageKey(e){return`${$o.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){var a;const i=yr.generateThrottlingStorageKey(n),s=e.getThrottlingCache(i);if(s){if(s.throttleTime<Date.now()){e.removeItem(i,r);return}throw new Ls(((a=s.errorCodes)==null?void 0:a.join(" "))||z.EMPTY_STRING,s.errorMessage,s.subError)}}static postProcess(e,n,r,i){if(yr.checkResponseStatus(r)||yr.checkResponseForRetryAfter(r)){const s={throttleTime:yr.calculateThrottleTime(parseInt(r.headers[Zt.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(yr.generateThrottlingStorageKey(n),s,i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Zt.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||$o.DEFAULT_THROTTLE_TIME_SECONDS),r+$o.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const s=Xd(n,r,i),a=this.generateThrottlingStorageKey(s);e.removeItem(a,r.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Jd extends qe{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Jd.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function Ro(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Jd(t,e,n)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Xp{constructor(e,n){this.config=bO(e),this.logger=new ti(this.config.loggerOptions,IT,Rp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[Zt.CONTENT_TYPE]=z.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case tr.HOME_ACCOUNT_ID:try{const r=xa(e.credential);n[Zt.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case tr.UPN:n[Zt.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,s,a){var c;a&&((c=this.performanceClient)==null||c.addQueueMeasurement(a,s));const o=await this.sendPostRequest(i,e,{body:n,headers:r},s);return this.config.serverTelemetryManager&&o.status<500&&o.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,n,r,i){var a,o,c;yr.preProcess(this.cacheManager,e,i);let s;try{s=await B(this.networkClient.sendPostRequestAsync.bind(this.networkClient),R.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,i)(n,r);const u=s.headers||{};(o=this.performanceClient)==null||o.addFields({refreshTokenSize:((a=s.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:u[Zt.X_MS_HTTP_VERSION]||"",requestId:u[Zt.X_MS_REQUEST_ID]||""},i)}catch(u){if(u instanceof Jd){const h=u.responseHeaders;throw h&&((c=this.performanceClient)==null||c.addFields({httpVerToken:h[Zt.X_MS_HTTP_VERSION]||"",requestId:h[Zt.X_MS_REQUEST_ID]||"",contentTypeHeader:h[Zt.CONTENT_TYPE]||void 0,contentLengthHeader:h[Zt.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},i)),u.error}throw u instanceof qe?u:$(yT)}return yr.postProcess(this.cacheManager,e,s,i),s}async updateAuthority(e,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(R.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await gA(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&Kd(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&zi(n,e.tokenQueryParameters),qp(n,e.correlationId),Gd(n,e.correlationId,this.performanceClient),wc(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function pA(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class ir{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,r){var u,h,d,f,m,S,b;const i=new ir;n.authorityType===Xn.Adfs?i.authorityType=wl.ADFS_ACCOUNT_TYPE:n.protocolMode===hn.OIDC?i.authorityType=wl.GENERIC_ACCOUNT_TYPE:i.authorityType=wl.MSSTS_ACCOUNT_TYPE;let s;e.clientInfo&&r&&(s=Yu(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw $(Ep);i.environment=a,i.realm=(s==null?void 0:s.utid)||pA(e.idTokenClaims)||"",i.localAccountId=(s==null?void 0:s.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((h=e.idTokenClaims)==null?void 0:h.sub)||"";const o=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(i.username=o||c||"",i.loginHint=(S=e.idTokenClaims)==null?void 0:S.login_hint,i.name=((b=e.idTokenClaims)==null?void 0:b.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const A=Pp(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[A]}return i}static createFromAccountInfo(e,n,r){var s;const i=new ir;return i.authorityType=e.authorityType||wl.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.loginHint=e.loginHint,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((s=e.tenantProfiles)==null?void 0:s.values())||[]),i}static generateHomeAccountId(e,n,r,i,s){if(!(n===Xn.Adfs||n===Xn.Dsts)){if(e)try{const a=Yu(e,i.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}r.warning("No client info in response")}return(s==null?void 0:s.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const s=e.idTokenClaims||{},a=n.idTokenClaims||{};i=s.iat===a.iat&&s.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Wu="no_tokens_found",yA="native_account_unavailable",Jp="refresh_token_expired",Zp="ux_not_allowed",kI="interaction_required",OI="consent_required",II="login_required",Zd="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const r0=[kI,OI,II,Zd,Zp],MI=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],jI={[Wu]:"No refresh token found in the cache. Please sign-in.",[yA]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Jp]:"Refresh token has expired.",[Zd]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[Zp]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class sr extends qe{constructor(e,n,r,i,s,a,o,c){super(e,n,r),Object.setPrototypeOf(this,sr.prototype),this.timestamp=i||z.EMPTY_STRING,this.traceId=s||z.EMPTY_STRING,this.correlationId=a||z.EMPTY_STRING,this.claims=o||z.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function vA(t,e,n){const r=!!t&&r0.indexOf(t)>-1,i=!!n&&MI.indexOf(n)>-1,s=!!e&&r0.some(a=>e.indexOf(a)>-1);return r||s||i}function ed(t){return new sr(t,jI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class Wa{static setRequestState(e,n,r){const i=Wa.generateLibraryState(e,r);return n?`${i}${z.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw $(Mm);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw $(Mm);if(!n)throw $(Ua);try{const r=n.split(z.RESOURCE_DELIM),i=r[0],s=r.length>1?r.slice(1).join(z.RESOURCE_DELIM):z.EMPTY_STRING,a=e.base64Decode(i),o=JSON.parse(a);return{userRequestState:s||z.EMPTY_STRING,libraryState:o}}catch{throw $(Ua)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const PI={SW:"sw"};class La{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(R.PopTokenGenerateCnf,e.correlationId);const r=await B(this.generateKid.bind(this),R.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(R.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:PI.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:s,resourceRequestUri:a,shrClaims:o,shrNonce:c,shrOptions:u}=r,h=a?new Ie(a):void 0,d=h==null?void 0:h.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:mn(),m:s==null?void 0:s.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:o||void 0,...i},n,u,r.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class DI{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Rs{constructor(e,n,r,i,s,a,o){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=s,this.persistencePlugin=a,this.performanceClient=o}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||z.NOT_AVAILABLE} - Timestamp: ${e.timestamp||z.NOT_AVAILABLE} - Description: ${e.error_description||z.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||z.NOT_AVAILABLE} - Trace ID: ${e.trace_id||z.NOT_AVAILABLE}`,s=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,a=new Ls(e.error,i,e.suberror,s,e.status);if(n&&e.status&&e.status>=ki.SERVER_ERROR_RANGE_START&&e.status<=ki.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=ki.CLIENT_ERROR_RANGE_START&&e.status<=ki.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw vA(e.error,e.error_description,e.suberror)?new sr(e.error,e.error_description,e.suberror,e.timestamp||z.EMPTY_STRING,e.trace_id||z.EMPTY_STRING,e.correlation_id||z.EMPTY_STRING,e.claims||z.EMPTY_STRING,s):a}}async handleServerTokenResponse(e,n,r,i,s,a,o,c,u){var S;(S=this.performanceClient)==null||S.addQueueMeasurement(R.HandleServerTokenResponse,e.correlation_id);let h;if(e.id_token){if(h=Za(e.id_token||z.EMPTY_STRING,this.cryptoObj.base64Decode),s&&s.nonce&&h.nonce!==s.nonce)throw $(CT);if(i.maxAge||i.maxAge===0){const b=h.auth_time;if(!b)throw $(Tp);$T(b,i.maxAge)}}this.homeAccountIdentifier=ir.generateHomeAccountId(e.client_info||z.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,h);let d;s&&s.state&&(d=Wa.parseRequestState(this.cryptoObj,s.state)),e.key_id=e.key_id||i.sshKid||void 0;const f=this.generateCacheRecord(e,n,r,i,h,a,s);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new DI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),o&&!c&&f.account){const b=this.cacheStorage.generateAccountKey(f.account.getAccountInfo());if(!this.cacheStorage.getAccount(b,i.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Rs.generateAuthenticationResult(this.cryptoObj,n,f,!1,i,h,d,void 0,u)}await this.cacheStorage.saveCacheRecord(f,i.correlationId,i.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return Rs.generateAuthenticationResult(this.cryptoObj,n,f,!1,i,h,d,e,u)}generateCacheRecord(e,n,r,i,s,a,o){const c=n.getPreferredCache();if(!c)throw $(Ep);const u=pA(s);let h,d;e.id_token&&s&&(h=Yd(this.homeAccountIdentifier,c,e.id_token,this.clientId,u||""),d=Wp(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i.correlationId,s,e.client_info,c,u,o,void 0,this.logger));let f=null;if(e.access_token){const b=e.scope?_t.fromString(e.scope):new _t(i.scopes||[]),A=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,g=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,p=r+A,v=p+y,E=g&&g>0?r+g:void 0;f=Qd(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||n.tenant||"",b.printScopes(),p,v,this.cryptoObj.base64Decode,E,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash)}let m=null;if(e.refresh_token){let b;if(e.refresh_token_expires_in){const A=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;b=r+A}m=fA(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,a,b)}let S=null;return e.foci&&(S={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:h,accessToken:f,refreshToken:m,appMetadata:S}}static async generateAuthenticationResult(e,n,r,i,s,a,o,c,u){var p,v,E,T,C;let h=z.EMPTY_STRING,d=[],f=null,m,S,b=z.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Ue.POP&&!s.popKid){const x=new La(e),{secret:N,keyId:M}=r.accessToken;if(!M)throw $(_p);h=await x.signPopToken(N,M,s)}else h=r.accessToken.secret;d=_t.fromString(r.accessToken.target).asArray(),f=wa(r.accessToken.expiresOn),m=wa(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(S=wa(r.accessToken.refreshOn))}r.appMetadata&&(b=r.appMetadata.familyId===zu?zu:"");const A=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",y=(a==null?void 0:a.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const g=r.account?Dp(r.account.getAccountInfo(),void 0,a,(p=r.idToken)==null?void 0:p.secret):null;return{authority:n.canonicalAuthority,uniqueId:A,tenantId:y,scopes:d,account:g,idToken:((v=r==null?void 0:r.idToken)==null?void 0:v.secret)||"",idTokenClaims:a||{},accessToken:h,fromCache:i,expiresOn:f,extExpiresOn:m,refreshOn:S,correlationId:s.correlationId,requestId:u||z.EMPTY_STRING,familyId:b,tokenType:((E=r.accessToken)==null?void 0:E.tokenType)||z.EMPTY_STRING,state:o?o.userRequestState:z.EMPTY_STRING,cloudGraphHostName:((T=r.account)==null?void 0:T.cloudGraphHostName)||z.EMPTY_STRING,msGraphHost:((C=r.account)==null?void 0:C.msGraphHost)||z.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function Wp(t,e,n,r,i,s,a,o,c,u,h,d){d==null||d.verbose("setCachedAccount called");const m=t.getAccountKeys().find(g=>g.startsWith(n));let S=null;m&&(S=t.getAccount(m,i));const b=S||ir.createAccount({homeAccountId:n,idTokenClaims:s,clientInfo:a,environment:o,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:h},e,r),A=b.tenantProfiles||[],y=c||b.realm;if(y&&!A.find(g=>g.tenantId===y)){const g=Pp(n,b.localAccountId,y,s);A.push(g)}return b.tenantProfiles=A,b}/*! @azure/msal-common v15.12.0 2025-08-19 */async function bA(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.12.0 2025-08-19 */class SA extends Xp{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var o,c;if((o=this.performanceClient)==null||o.addQueueMeasurement(R.AuthClientAcquireToken,e.correlationId),!e.code)throw $(TT);const r=mn(),i=await B(this.executeTokenRequest.bind(this),R.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),s=(c=i.headers)==null?void 0:c[Zt.X_MS_REQUEST_ID],a=new Rs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),B(a.handleServerTokenResponse.bind(a),R.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,s)}getLogoutUri(e){if(!e)throw Ge(LT);const n=this.createLogoutUrlQueryString(e);return Ie.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(R.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=Ie.appendQueryString(e.tokenEndpoint,r),s=await B(this.createTokenRequestBody.bind(this),R.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const h=Yu(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${h.uid}${xc.CLIENT_INFO_SEPARATOR}${h.utid}`,type:tr.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}const o=this.createTokenRequestHeaders(a||n.ccsCredential),c=Xd(this.config.authOptions.clientId,n);return B(this.executePostToTokenEndpoint.bind(this),R.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,s,o,c,n.correlationId,R.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,s;(i=this.performanceClient)==null||i.addQueueMeasurement(R.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(zp(n,e.embeddedClientId||((s=e.tokenBodyParameters)==null?void 0:s[Ns])||this.config.authOptions.clientId),this.includeRedirectUri)Vp(n,e.redirectUri);else if(!e.redirectUri)throw Ge(MT);if(Bp(n,e.scopes,!0,this.oidcDefaultScopes),uI(n,e.code),Gp(n,this.config.libraryInfo),Kp(n,this.config.telemetry.application),hA(n),this.serverTelemetryManager&&!WT(this.config)&&dA(n,this.serverTelemetryManager),e.codeVerifier&&hI(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&sA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;aA(n,await bA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),oA(n,a.assertionType)}if(cA(n,fT.AUTHORIZATION_CODE_GRANT),$p(n),e.authenticationScheme===Ue.POP){const a=new La(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await B(a.generateCnf.bind(a),R.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Yp(n,o)}else if(e.authenticationScheme===Ue.SSH)if(e.sshJwk)uA(n,e.sshJwk);else throw Ge(qd);(!_n.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Fp(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const a=Yu(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${a.uid}${xc.CLIENT_INFO_SEPARATOR}${a.utid}`,type:tr.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case tr.HOME_ACCOUNT_ID:try{const a=xa(r.credential);Yo(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case tr.UPN:Ju(n,r.credential);break}return e.embeddedClientId&&Kd(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&zi(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Xb])&&zi(n,{[Xb]:"1"}),Gd(n,e.correlationId,this.performanceClient),wc(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&sI(n,e.postLogoutRedirectUri),e.correlationId&&qp(n,e.correlationId),e.idTokenHint&&aI(n,e.idTokenHint),e.state&&rA(n,e.state),e.logoutHint&&mI(n,e.logoutHint),e.extraQueryParameters&&zi(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&lA(n),wc(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const UI=300;class LI extends Xp{constructor(e,n){super(e,n)}async acquireToken(e){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(R.RefreshTokenClientAcquireToken,e.correlationId);const n=mn(),r=await B(this.executeTokenRequest.bind(this),R.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(o=r.headers)==null?void 0:o[Zt.X_MS_REQUEST_ID],s=new Rs(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return s.validateTokenResponse(r.body),B(s.handleServerTokenResponse.bind(s),R.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw Ge(UT);if((r=this.performanceClient)==null||r.addQueueMeasurement(R.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw $(Ap);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await B(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const s=i instanceof sr&&i.errorCode===Wu,a=i instanceof Ls&&i.errorCode===zb.INVALID_GRANT_ERROR&&i.subError===zb.CLIENT_MISMATCH_ERROR;if(s||a)return B(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return B(this.acquireTokenWithCachedRefreshToken.bind(this),R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var s,a,o;(s=this.performanceClient)==null||s.addQueueMeasurement(R.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=Nn(this.cacheManager.getRefreshToken.bind(this.cacheManager),R.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw ed(Wu);if(r.expiresOn&&Zu(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||UI))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),ed(Jp);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Ue.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:tr.HOME_ACCOUNT_ID}};try{return await B(this.acquireToken.bind(this),R.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(c){if(c instanceof sr&&((o=this.performanceClient)==null||o.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Zd)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(R.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=Ie.appendQueryString(n.tokenEndpoint,r),s=await B(this.createTokenRequestBody.bind(this),R.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),o=Xd(this.config.authOptions.clientId,e);return B(this.executePostToTokenEndpoint.bind(this),R.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,s,a,o,e.correlationId,R.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i,s;(r=this.performanceClient)==null||r.addQueueMeasurement(R.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(zp(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Ns])||this.config.authOptions.clientId),e.redirectUri&&Vp(n,e.redirectUri),Bp(n,e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),cA(n,fT.REFRESH_TOKEN_GRANT),$p(n),Gp(n,this.config.libraryInfo),Kp(n,this.config.telemetry.application),hA(n),this.serverTelemetryManager&&!WT(this.config)&&dA(n,this.serverTelemetryManager),dI(n,e.refreshToken),this.config.clientCredentials.clientSecret&&sA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;aA(n,await bA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),oA(n,a.assertionType)}if(e.authenticationScheme===Ue.POP){const a=new La(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await B(a.generateCnf.bind(a),R.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Yp(n,o)}else if(e.authenticationScheme===Ue.SSH)if(e.sshJwk)uA(n,e.sshJwk);else throw Ge(qd);if((!_n.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&Fp(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case tr.HOME_ACCOUNT_ID:try{const a=xa(e.ccsCredential.credential);Yo(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case tr.UPN:Ju(n,e.ccsCredential.credential);break}return e.embeddedClientId&&Kd(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&zi(n,e.tokenBodyParameters),Gd(n,e.correlationId,this.performanceClient),wc(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class HI extends Xp{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(R.SilentFlowClientAcquireCachedToken,e.correlationId);let n=os.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!_n.isEmptyObj(e.claims))throw this.setCacheOutcome(os.FORCE_REFRESH_OR_CLAIMS,e.correlationId),$(Bi);if(!e.account)throw $(Ap);const r=e.account.tenantId||NI(e.authority),i=this.cacheManager.getTokenKeys(),s=this.cacheManager.getAccessToken(e.account,e,i,r);if(s){if(CI(s.cachedAt)||Zu(s.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(os.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),$(Bi);s.refreshOn&&Zu(s.refreshOn,0)&&(n=os.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(os.NO_CACHED_ACCESS_TOKEN,e.correlationId),$(Bi);const a=e.authority||this.authority.getPreferredCache(),o={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:s,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,i,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await B(this.generateResultFromCacheRecord.bind(this),R.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(o,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==os.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(R.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=Za(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const s=r==null?void 0:r.auth_time;if(!s)throw $(Tp);$T(s,n.maxAge)}return Rs.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const BI={sendGetRequestAsync:()=>Promise.reject($(xe)),sendPostRequestAsync:()=>Promise.reject($(xe))};/*! @azure/msal-common v15.12.0 2025-08-19 */function zI(t,e,n,r){var o,c;const i=e.correlationId,s=new Map;zp(s,e.embeddedClientId||((o=e.extraQueryParameters)==null?void 0:o[Ns])||t.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Bp(s,a,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),Vp(s,e.redirectUri),qp(s,i),rI(s,e.responseMode),$p(s),e.prompt&&(cI(s,e.prompt),r==null||r.addFields({prompt:e.prompt},i)),e.domainHint&&(oI(s,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},i)),e.prompt!==tn.SELECT_ACCOUNT)if(e.sid&&e.prompt===tn.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),Jb(s,e.sid),r==null||r.addFields({sidFromRequest:!0},i);else if(e.account){const u=qI(e.account);let h=GI(e.account);if(h&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),h=null),h){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Tl(s,h),r==null||r.addFields({loginHintFromClaim:!0},i);try{const d=xa(e.account.homeAccountId);Yo(s,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===tn.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),Jb(s,u),r==null||r.addFields({sidFromClaim:!0},i);try{const d=xa(e.account.homeAccountId);Yo(s,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Tl(s,e.loginHint),Ju(s,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Tl(s,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},i);try{const d=xa(e.account.homeAccountId);Yo(s,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Tl(s,e.loginHint),Ju(s,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&lI(s,e.nonce),e.state&&rA(s,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&Fp(s,e.claims,t.clientCapabilities),e.embeddedClientId&&Kd(s,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Dm))&&lA(s),s}function ey(t,e,n,r){const i=wc(e,n,r);return Ie.appendQueryString(t.authorizationEndpoint,i)}function VI(t,e){if(CA(t,e),!t.code)throw $(RT);return t}function CA(t,e){if(!t.state||!e)throw t.state?$(km,"Cached State"):$(km,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw $(Ua,t.state)}try{r=decodeURIComponent(e)}catch{throw $(Ua,t.state)}if(n!==r)throw $(ST);if(t.error||t.error_description||t.suberror){const i=FI(t);throw vA(t.error,t.error_description,t.suberror)?new sr(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",i):new Ls(t.error||"",t.error_description,t.suberror,i)}}function FI(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}function qI(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function GI(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const i0=",",xA="|";function KI(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:s}=t,a=new Map([[0,[n,r]],[2,[i,s]]]);let o=[];if(e!=null&&e.length){if(o=e.split(i0),o.length<4)return e}else o=Array.from({length:4},()=>xA);return a.forEach((c,u)=>{var h,d;c.length===2&&((h=c[0])!=null&&h.length)&&((d=c[1])!=null&&d.length)&&$I({skuArr:o,index:u,skuName:c[0],skuVersion:c[1]})}),o.join(i0)}function $I(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(xA))}class Tc{constructor(e,n){this.cacheOutcome=os.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||z.EMPTY_STRING,this.wrapperVer=e.wrapperVer||z.EMPTY_STRING,this.telemetryCacheKey=Ht.CACHE_KEY+xc.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Ht.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(Ht.VALUE_SEPARATOR),s=this.getRegionDiscoveryFields(),a=[e,s].join(Ht.VALUE_SEPARATOR);return[Ht.SCHEMA_VERSION,a,i].join(Ht.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Tc.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(Ht.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(Ht.VALUE_SEPARATOR),s=e.errors.length,a=n<s?Ht.OVERFLOW_TRUE:Ht.OVERFLOW_FALSE,o=[s,a].join(Ht.VALUE_SEPARATOR);return[Ht.SCHEMA_VERSION,e.cacheHits,r,i,o].join(Ht.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=Ht.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof qe?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(Ht.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Tc.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,i=0;const s=e.errors.length;for(n=0;n<s;n++){const a=e.failedRequests[2*n]||z.EMPTY_STRING,o=e.failedRequests[2*n+1]||z.EMPTY_STRING,c=e.errors[n]||z.EMPTY_STRING;if(i+=a.toString().length+o.toString().length+c.length+3,i<Ht.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||z.EMPTY_STRING),e.push(this.regionSource||z.EMPTY_STRING),e.push(this.regionOutcome||z.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return KI(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const wA="missing_kid_error",TA="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const YI={[wA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[TA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class ty extends qe{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,ty.prototype)}}function s0(t){return new ty(t,YI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class ny{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw s0(wA);if(!e.alg)throw s0(TA);const n=new ny({typ:e.typ||z1.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ry="pkce_not_created",iy="ear_jwk_empty",AA="ear_jwe_empty",Um="crypto_nonexistent",Wd="empty_navigate_uri",EA="hash_empty_error",sy="no_state_in_hash",_A="hash_does_not_contain_known_properties",NA="unable_to_parse_state",RA="state_interaction_type_mismatch",kA="interaction_in_progress",OA="popup_window_error",IA="empty_window_error",Ac="user_cancelled",QI="monitor_popup_timeout",MA="monitor_window_timeout",jA="redirect_in_iframe",PA="block_iframe_reload",DA="block_nested_popups",XI="iframe_closed_prematurely",eh="silent_logout_unsupported",UA="no_account_error",JI="silent_prompt_value_error",LA="no_token_request_cache_error",HA="unable_to_parse_token_request_cache_error",ZI="auth_request_not_set_error",WI="invalid_cache_type",th="non_browser_environment",Qs="database_not_open",td="no_network_connectivity",BA="post_request_failed",zA="get_request_failed",Lm="failed_to_parse_response",VA="unable_to_load_token",ay="crypto_key_not_found",FA="auth_code_required",qA="auth_code_or_nativeAccountId_required",GA="spa_code_and_nativeAccountId_present",oy="database_unavailable",KA="unable_to_acquire_token_from_native_platform",$A="native_handshake_timeout",YA="native_extension_not_installed",cy="native_connection_not_established",Qo="uninitialized_public_client_application",QA="native_prompt_not_supported",XA="invalid_base64_string",JA="invalid_pop_token_request",ZA="failed_to_build_headers",WA="failed_to_parse_headers",Wl="failed_to_decrypt_ear_response",nd="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Mr="For more visit: aka.ms/msaljs/browser-errors",eM={[ry]:"The PKCE code challenge and verifier could not be generated.",[iy]:"No EAR encryption key provided. This is unexpected.",[AA]:"Server response does not contain ear_jwe property. This is unexpected.",[Um]:"The crypto object or function is not available.",[Wd]:"Navigation URI is empty. Please check stack trace for more info.",[EA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Mr}`,[sy]:"Hash does not contain state. Please verify that the request originated from msal.",[_A]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Mr}`,[NA]:"Unable to parse state. Please verify that the request originated from msal.",[RA]:"Hash contains state but the interaction type does not match the caller.",[kA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Mr}`,[OA]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[IA]:"window.open returned null or undefined window object.",[Ac]:"User cancelled the flow.",[QI]:`Token acquisition in popup failed due to timeout.  ${Mr}`,[MA]:`Token acquisition in iframe failed due to timeout.  ${Mr}`,[jA]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[PA]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Mr}`,[DA]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[XI]:"The iframe being monitored was closed prematurely.",[eh]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[UA]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[JI]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[LA]:"No token request found in cache.",[HA]:"The cached token request could not be parsed.",[ZI]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[WI]:"Invalid cache type",[th]:"Login and token requests are not supported in non-browser environments.",[Qs]:"Database is not open!",[td]:"No network connectivity. Check your internet connection.",[BA]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[zA]:"Network request failed. Please check the network trace to determine root cause.",[Lm]:"Failed to parse network response. Check network trace.",[VA]:"Error loading token to cache.",[ay]:"Cryptographic Key or Keypair not found in browser storage.",[FA]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[qA]:"An authorization code or nativeAccountId must be provided to this flow.",[GA]:"Request cannot contain both spa code and native account id.",[oy]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[KA]:`Unable to acquire token from native platform.  ${Mr}`,[$A]:"Timed out while attempting to establish connection to browser extension",[YA]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[cy]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Mr}`,[Qo]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Mr}`,[QA]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[XA]:"Invalid base64 encoded string.",[JA]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[ZA]:"Failed to build request headers object.",[WA]:"Failed to parse response headers",[Wl]:"Failed to decrypt ear response",[nd]:"The request timed out."};class Qc extends qe{constructor(e,n){super(e,eM[e],n),Object.setPrototypeOf(this,Qc.prototype),this.name="BrowserAuthError"}}function ne(t,e){return new Qc(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const dn={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Ln={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},mo={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Nt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},a0={GET:"GET",POST:"POST"},Ti={SIGNIN:"signin",SIGNOUT:"signout"},vt={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},El={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Fe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ue;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ue||(ue={}));const wt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},o0={scopes:Ja},eE="jwk",tM={React:"@azure/msal-react"},Hm="msal.db",nM=1,rM=`${Hm}.keys`,Xt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},iM=[Xt.Default,Xt.Skip,Xt.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function _l(t){return encodeURIComponent(Ec(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function $i(t){return tE(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ec(t){return tE(new TextEncoder().encode(t))}function tE(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function rr(t){return new TextDecoder().decode(Vi(t))}function Vi(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ne(XA)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const sM="RSASSA-PKCS1-v1_5",eo="AES-GCM",nE="HKDF",ly="SHA-256",aM=2048,oM=new Uint8Array([1,0,1]),c0="0123456789abcdef",l0=new Uint32Array(1),uy="raw",rE="encrypt",dy="decrypt",cM="deriveKey",lM="crypto_subtle_undefined",hy={name:sM,hash:ly,modulusLength:aM,publicExponent:oM};function uM(t){if(!window)throw ne(th);if(!window.crypto)throw ne(Um);if(!t&&!window.crypto.subtle)throw ne(Um,lM)}async function iE(t,e,n){e==null||e.addQueueMeasurement(R.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(ly,i)}function dM(t){return window.crypto.getRandomValues(t)}function cf(){return window.crypto.getRandomValues(l0),l0[0]}function ar(){const t=Date.now(),e=cf()*1024+(cf()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,s=cf();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=s>>>24,n[13]=s>>>16,n[14]=s>>>8,n[15]=s;let a="";for(let o=0;o<n.length;o++)a+=c0.charAt(n[o]>>>4),a+=c0.charAt(n[o]&15),(o===3||o===5||o===7||o===9)&&(a+="-");return a}async function hM(t,e){return window.crypto.subtle.generateKey(hy,t,e)}async function lf(t){return window.crypto.subtle.exportKey(eE,t)}async function fM(t,e,n){return window.crypto.subtle.importKey(eE,t,hy,e,n)}async function mM(t,e){return window.crypto.subtle.sign(hy,t,e)}async function fy(){const t=await sE(),n={alg:"dir",kty:"oct",k:$i(new Uint8Array(t))};return Ec(JSON.stringify(n))}async function gM(t){const e=rr(t),r=JSON.parse(e).k,i=Vi(r);return window.crypto.subtle.importKey(uy,i,eo,!1,[dy])}async function pM(t,e){const n=e.split(".");if(n.length!==5)throw ne(Wl,"jwe_length");const r=await gM(t).catch(()=>{throw ne(Wl,"import_key")});try{const i=new TextEncoder().encode(n[0]),s=Vi(n[2]),a=Vi(n[3]),o=Vi(n[4]),c=o.byteLength*8,u=new Uint8Array(a.length+o.length);u.set(a),u.set(o,a.length);const h=await window.crypto.subtle.decrypt({name:eo,iv:s,tagLength:c,additionalData:i},r,u);return new TextDecoder().decode(h)}catch{throw ne(Wl,"decrypt")}}async function sE(){const t=await window.crypto.subtle.generateKey({name:eo,length:256},!0,[rE,dy]);return window.crypto.subtle.exportKey(uy,t)}async function u0(t){return window.crypto.subtle.importKey(uy,t,nE,!1,[cM])}async function aE(t,e,n){return window.crypto.subtle.deriveKey({name:nE,salt:e,hash:ly,info:new TextEncoder().encode(n)},t,{name:eo,length:256},!1,[rE,dy])}async function yM(t,e,n){const r=new TextEncoder().encode(e),i=window.crypto.getRandomValues(new Uint8Array(16)),s=await aE(t,i,n),a=await window.crypto.subtle.encrypt({name:eo,iv:new Uint8Array(12)},s,r);return{data:$i(new Uint8Array(a)),nonce:$i(i)}}async function d0(t,e,n,r){const i=Vi(r),s=await aE(t,Vi(e),n),a=await window.crypto.subtle.decrypt({name:eo,iv:new Uint8Array(12)},s,i);return new TextDecoder().decode(a)}async function oE(t){const e=await iE(t),n=new Uint8Array(e);return $i(n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const nh="storage_not_supported",xt="stubbed_public_client_application_called",my="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const eu={[nh]:"Given storage configuration option was not supported.",[xt]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[my]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};eu[nh],eu[xt],eu[my];class gy extends qe{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,gy.prototype)}}function pt(t){return new gy(t,eu[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function cE(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function vM(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function py(){return window.parent!==window}function bM(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${dn.POPUP_NAME_PREFIX}.`)===0}function qr(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function SM(){const e=new Ie(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function CM(){if(Ie.hashContainsKnownProperties(window.location.hash)&&py())throw ne(PA)}function xM(t){if(py()&&!t)throw ne(jA)}function wM(){if(bM())throw ne(DA)}function lE(){if(typeof window>"u")throw ne(th)}function uE(t){if(!t)throw ne(Qo)}function yy(t){lE(),CM(),wM(),uE(t)}function h0(t,e){if(yy(t),xM(e.system.allowRedirectInIframe),e.cache.cacheLocation===Nt.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw pt(my)}function dE(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function TM(){return ar()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class rd{navigateInternal(e,n){return rd.defaultNavigateWindow(e,n)}navigateExternal(e,n){return rd.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,i)=>{setTimeout(()=>{i(ne(nd,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class AM{async sendGetRequestAsync(e,n){let r,i={},s=0;const a=f0(n);try{r=await fetch(e,{method:a0.GET,headers:a})}catch(o){throw Ro(ne(window.navigator.onLine?zA:td),void 0,void 0,o)}i=m0(r.headers);try{return s=r.status,{headers:i,body:await r.json(),status:s}}catch(o){throw Ro(ne(Lm),s,i,o)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",i=f0(n);let s,a=0,o={};try{s=await fetch(e,{method:a0.POST,headers:i,body:r})}catch(c){throw Ro(ne(window.navigator.onLine?BA:td),void 0,void 0,c)}o=m0(s.headers);try{return a=s.status,{headers:o,body:await s.json(),status:a}}catch(c){throw Ro(ne(Lm),a,o,c)}}}function f0(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,i])=>{e.append(r,i)}),e}catch(e){throw Ro(ne(ZA),void 0,void 0,e)}}function m0(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw ne(WA)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const EM=6e4,Bm=1e4,_M=3e4,hE=2e3;function NM({auth:t,cache:e,system:n,telemetry:r},i){const s={clientId:z.EMPTY_STRING,authority:`${z.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:z.EMPTY_STRING,authorityMetadata:z.EMPTY_STRING,redirectUri:typeof window<"u"?qr():"",postLogoutRedirectUri:z.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:hn.AAD,OIDCOptions:{serverResponseType:Fd.FRAGMENT,defaultScopes:[z.OPENID_SCOPE,z.PROFILE_SCOPE,z.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:kp.None,tenant:z.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:Nt.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Nt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Nt.LocalStorage),claimsBasedCachingEnabled:!1},o={loggerCallback:()=>{},logLevel:tt.Info,piiLoggingEnabled:!1},u={...{...ZT,loggerOptions:o,networkClient:i?new AM:BI,navigationClient:new rd,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||EM,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Bm,navigateFrameWait:0,redirectNavigationTimeout:_M,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||hE,pollIntervalMilliseconds:dn.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||o},h={application:{appName:z.EMPTY_STRING,appVersion:z.EMPTY_STRING},client:new JT};if((t==null?void 0:t.protocolMode)!==hn.OIDC&&(t!=null&&t.OIDCOptions)&&new ti(u.loggerOptions).warning(JSON.stringify(Ge(VT))),t!=null&&t.protocolMode&&t.protocolMode===hn.OIDC&&(u!=null&&u.allowPlatformBroker))throw Ge(FT);return{auth:{...s,...t,OIDCOptions:{...s.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:u,telemetry:{...h,...r}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const RM="@azure/msal-browser",ks="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Mt="msal",vy="browser",uf="-",gi=1,zm=1,kM=`${Mt}.${vy}.log.level`,OM=`${Mt}.${vy}.log.pii`,IM=`${Mt}.${vy}.platform.auth.dom`,g0=`${Mt}.version`,p0="account.keys",y0="token.keys";function mr(t=zm){return t<1?`${Mt}.${p0}`:`${Mt}.${t}.${p0}`}function fs(t,e=gi){return e<1?`${Mt}.${y0}.${t}`:`${Mt}.${e}.${y0}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class by{static loggerCallback(e,n){switch(e){case tt.Error:console.error(n);return;case tt.Info:console.info(n);return;case tt.Verbose:console.debug(n);return;case tt.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=NM(e,this.browserEnvironment);let n;try{n=window[Nt.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(kM),i=(c=n==null?void 0:n.getItem(OM))==null?void 0:c.toLowerCase(),s=i==="true"?!0:i==="false"?!1:void 0,a={...this.config.system.loggerOptions},o=r&&Object.keys(tt).includes(r)?tt[r]:void 0;o&&(a.loggerCallback=by.loggerCallback,a.logLevel=o),s!==void 0&&(a.piiLoggingEnabled=s),this.logger=new ti(a,RM,ks),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Os extends by{getModuleName(){return Os.MODULE_NAME}getId(){return Os.ID}async initialize(){return this.available=typeof window<"u",this.available}}Os.MODULE_NAME="";Os.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class MM{constructor(){this.dbName=Hm,this.version=nM,this.tableName=rM,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const s=i;this.db=s.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(ne(oy)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ne(Qs));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result)}),a.addEventListener("error",o=>{this.closeConnection(),r(o)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(ne(Qs));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);o.addEventListener("success",()=>{this.closeConnection(),r()}),o.addEventListener("error",c=>{this.closeConnection(),i(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ne(Qs));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",o=>{this.closeConnection(),r(o)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(ne(Qs));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();s.addEventListener("success",a=>{const o=a;this.closeConnection(),e(o.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(ne(Qs));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",o=>{const c=o;this.closeConnection(),n(c.target.result===1)}),a.addEventListener("error",o=>{this.closeConnection(),r(o)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(Hm),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class rh{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class jM{constructor(e){this.inMemoryCache=new rh,this.indexedDBCache=new MM,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Qc&&e.errorCode===oy)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ni{constructor(e,n,r){this.logger=e,uM(r??!1),this.cache=new jM(this.logger),this.performanceClient=n}createNewGuid(){return ar()}base64Encode(e){return Ec(e)}base64Decode(e){return rr(e)}base64UrlEncode(e){return _l(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var h;const n=(h=this.performanceClient)==null?void 0:h.startMeasurement(R.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await hM(ni.EXTRACTABLE,ni.POP_KEY_USAGES),i=await lf(r.publicKey),s={e:i.e,kty:i.kty,n:i.n},a=v0(s),o=await this.hashString(a),c=await lf(r.privateKey),u=await fM(c,!1,["sign"]);return await this.cache.setItem(o,{privateKey:u,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),o}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw $(kT)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var p;const s=(p=this.performanceClient)==null?void 0:p.startMeasurement(R.CryptoOptsSignJwt,i),a=await this.cache.getItem(n);if(!a)throw ne(ay);const o=await lf(a.publicKey),c=v0(o),u=_l(JSON.stringify({kid:n})),h=ny.getShrHeaderString({...r==null?void 0:r.header,alg:o.alg,kid:u}),d=_l(h);e.cnf={jwk:JSON.parse(c)};const f=_l(JSON.stringify(e)),m=`${d}.${f}`,b=new TextEncoder().encode(m),A=await mM(a.privateKey,b),y=$i(new Uint8Array(A)),g=`${m}.${y}`;return s&&s.end({success:!0}),g}async hashString(e){return oE(e)}}ni.POP_KEY_USAGES=["sign","verify"];ni.EXTRACTABLE=!0;function v0(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const PM=24*60*60*1e3,Vm={Lax:"Lax",None:"None"};class fE{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){const s=r[i],[a,...o]=decodeURIComponent(s).trim().split("="),c=o.join("=");if(a===n)return c}return""}getUserData(){throw $(xe)}setItem(e,n,r,i=!0,s=Vm.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${s};`;if(r){const o=DM(r);a+=`expires=${o};`}(i||s===Vm.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject($(xe))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const i=decodeURIComponent(r).trim().split("=");n.push(i[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function DM(t){const e=new Date;return new Date(e.getTime()+t*PM).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Xo(t,e){const n=t.getItem(mr(e));return n?JSON.parse(n):[]}function Jo(t,e,n){const r=e.getItem(fs(t,n));if(r){const i=JSON.parse(r);if(i&&i.hasOwnProperty("idToken")&&i.hasOwnProperty("accessToken")&&i.hasOwnProperty("refreshToken"))return i}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Fm(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const b0="msal.cache.encryption",UM="msal.broadcast.cache";class LM{constructor(e,n,r){if(!window.localStorage)throw pt(nh);this.memoryStorage=new rh,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(UM)}async initialize(e){const n=new fE,r=n.getItem(b0);let i={key:"",id:""};if(r)try{i=JSON.parse(r)}catch{}if(i.key&&i.id){const s=Nn(Vi,R.Base64Decode,this.logger,this.performanceClient,e)(i.key);this.encryptionCookie={id:i.id,key:await B(u0,R.GenerateHKDF,this.logger,this.performanceClient,e)(s)}}else{const s=ar(),a=await B(sE,R.GenerateBaseKey,this.logger,this.performanceClient,e)(),o=Nn($i,R.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:s,key:await B(u0,R.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const c={id:s,key:o};n.setItem(b0,JSON.stringify(c),0,!0,Vm.None)}await B(this.importExistingCache.bind(this),R.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ne(Qo);return this.memoryStorage.getItem(e)}async decryptData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw ne(Qo);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const i=await B(d0,R.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!i)return null;try{return JSON.parse(i)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,i){if(!this.initialized||!this.encryptionCookie)throw ne(Qo);const{data:s,nonce:a}=await B(yM,R.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:a,data:s,lastUpdatedAt:i};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Xo(this).forEach(r=>this.removeItem(r));const n=Jo(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(Mt)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=Xo(this);n=await this.importArray(n,e),n.length?this.setItem(mr(),JSON.stringify(n)):this.removeItem(mr());const r=Jo(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(fs(this.clientId),JSON.stringify(r)):this.removeItem(fs(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let i;try{i=JSON.parse(r)}catch{return null}return Fm(i)?i.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):B(d0,R.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,i.nonce,this.getContext(e),i.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),i)}async importArray(e,n){const r=[],i=[];return e.forEach(s=>{const a=this.getItemFromEncryptedCache(s,n).then(o=>{o?(this.memoryStorage.setItem(s,o),r.push(s)):this.removeItem(s)});i.push(a)}),await Promise.all(i),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(R.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:i,context:s}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(s&&s!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${s}`),n.end({success:!1,errorCode:"contextMismatch"});return}i?(this.memoryStorage.setItem(r,i),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class HM{constructor(){if(!window.sessionStorage)throw pt(nh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ae={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function S0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class qm extends Pm{constructor(e,n,r,i,s,a,o){super(e,r,i,s,o),this.cacheConfig=n,this.logger=i,this.internalStorage=new rh,this.browserStorage=C0(e,n.cacheLocation,i,s),this.temporaryCacheStorage=C0(e,n.temporaryCacheLocation,i,s),this.cookieStorage=new fE,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=Xo(this.browserStorage,0),r=Jo(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:r.accessToken.length,oldIdCount:r.idToken.length,oldRefreshCount:r.refreshToken.length},e);const i=Xo(this.browserStorage,1),s=Jo(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:i.length,currAccessCount:s.accessToken.length,currIdCount:s.idToken.length,currRefreshCount:s.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(zm,n,i,e),this.updateV0ToCurrent(gi,r.idToken,s.idToken,e),this.updateV0ToCurrent(gi,r.accessToken,s.accessToken,e),this.updateV0ToCurrent(gi,r.refreshToken,s.refreshToken,e)]),n.length>0?this.browserStorage.setItem(mr(0),JSON.stringify(n)):this.browserStorage.removeItem(mr(0)),i.length>0?this.browserStorage.setItem(mr(1),JSON.stringify(i)):this.browserStorage.removeItem(mr(1)),this.setTokenKeys(r,e,0),this.setTokenKeys(s,e,1)}async updateV0ToCurrent(e,n,r,i){const s=[];for(const a of[...n]){const o=this.browserStorage.getItem(a),c=this.validateAndParseJson(o||"");if(!c){S0(n,a);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(a,JSON.stringify(c),i));const u=Fm(c)?await this.browserStorage.decryptData(a,c,i):c;let h;if(u&&(Wb(u)||e0(u))&&(h=u.expiresOn),!u||SI(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||h&&Zu(h,mT)){this.browserStorage.removeItem(a),S0(n,a),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},i);continue}if(this.cacheConfig.cacheLocation!==Nt.LocalStorage||Fm(c)){const d=`${Mt}.${e}${uf}${a}`,f=this.browserStorage.getItem(d);if(f){const m=this.validateAndParseJson(f);if(Number(c.lastUpdatedAt)>Number(m.lastUpdatedAt)){s.push(this.setUserData(d,JSON.stringify(u),i,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},i)}));continue}}else{s.push(this.setUserData(d,JSON.stringify(u),i,c.lastUpdatedAt).then(()=>{r.push(d),this.performanceClient.incrementFields({upgradedCacheCount:1},i)}));continue}}}return Promise.all(s)}trackVersionChanges(e){const n=this.browserStorage.getItem(g0);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==ks&&this.setItem(g0,ks,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){let i=0,s=[];const a=20;for(let o=0;o<=a;o++)try{this.browserStorage.setItem(e,n),o>0&&(o<=i?this.removeAccessTokenKeys(s.slice(0,o),r,0):(this.removeAccessTokenKeys(s.slice(0,i),r,0),this.removeAccessTokenKeys(s.slice(i,o),r)));break}catch(c){const u=jm(c);if(u.errorCode===$u&&o<a){if(!s.length){const h=e===fs(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,d=e===fs(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;s=[...h,...d],i=h.length}if(s.length<=o)throw u;this.removeAccessToken(s[o],r,!1)}else throw u}}async setUserData(e,n,r,i){let s=0,a=[];const o=20;for(let c=0;c<=o;c++)try{await B(this.browserStorage.setUserData.bind(this.browserStorage),R.SetUserData,this.logger,this.performanceClient)(e,n,r,i),c>0&&(c<=s?this.removeAccessTokenKeys(a.slice(0,c),r,0):(this.removeAccessTokenKeys(a.slice(0,s),r,0),this.removeAccessTokenKeys(a.slice(s,c),r)));break}catch(u){const h=jm(u);if(h.errorCode===$u&&c<o){if(!a.length){const d=this.getTokenKeys(0).accessToken,f=this.getTokenKeys().accessToken;a=[...d,...f],s=d.length}if(a.length<=c)throw h;this.removeAccessToken(a[c],r,!1)}else throw h}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const i=this.validateAndParseJson(r);return!i||!ir.isAccountEntity(i)?null:Pm.toObject(new ir,i)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=this.generateAccountKey(e.getAccountInfo()),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.addAccountKeyToMap(r,n);this.cacheConfig.cacheLocation===Nt.LocalStorage&&s&&this.eventHandler.emitEvent(ae.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Xo(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(mr(),JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),i=r.indexOf(e);if(i>-1){if(r.splice(i,1),r.length===0){this.removeItem(mr());return}else this.setItem(mr(),JSON.stringify(r),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const r=this.getActiveAccount(n);(r==null?void 0:r.homeAccountId)===e.homeAccountId&&(r==null?void 0:r.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(i=>{i.includes(e.homeAccountId)&&i.includes(e.environment)&&this.browserStorage.removeItem(i)}),this.cacheConfig.cacheLocation===Nt.LocalStorage&&this.eventHandler.emitEvent(ae.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),i=r.idToken.indexOf(e);i>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(i,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,r=gi){this.logger.trace("removeAccessTokenKey called");const i=this.getTokenKeys(r);let s=0;if(e.forEach(a=>{const o=i.accessToken.indexOf(a);o>-1&&(i.accessToken.splice(o,1),s++)}),s>0){this.logger.info(`removed ${s} accessToken keys from tokenKeys map`),this.setTokenKeys(i,n,r);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),i=r.refreshToken.indexOf(e);i>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(i,1),this.setTokenKeys(r,n))}getTokenKeys(e=gi){return Jo(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,r=gi){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(fs(this.clientId,r));return}else this.setItem(fs(this.clientId,r),JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!xI(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),i)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys();s.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),s.idToken.push(r),this.setTokenKeys(s,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const i=this.validateAndParseJson(r);return!i||!Wb(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),i)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys(),a=s.accessToken.indexOf(r);a!==-1&&s.accessToken.splice(a,1),this.logger.trace(`access token ${a===-1?"added to":"updated in"} map`),s.accessToken.push(r),this.setTokenKeys(s,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const i=this.validateAndParseJson(r);return!i||!e0(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),i)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=this.generateCredentialKey(e),i=Date.now().toString();e.lastUpdatedAt=i,await this.setUserData(r,JSON.stringify(e),n,i);const s=this.getTokenKeys();s.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),s.refreshToken.push(r),this.setTokenKeys(s,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!EI(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=AI(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!wI(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&_I(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(El.WRAPPER_SKU,e),this.internalStorage.setItem(El.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(El.WRAPPER_SKU)||z.EMPTY_STRING,n=this.internalStorage.getItem(El.WRAPPER_VER)||z.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(Bb.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const i=this.validateAndParseJson(r);return i?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:i.homeAccountId,localAccountId:i.localAccountId,tenantId:i.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(Bb.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:mn().toString()};this.setItem(r,JSON.stringify(i),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(ae.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!TI(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const s=this.cookieStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),s}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===Nt.LocalStorage){const s=this.browserStorage.getItem(r);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),s}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(i,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Mt)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Mt)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(R.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(i=>{const s=this.getAccessTokenCredential(i,e);s!=null&&s.requestedClaimsHash&&i.includes(s.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(i,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return _n.startsWith(e,Mt)?e:`${Mt}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Vt.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==Ue.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Mt}.${gi}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join(uf).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Mt}.${zm}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(uf).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(vt.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(vt.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(vt.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(vt.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(vt.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=Ec(JSON.stringify(e));if(this.setTemporaryCache(vt.REQUEST_PARAMS,r,!0),n){const i=Ec(n);this.setTemporaryCache(vt.VERIFIER,i,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(vt.REQUEST_PARAMS,!0);if(!e)throw ne(LA);const n=this.getTemporaryCache(vt.VERIFIER,!0);let r,i="";try{r=JSON.parse(rr(e)),n&&(i=rr(n))}catch(s){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${s}`),ne(HA)}return[r,i]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(vt.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Mt}.${vt.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),cE(window),null}}setInteractionInProgress(e,n=Ti.SIGNIN){var i;const r=`${Mt}.${vt.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ne(kA);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((i=this.getInteractionInProgress())==null?void 0:i.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var o,c,u;const r=Yd((o=e.account)==null?void 0:o.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const s=Qd((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Zb(e.expiresOn):0,e.extExpiresOn?Zb(e.extExpiresOn):0,rr,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),a={idToken:r,accessToken:s};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof Ca&&this.performanceClient&&n)try{const s=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:s.refreshToken.length,cacheIdCount:s.idToken.length,cacheAtCount:s.accessToken.length},n)}catch{}throw i}}}function C0(t,e,n,r){try{switch(e){case Nt.LocalStorage:return new LM(t,n,r);case Nt.SessionStorage:return new HM;case Nt.MemoryStorage:default:break}}catch(i){n.error(i)}return new rh}const BM=(t,e,n,r)=>{const i={cacheLocation:Nt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Nt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new qm(t,i,qu,e,n,r)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function zM(t,e,n,r,i){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(i||{},r):[]}function VM(t,e,n,r){const i=n.getAccountInfoFilteredBy(t,r);return i?(e.verbose("getAccount: Account matching provided filter found, returning"),i):(e.verbose("getAccount: No matching account found, returning null"),null)}function FM(t,e,n,r){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const i=n.getAccountInfoFilteredBy({username:t},r);return i?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),i):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function qM(t,e,n,r){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const i=n.getAccountInfoFilteredBy({homeAccountId:t},r);return i?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),i):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function GM(t,e,n,r){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const i=n.getAccountInfoFilteredBy({localAccountId:t},r);return i?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),i):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function KM(t,e,n){e.setActiveAccount(t,n)}function $M(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const YM="msal.broadcast.event";class QM{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ti({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(YM)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||TM();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){var a;const s={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};switch(e){case ae.ACCOUNT_ADDED:case ae.ACCOUNT_REMOVED:case ae.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(s);break;default:this.invokeCallbacks(s);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],i)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${i}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class mE{constructor(e,n,r,i,s,a,o,c,u){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=s,this.navigationClient=a,this.platformAuthProvider=c,this.correlationId=u||ar(),this.logger=i.clone(dn.MSAL_SKU,ks,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return Ie.getAbsoluteUrl(n,qr())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Tc(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(R.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.requestAuthority||this.config.auth.authority,a=r!=null&&r.length?r==="true":this.config.auth.instanceAware,o=n&&a?this.config.auth.authority.replace(Ie.getDomainFromUrl(s),n.environment):s,c=Kt.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await B(gA,R.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw Ge(qT);return u}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Sy(t,e,n,r){n.addQueueMeasurement(R.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,s=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:i,scopes:s};if(!a.authenticationScheme)a.authenticationScheme=Ue.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===Ue.SSH){if(!t.sshJwk)throw Ge(qd);if(!t.sshKid)throw Ge(zT)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!_n.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await oE(t.claims)),a}async function XM(t,e,n,r,i){r.addQueueMeasurement(R.InitializeSilentRequest,t.correlationId);const s=await B(Sy,R.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...s,account:e,forceRefresh:t.forceRefresh||!1}}function gE(t,e){let n;const r=t.httpMethod;if(e===hn.EAR){if(n=r||hs.POST,n!==hs.POST)throw Ge(GT)}else n=r||hs.GET;if(t.authorizePostBodyParameters&&n!==hs.POST)throw Ge(KT);return n}/*! @azure/msal-browser v4.22.1 2025-09-09 */class to extends mE{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||ar(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=Ie.getAbsoluteUrl(e.postLogoutRedirectUri,qr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=Ie.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,qr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=Ie.getAbsoluteUrl(qr(),qr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(R.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await B(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new SA(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:a}=e;this.performanceClient.addQueueMeasurement(R.StandardInteractionClientGetClientConfiguration,this.correlationId);const o=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:s,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:dn.MSAL_SKU,version:ks,cpu:z.EMPTY_STRING,os:z.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(R.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},s=Wa.setRequestState(this.browserCrypto,e&&e.state||z.EMPTY_STRING,i),o={...await B(Sy,R.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:s,nonce:e.nonce||ar(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...o,httpMethod:gE(o,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),c.account=u),c}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function JM(t,e){if(!e)return null;try{return Wa.parseRequestState(t,e).libraryState.meta}catch{throw $(Ua)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Zo(t,e,n){const r=Gu(t);if(!r)throw YT(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),ne(_A)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ne(EA));return r}function ZM(t,e,n){if(!t.state)throw ne(sy);const r=JM(e,t.state);if(!r)throw ne(NA);if(r.interactionType!==n)throw ne(RA)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class pE{constructor(e,n,r,i,s){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=s}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(R.HandleCodeResponse,n.correlationId);let r;try{r=VI(e,n.state)}catch(i){throw i instanceof Ls&&i.subError===Ac?ne(Ac):i}return B(this.handleCodeResponseFromServer.bind(this),R.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(R.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await B(this.authModule.updateAuthority.bind(this.authModule),R.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const s=this.createCcsCredentials(n);s&&(this.authCodeRequest.ccsCredential=s)}return await B(this.authModule.acquireToken.bind(this.authModule),R.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:tr.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:tr.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const WM="ContentError",yE="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const ej="USER_INTERACTION_REQUIRED",tj="USER_CANCEL",nj="NO_NETWORK",rj="DISABLED",ij="ACCOUNT_UNAVAILABLE",sj="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const aj=-2147186943,oj={[yE]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class vr extends qe{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,vr.prototype),this.name="NativeAuthError",this.ext=r}}function Xs(t){if(t.ext&&t.ext.status&&t.ext.status===rj||t.ext&&t.ext.error&&t.ext.error===aj)return!0;switch(t.errorCode){case WM:return!0;default:return!1}}function id(t,e,n){if(n&&n.status)switch(n.status){case ij:return ed(yA);case ej:return new sr(t,e);case tj:return ne(Ac);case nj:return ne(td);case sj:return ed(Zp)}return new vr(t,oj[t]||e,n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class vE extends to{async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Fe.acquireTokenSilent_silentFlow),r=await B(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new HI(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await B(i.acquireCachedToken.bind(i),R.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(s){throw s instanceof Qc&&s.errorCode===ay&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class tu extends mE{constructor(e,n,r,i,s,a,o,c,u,h,d,f){super(e,n,r,i,s,a,c,u,f),this.apiId=o,this.accountId=h,this.platformAuthProvider=u,this.nativeStorageManager=d,this.silentCacheClient=new vE(e,this.nativeStorageManager,r,i,s,a,c,u,f);const m=this.platformAuthProvider.getExtensionName();this.skus=Tc.makeExtraSkuString({libraryName:dn.MSAL_SKU,libraryVersion:ks,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[eI]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(R.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(R.NativeInteractionClientAcquireToken,this.correlationId),i=mn(),s=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,a);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===Xt.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(o,a,i).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),s.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(a){throw a instanceof vr&&s.setNativeBrokerErrorCode(a.errorCode),r.end({success:!1}),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:_t.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),$(Im);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw $(Im);try{const i=this.createSilentCacheRequest(n,r),s=await this.silentCacheClient.acquireToken(i),a={...r,idTokenClaims:s==null?void 0:s.idTokenClaims,idToken:s==null?void 0:s.idToken};return{...s,account:a}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(i)}catch(o){if(o instanceof vr&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(o.errorCode),Xs(o)))throw o}this.browserStorage.setTemporaryCache(vt.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:Fe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...s}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(vt.NATIVE_REQUEST));const a=mn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const o=await this.platformAuthProvider.sendMessage(s),c=await this.handleNativeResponse(o,s,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(o){throw o}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var h,d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=Za(e.id_token,rr),s=this.createHomeAccountIdentifier(e,i),a=(h=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:h.homeAccountId;if((d=n.extraParameters)!=null&&d.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(s!==a&&e.account.id!==n.accountId)throw id(yE);const o=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=Wp(this.browserStorage,o,s,rr,this.correlationId,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,i,c,o.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,s,i,e.access_token,u.tenantId,r),u}createHomeAccountIdentifier(e,n){return ir.generateHomeAccountId(e.client_info||z.EMPTY_STRING,Xn.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?_t.fromString(n):_t.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===Ue.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new La(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw $(_p);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,s,a){const o=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},h=u.UID||r.oid||r.sub||z.EMPTY_STRING,d=u.TenantId||r.tid||z.EMPTY_STRING,f=Dp(i.getAccountInfo(),void 0,r,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,n),S=n.tokenType===Ue.POP?Ue.POP:Ue.BEARER;return{authority:s,uniqueId:h,tenantId:d,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:r,accessToken:m,fromCache:o?this.isResponseFromCache(o):!1,expiresOn:wa(a+e.expires_in),tokenType:S,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,r,i,s,a,o){const c=Yd(r,n.authority,e.id_token||"",n.clientId,i.tid||""),u=n.tokenType===Ue.POP?z.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,h=o+u,d=this.generateScopes(e.scope,n.scope),f=Qd(r,n.authority,s,n.clientId,i.tid||a,d.printScopes(),h,0,rr,void 0,n.tokenType,void 0,n.keyId),m={idToken:c,accessToken:f};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===Ue.POP?z.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...i}=e,s=new _t(r||[]);s.appendScopes(Ja);const a={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw ne(JA);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Ln.MATS_TELEMETRY,e.authenticationScheme===Ue.POP){const o={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new La(this.browserCrypto);let u;if(a.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const h=await B(c.generateCnf.bind(c),R.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(o,this.logger);u=h.reqCnfString,a.keyId=h.kid,a.signPopToken=!0}a.reqCnf=u}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Ie(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Fe.ssoSilent:case Fe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),tn.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case tn.NONE:case tn.CONSENT:case tn.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),ne(QA)}}handleExtraBrokerParams(e){var s;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Qu)&&e.extraParameters.hasOwnProperty(Xu)&&e.extraParameters.hasOwnProperty(Ns);if(!e.embeddedClientId&&!n)return;let r="";const i=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Xu],r=e.extraParameters[Ns]),e.extraParameters={child_client_id:r,child_redirect_uri:i},(s=this.performanceClient)==null||s.addFields({embeddedClientId:r,embeddedRedirectUri:i},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Cy(t,e,n,r,i){const s=zI({...t.auth,authority:e},n,r,i);if(Gp(s,{sku:dn.MSAL_SKU,version:ks,os:"",cpu:""}),t.auth.protocolMode!==hn.OIDC&&Kp(s,t.telemetry.application),n.platformBroker&&(iI(s),i.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===Ue.POP)){const a=new ni(r,i),o=new La(a);let c;n.popKid?c=a.encodeKid(n.popKid):c=(await B(o.generateCnf.bind(o),R.PopTokenGenerateCnf,r,i,n.correlationId)(n,r)).reqCnfString,Yp(s,c)}return Gd(s,n.correlationId,i),s}async function xy(t,e,n,r,i){if(!n.codeChallenge)throw Ge(Ip);const s=await B(Cy,R.GetStandardParams,r,i,n.correlationId)(t,e,n,r,i);return Hp(s,Sp.CODE),iA(s,n.codeChallenge,z.S256_CODE_CHALLENGE_METHOD),zi(s,n.extraQueryParameters||{}),ey(e,s,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function wy(t,e,n,r,i,s){if(!r.earJwk)throw ne(iy);const a=await Cy(e,n,r,i,s);Hp(a,Sp.IDTOKEN_TOKEN_REFRESHTOKEN),gI(a,r.earJwk);const o=new Map;zi(o,r.extraQueryParameters||{});const c=ey(n,o,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return bE(t,c,a)}async function Ty(t,e,n,r,i,s){const a=await Cy(e,n,r,i,s);Hp(a,Sp.CODE),iA(a,r.codeChallenge,r.codeChallengeMethod||z.S256_CODE_CHALLENGE_METHOD),pI(a,r.authorizePostBodyParameters||{});const o=new Map;zi(o,r.extraQueryParameters||{});const c=ey(n,o,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return bE(t,c,a)}function bE(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((i,s)=>{const a=t.createElement("input");a.hidden=!0,a.name=s,a.value=i,r.appendChild(a)}),t.body.appendChild(r),r}async function SE(t,e,n,r,i,s,a,o,c,u){if(o.verbose("Account id found, calling WAM for token"),!u)throw ne(cy);const h=new ni(o,c),d=new tu(r,i,h,o,a,r.system.navigationClient,n,c,u,e,s,t.correlationId),{userRequestState:f}=Wa.parseRequestState(h,t.state);return B(d.acquireToken.bind(d),R.NativeInteractionClientAcquireToken,o,c,t.correlationId)({...t,state:f,prompt:void 0})}async function sd(t,e,n,r,i,s,a,o,c,u,h,d){if(yr.removeThrottle(a,i.auth.clientId,t),e.accountId)return B(SE,R.HandleResponsePlatformBroker,u,h,t.correlationId)(t,e.accountId,r,i,a,o,c,u,h,d);const f={...t,code:e.code||"",codeVerifier:n},m=new pE(s,a,f,u,h);return await B(m.handleCodeResponse.bind(m),R.HandleCodeResponse,u,h,t.correlationId)(e,t)}async function Ay(t,e,n,r,i,s,a,o,c,u,h){if(yr.removeThrottle(s,r.auth.clientId,t),CA(e,t.state),!e.ear_jwe)throw ne(AA);if(!t.earJwk)throw ne(iy);const d=JSON.parse(await B(pM,R.DecryptEarResponse,c,u,t.correlationId)(t.earJwk,e.ear_jwe));if(d.accountId)return B(SE,R.HandleResponsePlatformBroker,c,u,t.correlationId)(t,d.accountId,n,r,s,a,o,c,u,h);const f=new Rs(r.auth.clientId,s,new ni(c,u),c,null,null,u);f.validateTokenResponse(d);const m={code:"",state:t.state,nonce:t.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await B(f.handleServerTokenResponse.bind(f),R.HandleServerTokenResponse,c,u,t.correlationId)(d,i,mn(),t,m,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const cj=32;async function ih(t,e,n){t.addQueueMeasurement(R.GeneratePkceCodes,n);const r=Nn(lj,R.GenerateCodeVerifier,e,t,n)(t,e,n),i=await B(uj,R.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function lj(t,e,n){try{const r=new Uint8Array(cj);return Nn(dM,R.GetRandomValues,e,t,n)(r),$i(r)}catch{throw ne(ry)}}async function uj(t,e,n,r){e.addQueueMeasurement(R.GenerateCodeChallengeFromVerifier,r);try{const i=await B(iE,R.Sha256Digest,n,e,r)(t,e,r);return $i(new Uint8Array(i))}catch{throw ne(ry)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ad{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(R.NativeMessageHandlerHandshake),this.platformAuthType=Ln.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:mo.GetToken,request:e},r={channel:Ln.CHANNEL_ID,extensionId:this.extensionId,responseId:ar(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const i=await new Promise((a,o)=>{this.resolvers.set(r.responseId,{resolve:a,reject:o})});return this.validatePlatformBrokerResponse(i)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const i=new ad(e,n,r,Ln.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const s=new ad(e,n,r);return await s.sendHandshakeRequest(),s}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ln.CHANNEL_ID,extensionId:this.extensionId,responseId:ar(),body:{method:mo.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(ne($A)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Ln.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===mo.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(ne(YA))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const s=n.body.method;if(s===mo.Response){if(!r)return;const a=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")r.reject(id(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?r.reject(id(a.result.code,a.result.description,a.result.ext)):r.resolve(a.result);else throw Rm(Fu,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(s===mo.HandshakeResponse){if(!i){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(s){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${s}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(s):i&&i.reject(s)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Rm(Fu,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Ln.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Ey{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=Ln.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){var i;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(i=window.navigator)!=null&&i.platformAuthentication){const s=await window.navigator.platformAuthentication.getSupportedContracts(Ln.MICROSOFT_ENTRA_BROKERID);if(s!=null&&s.includes(Ln.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Ey(e,n,r)}}getExtensionId(){return Ln.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Ln.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:i,scope:s,redirectUri:a,correlationId:o,state:c,storeInCache:u,embeddedClientId:h,extraParameters:d,...f}=e,m=this.getDOMExtraParams(f);return{accountId:n,brokerId:this.getExtensionId(),authority:i,clientId:r,correlationId:o||this.correlationId,extraParameters:{...d,...m},isSecurityTokenService:!1,redirectUri:a,scope:s,state:c,storeInCache:u,embeddedClientId:h}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),id(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw Rm(Fu,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((i,[s,a])=>(i[s]=String(a),i),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function dj(t,e,n,r){t.trace("getPlatformAuthProvider called",n);const i=hj();t.trace("Has client allowed platform auth via DOM API: "+i);let s;try{i&&(s=await Ey.createProvider(t,e,n)),s||(t.trace("Platform auth via DOM API not available, checking for extension"),s=await ad.createProvider(t,r||hE,e))}catch(a){t.trace("Platform auth not available",a)}return s}function hj(){let t;try{return t=window[Nt.SessionStorage],(t==null?void 0:t.getItem(IM))==="true"}catch{return!1}}function _c(t,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Ue.BEARER:case Ue.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class fj extends to{constructor(e,n,r,i,s,a,o,c,u,h){super(e,n,r,i,s,a,o,u,h),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=s}acquireToken(e,n){let r;try{if(r={popupName:this.generatePopupName(e.scopes||Ja,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,n);{const s={...e,httpMethod:gE(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(s,r,n)}}catch(i){return Promise.reject(i)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,s=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,s)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,s))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const i=await B(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ue.Popup);n.popup&&dE(i.authority);const s=_c(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return i.platformBroker=s,this.config.auth.protocolMode===hn.EAR?this.executeEarFlow(i,n):this.executeCodeFlow(i,n,r)}async executeCodeFlow(e,n,r){var c;const i=e.correlationId,s=this.initializeServerTelemetryManager(Fe.acquireTokenPopup),a=r||await B(ih,R.GeneratePkceCodes,this.logger,this.performanceClient,i)(this.performanceClient,this.logger,i),o={...e,codeChallenge:a.challenge};try{const u=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,i)({serverTelemetryManager:s,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account});if(o.httpMethod===hs.POST)return await this.executeCodeFlowWithPost(o,n,u,a.verifier);{const h=await B(xy,R.GetAuthCodeUrl,this.logger,this.performanceClient,i)(this.config,u.authority,o,this.logger,this.performanceClient),d=this.initiateAuthRequest(h,n);this.eventHandler.emitEvent(ae.POPUP_OPENED,ue.Popup,{popupWindow:d},null);const f=await this.monitorPopupForHash(d,n.popupWindowParent),m=Nn(Zo,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await B(sd,R.HandleResponseCode,this.logger,this.performanceClient,i)(e,m,a.verifier,Fe.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(u){throw(c=n.popup)==null||c.close(),u instanceof qe&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const r=e.correlationId,i=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await B(fy,R.GenerateEarKey,this.logger,this.performanceClient,r)(),a={...e,earJwk:s},o=n.popup||this.openPopup("about:blank",n);(await wy(o.document,this.config,i,a,this.logger,this.performanceClient)).submit();const u=await B(this.monitorPopupForHash.bind(this),R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(o,n.popupWindowParent),h=Nn(Zo,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return B(Ay,R.HandleResponseEar,this.logger,this.performanceClient,r)(a,h,Fe.acquireTokenPopup,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,r,i){const s=e.correlationId,a=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=n.popup||this.openPopup("about:blank",n);(await Ty(o.document,this.config,a,e,this.logger,this.performanceClient)).submit();const u=await B(this.monitorPopupForHash.bind(this),R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(o,n.popupWindowParent),h=Nn(Zo,R.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return B(sd,R.HandleResponseCode,this.logger,this.performanceClient,s)(e,h,i,Fe.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,i){var a,o,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ae.LOGOUT_START,ue.Popup,e);const s=this.initializeServerTelemetryManager(Fe.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:r,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===hn.OIDC){if(this.eventHandler.emitEvent(ae.LOGOUT_SUCCESS,ue.Popup,e),i){const f={apiId:Fe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ie.getAbsoluteUrl(i,qr());await this.navigationClient.navigateInternal(m,f)}(o=n.popup)==null||o.close();return}}const h=u.getLogoutUri(e);this.eventHandler.emitEvent(ae.LOGOUT_SUCCESS,ue.Popup,e);const d=this.openPopup(h,n);if(this.eventHandler.emitEvent(ae.POPUP_OPENED,ue.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,n.popupWindowParent).catch(()=>{}),i){const f={apiId:Fe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=Ie.getAbsoluteUrl(i,qr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(c=n.popup)==null||c.close(),u instanceof qe&&(u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u)),this.eventHandler.emitEvent(ae.LOGOUT_FAILURE,ue.Popup,null,u),this.eventHandler.emitEvent(ae.LOGOUT_END,ue.Popup),u}this.eventHandler.emitEvent(ae.LOGOUT_END,ue.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),ne(Wd)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const s=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(s),i(ne(Ac));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(s);let o="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===Fd.QUERY?o=e.location.search:o=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(o)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw ne(IA);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),ne(OA)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var m,S,b,A;const s=i.screenLeft?i.screenLeft:i.screenX,a=i.screenTop?i.screenTop:i.screenY,o=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(m=r.popupSize)==null?void 0:m.width,h=(S=r.popupSize)==null?void 0:S.height,d=(b=r.popupPosition)==null?void 0:b.top,f=(A=r.popupPosition)==null?void 0:A.left;return(!u||u<0||u>o)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=dn.POPUP_WIDTH),(!h||h<0||h>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),h=dn.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-dn.POPUP_HEIGHT/2+a)),(!f||f<0||f>o)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,o/2-dn.POPUP_WIDTH/2+s)),i.open(e,n,`width=${u}, height=${h}, top=${d}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${dn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${dn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function mj(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class gj extends to{constructor(e,n,r,i,s,a,o,c,u,h){super(e,n,r,i,s,a,o,u,h),this.nativeStorage=c}async acquireToken(e){const n=await B(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ue.Redirect);n.platformBroker=_c(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=s=>{s.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ae.RESTORE_FROM_BFCACHE,ue.Redirect))},i=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${i}`),this.browserStorage.setTemporaryCache(vt.ORIGIN_URI,i,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===hn.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(s){throw s instanceof qe&&s.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),s}}async executeCodeFlow(e,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(Fe.acquireTokenRedirect),s=await B(ih,R.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),a={...e,codeChallenge:s.challenge};this.browserStorage.cacheAuthorizeRequest(a,s.verifier);try{if(a.httpMethod===hs.POST)return await this.executeCodeFlowWithPost(a);{const o=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),c=await B(xy,R.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,o.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(o){throw o instanceof qe&&(o.setCorrelationId(this.correlationId),i.cacheFailedRequest(o)),o}}async executeEarFlow(e){const n=e.correlationId,r=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await B(fy,R.GenerateEarKey,this.logger,this.performanceClient,n)(),s={...e,earJwk:i};return this.browserStorage.cacheAuthorizeRequest(s),(await wy(document,this.config,r,s,this.logger,this.performanceClient)).submit(),new Promise((o,c)=>{setTimeout(()=>{c(ne(nd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,r=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Ty(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((s,a)=>{setTimeout(()=>{a(ne(nd,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,i){const s=this.initializeServerTelemetryManager(Fe.handleRedirectPromise);try{const[a,o]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),mj()!=="back_forward"?i.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(vt.ORIGIN_URI,!0)||z.EMPTY_STRING,u=Kb(c),h=Kb(window.location.href);if(u===h&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&vM(c),await this.handleResponse(a,n,r,s);if(this.config.auth.navigateToLoginRequestUrl){if(!py()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(vt.URL_HASH,o,!0);const d={apiId:Fe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(!c||c==="null"){const m=SM();this.browserStorage.setTemporaryCache(vt.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=await this.navigationClient.navigateInternal(m,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),f=await this.navigationClient.navigateInternal(c,d);if(!f)return await this.handleResponse(a,n,r,s)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,r,s);return null}catch(a){throw a instanceof qe&&(a.setCorrelationId(this.correlationId),s.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===Fd.QUERY?n=window.location.search:n=window.location.hash);let r=Gu(n);if(r){try{ZM(r,this.browserCrypto,ue.Redirect)}catch(s){return s instanceof qe&&this.logger.error(`Interaction type validation failed due to ${s.errorCode}: ${s.errorMessage}`),[null,""]}return cE(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(vt.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(vt.URL_HASH)),i&&(r=Gu(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n,r,i){if(!e.state)throw ne(sy);if(e.ear_jwe){const o=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return B(Ay,R.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Fe.acquireTokenRedirect,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const a=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority});return B(sd,R.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,Fe.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Fe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=n||this.config.auth.onRedirectNavigate;if(typeof i=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),i(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ne(Wd)}async logout(e){var i;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Fe.logout);try{this.eventHandler.emitEvent(ae.LOGOUT_START,ue.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const s={apiId:Fe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===hn.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.eventHandler.emitEvent(ae.LOGOUT_SUCCESS,ue.Redirect,n);return}}const o=a.getLogoutUri(n);if(this.eventHandler.emitEvent(ae.LOGOUT_SUCCESS,ue.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(o)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ti.SIGNOUT),await this.navigationClient.navigateExternal(o,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Ti.SIGNOUT),await this.navigationClient.navigateExternal(o,s);return}}catch(s){throw s instanceof qe&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(ae.LOGOUT_FAILURE,ue.Redirect,null,s),this.eventHandler.emitEvent(ae.LOGOUT_END,ue.Redirect),s}this.eventHandler.emitEvent(ae.LOGOUT_END,ue.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return Ie.getAbsoluteUrl(n,qr())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function pj(t,e,n,r,i){if(e.addQueueMeasurement(R.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),ne(Wd);return i?B(bj,R.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):Nn(Sj,R.SilentHandlerLoadFrameSync,n,e,r)(t)}async function yj(t,e,n,r,i){const s=sh();if(!s.contentDocument)throw"No document associated with iframe!";return(await Ty(s.contentDocument,t,e,n,r,i)).submit(),s}async function vj(t,e,n,r,i){const s=sh();if(!s.contentDocument)throw"No document associated with iframe!";return(await wy(s.contentDocument,t,e,n,r,i)).submit(),s}async function x0(t,e,n,r,i,s,a){return r.addQueueMeasurement(R.SilentHandlerMonitorIframeForHash,s),new Promise((o,c)=>{e<Bm&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Bm}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(h),c(ne(MA))},e),h=window.setInterval(()=>{let d="";const f=t.contentWindow;try{d=f?f.location.href:""}catch{}if(!d||d==="about:blank")return;let m="";f&&(a===Fd.QUERY?m=f.location.search:m=f.location.hash),window.clearTimeout(u),window.clearInterval(h),o(m)},n)}).finally(()=>{Nn(Cj,R.RemoveHiddenIframe,i,r,s)(t)})}function bj(t,e,n,r){return n.addQueueMeasurement(R.SilentHandlerLoadFrame,r),new Promise((i,s)=>{const a=sh();window.setTimeout(()=>{if(!a){s("Unable to load iframe");return}a.src=t,i(a)},e)})}function Sj(t){const e=sh();return e.src=t,e}function sh(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function Cj(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class xj extends to{constructor(e,n,r,i,s,a,o,c,u,h,d){super(e,n,r,i,s,a,c,h,d),this.apiId=o,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==tn.NONE&&n.prompt!==tn.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${tn.NONE}`),n.prompt=tn.NONE):n.prompt=tn.NONE;const r=await B(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ue.Silent);return r.platformBroker=_c(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),dE(r.authority),this.config.auth.protocolMode===hn.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await B(this.createAuthCodeClient.bind(this),R.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await B(this.silentTokenHelper.bind(this),R.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(i){if(i instanceof qe&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!n||!(i instanceof qe)||i.errorCode!==dn.INVALID_GRANT_ERROR)throw i;return this.performanceClient.addFields({retryError:i.errorCode},this.correlationId),await B(this.silentTokenHelper.bind(this),R.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await B(this.getDiscoveredAuthority.bind(this),R.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await B(fy,R.GenerateEarKey,this.logger,this.performanceClient,n)(),s={...e,earJwk:i},a=await B(vj,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,s,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,c=await B(x0,R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,o),u=Nn(Zo,R.DeserializeResponse,this.logger,this.performanceClient,n)(c,o,this.logger);return B(Ay,R.HandleResponseEar,this.logger,this.performanceClient,n)(s,u,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ne(eh))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(R.SilentIframeClientTokenHelper,r);const i=await B(ih,R.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...n,codeChallenge:i.challenge};let a;if(n.httpMethod===hs.POST)a=await B(yj,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,s,this.logger,this.performanceClient);else{const h=await B(xy,R.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,s,this.logger,this.performanceClient);a=await B(pj,R.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(h,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const o=this.config.auth.OIDCOptions.serverResponseType,c=await B(x0,R.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,o),u=Nn(Zo,R.DeserializeResponse,this.logger,this.performanceClient,r)(c,o,this.logger);return B(sd,R.HandleResponseCode,this.logger,this.performanceClient,r)(n,u,i.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class wj extends to{async acquireToken(e){this.performanceClient.addQueueMeasurement(R.SilentRefreshClientAcquireToken,e.correlationId);const n=await B(Sy,R.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(Fe.acquireTokenSilent_silentFlow),s=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return B(s.acquireTokenByRefreshToken.bind(s),R.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(a=>{throw a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a),a})}logout(){return Promise.reject(ne(eh))}async createRefreshTokenClient(e){const n=await B(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new LI(n,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Tj{constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw ne(th);const i=e.correlationId||ar(),s=n.id_token?Za(n.id_token,rr):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new Kt(Kt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||ar()):void 0,c=await this.loadAccount(e,r.clientInfo||n.client_info||"",i,s,o),u=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,i),h=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,r,i),d=await this.loadRefreshToken(n,c.homeAccountId,c.environment,i);return this.generateAuthenticationResult(e,{account:c,idToken:u,accessToken:h,refreshToken:d},s,o)}async loadAccount(e,n,r,i,s){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=ir.createFromAccountInfo(e.account);return await this.storage.setAccount(u,r),u}else if(!s||!n&&!i)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ne(VA);const a=ir.generateHomeAccountId(n,s.authorityType,this.logger,this.cryptoObj,i),o=i==null?void 0:i.tid,c=Wp(this.storage,s,a,rr,r,i,n,s.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,n,r,i,s){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=Yd(n,r,e.id_token,this.config.auth.clientId,i);return await this.storage.setIdTokenCredential(a,s),a}async loadAccessToken(e,n,r,i,s,a,o){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?_t.fromString(n.scope):new _t(e.scopes),u=a.expiresOn||n.expires_in+mn(),h=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+mn(),d=Qd(r,i,n.access_token,this.config.auth.clientId,s,c.printScopes(),u,h,rr);return await this.storage.setAccessTokenCredential(d,o),d}async loadRefreshToken(e,n,r,i){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const s=fA(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(s,i),s}generateAuthenticationResult(e,n,r,i){var h,d,f;let s="",a=[],o=null,c;n!=null&&n.accessToken&&(s=n.accessToken.secret,a=_t.fromString(n.accessToken.target).asArray(),o=wa(n.accessToken.expiresOn),c=wa(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:u.getAccountInfo(),idToken:((h=n.idToken)==null?void 0:h.secret)||"",idTokenClaims:r||{},accessToken:s,fromCache:!0,expiresOn:o,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((d=n.refreshToken)==null?void 0:d.familyId)||"",tokenType:((f=n==null?void 0:n.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Aj extends SA{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Ej extends to{constructor(e,n,r,i,s,a,o,c,u,h){super(e,n,r,i,s,a,c,u,h),this.apiId=o}async acquireToken(e){if(!e.code)throw ne(FA);const n=await B(this.initializeAuthorizationRequest.bind(this),R.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ue.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},s=await B(this.getClientConfiguration.bind(this),R.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new Aj(s);this.logger.verbose("Auth code client created");const o=new pE(a,this.browserStorage,i,this.logger,this.performanceClient);return await B(o.handleCodeResponseFromServer.bind(o),R.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof qe&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(ne(eh))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function _j(t,e,n){var a;const r=((a=window.msal)==null?void 0:a.clientIds)||[],i=r.length,s=r.filter(o=>o===t).length;s>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:i,sameClientIdInstanceCount:s})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function hr(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Nl(t,e){try{yy(t)}catch(n){throw e.end({success:!1},n),n}}class ah{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new ni(this.logger,this.performanceClient):qu,this.eventHandler=new QM(this.logger),this.browserStorage=this.isBrowserEnvironment?new qm(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,RI(this.config.auth)):BM(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Nt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Nt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new qm(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Tj(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new ah(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ae.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),i=this.config.system.allowPlatformBroker,s=this.performanceClient.startMeasurement(R.InitializeClientApplication,r);if(this.eventHandler.emitEvent(ae.INITIALIZE_START),!n)try{this.logMultipleInstances(s)}catch{}if(await B(this.browserStorage.initialize.bind(this.browserStorage),R.InitializeCache,this.logger,this.performanceClient,r)(r),i)try{this.platformAuthProvider=await dj(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Nn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),R.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(ae.INITIALIZE_END),s.end({allowPlatformBroker:i,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),uE(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===Ti.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),i=this.browserStorage.getCachedNativeRequest(),s=i&&this.platformAuthProvider&&!e;let a;this.eventHandler.emitEvent(ae.HANDLE_REDIRECT_START,ue.Redirect);let o;try{if(s&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(R.AcquireTokenRedirect,(i==null?void 0:i.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const u=new tu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Fe.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,i.accountId,this.nativeInternalStorage,i.correlationId);o=B(u.handleRedirectPromise.bind(u),R.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[u,h]=this.browserStorage.getCachedRequest(),d=u.correlationId;a=this.performanceClient.startMeasurement(R.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const f=this.createRedirectClient(d);o=B(f.handleRedirectPromise.bind(f),R.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,u,h,a)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return o.then(u=>(u?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ae.LOGIN_SUCCESS,ue.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_SUCCESS,ue.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:hr(u.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(ae.HANDLE_REDIRECT_END,ue.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const h=u;throw r.length>0?this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_FAILURE,ue.Redirect,null,h):this.eventHandler.emitEvent(ae.LOGIN_FAILURE,ue.Redirect,null,h),this.eventHandler.emitEvent(ae.HANDLE_REDIRECT_END,ue.Redirect),a.end({success:!1},h),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(R.AcquireTokenPreRedirect,n);r.add({accountType:hr(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=a=>{const o=typeof i=="function"?i(a):void 0;return r.add({navigateCallbackResult:o!==!1}),r.event=r.end({success:!0})||r.event,o};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=o=>{const c=typeof a=="function"?a(o):void 0;return r.add({navigateCallbackResult:c!==!1}),r.event=r.end({success:!0})||r.event,c}}const s=this.getAllAccounts().length>0;try{h0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ti.SIGNIN),s?this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_START,ue.Redirect,e):this.eventHandler.emitEvent(ae.LOGIN_START,ue.Redirect,e);let a;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?a=new tu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Fe.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(r.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof vr&&Xs(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof sr)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),r.event.status===2?this.performanceClient.startMeasurement(R.AcquireTokenRedirect,n).end({success:!1},a):r.end({success:!1},a),s?this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_FAILURE,ue.Redirect,null,a):this.eventHandler.emitEvent(ae.LOGIN_FAILURE,ue.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(R.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:hr(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Nl(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Ti.SIGNIN)}catch(o){return Promise.reject(o)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_START,ue.Popup,e):this.eventHandler.emitEvent(ae.LOGIN_START,ue.Popup,e);let s;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(r.add({isPlatformBrokerRequest:!0}),s=this.acquireTokenNative({...e,correlationId:n},Fe.acquireTokenPopup).then(o=>(r.end({success:!0,accountType:hr(o.account)}),o)).catch(o=>{if(r.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof vr&&Xs(o))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(o instanceof sr)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw o})):s=this.createPopupClient(n).acquireToken(e,a),s.then(o=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ae.LOGIN_SUCCESS,ue.Popup,o):this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_SUCCESS,ue.Popup,o),r.end({success:!0,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:hr(o.account)}),o)).catch(o=>(i.length>0?this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_FAILURE,ue.Popup,null,o):this.eventHandler.emitEvent(ae.LOGIN_FAILURE,ue.Popup,null,o),r.end({success:!1},o),Promise.reject(o))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var s,a,o;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(R.SsoSilent,n),(s=this.ssoSilentMeasurement)==null||s.add({scenarioId:e.scenarioId,accountType:hr(e.account)}),Nl(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(ae.SSO_SILENT_START,ue.Silent,r);let i;return this.canUsePlatformBroker(r)?((o=this.ssoSilentMeasurement)==null||o.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative(r,Fe.ssoSilent).catch(c=>{var u;if((u=this.ssoSilentMeasurement)==null||u.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof vr&&Xs(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw c})):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(c=>{var u;return this.eventHandler.emitEvent(ae.SSO_SILENT_SUCCESS,ue.Silent,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:hr(c.account)}),c}).catch(c=>{var u;throw this.eventHandler.emitEvent(ae.SSO_SILENT_FAILURE,ue.Silent,null,c),(u=this.ssoSilentMeasurement)==null||u.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(R.AcquireTokenByCode,n);Nl(this.initialized,r),this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_BY_CODE_START,ue.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ne(GA);if(e.code){const i=e.code;let s=this.hybridAuthCodeResponses.get(i);return s?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),s=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ue.Silent,a),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:hr(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_BY_CODE_FAILURE,ue.Silent,null,a),r.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(i,s)),await s}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const i=await this.acquireTokenNative({...e,correlationId:n},Fe.acquireTokenByCode,e.nativeAccountId).catch(s=>{throw s instanceof vr&&Xs(s)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:s.name,brokerErrorCode:s.errorCode}),s});return r.end({accountType:hr(i.account),success:!0}),i}else throw ne(KA);else throw ne(qA)}catch(i){throw this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_BY_CODE_FAILURE,ue.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(R.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(s=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:s.fromCache}),s}).catch(s=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(R.AcquireTokenFromCache,e.correlationId),n){case Xt.Default:case Xt.AccessToken:case Xt.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return B(r.acquireToken.bind(r),R.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $(Bi)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(R.AcquireTokenByRefreshToken,e.correlationId),n){case Xt.Default:case Xt.AccessTokenAndRefreshToken:case Xt.RefreshToken:case Xt.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return B(r.acquireToken.bind(r),R.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $(Bi)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(R.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return B(n.acquireToken.bind(n),R.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return h0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Ti.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return yy(this.initialized),this.browserStorage.setInteractionInProgress(!0,Ti.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return zM(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return VM(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return FM(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return qM(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return GM(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();KM(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return $M(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=ir.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,i){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ne(cy);return new tu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,i)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!_c(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case tn.NONE:case tn.CONSENT:case tn.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new fj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new gj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new xj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Fe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new vE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new wj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new Ej(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Fe.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return lE(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Nt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Nt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?ar():z.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||o0})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||o0})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(R.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Nl(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw ne(UA);return r.add({accountType:hr(i)}),this.acquireTokenSilentDeduped(e,i,n).then(s=>(r.end({success:!0,fromCache:s.fromCache,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length}),{...s,state:e.state,correlationId:n})).catch(s=>{throw s instanceof qe&&s.setCorrelationId(n),r.end({success:!1},s),s})}async acquireTokenSilentDeduped(e,n,r){const i=Xd(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),s=JSON.stringify(i),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const o=B(this.acquireTokenSilentAsync.bind(this),R.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(s,o),o.finally(()=>{this.activeSilentTokenRequests.delete(s)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),a}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(R.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_START,ue.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await B(XM,R.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),s=e.cacheLookupPolicy||Xt.Default;return this.acquireTokenSilentNoIframe(i,s).catch(async o=>{if(Nj(o,s))if(this.activeIframeRequest)if(s!==Xt.Skip){const[u,h]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${h}`,i.correlationId);const d=this.performanceClient.startMeasurement(R.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:h});const f=await u;if(d.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${h} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,s);throw this.logger.info(`Iframe request with correlationId: ${h} failed. Interaction is required.`),o}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),B(this.acquireTokenBySilentIframe.bind(this),R.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let u;return this.activeIframeRequest=[new Promise(h=>{u=h}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),B(this.acquireTokenBySilentIframe.bind(this),R.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(h=>(u(!0),h)).catch(h=>{throw u(!1),h}).finally(()=>{this.activeIframeRequest=void 0})}else throw o}).then(o=>(this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_SUCCESS,ue.Silent,o),e.correlationId&&this.performanceClient.addFields({fromCache:o.fromCache},e.correlationId),o)).catch(o=>{throw this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_FAILURE,ue.Silent,null,o),o}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return _c(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Fe.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw this.performanceClient.addFields({brokerErrorName:r.name,brokerErrorCode:r.errorCode},e.correlationId),r instanceof vr&&Xs(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,$(Bi)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===Xt.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),B(this.acquireTokenFromCache.bind(this),R.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===Xt.AccessToken)throw r;return this.eventHandler.emitEvent(ae.ACQUIRE_TOKEN_NETWORK_START,ue.Silent,e),B(this.acquireTokenByRefreshToken.bind(this),R.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await B(ih,R.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),_j(n,e,this.logger)}}function Nj(t,e){const n=!(t instanceof sr&&t.subError!==Zd),r=t.errorCode===dn.INVALID_GRANT_ERROR||t.errorCode===Bi,i=n&&r||t.errorCode===Wu||t.errorCode===Jp,s=iM.includes(e);return i&&s}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Rj(t,e){const n=new Os(t);return await n.initialize(),ah.createController(n,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class _y{static async createPublicClientApplication(e){const n=await Rj(e);return new _y(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new ah(new Os(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const kj={initialize:()=>Promise.reject(pt(xt)),acquireTokenPopup:()=>Promise.reject(pt(xt)),acquireTokenRedirect:()=>Promise.reject(pt(xt)),acquireTokenSilent:()=>Promise.reject(pt(xt)),acquireTokenByCode:()=>Promise.reject(pt(xt)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(pt(xt)),loginPopup:()=>Promise.reject(pt(xt)),loginRedirect:()=>Promise.reject(pt(xt)),logout:()=>Promise.reject(pt(xt)),logoutRedirect:()=>Promise.reject(pt(xt)),logoutPopup:()=>Promise.reject(pt(xt)),ssoSilent:()=>Promise.reject(pt(xt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw pt(xt)},getLogger:()=>{throw pt(xt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw pt(xt)},hydrateCache:()=>Promise.reject(pt(xt)),clearCache:()=>Promise.reject(pt(xt))};/*! @azure/msal-browser v4.22.1 2025-09-09 */class Oj{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case ae.LOGIN_START:return wt.Login;case ae.SSO_SILENT_START:return wt.SsoSilent;case ae.ACQUIRE_TOKEN_START:if(e.interactionType===ue.Redirect||e.interactionType===ue.Popup)return wt.AcquireToken;break;case ae.HANDLE_REDIRECT_START:return wt.HandleRedirect;case ae.LOGOUT_START:return wt.Logout;case ae.SSO_SILENT_SUCCESS:case ae.SSO_SILENT_FAILURE:if(n&&n!==wt.SsoSilent)break;return wt.None;case ae.LOGOUT_END:if(n&&n!==wt.Logout)break;return wt.None;case ae.HANDLE_REDIRECT_END:if(n&&n!==wt.HandleRedirect)break;return wt.None;case ae.LOGIN_SUCCESS:case ae.LOGIN_FAILURE:case ae.ACQUIRE_TOKEN_SUCCESS:case ae.ACQUIRE_TOKEN_FAILURE:case ae.RESTORE_FROM_BFCACHE:if(e.interactionType===ue.Redirect||e.interactionType===ue.Popup){if(n&&n!==wt.Login&&n!==wt.AcquireToken)break;return wt.None}break}return null}}/*! @azure/msal-react v3.0.19 2025-08-19 */const Ij={instance:kj,inProgress:wt.None,accounts:[],logger:new ti({})},CE=w.createContext(Ij);CE.Consumer;/*! @azure/msal-react v3.0.19 2025-08-19 */function w0(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(r=>{const i=n.shift();return!r||!i?!1:r.homeAccountId===i.homeAccountId&&r.localAccountId===i.localAccountId&&r.username===i.username})}/*! @azure/msal-react v3.0.19 2025-08-19 */const Mj="@azure/msal-react",T0="3.0.19";/*! @azure/msal-react v3.0.19 2025-08-19 */const od={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},jj=(t,e)=>{const{type:n,payload:r}=e;let i=t.inProgress;switch(n){case od.UNBLOCK_INPROGRESS:t.inProgress===wt.Startup&&(i=wt.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case od.EVENT:const a=r.message,o=Oj.getInteractionStatusFromEvent(a,t.inProgress);o&&(r.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${o}`),i=o);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===wt.Startup)return t;const s=r.instance.getAllAccounts();return i!==t.inProgress&&!w0(s,t.accounts)?{...t,inProgress:i,accounts:s}:i!==t.inProgress?{...t,inProgress:i}:w0(s,t.accounts)?t:{...t,accounts:s}};function Pj({instance:t,children:e}){w.useEffect(()=>{t.initializeWrapperLibrary(tM.React,T0)},[t]);const n=w.useMemo(()=>t.getLogger().clone(Mj,T0),[t]),[r,i]=w.useReducer(jj,void 0,()=>({inProgress:wt.Startup,accounts:[]}));w.useEffect(()=>{const a=t.addEventCallback(o=>{i({payload:{instance:t,logger:n,message:o},type:od.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:n},type:od.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(n.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,n]);const s={instance:t,inProgress:r.inProgress,accounts:r.accounts,logger:n};return Q.createElement(CE.Provider,{value:s},e)}const A0="https://dnc-backend-bb96.onrender.com".replace(/\/$/,"");var gC;const Dj=typeof window<"u"&&((gC=window.location)==null?void 0:gC.protocol)==="https:",te=Dj?A0.replace(/^http:\/\//,"https://"):A0,no={PHONE_NUMBERS:`${te}/api/v1/phone-numbers`,CRM_INTEGRATIONS:`${te}/api/v1/crm`};function Uj(){try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;if(!n)return{};const{organizationId:r,userId:i,role:s}=n;return!r||!i||!s?{}:{"X-Org-Id":String(r),"X-User-Id":String(i),"X-Role":String(s)}}catch{return{}}}let Rl=null;async function Lj(){try{const t=window.__msalAcquireToken,e="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(t&&e){Rl||(Rl=t([e]).catch(()=>null));const n=await Rl;return Rl=null,n||null}}catch(t){console.warn("Failed to acquire Azure AD token:",t)}return null}const ro=async(t,e={})=>{const n=await Lj();let r={};n&&(r.Authorization=`Bearer ${n}`);const i=await fetch(t,{headers:{"Content-Type":"application/json",...r,...Uj(),...e.headers||{}},...e});if(!i.ok)throw new Error(`API call failed: ${i.status} ${i.statusText}`);return i.json()};var xE={exports:{}},wE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=w;function Hj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bj=typeof Object.is=="function"?Object.is:Hj,zj=Xc.useSyncExternalStore,Vj=Xc.useRef,Fj=Xc.useEffect,qj=Xc.useMemo,Gj=Xc.useDebugValue;wE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Vj(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=qj(function(){function c(m){if(!u){if(u=!0,h=m,m=r(m),i!==void 0&&a.hasValue){var S=a.value;if(i(S,m))return d=S}return d=m}if(S=d,Bj(h,m))return S;var b=r(m);return i!==void 0&&i(S,b)?(h=m,S):(h=m,d=b)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,n,r,i]);var o=zj(t,s[0],s[1]);return Fj(function(){a.hasValue=!0,a.value=o},[o]),Gj(o),o};xE.exports=wE;var Kj=xE.exports;function $j(t){t()}function Yj(){let t=null,e=null;return{clear(){t=null,e=null},notify(){$j(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var E0={notify(){},get:()=>[]};function Qj(t,e){let n,r=E0,i=0,s=!1;function a(b){h();const A=r.subscribe(b);let y=!1;return()=>{y||(y=!0,A(),d())}}function o(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function u(){return s}function h(){i++,n||(n=t.subscribe(c),r=Yj())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=E0)}function f(){s||(s=!0,h())}function m(){s&&(s=!1,d())}const S={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return S}var Xj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jj=Xj(),Zj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wj=Zj(),e2=()=>Jj||Wj?w.useLayoutEffect:w.useEffect,t2=e2(),df=Symbol.for("react-redux-context"),hf=typeof globalThis<"u"?globalThis:{};function n2(){if(!w.createContext)return{};const t=hf[df]??(hf[df]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Yi=n2();function r2(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const c=Qj(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=w.useMemo(()=>i.getState(),[i]);t2(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const o=n||Yi;return w.createElement(o.Provider,{value:s},e)}var i2=r2;function Ny(t=Yi){return function(){return w.useContext(t)}}var TE=Ny();function AE(t=Yi){const e=t===Yi?TE:Ny(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var s2=AE();function a2(t=Yi){const e=t===Yi?s2:AE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var o2=a2(),c2=(t,e)=>t===e;function l2(t=Yi){const e=t===Yi?TE:Ny(t),n=(r,i={})=>{const{equalityFn:s=c2}=typeof i=="function"?{equalityFn:i}:i,a=e(),{store:o,subscription:c,getServerState:u}=a;w.useRef(!0);const h=w.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=Kj.useSyncExternalStoreWithSelector(c.addNestedSub,o.getState,u||o.getState,h,s);return w.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var u2=l2();function nu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(n){return typeof n}:nu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nu(t)}function d2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f2(t,e,n){return e&&h2(t.prototype,e),t}function m2(t,e){return e&&(nu(e)==="object"||typeof e=="function")?e:ru(t)}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function ru(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Km(t,e)}function Km(t,e){return Km=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Km(t,e)}function iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var EE=function(t){g2(e,t);function e(){var n,r;d2(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=m2(this,(n=Gm(e)).call.apply(n,[this].concat(s))),iu(ru(r),"state",{bootstrapped:!1}),iu(ru(r),"_unsubscribe",void 0),iu(ru(r),"handlePersistorState",function(){var o=r.props.persistor,c=o.getState(),u=c.bootstrapped;u&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return f2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(w.PureComponent);iu(EE,"defaultProps",{children:null,loading:null});var p2=t=>{switch(t){case"success":return b2;case"info":return C2;case"warning":return S2;case"error":return x2;default:return null}},y2=Array(12).fill(0),v2=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},y2.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),b2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),S2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),C2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),x2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),w2=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),T2=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},$m=1,A2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:$m++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Q.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(_2(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||$m++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new A2,E2=(t,e)=>{let n=(e==null?void 0:e.id)||$m++;return un.addToast({title:t,...e,id:n}),n},_2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",N2=E2,R2=()=>un.toasts,k2=()=>un.getActiveToasts(),kl=Object.assign(N2,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:R2,getToasts:k2});function O2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}O2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ol(t){return t.label!==void 0}var I2=3,M2="32px",j2="16px",_0=4e3,P2=356,D2=14,U2=20,L2=200;function Yn(...t){return t.filter(Boolean).join(" ")}function H2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var B2=t=>{var e,n,r,i,s,a,o,c,u,h,d;let{invert:f,toast:m,unstyled:S,interacting:b,setHeights:A,visibleToasts:y,heights:g,index:p,toasts:v,expanded:E,removeToast:T,defaultRichColors:C,closeButton:x,style:N,cancelButtonStyle:M,actionButtonStyle:F,className:D="",descriptionClassName:j="",duration:L,position:V,gap:I,loadingIcon:K,expandByDefault:J,classNames:k,icons:H,closeButtonAriaLabel:P="Close toast",pauseWhenPageIsHidden:G}=t,[W,le]=Q.useState(null),[ce,Pe]=Q.useState(null),[ie,he]=Q.useState(!1),[ye,de]=Q.useState(!1),[fe,Ae]=Q.useState(!1),[it,Y]=Q.useState(!1),[pe,st]=Q.useState(!1),[Je,ut]=Q.useState(0),[yn,_]=Q.useState(0),O=Q.useRef(m.duration||L||_0),U=Q.useRef(null),ee=Q.useRef(null),X=p===0,Z=p+1<=y,se=m.type,ke=m.dismissible!==!1,He=m.className||"",sn=m.descriptionClassName||"",Nr=Q.useMemo(()=>g.findIndex(ve=>ve.toastId===m.id)||0,[g,m.id]),lr=Q.useMemo(()=>{var ve;return(ve=m.closeButton)!=null?ve:x},[m.closeButton,x]),il=Q.useMemo(()=>m.duration||L||_0,[m.duration,L]),es=Q.useRef(0),ur=Q.useRef(0),sl=Q.useRef(0),Rr=Q.useRef(null),[Sh,al]=V.split("-"),hv=Q.useMemo(()=>g.reduce((ve,Be,Ze)=>Ze>=Nr?ve:ve+Be.height,0),[g,Nr]),fv=T2(),LN=m.invert||f,Ch=se==="loading";ur.current=Q.useMemo(()=>Nr*I+hv,[Nr,hv]),Q.useEffect(()=>{O.current=il},[il]),Q.useEffect(()=>{he(!0)},[]),Q.useEffect(()=>{let ve=ee.current;if(ve){let Be=ve.getBoundingClientRect().height;return _(Be),A(Ze=>[{toastId:m.id,height:Be,position:m.position},...Ze]),()=>A(Ze=>Ze.filter(Gn=>Gn.toastId!==m.id))}},[A,m.id]),Q.useLayoutEffect(()=>{if(!ie)return;let ve=ee.current,Be=ve.style.height;ve.style.height="auto";let Ze=ve.getBoundingClientRect().height;ve.style.height=Be,_(Ze),A(Gn=>Gn.find(Kn=>Kn.toastId===m.id)?Gn.map(Kn=>Kn.toastId===m.id?{...Kn,height:Ze}:Kn):[{toastId:m.id,height:Ze,position:m.position},...Gn])},[ie,m.title,m.description,A,m.id]);let ai=Q.useCallback(()=>{de(!0),ut(ur.current),A(ve=>ve.filter(Be=>Be.toastId!==m.id)),setTimeout(()=>{T(m)},L2)},[m,T,A,ur]);Q.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let ve;return E||b||G&&fv?(()=>{if(sl.current<es.current){let Be=new Date().getTime()-es.current;O.current=O.current-Be}sl.current=new Date().getTime()})():O.current!==1/0&&(es.current=new Date().getTime(),ve=setTimeout(()=>{var Be;(Be=m.onAutoClose)==null||Be.call(m,m),ai()},O.current)),()=>clearTimeout(ve)},[E,b,m,se,G,fv,ai]),Q.useEffect(()=>{m.delete&&ai()},[ai,m.delete]);function HN(){var ve,Be,Ze;return H!=null&&H.loading?Q.createElement("div",{className:Yn(k==null?void 0:k.loader,(ve=m==null?void 0:m.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":se==="loading"},H.loading):K?Q.createElement("div",{className:Yn(k==null?void 0:k.loader,(Be=m==null?void 0:m.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":se==="loading"},K):Q.createElement(v2,{className:Yn(k==null?void 0:k.loader,(Ze=m==null?void 0:m.classNames)==null?void 0:Ze.loader),visible:se==="loading"})}return Q.createElement("li",{tabIndex:0,ref:ee,className:Yn(D,He,k==null?void 0:k.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[se],(n=m==null?void 0:m.classNames)==null?void 0:n[se]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":ie,"data-promise":!!m.promise,"data-swiped":pe,"data-removed":ye,"data-visible":Z,"data-y-position":Sh,"data-x-position":al,"data-index":p,"data-front":X,"data-swiping":fe,"data-dismissible":ke,"data-type":se,"data-invert":LN,"data-swipe-out":it,"data-swipe-direction":ce,"data-expanded":!!(E||J&&ie),style:{"--index":p,"--toasts-before":p,"--z-index":v.length-p,"--offset":`${ye?Je:ur.current}px`,"--initial-height":J?"auto":`${yn}px`,...N,...m.style},onDragEnd:()=>{Ae(!1),le(null),Rr.current=null},onPointerDown:ve=>{Ch||!ke||(U.current=new Date,ut(ur.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(Ae(!0),Rr.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Be,Ze,Gn;if(it||!ke)return;Rr.current=null;let Kn=Number(((ve=ee.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),oi=Number(((Be=ee.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ts=new Date().getTime()-((Ze=U.current)==null?void 0:Ze.getTime()),$n=W==="x"?Kn:oi,ci=Math.abs($n)/ts;if(Math.abs($n)>=U2||ci>.11){ut(ur.current),(Gn=m.onDismiss)==null||Gn.call(m,m),Pe(W==="x"?Kn>0?"right":"left":oi>0?"down":"up"),ai(),Y(!0),st(!1);return}Ae(!1),le(null)},onPointerMove:ve=>{var Be,Ze,Gn,Kn;if(!Rr.current||!ke||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;let oi=ve.clientY-Rr.current.y,ts=ve.clientX-Rr.current.x,$n=(Ze=t.swipeDirections)!=null?Ze:H2(V);!W&&(Math.abs(ts)>1||Math.abs(oi)>1)&&le(Math.abs(ts)>Math.abs(oi)?"x":"y");let ci={x:0,y:0};W==="y"?($n.includes("top")||$n.includes("bottom"))&&($n.includes("top")&&oi<0||$n.includes("bottom")&&oi>0)&&(ci.y=oi):W==="x"&&($n.includes("left")||$n.includes("right"))&&($n.includes("left")&&ts<0||$n.includes("right")&&ts>0)&&(ci.x=ts),(Math.abs(ci.x)>0||Math.abs(ci.y)>0)&&st(!0),(Gn=ee.current)==null||Gn.style.setProperty("--swipe-amount-x",`${ci.x}px`),(Kn=ee.current)==null||Kn.style.setProperty("--swipe-amount-y",`${ci.y}px`)}},lr&&!m.jsx?Q.createElement("button",{"aria-label":P,"data-disabled":Ch,"data-close-button":!0,onClick:Ch||!ke?()=>{}:()=>{var ve;ai(),(ve=m.onDismiss)==null||ve.call(m,m)},className:Yn(k==null?void 0:k.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=H==null?void 0:H.close)!=null?s:w2):null,m.jsx||w.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Q.createElement(Q.Fragment,null,se||m.icon||m.promise?Q.createElement("div",{"data-icon":"",className:Yn(k==null?void 0:k.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||HN():null,m.type!=="loading"?m.icon||(H==null?void 0:H[se])||p2(se):null):null,Q.createElement("div",{"data-content":"",className:Yn(k==null?void 0:k.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:Yn(k==null?void 0:k.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:Yn(j,sn,k==null?void 0:k.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),w.isValidElement(m.cancel)?m.cancel:m.cancel&&Ol(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||M,onClick:ve=>{var Be,Ze;Ol(m.cancel)&&ke&&((Ze=(Be=m.cancel).onClick)==null||Ze.call(Be,ve),ai())},className:Yn(k==null?void 0:k.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,w.isValidElement(m.action)?m.action:m.action&&Ol(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||F,onClick:ve=>{var Be,Ze;Ol(m.action)&&((Ze=(Be=m.action).onClick)==null||Ze.call(Be,ve),!ve.defaultPrevented&&ai())},className:Yn(k==null?void 0:k.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function N0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function z2(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?j2:M2;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var V2=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:h="light",richColors:d,duration:f,style:m,visibleToasts:S=I2,toastOptions:b,dir:A=N0(),gap:y=D2,loadingIcon:g,icons:p,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:E}=t,[T,C]=Q.useState([]),x=Q.useMemo(()=>Array.from(new Set([r].concat(T.filter(G=>G.position).map(G=>G.position)))),[T,r]),[N,M]=Q.useState([]),[F,D]=Q.useState(!1),[j,L]=Q.useState(!1),[V,I]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Q.useRef(null),J=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=Q.useRef(null),H=Q.useRef(!1),P=Q.useCallback(G=>{C(W=>{var le;return(le=W.find(ce=>ce.id===G.id))!=null&&le.delete||un.dismiss(G.id),W.filter(({id:ce})=>ce!==G.id)})},[]);return Q.useEffect(()=>un.subscribe(G=>{if(G.dismiss){C(W=>W.map(le=>le.id===G.id?{...le,delete:!0}:le));return}setTimeout(()=>{lR.flushSync(()=>{C(W=>{let le=W.findIndex(ce=>ce.id===G.id);return le!==-1?[...W.slice(0,le),{...W[le],...G},...W.slice(le+1)]:[G,...W]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){I(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:W})=>{I(W?"dark":"light")})}catch{G.addListener(({matches:le})=>{try{I(le?"dark":"light")}catch(ce){console.error(ce)}})}},[h]),Q.useEffect(()=>{T.length<=1&&D(!1)},[T]),Q.useEffect(()=>{let G=W=>{var le,ce;i.every(Pe=>W[Pe]||W.code===Pe)&&(D(!0),(le=K.current)==null||le.focus()),W.code==="Escape"&&(document.activeElement===K.current||(ce=K.current)!=null&&ce.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),Q.useEffect(()=>{if(K.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,H.current=!1)}},[K.current]),Q.createElement("section",{ref:e,"aria-label":`${v} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((G,W)=>{var le;let[ce,Pe]=G.split("-");return T.length?Q.createElement("ol",{key:G,dir:A==="auto"?N0():A,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":ce,"data-lifted":F&&T.length>1&&!s,"data-x-position":Pe,style:{"--front-toast-height":`${((le=N[0])==null?void 0:le.height)||0}px`,"--width":`${P2}px`,"--gap":`${y}px`,...m,...z2(c,u)},onBlur:ie=>{H.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(H.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||H.current||(H.current=!0,k.current=ie.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{j||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},T.filter(ie=>!ie.position&&W===0||ie.position===G).map((ie,he)=>{var ye,de;return Q.createElement(B2,{key:ie.id,icons:p,index:he,toast:ie,defaultRichColors:d,duration:(ye=b==null?void 0:b.duration)!=null?ye:f,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:S,closeButton:(de=b==null?void 0:b.closeButton)!=null?de:a,interacting:j,position:G,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:P,toasts:T.filter(fe=>fe.position==ie.position),heights:N.filter(fe=>fe.position==ie.position),setHeights:M,expandByDefault:s,gap:y,loadingIcon:g,expanded:F,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const _E=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),oh=w.createContext({}),ch=w.createContext(null),lh=typeof document<"u",Ry=lh?w.useLayoutEffect:w.useEffect,NE=w.createContext({strict:!1}),ky=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),F2="framerAppearId",RE="data-"+ky(F2);function q2(t,e,n,r){const{visualElement:i}=w.useContext(oh),s=w.useContext(NE),a=w.useContext(ch),o=w.useContext(_E).reducedMotion,c=w.useRef();r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;w.useInsertionEffect(()=>{u&&u.update(n,a)});const h=w.useRef(!!(n[RE]&&!window.HandoffComplete));return Ry(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function la(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function G2(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):la(n)&&(n.current=r))},[e])}function Nc(t){return typeof t=="string"||Array.isArray(t)}function uh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iy=["initial",...Oy];function dh(t){return uh(t.animate)||Iy.some(e=>Nc(t[e]))}function kE(t){return!!(dh(t)||t.variants)}function K2(t,e){if(dh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Nc(n)?n:void 0,animate:Nc(r)?r:void 0}}return t.inherit!==!1?e:{}}function $2(t){const{initial:e,animate:n}=K2(t,w.useContext(oh));return w.useMemo(()=>({initial:e,animate:n}),[R0(e),R0(n)])}function R0(t){return Array.isArray(t)?t.join(" "):t}const k0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rc={};for(const t in k0)Rc[t]={isEnabled:e=>k0[t].some(n=>!!e[n])};function Y2(t){for(const e in t)Rc[e]={...Rc[e],...t[e]}}const My=w.createContext({}),OE=w.createContext({}),Q2=Symbol.for("motionComponentSymbol");function X2({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Y2(t);function s(o,c){let u;const h={...w.useContext(_E),...o,layoutId:J2(o)},{isStatic:d}=h,f=$2(o),m=r(o,d);if(!d&&lh){f.visualElement=q2(i,m,h,e);const S=w.useContext(OE),b=w.useContext(NE).strict;f.visualElement&&(u=f.visualElement.loadFeatures(h,b,t,S))}return w.createElement(oh.Provider,{value:f},u&&f.visualElement?w.createElement(u,{visualElement:f.visualElement,...h}):null,n(i,o,G2(m,f.visualElement,c),m,d,f.visualElement))}const a=w.forwardRef(s);return a[Q2]=i,a}function J2({layoutId:t}){const e=w.useContext(My).id;return e&&t!==void 0?e+"-"+t:t}function Z2(t){function e(r,i={}){return X2(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const W2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jy(t){return typeof t!="string"||t.includes("-")?!1:!!(W2.indexOf(t)>-1||/[A-Z]/.test(t))}const cd={};function eP(t){Object.assign(cd,t)}const Jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Jc);function IE(t,{layout:e,layoutId:n}){return Hs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cd[t]||t==="opacity")}const gn=t=>!!(t&&t.getVelocity),tP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nP=Jc.length;function rP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<nP;a++){const o=Jc[a];if(t[o]!==void 0){const c=tP[o]||o;s+=`${c}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const ME=t=>e=>typeof e=="string"&&e.startsWith(t),jE=ME("--"),Ym=ME("var(--"),iP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qi=(t,e,n)=>Math.min(Math.max(n,t),e),Bs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wo={...Bs,transform:t=>Qi(0,1,t)},Il={...Bs,default:1},ec=t=>Math.round(t*1e5)/1e5,hh=/(-)?([\d]*\.?[\d])+/g,PE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,aP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zc(t){return typeof t=="string"}const Wc=t=>({test:e=>Zc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pi=Wc("deg"),Tr=Wc("%"),me=Wc("px"),oP=Wc("vh"),cP=Wc("vw"),O0={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},I0={...Bs,transform:Math.round},DE={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,size:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:Il,scaleX:Il,scaleY:Il,scaleZ:Il,skew:pi,skewX:pi,skewY:pi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Wo,originX:O0,originY:O0,originZ:me,zIndex:I0,fillOpacity:Wo,strokeOpacity:Wo,numOctaves:I0};function Py(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let c=!1,u=!1,h=!0;for(const d in e){const f=e[d];if(jE(d)){s[d]=f;continue}const m=DE[d],S=sP(f,m);if(Hs.has(d)){if(c=!0,a[d]=S,!h)continue;f!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,o[d]=S):i[d]=S}if(e.transform||(c||r?i.transform=rP(t.transform,n,h,r):i.transform&&(i.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${d} ${f} ${m}`}}const Dy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UE(t,e,n){for(const r in e)!gn(e[r])&&!IE(r,n)&&(t[r]=e[r])}function lP({transformTemplate:t},e,n){return w.useMemo(()=>{const r=Dy();return Py(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function uP(t,e,n){const r=t.style||{},i={};return UE(i,r,t),Object.assign(i,lP(t,e,n)),t.transformValues?t.transformValues(i):i}function dP(t,e,n){const r={},i=uP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const hP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||hP.has(t)}let LE=t=>!ld(t);function fP(t){t&&(LE=e=>e.startsWith("on")?!ld(e):t(e))}try{fP(require("@emotion/is-prop-valid").default)}catch{}function mP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(LE(i)||n===!0&&ld(i)||!e&&!ld(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function M0(t,e,n){return typeof t=="string"?t:me.transform(e+n*t)}function gP(t,e,n){const r=M0(e,t.x,t.width),i=M0(n,t.y,t.height);return`${r} ${i}`}const pP={offset:"stroke-dashoffset",array:"stroke-dasharray"},yP={offset:"strokeDashoffset",array:"strokeDasharray"};function vP(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?pP:yP;t[s.offset]=me.transform(-r);const a=me.transform(e),o=me.transform(n);t[s.array]=`${a} ${o}`}function Uy(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},h,d,f){if(Py(t,u,h,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:S,dimensions:b}=t;m.transform&&(b&&(S.transform=m.transform),delete m.transform),b&&(i!==void 0||s!==void 0||S.transform)&&(S.transformOrigin=gP(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&vP(m,a,o,c,!1)}const HE=()=>({...Dy(),attrs:{}}),Ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bP(t,e,n,r){const i=w.useMemo(()=>{const s=HE();return Uy(s,e,{enableHardwareAcceleration:!1},Ly(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};UE(s,t.style,t),i.style={...s,...i.style}}return i}function SP(t=!1){return(n,r,i,{latestValues:s},a)=>{const c=(jy(n)?bP:dP)(r,s,a,n),h={...mP(r,typeof n=="string",t),...c,ref:i},{children:d}=r,f=w.useMemo(()=>gn(d)?d.get():d,[d]);return w.createElement(n,{...h,children:f})}}function BE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VE(t,e,n,r){BE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zE.has(i)?i:ky(i),e.attrs[i])}function Hy(t,e){const{style:n}=t,r={};for(const i in n)(gn(n[i])||e.style&&gn(e.style[i])||IE(i,t))&&(r[i]=n[i]);return r}function FE(t,e){const n=Hy(t,e);for(const r in t)if(gn(t[r])||gn(e[r])){const i=Jc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function By(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function qE(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const ud=t=>Array.isArray(t),CP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),xP=t=>ud(t)?t[t.length-1]||0:t;function su(t){const e=gn(t)?t.get():t;return CP(e)?e.toValue():e}function wP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:TP(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const GE=t=>(e,n)=>{const r=w.useContext(oh),i=w.useContext(ch),s=()=>wP(t,e,r,i);return n?s():qE(s)};function TP(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=su(s[f]);let{initial:a,animate:o}=t;const c=dh(t),u=kE(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;return d&&typeof d!="boolean"&&!uh(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const S=By(t,m);if(!S)return;const{transitionEnd:b,transition:A,...y}=S;for(const g in y){let p=y[g];if(Array.isArray(p)){const v=h?p.length-1:0;p=p[v]}p!==null&&(i[g]=p)}for(const g in b)i[g]=b[g]}),i}const ft=t=>t;class j0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function AP(t){let e=new j0,n=new j0,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(c,u=!1,h=!1)=>{const d=h&&i,f=d?e:n;return u&&a.add(c),f.add(c)&&d&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const h=e.order[u];h(c),a.has(h)&&(o.schedule(h),t())}i=!1,s&&(s=!1,o.process(c))}};return o}const Ml=["prepare","read","update","preRender","render","postRender"],EP=40;function _P(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Ml.reduce((d,f)=>(d[f]=AP(()=>n=!0),d),{}),a=d=>s[d].process(i),o=()=>{const d=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(d-i.timestamp,EP),1),i.timestamp=d,i.isProcessing=!0,Ml.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},c=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:Ml.reduce((d,f)=>{const m=s[f];return d[f]=(S,b=!1,A=!1)=>(n||c(),m.schedule(S,b,A)),d},{}),cancel:d=>Ml.forEach(f=>s[f].cancel(d)),state:i,steps:s}}const{schedule:$e,cancel:ri,state:Gt,steps:ff}=_P(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0),NP={useVisualState:GE({scrapeMotionValuesFromProps:FE,createRenderState:HE,onMount:(t,e,{renderState:n,latestValues:r})=>{$e.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$e.render(()=>{Uy(n,r,{enableHardwareAcceleration:!1},Ly(e.tagName),t.transformTemplate),VE(e,n)})}})},RP={useVisualState:GE({scrapeMotionValuesFromProps:Hy,createRenderState:Dy})};function kP(t,{forwardMotionProps:e=!1},n,r){return{...jy(t)?NP:RP,preloadedFeatures:n,useRender:SP(e),createVisualElement:r,Component:t}}function Gr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const KE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function fh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const OP=t=>e=>KE(e)&&t(e,fh(e));function Yr(t,e,n,r){return Gr(t,e,OP(n),r)}const IP=(t,e)=>n=>e(t(n)),Fi=(...t)=>t.reduce(IP);function $E(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const P0=$E("dragHorizontal"),D0=$E("dragVertical");function YE(t){let e=!1;if(t==="y")e=D0();else if(t==="x")e=P0();else{const n=P0(),r=D0();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function QE(){const t=YE(!0);return t?(t(),!1):!0}class Wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function U0(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||QE())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&$e.update(()=>o[r](s,a))};return Yr(t.current,n,i,{passive:!t.getProps()[r]})}class MP extends Wi{mount(){this.unmount=Fi(U0(this.node,!0),U0(this.node,!1))}unmount(){}}class jP extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fi(Gr(this.node.current,"focus",()=>this.onFocus()),Gr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const XE=(t,e)=>e?t===e?!0:XE(t,e.parentElement):!1;function mf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,fh(n))}class PP extends Wi{constructor(){super(...arguments),this.removeStartListeners=ft,this.removeEndListeners=ft,this.removeAccessibleListeners=ft,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Yr(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:d}=this.node.getProps();$e.update(()=>{!d&&!XE(this.node.current,o.target)?h&&h(o,c):u&&u(o,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Yr(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fi(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||mf("up",(c,u)=>{const{onTap:h}=this.node.getProps();h&&$e.update(()=>h(c,u))})};this.removeEndListeners(),this.removeEndListeners=Gr(this.node.current,"keyup",a),mf("down",(o,c)=>{this.startPress(o,c)})},n=Gr(this.node.current,"keydown",e),r=()=>{this.isPressing&&mf("cancel",(s,a)=>this.cancelPress(s,a))},i=Gr(this.node.current,"blur",r);this.removeAccessibleListeners=Fi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&$e.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&$e.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Yr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Gr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qm=new WeakMap,gf=new WeakMap,DP=t=>{const e=Qm.get(t.target);e&&e(t)},UP=t=>{t.forEach(DP)};function LP({root:t,...e}){const n=t||document;gf.has(n)||gf.set(n,{});const r=gf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(UP,{root:t,...e})),r[i]}function HP(t,e,n){const r=LP(e);return Qm.set(t,n),r.observe(t),()=>{Qm.delete(t),r.unobserve(t)}}const BP={some:0,all:1};class zP extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:BP[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(c)};return HP(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(VP(e,n))&&this.startObserver()}unmount(){}}function VP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const FP={inView:{Feature:zP},tap:{Feature:PP},focus:{Feature:jP},hover:{Feature:MP}};function JE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function qP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function GP(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function mh(t,e,n){const r=t.getProps();return By(r,e,n!==void 0?n:r.custom,qP(t),GP(t))}let zy=ft;const ws=t=>t*1e3,Qr=t=>t/1e3,KP={current:!1},ZE=t=>Array.isArray(t)&&typeof t[0]=="number";function WE(t){return!!(!t||typeof t=="string"&&e_[t]||ZE(t)||Array.isArray(t)&&t.every(WE))}const ko=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,e_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ko([0,.65,.55,1]),circOut:ko([.55,0,1,.45]),backIn:ko([.31,.01,.66,-.59]),backOut:ko([.33,1.53,.69,.99])};function t_(t){if(t)return ZE(t)?ko(t):Array.isArray(t)?t.map(t_):e_[t]}function $P(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=t_(o);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function YP(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const n_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QP=1e-7,XP=12;function JP(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=n_(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>QP&&++o<XP);return a}function el(t,e,n,r){if(t===e&&n===r)return ft;const i=s=>JP(s,0,1,t,n);return s=>s===0||s===1?s:n_(i(s),e,r)}const ZP=el(.42,0,1,1),WP=el(0,0,.58,1),r_=el(.42,0,.58,1),eD=t=>Array.isArray(t)&&typeof t[0]!="number",i_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,s_=t=>e=>1-t(1-e),Vy=t=>1-Math.sin(Math.acos(t)),a_=s_(Vy),tD=i_(Vy),o_=el(.33,1.53,.69,.99),Fy=s_(o_),nD=i_(Fy),rD=t=>(t*=2)<1?.5*Fy(t):.5*(2-Math.pow(2,-10*(t-1))),iD={linear:ft,easeIn:ZP,easeInOut:r_,easeOut:WP,circIn:Vy,circInOut:tD,circOut:a_,backIn:Fy,backInOut:nD,backOut:o_,anticipate:rD},L0=t=>{if(Array.isArray(t)){zy(t.length===4);const[e,n,r,i]=t;return el(e,n,r,i)}else if(typeof t=="string")return iD[t];return t},qy=(t,e)=>n=>!!(Zc(n)&&aP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),c_=(t,e,n)=>r=>{if(!Zc(r))return r;const[i,s,a,o]=r.match(hh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},sD=t=>Qi(0,255,t),pf={...Bs,transform:t=>Math.round(sD(t))},ms={test:qy("rgb","red"),parse:c_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pf.transform(t)+", "+pf.transform(e)+", "+pf.transform(n)+", "+ec(Wo.transform(r))+")"};function aD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Xm={test:qy("#"),parse:aD,transform:ms.transform},ua={test:qy("hsl","hue"),parse:c_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tr.transform(ec(e))+", "+Tr.transform(ec(n))+", "+ec(Wo.transform(r))+")"},Jt={test:t=>ms.test(t)||Xm.test(t)||ua.test(t),parse:t=>ms.test(t)?ms.parse(t):ua.test(t)?ua.parse(t):Xm.parse(t),transform:t=>Zc(t)?t:t.hasOwnProperty("red")?ms.transform(t):ua.transform(t)},ot=(t,e,n)=>-n*t+n*e+t;function yf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=yf(c,o,t+1/3),s=yf(c,o,t),a=yf(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const vf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},cD=[Xm,ms,ua],lD=t=>cD.find(e=>e.test(t));function H0(t){const e=lD(t);let n=e.parse(t);return e===ua&&(n=oD(n)),n}const l_=(t,e)=>{const n=H0(t),r=H0(e),i={...n};return s=>(i.red=vf(n.red,r.red,s),i.green=vf(n.green,r.green,s),i.blue=vf(n.blue,r.blue,s),i.alpha=ot(n.alpha,r.alpha,s),ms.transform(i))};function uD(t){var e,n;return isNaN(t)&&Zc(t)&&(((e=t.match(hh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PE))===null||n===void 0?void 0:n.length)||0)>0}const u_={regex:iP,countKey:"Vars",token:"${v}",parse:ft},d_={regex:PE,countKey:"Colors",token:"${c}",parse:Jt.parse},h_={regex:hh,countKey:"Numbers",token:"${n}",parse:Bs.parse};function bf(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function dd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&bf(n,u_),bf(n,d_),bf(n,h_),n}function f_(t){return dd(t).values}function m_(t){const{values:e,numColors:n,numVars:r,tokenised:i}=dd(t),s=e.length;return a=>{let o=i;for(let c=0;c<s;c++)c<r?o=o.replace(u_.token,a[c]):c<r+n?o=o.replace(d_.token,Jt.transform(a[c])):o=o.replace(h_.token,ec(a[c]));return o}}const dD=t=>typeof t=="number"?0:t;function hD(t){const e=f_(t);return m_(t)(e.map(dD))}const Xi={test:uD,parse:f_,createTransformer:m_,getAnimatableNone:hD},g_=(t,e)=>n=>`${n>0?e:t}`;function p_(t,e){return typeof t=="number"?n=>ot(t,e,n):Jt.test(t)?l_(t,e):t.startsWith("var(")?g_(t,e):v_(t,e)}const y_=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,a)=>p_(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},fD=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=p_(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},v_=(t,e)=>{const n=Xi.createTransformer(e),r=dd(t),i=dd(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fi(y_(r.values,i.values),n):g_(t,e)},kc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},B0=(t,e)=>n=>ot(t,e,n);function mD(t){return typeof t=="number"?B0:typeof t=="string"?Jt.test(t)?l_:v_:Array.isArray(t)?y_:typeof t=="object"?fD:B0}function gD(t,e,n){const r=[],i=n||mD(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ft:e;o=Fi(c,o)}r.push(o)}return r}function b_(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(zy(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=gD(e,r,i),o=a.length,c=u=>{let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=kc(t[h],t[h+1],u);return a[h](d)};return n?u=>c(Qi(t[0],t[s-1],u)):c}function pD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=kc(0,e,r);t.push(ot(n,1,i))}}function yD(t){const e=[0];return pD(e,t.length-1),e}function vD(t,e){return t.map(n=>n*e)}function bD(t,e){return t.map(()=>e||r_).splice(0,t.length-1)}function hd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=eD(r)?r.map(L0):L0(r),s={done:!1,value:e[0]},a=vD(n&&n.length===e.length?n:yD(e),t),o=b_(a,e,{ease:Array.isArray(i)?i:bD(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}function S_(t,e){return e?t*(1e3/e):0}const SD=5;function C_(t,e,n){const r=Math.max(e-SD,0);return S_(n-t(r),e-r)}const Sf=.001,CD=.01,xD=10,wD=.05,TD=1;function AD({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=Qi(wD,TD,a),t=Qi(CD,xD,Qr(t)),a<1?(i=u=>{const h=u*a,d=h*t,f=h-n,m=Jm(u,a),S=Math.exp(-d);return Sf-f/m*S},s=u=>{const d=u*a*t,f=d*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,S=Math.exp(-d),b=Jm(Math.pow(u,2),a);return(-i(u)+Sf>0?-1:1)*((f-m)*S)/b}):(i=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-Sf+h*d},s=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const o=5/t,c=_D(i,s,o);if(t=ws(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const ED=12;function _D(t,e,n){let r=n;for(let i=1;i<ED;i++)r=r-t(r)/e(r);return r}function Jm(t,e){return t*Math.sqrt(1-e*e)}const ND=["duration","bounce"],RD=["stiffness","damping","mass"];function z0(t,e){return e.some(n=>t[n]!==void 0)}function kD(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!z0(t,RD)&&z0(t,ND)){const n=AD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function x_({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=kD({...r,velocity:-Qr(r.velocity||0)}),m=d||0,S=c/(2*Math.sqrt(o*u)),b=s-i,A=Qr(Math.sqrt(o/u)),y=Math.abs(b)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let g;if(S<1){const p=Jm(A,S);g=v=>{const E=Math.exp(-S*A*v);return s-E*((m+S*A*b)/p*Math.sin(p*v)+b*Math.cos(p*v))}}else if(S===1)g=p=>s-Math.exp(-A*p)*(b+(m+A*b)*p);else{const p=A*Math.sqrt(S*S-1);g=v=>{const E=Math.exp(-S*A*v),T=Math.min(p*v,300);return s-E*((m+S*A*b)*Math.sinh(T)+p*b*Math.cosh(T))/p}}return{calculatedDuration:f&&h||null,next:p=>{const v=g(p);if(f)a.done=p>=h;else{let E=m;p!==0&&(S<1?E=C_(g,p,v):E=0);const T=Math.abs(E)<=n,C=Math.abs(s-v)<=e;a.done=T&&C}return a.value=a.done?s:v,a}}}function V0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=x=>o!==void 0&&x<o||c!==void 0&&x>c,S=x=>o===void 0?c:c===void 0||Math.abs(o-x)<Math.abs(c-x)?o:c;let b=n*e;const A=d+b,y=a===void 0?A:a(A);y!==A&&(b=y-d);const g=x=>-b*Math.exp(-x/r),p=x=>y+g(x),v=x=>{const N=g(x),M=p(x);f.done=Math.abs(N)<=u,f.value=f.done?y:M};let E,T;const C=x=>{m(f.value)&&(E=x,T=x_({keyframes:[f.value,S(f.value)],velocity:C_(p,x,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return C(0),{calculatedDuration:null,next:x=>{let N=!1;return!T&&E===void 0&&(N=!0,v(x),C(x)),E!==void 0&&x>E?T.next(x-E):(!N&&v(x),f)}}}const OD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>$e.update(e,!0),stop:()=>ri(e),now:()=>Gt.isProcessing?Gt.timestamp:performance.now()}},F0=2e4;function q0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<F0;)e+=n,r=t.next(e);return e>=F0?1/0:e}const ID={decay:V0,inertia:V0,tween:hd,keyframes:hd,spring:x_};function fd({autoplay:t=!0,delay:e=0,driver:n=OD,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:h,onUpdate:d,...f}){let m=1,S=!1,b,A;const y=()=>{A=new Promise(P=>{b=P})};y();let g;const p=ID[i]||hd;let v;p!==hd&&typeof r[0]!="number"&&(v=b_([0,100],r,{clamp:!1}),r=[0,100]);const E=p({...f,keyframes:r});let T;o==="mirror"&&(T=p({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let C="idle",x=null,N=null,M=null;E.calculatedDuration===null&&s&&(E.calculatedDuration=q0(E));const{calculatedDuration:F}=E;let D=1/0,j=1/0;F!==null&&(D=F+a,j=D*(s+1)-a);let L=0;const V=P=>{if(N===null)return;m>0&&(N=Math.min(N,P)),m<0&&(N=Math.min(P-j/m,N)),x!==null?L=x:L=Math.round(P-N)*m;const G=L-e*(m>=0?1:-1),W=m>=0?G<0:G>j;L=Math.max(G,0),C==="finished"&&x===null&&(L=j);let le=L,ce=E;if(s){const ye=Math.min(L,j)/D;let de=Math.floor(ye),fe=ye%1;!fe&&ye>=1&&(fe=1),fe===1&&de--,de=Math.min(de,s+1),!!(de%2)&&(o==="reverse"?(fe=1-fe,a&&(fe-=a/D)):o==="mirror"&&(ce=T)),le=Qi(0,1,fe)*D}const Pe=W?{done:!1,value:r[0]}:ce.next(le);v&&(Pe.value=v(Pe.value));let{done:ie}=Pe;!W&&F!==null&&(ie=m>=0?L>=j:L<=0);const he=x===null&&(C==="finished"||C==="running"&&ie);return d&&d(Pe.value),he&&J(),Pe},I=()=>{g&&g.stop(),g=void 0},K=()=>{C="idle",I(),b(),y(),N=M=null},J=()=>{C="finished",h&&h(),I(),b()},k=()=>{if(S)return;g||(g=n(V));const P=g.now();c&&c(),x!==null?N=P-x:(!N||C==="finished")&&(N=P),C==="finished"&&y(),M=N,x=null,C="running",g.start()};t&&k();const H={then(P,G){return A.then(P,G)},get time(){return Qr(L)},set time(P){P=ws(P),L=P,x!==null||!g||m===0?x=P:N=g.now()-P/m},get duration(){const P=E.calculatedDuration===null?q0(E):E.calculatedDuration;return Qr(P)},get speed(){return m},set speed(P){P===m||!g||(m=P,H.time=Qr(L))},get state(){return C},play:k,pause:()=>{C="paused",x=L},stop:()=>{S=!0,C!=="idle"&&(C="idle",u&&u(),K())},cancel:()=>{M!==null&&V(M),K()},complete:()=>{C="finished"},sample:P=>(N=0,V(P))};return H}function MD(t){let e;return()=>(e===void 0&&(e=t()),e)}const jD=MD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),PD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),jl=10,DD=2e4,UD=(t,e)=>e.type==="spring"||t==="backgroundColor"||!WE(e.ease);function LD(t,e,{onUpdate:n,onComplete:r,...i}){if(!(jD()&&PD.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,c,u=!1;const h=()=>{c=new Promise(p=>{o=p})};h();let{keyframes:d,duration:f=300,ease:m,times:S}=i;if(UD(e,i)){const p=fd({...i,repeat:0,delay:0});let v={done:!1,value:d[0]};const E=[];let T=0;for(;!v.done&&T<DD;)v=p.sample(T),E.push(v.value),T+=jl;S=void 0,d=E,f=T-jl,m="linear"}const b=$P(t.owner.current,e,d,{...i,duration:f,ease:m,times:S}),A=()=>{u=!1,b.cancel()},y=()=>{u=!0,$e.update(A),o(),h()};return b.onfinish=()=>{u||(t.set(YP(d,i)),r&&r(),y())},{then(p,v){return c.then(p,v)},attachTimeline(p){return b.timeline=p,b.onfinish=null,ft},get time(){return Qr(b.currentTime||0)},set time(p){b.currentTime=ws(p)},get speed(){return b.playbackRate},set speed(p){b.playbackRate=p},get duration(){return Qr(f)},play:()=>{a||(b.play(),ri(A))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:p}=b;if(p){const v=fd({...i,autoplay:!1});t.setWithVelocity(v.sample(p-jl).value,v.sample(p).value,jl)}y()},complete:()=>{u||b.finish()},cancel:y}}function HD({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ft,pause:ft,stop:ft,then:s=>(s(),Promise.resolve()),cancel:ft,complete:ft});return e?fd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const BD={type:"spring",stiffness:500,damping:25,restSpeed:10},zD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VD={type:"keyframes",duration:.8},FD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qD=(t,{keyframes:e})=>e.length>2?VD:Hs.has(t)?t.startsWith("scale")?zD(e[1]):BD:FD,Zm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xi.test(e)||e==="0")&&!e.startsWith("url(")),GD=new Set(["brightness","contrast","saturate","opacity"]);function KD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hh)||[];if(!r)return t;const i=n.replace(r,"");let s=GD.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const $D=/([a-z-]*)\(.*?\)/g,Wm={...Xi,getAnimatableNone:t=>{const e=t.match($D);return e?e.map(KD).join(" "):t}},YD={...DE,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Wm,WebkitFilter:Wm},Gy=t=>YD[t];function w_(t,e){let n=Gy(t);return n!==Wm&&(n=Xi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const T_=t=>/^0[^.\s]+$/.test(t);function QD(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||T_(t)}function XD(t,e,n,r){const i=Zm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?a:s[u-1]),QD(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(o=s[u]);if(i&&c.length&&o)for(let u=0;u<c.length;u++){const h=c[u];s[h]=w_(e,o)}return s}function JD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:u,...h}){return!!Object.keys(h).length}function Ky(t,e){return t[e]||t.default||t}const ZD={skipAnimations:!1},$y=(t,e,n,r={})=>i=>{const s=Ky(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-ws(a);const c=XD(e,t,n,s),u=c[0],h=c[c.length-1],d=Zm(t,u),f=Zm(t,h);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:S=>{e.set(S),s.onUpdate&&s.onUpdate(S)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(JD(s)||(m={...m,...qD(t,m)}),m.duration&&(m.duration=ws(m.duration)),m.repeatDelay&&(m.repeatDelay=ws(m.repeatDelay)),!d||!f||KP.current||s.type===!1||ZD.skipAnimations)return HD(m);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=LD(e,t,m);if(S)return S}return fd(m)};function md(t){return!!(gn(t)&&t.add)}const A_=t=>/^\-?\d*\.?\d+$/.test(t);function Yy(t,e){t.indexOf(e)===-1&&t.push(e)}function Qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Xy{constructor(){this.subscriptions=[]}add(e){return Yy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const WD=t=>!isNaN(parseFloat(t));class eU{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=Gt;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,$e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=WD(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xy);const r=this.events[e].add(n);return e==="change"?()=>{r(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?S_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ha(t,e){return new eU(t,e)}const E_=t=>e=>e.test(t),tU={test:t=>t==="auto",parse:t=>t},__=[Bs,me,Tr,pi,cP,oP,tU],go=t=>__.find(E_(t)),nU=[...__,Jt,Xi],rU=t=>nU.find(E_(t));function iU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ha(n))}function sU(t,e){const n=mh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=xP(s[a]);iU(t,a,o)}}function aU(t,e,n){var r,i;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const c=s[o],u=e[c];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),h!=null&&(typeof h=="string"&&(A_(h)||T_(h))?h=parseFloat(h):!rU(h)&&Xi.test(u)&&(h=w_(c,u)),t.addValue(c,Ha(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function oU(t,e){return e?(e[t]||e.default||e).from:void 0}function cU(t,e,n){const r={};for(const i in t){const s=oU(i,e);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function lU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uU(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function N_(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(s=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const f=t.getValue(d),m=o[d];if(!f||m===void 0||h&&lU(h,d))continue;const S={delay:n,elapsed:0,...Ky(s||{},d)};if(window.HandoffAppearAnimations){const y=t.getProps()[RE];if(y){const g=window.HandoffAppearAnimations(y,d,f,$e);g!==null&&(S.elapsed=g,S.isHandoff=!0)}}let b=!S.isHandoff&&!uU(f,m);if(S.type==="spring"&&(f.getVelocity()||S.velocity)&&(b=!1),f.animation&&(b=!1),b)continue;f.start($y(d,f,m,t.shouldReduceMotion&&Hs.has(d)?{type:!1}:S));const A=f.animation;md(c)&&(c.add(d),A.then(()=>c.remove(d))),u.push(A)}return a&&Promise.all(u).then(()=>{a&&sU(t,a)}),u}function eg(t,e,n={}){const r=mh(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(N_(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=i;return dU(t,e,u+c,h,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function dU(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(t.variantChildren).sort(hU).forEach((u,h)=>{u.notify("AnimationStart",e),a.push(eg(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function hU(t,e){return t.sortNodePosition(e)}function fU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>eg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=eg(t,e,n);else{const i=typeof e=="function"?mh(t,e,n.custom):e;r=Promise.all(N_(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const mU=[...Oy].reverse(),gU=Oy.length;function pU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fU(t,n,r)))}function yU(t){let e=pU(t);const n=bU();let r=!0;const i=(c,u)=>{const h=mh(t,u);if(h){const{transition:d,transitionEnd:f,...m}=h;c={...c,...m,...f}}return c};function s(c){e=c(t)}function a(c,u){const h=t.getProps(),d=t.getVariantContext(!0)||{},f=[],m=new Set;let S={},b=1/0;for(let y=0;y<gU;y++){const g=mU[y],p=n[g],v=h[g]!==void 0?h[g]:d[g],E=Nc(v),T=g===u?p.isActive:null;T===!1&&(b=y);let C=v===d[g]&&v!==h[g]&&E;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),p.protectedKeys={...S},!p.isActive&&T===null||!v&&!p.prevProp||uh(v)||typeof v=="boolean")continue;let N=vU(p.prevProp,v)||g===u&&p.isActive&&!C&&E||y>b&&E,M=!1;const F=Array.isArray(v)?v:[v];let D=F.reduce(i,{});T===!1&&(D={});const{prevResolvedValues:j={}}=p,L={...j,...D},V=I=>{N=!0,m.has(I)&&(M=!0,m.delete(I)),p.needsAnimating[I]=!0};for(const I in L){const K=D[I],J=j[I];if(S.hasOwnProperty(I))continue;let k=!1;ud(K)&&ud(J)?k=!JE(K,J):k=K!==J,k?K!==void 0?V(I):m.add(I):K!==void 0&&m.has(I)?V(I):p.protectedKeys[I]=!0}p.prevProp=v,p.prevResolvedValues=D,p.isActive&&(S={...S,...D}),r&&t.blockInitialAnimation&&(N=!1),N&&(!C||M)&&f.push(...F.map(I=>({animation:I,options:{type:g,...c}})))}if(m.size){const y={};m.forEach(g=>{const p=t.getBaseTarget(g);p!==void 0&&(y[g]=p)}),f.push({animation:y})}let A=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(f):Promise.resolve()}function o(c,u,h){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var S;return(S=m.animationState)===null||S===void 0?void 0:S.setActive(c,u)}),n[c].isActive=u;const f=a(h,c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function vU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JE(e,t):!1}function rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bU(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class SU extends Wi{constructor(e){super(e),e.animationState||(e.animationState=yU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),uh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let CU=0;class xU extends Wi{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wU={animation:{Feature:SU},exit:{Feature:xU}},G0=(t,e)=>Math.abs(t-e);function TU(t,e){const n=G0(t.x,e.x),r=G0(t.y,e.y);return Math.sqrt(n**2+r**2)}class R_{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=xf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=TU(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:S}=d,{timestamp:b}=Gt;this.history.push({...S,timestamp:b});const{onStart:A,onMove:y}=this.handlers;f||(A&&A(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Cf(f,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=xf(d.type==="pointercancel"?this.lastMoveEventInfo:Cf(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,A),S&&S(d,A)},!KE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=fh(e),o=Cf(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=Gt;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,xf(o,this.history)),this.removeListeners=Fi(Yr(this.contextWindow,"pointermove",this.handlePointerMove),Yr(this.contextWindow,"pointerup",this.handlePointerUp),Yr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ri(this.updatePoint)}}function Cf(t,e){return e?{point:e(t.point)}:t}function K0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xf({point:t},e){return{point:t,delta:K0(t,k_(e)),offset:K0(t,AU(e)),velocity:EU(e,.1)}}function AU(t){return t[0]}function k_(t){return t[t.length-1]}function EU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=k_(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ws(e)));)n--;if(!r)return{x:0,y:0};const s=Qr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function kn(t){return t.max-t.min}function tg(t,e=0,n=.01){return Math.abs(t-e)<=n}function $0(t,e,n,r=.5){t.origin=r,t.originPoint=ot(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),(tg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ot(n.min,n.max,t.origin)-t.originPoint,(tg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tc(t,e,n,r){$0(t.x,e.x,n.x,r?r.originX:void 0),$0(t.y,e.y,n.y,r?r.originY:void 0)}function Y0(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function _U(t,e,n){Y0(t.x,e.x,n.x),Y0(t.y,e.y,n.y)}function Q0(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function nc(t,e,n){Q0(t.x,e.x,n.x),Q0(t.y,e.y,n.y)}function NU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ot(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ot(n,t,r.max):Math.min(t,n)),t}function X0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RU(t,{top:e,left:n,bottom:r,right:i}){return{x:X0(t.x,n,i),y:X0(t.y,e,r)}}function J0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kU(t,e){return{x:J0(t.x,e.x),y:J0(t.y,e.y)}}function OU(t,e){let n=.5;const r=kn(t),i=kn(e);return i>r?n=kc(e.min,e.max-r,t.min):r>i&&(n=kc(t.min,t.max-i,e.min)),Qi(0,1,n)}function IU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ng=.35;function MU(t=ng){return t===!1?t=0:t===!0&&(t=ng),{x:Z0(t,"left","right"),y:Z0(t,"top","bottom")}}function Z0(t,e,n){return{min:W0(t,e),max:W0(t,n)}}function W0(t,e){return typeof t=="number"?t:t[e]||0}const eS=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:eS(),y:eS()}),tS=()=>({min:0,max:0}),yt=()=>({x:tS(),y:tS()});function Mn(t){return[t("x"),t("y")]}function O_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function PU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wf(t){return t===void 0||t===1}function rg({scale:t,scaleX:e,scaleY:n}){return!wf(t)||!wf(e)||!wf(n)}function cs(t){return rg(t)||I_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function I_(t){return nS(t.x)||nS(t.y)}function nS(t){return t&&t!=="0%"}function gd(t,e,n){const r=t-n,i=e*r;return n+i}function rS(t,e,n,r,i){return i!==void 0&&(t=gd(t,i,r)),gd(t,n,r)+e}function ig(t,e=0,n=1,r,i){t.min=rS(t.min,e,n,r,i),t.max=rS(t.max,e,n,r,i)}function M_(t,{x:e,y:n}){ig(t.x,e.translate,e.scale,e.originPoint),ig(t.y,n.translate,n.scale,n.originPoint)}function DU(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ha(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,M_(t,a)),r&&cs(s.latestValues)&&ha(t,s.latestValues))}e.x=iS(e.x),e.y=iS(e.y)}function iS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function bi(t,e){t.min=t.min+e,t.max=t.max+e}function sS(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=ot(t.min,t.max,s);ig(t,e[n],e[r],a,e.scale)}const UU=["x","scaleX","originX"],LU=["y","scaleY","originY"];function ha(t,e){sS(t.x,e,UU),sS(t.y,e,LU)}function j_(t,e){return O_(PU(t.getBoundingClientRect(),e))}function HU(t,e,n){const r=j_(t,n),{scroll:i}=e;return i&&(bi(r.x,i.offset.x),bi(r.y,i.offset.y)),r}const P_=({current:t})=>t?t.ownerDocument.defaultView:null,BU=new WeakMap;class zU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fh(h,"page").point)},s=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:S}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=YE(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(A=>{let y=this.getAxisMotionValue(A).get()||0;if(Tr.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const p=g.layout.layoutBox[A];p&&(y=kn(p)*(parseFloat(y)/100))}}this.originPoint[A]=y}),S&&$e.update(()=>S(h,d),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:S,onDrag:b}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:A}=d;if(m&&this.currentDirection===null){this.currentDirection=VU(A),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",d.point,A),this.updateAxis("y",d.point,A),this.visualElement.render(),b&&b(h,d)},o=(h,d)=>this.stop(h,d),c=()=>Mn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new R_(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:P_(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&$e.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Pl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=NU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&la(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=RU(i.layoutBox,n):this.constraints=!1,this.elastic=MU(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=IU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!la(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=HU(r,i.root,this.visualElement.getTransformPagePoint());let a=kU(i.layout.layoutBox,s);if(n){const o=n(jU(a));this.hasMutatedConstraints=!!o,o&&(a=O_(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Mn(h=>{if(!Pl(h,n,this.currentDirection))return;let d=c&&c[h]||{};a&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,S)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($y(e,r,0,n))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(n=>{const{drag:r}=this.getProps();if(!Pl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-ot(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!la(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mn(a=>{const o=this.getAxisMotionValue(a);if(o){const c=o.get();i[a]=OU({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(a=>{if(!Pl(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(ot(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;BU.set(this.visualElement,this);const e=this.visualElement.current,n=Yr(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();la(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=Gr(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=ng,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Pl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FU extends Wi{constructor(e){super(e),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new zU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const aS=t=>(e,n)=>{t&&$e.update(()=>t(e,n))};class qU extends Wi{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(e){this.session=new R_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aS(e),onStart:aS(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&$e.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=Yr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function GU(){const t=w.useContext(ch);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();return w.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const au={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const po={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=oS(t,e.target.x),r=oS(t,e.target.y);return`${n}% ${r}%`}},KU={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xi.parse(t);if(i.length>5)return r;const s=Xi.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const u=ot(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class $U extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;eP(YU),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),au.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||$e.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function D_(t){const[e,n]=GU(),r=w.useContext(My);return Q.createElement($U,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(OE),isPresent:e,safeToRemove:n})}const YU={borderRadius:{...po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:po,borderTopRightRadius:po,borderBottomLeftRadius:po,borderBottomRightRadius:po,boxShadow:KU},U_=["TopLeft","TopRight","BottomLeft","BottomRight"],QU=U_.length,cS=t=>typeof t=="string"?parseFloat(t):t,lS=t=>typeof t=="number"||me.test(t);function XU(t,e,n,r,i,s){i?(t.opacity=ot(0,n.opacity!==void 0?n.opacity:1,JU(r)),t.opacityExit=ot(e.opacity!==void 0?e.opacity:1,0,ZU(r))):s&&(t.opacity=ot(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<QU;a++){const o=`border${U_[a]}Radius`;let c=uS(e,o),u=uS(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||lS(c)===lS(u)?(t[o]=Math.max(ot(cS(c),cS(u),r),0),(Tr.test(u)||Tr.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ot(e.rotate||0,n.rotate||0,r))}function uS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JU=L_(0,.5,a_),ZU=L_(.5,.95,ft);function L_(t,e,n){return r=>r<t?0:r>e?1:n(kc(t,e,r))}function dS(t,e){t.min=e.min,t.max=e.max}function In(t,e){dS(t.x,e.x),dS(t.y,e.y)}function hS(t,e,n,r,i){return t-=e,t=gd(t,1/n,r),i!==void 0&&(t=gd(t,1/i,r)),t}function WU(t,e=0,n=1,r=.5,i,s=t,a=t){if(Tr.test(e)&&(e=parseFloat(e),e=ot(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ot(s.min,s.max,r);t===s&&(o-=e),t.min=hS(t.min,e,n,o,i),t.max=hS(t.max,e,n,o,i)}function fS(t,e,[n,r,i],s,a){WU(t,e[n],e[r],e[i],e.scale,s,a)}const eL=["x","scaleX","originX"],tL=["y","scaleY","originY"];function mS(t,e,n,r){fS(t.x,e,eL,n?n.x:void 0,r?r.x:void 0),fS(t.y,e,tL,n?n.y:void 0,r?r.y:void 0)}function gS(t){return t.translate===0&&t.scale===1}function H_(t){return gS(t.x)&&gS(t.y)}function nL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function B_(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function pS(t){return kn(t.x)/kn(t.y)}class rL{constructor(){this.members=[]}add(e){Yy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yS(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const iL=(t,e)=>t.depth-e.depth;class sL{constructor(){this.children=[],this.isDirty=!1}add(e){Yy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iL),this.isDirty=!1,this.children.forEach(e)}}function aL(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ri(r),t(s-e))};return $e.read(r,!0),()=>ri(r)}function oL(t){window.MotionDebug&&window.MotionDebug.record(t)}function cL(t){return t instanceof SVGElement&&t.tagName!=="svg"}function lL(t,e,n){const r=gn(t)?t:Ha(t);return r.start($y("",r,e,n)),r.animation}const vS=["","X","Y","Z"],uL={visibility:"hidden"},bS=1e3;let dL=0;const ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function z_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=dL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ls.totalNodes=ls.resolvedTargetDeltas=ls.recalculatedProjection=0,this.nodes.forEach(mL),this.nodes.forEach(bL),this.nodes.forEach(SL),this.nodes.forEach(gL),oL(ls)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new sL)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Xy),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cL(a),this.instance=a;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=aL(f,250),au.hasAnimatedSinceResize&&(au.hasAnimatedSinceResize=!1,this.nodes.forEach(CS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||AL,{onLayoutAnimationStart:A,onLayoutAnimationComplete:y}=h.getProps(),g=!this.targetLayout||!B_(this.targetLayout,S)||m,p=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,p);const v={...Ky(b,"layout"),onPlay:A,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||CS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SS);return}this.isUpdating||this.nodes.forEach(yL),this.isUpdating=!1,this.nodes.forEach(vL),this.nodes.forEach(hL),this.nodes.forEach(fL),this.clearAllSnapshots();const o=performance.now();Gt.delta=Qi(0,1e3/60,o-Gt.timestamp),Gt.timestamp=o,Gt.isProcessing=!0,ff.update.process(Gt),ff.preRender.process(Gt),ff.render.process(Gt),Gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pL),this.sharedNodes.forEach(xL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!H_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&(o||cs(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),EL(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return yt();const o=a.measureViewportBox(),{scroll:c}=this.root;return c&&(bi(o.x,c.offset.x),bi(o.y,c.offset.y)),o}removeElementScroll(a){const o=yt();In(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;if(u!==this.root&&h&&d.layoutScroll){if(h.isRoot){In(o,a);const{scroll:f}=this.root;f&&(bi(o.x,-f.offset.x),bi(o.y,-f.offset.y))}bi(o.x,h.offset.x),bi(o.y,h.offset.y)}}return o}applyTransform(a,o=!1){const c=yt();In(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ha(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),cs(h.latestValues)&&ha(c,h.latestValues)}return cs(this.latestValues)&&ha(c,this.latestValues),c}removeTransform(a){const o=yt();In(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!cs(u.latestValues))continue;rg(u.latestValues)&&u.updateSnapshot();const h=yt(),d=u.measurePageBox();In(h,d),mS(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return cs(this.latestValues)&&mS(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Gt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),nc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=yt(),this.targetWithTransforms=yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_U(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):In(this.target,this.layout.layoutBox),M_(this.target,this.targetDelta)):In(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yt(),this.relativeTargetOrigin=yt(),nc(this.relativeTargetOrigin,this.target,m.target),In(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rg(this.parent.latestValues)||I_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Gt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;In(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;DU(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:S}=o;if(!S){this.projectionTransform&&(this.projectionDelta=da(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=da(),this.projectionDeltaWithTransform=da());const b=this.projectionTransform;tc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=yS(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=yt(),m=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=m!==S,A=this.getStack(),y=!A||A.members.length<=1,g=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(TL));this.animationProgress=0;let p;this.mixTargetDelta=v=>{const E=v/1e3;xS(d.x,a.x,E),xS(d.y,a.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wL(this.relativeTarget,this.relativeTargetOrigin,f,E),p&&nL(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=yt()),In(p,this.relativeTarget)),b&&(this.animationValues=h,XU(h,u,this.latestValues,E,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{au.hasAnimatedSinceResize=!0,this.currentAnimation=lL(0,bS,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:h}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&V_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||yt();const d=kn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+d;const f=kn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}In(o,c),ha(o,h),tc(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rL),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let h=0;h<vS.length;h++){const d="rotate"+vS[h];c[d]&&(u[d]=c[d],a.setStaticValue(d,0))}a.render();for(const h in u)a.setStaticValue(h,u[h]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uL;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=su(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=su(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=yS(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:m,y:S}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in cd){if(f[b]===void 0)continue;const{correct:A,applyTo:y}=cd[b],g=u.transform==="none"?f[b]:A(f[b],d);if(y){const p=y.length;for(let v=0;v<p;v++)u[y[v]]=g}else u[b]=g}return this.options.layoutId&&(u.pointerEvents=d===this?su(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(SS),this.root.sharedNodes.clear()}}}function hL(t){t.updateLayout()}function fL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Mn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=kn(f);f.min=r[d].min,f.max=f.min+m}):V_(s,n.layoutBox,r)&&Mn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=kn(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=da();tc(o,r,n.layoutBox);const c=da();a?tc(c,t.applyTransform(i,!0),n.measuredBox):tc(c,r,n.layoutBox);const u=!H_(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const S=yt();nc(S,n.layoutBox,f.layoutBox);const b=yt();nc(b,r,m.layoutBox),B_(S,b)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function mL(t){ls.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pL(t){t.clearSnapshot()}function SS(t){t.clearMeasurements()}function yL(t){t.isLayoutDirty=!1}function vL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bL(t){t.resolveTargetDelta()}function SL(t){t.calcProjection()}function CL(t){t.resetRotation()}function xL(t){t.removeLeadSnapshot()}function xS(t,e,n){t.translate=ot(e.translate,0,n),t.scale=ot(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function wS(t,e,n,r){t.min=ot(e.min,n.min,r),t.max=ot(e.max,n.max,r)}function wL(t,e,n,r){wS(t.x,e.x,n.x,r),wS(t.y,e.y,n.y,r)}function TL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AL={duration:.45,ease:[.4,0,.1,1]},TS=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),AS=TS("applewebkit/")&&!TS("chrome/")?Math.round:ft;function ES(t){t.min=AS(t.min),t.max=AS(t.max)}function EL(t){ES(t.x),ES(t.y)}function V_(t,e,n){return t==="position"||t==="preserve-aspect"&&!tg(pS(e),pS(n),.2)}const _L=z_({attachResizeListener:(t,e)=>Gr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tf={current:void 0},F_=z_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Tf.current){const t=new _L({});t.mount(window),t.setOptions({layoutScroll:!0}),Tf.current=t}return Tf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NL={pan:{Feature:qU},drag:{Feature:FU,ProjectionNode:F_,MeasureLayout:D_}},RL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function kL(t){const e=RL.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function sg(t,e,n=1){const[r,i]=kL(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return A_(a)?parseFloat(a):a}else return Ym(i)?sg(i,e,n+1):i}function OL(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ym(s))return;const a=sg(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!Ym(s))continue;const a=sg(s,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const IL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),q_=t=>IL.has(t),ML=t=>Object.keys(t).some(q_),_S=t=>t===Bs||t===me,NS=(t,e)=>parseFloat(t.split(", ")[e]),RS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return NS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?NS(s[1],t):0}},jL=new Set(["x","y","z"]),PL=Jc.filter(t=>!jL.has(t));function DL(t){const e=[];return PL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:RS(4,13),y:RS(5,14)};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const UL=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Ba[u](r,s)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(o[u]),t[u]=Ba[u](c,s)}),t},LL=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(q_);let s=[],a=!1;const o=[];if(i.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],d=go(h);const f=e[c];let m;if(ud(f)){const S=f.length,b=f[0]===null?1:0;h=f[b],d=go(h);for(let A=b;A<S&&f[A]!==null;A++)m?zy(go(f[A])===m):m=go(f[A])}else m=go(f);if(d!==m)if(_S(d)&&_S(m)){const S=u.get();typeof S=="string"&&u.set(parseFloat(S)),typeof f=="string"?e[c]=parseFloat(f):Array.isArray(f)&&m===me&&(e[c]=f.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||f===0)?h===0?u.set(m.transform(h)):e[c]=d.transform(f):(a||(s=DL(t),a=!0),o.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(f))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=UL(e,t,o);return s.length&&s.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),lh&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function HL(t,e,n,r){return ML(e)?LL(t,e,n,r):{target:e,transitionEnd:r}}const BL=(t,e,n,r)=>{const i=OL(t,e,r);return e=i.target,r=i.transitionEnd,HL(t,e,n,r)},ag={current:null},G_={current:!1};function zL(){if(G_.current=!0,!!lh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ag.current=t.matches;t.addListener(e),e()}else ag.current=!1}function VL(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(gn(s))t.addValue(i,s),md(r)&&r.add(i);else if(gn(a))t.addValue(i,Ha(s,{owner:t})),md(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Ha(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const kS=new WeakMap,K_=Object.keys(Rc),FL=K_.length,OS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qL=Iy.length;class GL{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$e.render(this.render,!1,!0);const{latestValues:o,renderState:c}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=dh(n),this.isVariantNode=kE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const f=h[d];o[d]!==void 0&&gn(f)&&(f.set(o[d],!1),md(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,kS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),G_.current||zL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ag.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kS.delete(this.current),this.projection&&this.projection.unmount(),ri(this.notifyUpdate),ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Hs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&$e.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let c=0;c<FL;c++){const u=K_[c],{isEnabled:h,Feature:d,ProjectionNode:f,MeasureLayout:m}=Rc[u];f&&(a=f),h(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!h||d&&la(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OS.length;r++){const i=OS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=VL(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qL;r++){const i=Iy[r],s=this.props[i];(Nc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ha(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=By(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!gn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class $_ extends GL{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let a=cU(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){aU(this,r,a);const o=BL(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function KL(t){return window.getComputedStyle(t)}class $L extends $_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Hs.has(n)){const r=Gy(n);return r&&r.default||0}else{const r=KL(e),i=(jE(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return j_(e,n)}build(e,n,r,i){Py(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Hy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){BE(e,n,r,i)}}class YL extends $_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Hs.has(n)){const r=Gy(n);return r&&r.default||0}return n=zE.has(n)?n:ky(n),e.getAttribute(n)}measureInstanceViewportBox(){return yt()}scrapeMotionValuesFromProps(e,n){return FE(e,n)}build(e,n,r,i){Uy(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){VE(e,n,r,i)}mount(e){this.isSVGTag=Ly(e.tagName),super.mount(e)}}const QL=(t,e)=>jy(t)?new YL(e,{enableHardwareAcceleration:!1}):new $L(e,{enableHardwareAcceleration:!0}),XL={layout:{ProjectionNode:F_,MeasureLayout:D_}},JL={...wU,...FP,...NL,...XL},Tt=Z2((t,e)=>kP(t,e,JL,QL));function Y_(){const t=w.useRef(!1);return Ry(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ZL(){const t=Y_(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>$e.postRender(r),[r]),e]}class WL extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eH({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:c}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),w.createElement(WL,{isPresent:e,childRef:r,sizeRef:i},w.cloneElement(t,{ref:r}))}const Af=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=qE(tH),c=w.useId(),u=w.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{o.set(h,!0);for(const d of o.values())if(!d)return;r&&r()},register:h=>(o.set(h,!1),()=>o.delete(h))}),s?void 0:[n]);return w.useMemo(()=>{o.forEach((h,d)=>o.set(d,!1))},[n]),w.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=w.createElement(eH,{isPresent:n},t)),w.createElement(ch.Provider,{value:u},t)};function tH(){return new Map}function nH(t){return w.useEffect(()=>()=>t(),[])}const us=t=>t.key||"";function rH(t,e){t.forEach(n=>{const r=us(n);e.set(r,n)})}function iH(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const sH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=w.useContext(My).forceRender||ZL()[0],c=Y_(),u=iH(t);let h=u;const d=w.useRef(new Map).current,f=w.useRef(h),m=w.useRef(new Map).current,S=w.useRef(!0);if(Ry(()=>{S.current=!1,rH(u,m),f.current=h}),nH(()=>{S.current=!0,m.clear(),d.clear()}),S.current)return w.createElement(w.Fragment,null,h.map(g=>w.createElement(Af,{key:us(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},g)));h=[...h];const b=f.current.map(us),A=u.map(us),y=b.length;for(let g=0;g<y;g++){const p=b[g];A.indexOf(p)===-1&&!d.has(p)&&d.set(p,void 0)}return a==="wait"&&d.size&&(h=[]),d.forEach((g,p)=>{if(A.indexOf(p)!==-1)return;const v=m.get(p);if(!v)return;const E=b.indexOf(p);let T=g;if(!T){const C=()=>{d.delete(p);const x=Array.from(m.keys()).filter(N=>!A.includes(N));if(x.forEach(N=>m.delete(N)),f.current=u.filter(N=>{const M=us(N);return M===p||x.includes(M)}),!d.size){if(c.current===!1)return;o(),r&&r()}};T=w.createElement(Af,{key:us(v),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:s,mode:a},v),d.set(p,T)}h.splice(E,0,T)}),h=h.map(g=>{const p=g.key;return d.has(p)?g:w.createElement(Af,{key:us(g),isPresent:!0,presenceAffectsLayout:s,mode:a},g)}),w.createElement(w.Fragment,null,d.size?h:h.map(g=>w.cloneElement(g)))};function Bt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var aH=typeof Symbol=="function"&&Symbol.observable||"@@observable",IS=aH,Ef=()=>Math.random().toString(36).substring(7).split("").join("."),oH={INIT:`@@redux/INIT${Ef()}`,REPLACE:`@@redux/REPLACE${Ef()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ef()}`},pd=oH;function Jy(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Zy(t,e,n){if(typeof t!="function")throw new Error(Bt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bt(1));return n(Zy)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((A,y)=>{a.set(y,A)}))}function h(){if(c)throw new Error(Bt(3));return i}function d(A){if(typeof A!="function")throw new Error(Bt(4));if(c)throw new Error(Bt(5));let y=!0;u();const g=o++;return a.set(g,A),function(){if(y){if(c)throw new Error(Bt(6));y=!1,u(),a.delete(g),s=null}}}function f(A){if(!Jy(A))throw new Error(Bt(7));if(typeof A.type>"u")throw new Error(Bt(8));if(typeof A.type!="string")throw new Error(Bt(17));if(c)throw new Error(Bt(9));try{c=!0,i=r(i,A)}finally{c=!1}return(s=a).forEach(g=>{g()}),A}function m(A){if(typeof A!="function")throw new Error(Bt(10));r=A,f({type:pd.REPLACE})}function S(){const A=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Bt(11));function g(){const v=y;v.next&&v.next(h())}return g(),{unsubscribe:A(g)}},[IS](){return this}}}return f({type:pd.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:m,[IS]:S}}function cH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:pd.INIT})>"u")throw new Error(Bt(12));if(typeof n(void 0,{type:pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function Q_(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{cH(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let c=!1;const u={};for(let h=0;h<r.length;h++){const d=r[h],f=n[d],m=a[d],S=f(m,o);if(typeof S>"u")throw o&&o.type,new Error(Bt(14));u[d]=S,c=c||S!==m}return c=c||r.length!==Object.keys(a).length,c?u:a}}function yd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function lH(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Bt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},o=t.map(c=>c(a));return s=yd(...o)(i.dispatch),{...i,dispatch:s}}}function uH(t){return Jy(t)&&"type"in t&&typeof t.type=="string"}var X_=Symbol.for("immer-nothing"),MS=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function Jn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var za=Object.getPrototypeOf;function Is(t){return!!t&&!!t[On]}function ii(t){var e;return t?J_(t)||Array.isArray(t)||!!t[MS]||!!((e=t.constructor)!=null&&e[MS])||tl(t)||ph(t):!1}var dH=Object.prototype.constructor.toString();function J_(t){if(!t||typeof t!="object")return!1;const e=za(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dH}function vd(t,e){gh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function gh(t){const e=t[On];return e?e.type_:Array.isArray(t)?1:tl(t)?2:ph(t)?3:0}function og(t,e){return gh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z_(t,e,n){const r=gh(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function hH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tl(t){return t instanceof Map}function ph(t){return t instanceof Set}function ds(t){return t.copy_||t.base_}function cg(t,e){if(tl(t))return new Map(t);if(ph(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=J_(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[On];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(za(t),r)}else{const r=za(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Wy(t,e=!1){return yh(t)||Is(t)||!ii(t)||(gh(t)>1&&Object.defineProperties(t,{set:{value:Dl},add:{value:Dl},clear:{value:Dl},delete:{value:Dl}}),Object.freeze(t),e&&Object.values(t).forEach(n=>Wy(n,!0))),t}function Dl(){Jn(2)}function yh(t){return Object.isFrozen(t)}var fH={};function Ms(t){const e=fH[t];return e||Jn(0,t),e}var Oc;function W_(){return Oc}function mH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jS(t,e){e&&(Ms("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lg(t){ug(t),t.drafts_.forEach(gH),t.drafts_=null}function ug(t){t===Oc&&(Oc=t.parent_)}function PS(t){return Oc=mH(Oc,t)}function gH(t){const e=t[On];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[On].modified_&&(lg(e),Jn(4)),ii(t)&&(t=bd(e,t),e.parent_||Sd(e,t)),e.patches_&&Ms("Patches").generateReplacementPatches_(n[On].base_,t,e.patches_,e.inversePatches_)):t=bd(e,n,[]),lg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X_?t:void 0}function bd(t,e,n){if(yh(e))return e;const r=e[On];if(!r)return vd(e,(i,s)=>US(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Sd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),vd(s,(o,c)=>US(t,r,i,o,c,n,a)),Sd(t,i,!1),n&&t.patches_&&Ms("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function US(t,e,n,r,i,s,a){if(Is(i)){const o=s&&e&&e.type_!==3&&!og(e.assigned_,r)?s.concat(r):void 0,c=bd(t,i,o);if(Z_(n,r,c),Is(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ii(i)&&!yh(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(tl(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sd(t,i)}}function Sd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Wy(e,n)}function pH(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:W_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ev;n&&(i=[r],s=Ic);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var ev={get(t,e){if(e===On)return t;const n=ds(t);if(!og(n,e))return yH(t,n,e);const r=n[e];return t.finalized_||!ii(r)?r:r===_f(t.base_,e)?(Nf(t),t.copy_[e]=hg(r,t)):r},has(t,e){return e in ds(t)},ownKeys(t){return Reflect.ownKeys(ds(t))},set(t,e,n){const r=eN(ds(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_f(ds(t),e),s=i==null?void 0:i[On];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(hH(n,i)&&(n!==void 0||og(t.base_,e)))return!0;Nf(t),dg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _f(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Nf(t),dg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ds(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Jn(11)},getPrototypeOf(t){return za(t.base_)},setPrototypeOf(){Jn(12)}},Ic={};vd(ev,(t,e)=>{Ic[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ic.deleteProperty=function(t,e){return Ic.set.call(this,t,e,void 0)};Ic.set=function(t,e,n){return ev.set.call(this,t[0],e,n,t[0])};function _f(t,e){const n=t[On];return(n?ds(n):t)[e]}function yH(t,e,n){var i;const r=eN(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function eN(t,e){if(!(e in t))return;let n=za(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=za(n)}}function dg(t){t.modified_||(t.modified_=!0,t.parent_&&dg(t.parent_))}function Nf(t){t.copy_||(t.copy_=cg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...u){return a.produce(c,h=>n.call(this,h,...u))}}typeof n!="function"&&Jn(6),r!==void 0&&typeof r!="function"&&Jn(7);let i;if(ii(e)){const s=PS(this),a=hg(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?lg(s):ug(s)}return jS(s,r),DS(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===X_&&(i=void 0),this.autoFreeze_&&Wy(i,!0),r){const s=[],a=[];Ms("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Jn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,c=>e(c,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ii(t)||Jn(8),Is(t)&&(t=bH(t));const e=PS(this),n=hg(t,void 0);return n[On].isManual_=!0,ug(e),n}finishDraft(t,e){const n=t&&t[On];(!n||!n.isManual_)&&Jn(9);const{scope_:r}=n;return jS(r,e),DS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ms("Patches").applyPatches_;return Is(t)?r(t,e):this.produce(t,i=>r(i,e))}};function hg(t,e){const n=tl(t)?Ms("MapSet").proxyMap_(t,e):ph(t)?Ms("MapSet").proxySet_(t,e):pH(t,e);return(e?e.scope_:W_()).drafts_.push(n),n}function bH(t){return Is(t)||Jn(10,t),tN(t)}function tN(t){if(!ii(t)||yh(t))return t;const e=t[On];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=cg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=cg(t,!0);return vd(n,(r,i)=>{Z_(n,r,tN(i))}),e&&(e.finalized_=!1),n}var SH=new vH,nN=SH.produce;function rN(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var CH=rN(),xH=rN,wH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yd:yd.apply(null,arguments)},TH=t=>t&&typeof t.match=="function";function rc(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>uH(r)&&r.type===t,n}var iN=class Oo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Oo.prototype)}static get[Symbol.species](){return Oo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Oo(...e[0].concat(this)):new Oo(...e.concat(this))}};function LS(t){return ii(t)?nN(t,()=>{}):t}function Ul(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function AH(t){return typeof t=="boolean"}var EH=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new iN;return n&&(AH(n)?a.push(CH):a.push(xH(n.extraArgument))),a},_H="RTK_autoBatch",HS=t=>e=>{setTimeout(e,t)},NH=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HS(10):t.type==="callback"?t.queueNotification:HS(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const d=()=>i&&h(),f=r.subscribe(d);return o.add(h),()=>{f(),o.delete(h)}},dispatch(h){var d;try{return i=!((d=h==null?void 0:h.meta)!=null&&d[_H]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(h)}finally{i=!0}}})},RH=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new iN(t);return r&&i.push(NH(typeof r=="object"?r:void 0)),i};function kH(t){const e=EH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Jy(n))o=Q_(n);else throw new Error(Xr(1));let c;typeof r=="function"?c=r(e):c=e();let u=yd;i&&(u=wH({trace:!1,...typeof i=="object"&&i}));const h=lH(...c),d=RH(h);let f=typeof a=="function"?a(d):d();const m=u(...f);return Zy(o,s,m)}function sN(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Xr(28));if(o in e)throw new Error(Xr(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function OH(t){return typeof t=="function"}function IH(t,e){let[n,r,i]=sN(e),s;if(OH(t))s=()=>LS(t());else{const o=LS(t);s=()=>o}function a(o=s(),c){let u=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[i]),u.reduce((h,d)=>{if(d)if(Is(h)){const m=d(h,c);return m===void 0?h:m}else{if(ii(h))return nN(h,f=>d(f,c));{const f=d(h,c);if(f===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return h},o)}return a.getInitialState=s,a}var MH=(t,e)=>TH(t)?t.match(e):t(e);function jH(...t){return e=>t.some(n=>MH(n,e))}var PH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DH=(t=21)=>{let e="",n=t;for(;n--;)e+=PH[Math.random()*64|0];return e},UH=["name","message","stack","code"],Rf=class{constructor(t,e){xh(this,"_type");this.payload=t,this.meta=e}},BS=class{constructor(t,e){xh(this,"_type");this.payload=t,this.meta=e}},LH=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of UH)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},zS="External signal was aborted",_r=(()=>{function t(e,n,r){const i=rc(e+"/fulfilled",(c,u,h,d)=>({payload:c,meta:{...d||{},arg:h,requestId:u,requestStatus:"fulfilled"}})),s=rc(e+"/pending",(c,u,h)=>({payload:void 0,meta:{...h||{},arg:u,requestId:c,requestStatus:"pending"}})),a=rc(e+"/rejected",(c,u,h,d,f)=>({payload:d,error:(r&&r.serializeError||LH)(c||"Rejected"),meta:{...f||{},arg:h,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function o(c,{signal:u}={}){return(h,d,f)=>{const m=r!=null&&r.idGenerator?r.idGenerator(c):DH(),S=new AbortController;let b,A;function y(p){A=p,S.abort()}u&&(u.aborted?y(zS):u.addEventListener("abort",()=>y(zS),{once:!0}));const g=async function(){var E,T;let p;try{let C=(E=r==null?void 0:r.condition)==null?void 0:E.call(r,c,{getState:d,extra:f});if(BH(C)&&(C=await C),C===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const x=new Promise((N,M)=>{b=()=>{M({name:"AbortError",message:A||"Aborted"})},S.signal.addEventListener("abort",b)});h(s(m,c,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:m,arg:c},{getState:d,extra:f}))),p=await Promise.race([x,Promise.resolve(n(c,{dispatch:h,getState:d,extra:f,requestId:m,signal:S.signal,abort:y,rejectWithValue:(N,M)=>new Rf(N,M),fulfillWithValue:(N,M)=>new BS(N,M)})).then(N=>{if(N instanceof Rf)throw N;return N instanceof BS?i(N.payload,m,c,N.meta):i(N,m,c)})])}catch(C){p=C instanceof Rf?a(null,m,c,C.payload,C.meta):a(C,m,c)}finally{b&&S.signal.removeEventListener("abort",b)}return r&&!r.dispatchConditionRejection&&a.match(p)&&p.meta.condition||h(p),p}();return Object.assign(g,{abort:y,requestId:m,arg:c,unwrap(){return g.then(HH)}})}}return Object.assign(o,{pending:s,rejected:a,fulfilled:i,settled:jH(a,i),typePrefix:e})}return t.withTypes=()=>t,t})();function HH(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BH(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zH=Symbol.for("rtk-slice-createasyncthunk");function VH(t,e){return`${t}/${e}`}function FH({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[zH];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Xr(11));const o=(typeof i.reducers=="function"?i.reducers(GH()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(v,E){const T=typeof v=="string"?v:v.type;if(!T)throw new Error(Xr(12));if(T in u.sliceCaseReducersByType)throw new Error(Xr(13));return u.sliceCaseReducersByType[T]=E,h},addMatcher(v,E){return u.sliceMatchers.push({matcher:v,reducer:E}),h},exposeAction(v,E){return u.actionCreators[v]=E,h},exposeCaseReducer(v,E){return u.sliceCaseReducersByName[v]=E,h}};c.forEach(v=>{const E=o[v],T={reducerName:v,type:VH(s,v),createNotation:typeof i.reducers=="function"};$H(E)?QH(T,E,h,e):KH(T,E,h)});function d(){const[v={},E=[],T=void 0]=typeof i.extraReducers=="function"?sN(i.extraReducers):[i.extraReducers],C={...v,...u.sliceCaseReducersByType};return IH(i.initialState,x=>{for(let N in C)x.addCase(N,C[N]);for(let N of u.sliceMatchers)x.addMatcher(N.matcher,N.reducer);for(let N of E)x.addMatcher(N.matcher,N.reducer);T&&x.addDefaultCase(T)})}const f=v=>v,m=new Map,S=new WeakMap;let b;function A(v,E){return b||(b=d()),b(v,E)}function y(){return b||(b=d()),b.getInitialState()}function g(v,E=!1){function T(x){let N=x[v];return typeof N>"u"&&E&&(N=Ul(S,T,y)),N}function C(x=f){const N=Ul(m,E,()=>new WeakMap);return Ul(N,x,()=>{const M={};for(const[F,D]of Object.entries(i.selectors??{}))M[F]=qH(D,x,()=>Ul(S,x,y),E);return M})}return{reducerPath:v,getSelectors:C,get selectors(){return C(T)},selectSlice:T}}const p={name:s,reducer:A,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...g(a),injectInto(v,{reducerPath:E,...T}={}){const C=E??a;return v.inject({reducerPath:C,reducer:A},T),{...p,...g(C,!0)}}};return p}}function qH(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var nl=FH();function GH(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function KH({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!YH(r))throw new Error(Xr(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?rc(t,a):rc(t))}function $H(t){return t._reducerDefinitionType==="asyncThunk"}function YH(t){return t._reducerDefinitionType==="reducerWithPrepare"}function QH({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xr(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:c,settled:u,options:h}=n,d=i(t,s,h);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),o&&r.addCase(d.pending,o),c&&r.addCase(d.rejected,c),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:a||Ll,pending:o||Ll,rejected:c||Ll,settled:u||Ll})}function Ll(){}function Xr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tv="persist:",aN="persist/FLUSH",nv="persist/REHYDRATE",oN="persist/PAUSE",cN="persist/PERSIST",lN="persist/PURGE",uN="persist/REGISTER",XH=-1;function ou(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ou=function(n){return typeof n}:ou=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ou(t)}function VS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VS(n,!0).forEach(function(r){ZH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZH(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WH(t,e,n,r){r.debug;var i=JH({},n);return t&&ou(t)==="object"&&Object.keys(t).forEach(function(s){s!=="_persist"&&e[s]===n[s]&&(i[s]=t[s])}),i}function eB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,s="".concat(t.keyPrefix!==void 0?t.keyPrefix:tv).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(E){return E}:typeof t.serialize=="function"?o=t.serialize:o=tB;var c=t.writeFailHandler||null,u={},h={},d=[],f=null,m=null,S=function(E){Object.keys(E).forEach(function(T){y(T)&&u[T]!==E[T]&&d.indexOf(T)===-1&&d.push(T)}),Object.keys(u).forEach(function(T){E[T]===void 0&&y(T)&&d.indexOf(T)===-1&&u[T]!==void 0&&d.push(T)}),f===null&&(f=setInterval(b,i)),u=E};function b(){if(d.length===0){f&&clearInterval(f),f=null;return}var v=d.shift(),E=r.reduce(function(T,C){return C.in(T,v,u)},u[v]);if(E!==void 0)try{h[v]=o(E)}catch(T){console.error("redux-persist/createPersistoid: error serializing state",T)}else delete h[v];d.length===0&&A()}function A(){Object.keys(h).forEach(function(v){u[v]===void 0&&delete h[v]}),m=a.setItem(s,o(h)).catch(g)}function y(v){return!(n&&n.indexOf(v)===-1&&v!=="_persist"||e&&e.indexOf(v)!==-1)}function g(v){c&&c(v)}var p=function(){for(;d.length!==0;)b();return m||Promise.resolve()};return{update:S,flush:p}}function tB(t){return JSON.stringify(t)}function nB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:tv).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(a){return a}:typeof t.deserialize=="function"?i=t.deserialize:i=rB,r.getItem(n).then(function(s){if(s)try{var a={},o=i(s);return Object.keys(o).forEach(function(c){a[c]=e.reduceRight(function(u,h){return h.out(u,c,o)},i(o[c]))}),a}catch(c){throw c}else return})}function rB(t){return JSON.parse(t)}function iB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:tv).concat(t.key);return e.removeItem(n,sB)}function sB(t){}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(n,!0).forEach(function(r){aB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oB(t,e){if(t==null)return{};var n=cB(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cB(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lB=5e3;function uB(t,e){var n=t.version!==void 0?t.version:XH;t.debug;var r=t.stateReconciler===void 0?WH:t.stateReconciler,i=t.getStoredState||nB,s=t.timeout!==void 0?t.timeout:lB,a=null,o=!1,c=!0,u=function(d){return d._persist.rehydrated&&a&&!c&&a.update(d),d};return function(h,d){var f=h||{},m=f._persist,S=oB(f,["_persist"]),b=S;if(d.type===cN){var A=!1,y=function(x,N){A||(d.rehydrate(t.key,x,N),A=!0)};if(s&&setTimeout(function(){!A&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},s),c=!1,a||(a=eB(t)),m)return jr({},e(b,d),{_persist:m});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),i(t).then(function(C){var x=t.migrate||function(N,M){return Promise.resolve(N)};x(C,n).then(function(N){y(N)},function(N){y(void 0,N)})},function(C){y(void 0,C)}),jr({},e(b,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===lN)return o=!0,d.result(iB(t)),jr({},e(b,d),{_persist:m});if(d.type===aN)return d.result(a&&a.flush()),jr({},e(b,d),{_persist:m});if(d.type===oN)c=!0;else if(d.type===nv){if(o)return jr({},b,{_persist:jr({},m,{rehydrated:!0})});if(d.key===t.key){var g=e(b,d),p=d.payload,v=r!==!1&&p!==void 0?r(p,h,g,t):g,E=jr({},v,{_persist:jr({},m,{rehydrated:!0})});return u(E)}}}if(!m)return e(h,d);var T=e(b,d);return T===b?h:u(jr({},T,{_persist:m}))}}function qS(t){return fB(t)||hB(t)||dB()}function dB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function hB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function fB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function GS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GS(n,!0).forEach(function(r){mB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GS(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dN={registry:[],bootstrapped:!1},gB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dN,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case uN:return fg({},e,{registry:[].concat(qS(e.registry),[n.key])});case nv:var r=e.registry.indexOf(n.key),i=qS(e.registry);return i.splice(r,1),fg({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function pB(t,e,n){var r=Zy(gB,dN,void 0),i=function(c){r.dispatch({type:uN,key:c})},s=function(c,u,h){var d={type:nv,payload:u,err:h,key:c};t.dispatch(d),r.dispatch(d)},a=fg({},r,{purge:function(){var c=[];return t.dispatch({type:lN,result:function(h){c.push(h)}}),Promise.all(c)},flush:function(){var c=[];return t.dispatch({type:aN,result:function(h){c.push(h)}}),Promise.all(c)},pause:function(){t.dispatch({type:oN})},persist:function(){t.dispatch({type:cN,register:i,rehydrate:s})}});return a.persist(),a}var rv={},iv={};iv.__esModule=!0;iv.default=bB;function cu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cu=function(n){return typeof n}:cu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cu(t)}function kf(){}var yB={getItem:kf,setItem:kf,removeItem:kf};function vB(t){if((typeof self>"u"?"undefined":cu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function bB(t){var e="".concat(t,"Storage");return vB(e)?self[e]:yB}rv.__esModule=!0;rv.default=xB;var SB=CB(iv);function CB(t){return t&&t.__esModule?t:{default:t}}function xB(t){var e=(0,SB.default)(t);return{getItem:function(r){return new Promise(function(i,s){i(e.getItem(r))})},setItem:function(r,i){return new Promise(function(s,a){s(e.setItem(r,i))})},removeItem:function(r){return new Promise(function(i,s){i(e.removeItem(r))})}}}var hN=void 0,wB=TB(rv);function TB(t){return t&&t.__esModule?t:{default:t}}var AB=(0,wB.default)("local");hN=AB;const EB={phoneNumbers:[],isLoading:!1,error:null,selectedPhoneNumbers:[],filters:{status:[],search:""}},lu=_r("phoneNumbers/addBulk",async t=>ro(`${no.PHONE_NUMBERS}/bulk`,{method:"POST",body:JSON.stringify(t)})),ic=_r("phoneNumbers/fetchAll",async()=>ro(`${no.PHONE_NUMBERS}/`)),_B=_r("phoneNumbers/updateStatus",async({id:t,status:e})=>ro(`${no.PHONE_NUMBERS}/${t}`,{method:"PUT",body:JSON.stringify({status:e})})),fN=nl({name:"phoneNumbers",initialState:EB,reducers:{setSelectedPhoneNumbers:(t,e)=>{t.selectedPhoneNumbers=e.payload},togglePhoneNumberSelection:(t,e)=>{const n=e.payload,r=t.selectedPhoneNumbers.indexOf(n);r>-1?t.selectedPhoneNumbers.splice(r,1):t.selectedPhoneNumbers.push(n)},clearSelection:t=>{t.selectedPhoneNumbers=[]},setStatusFilter:(t,e)=>{t.filters.status=e.payload},setSearchFilter:(t,e)=>{t.filters.search=e.payload},clearFilters:t=>{t.filters={status:[],search:""}},resetLoadingState:t=>{t.isLoading=!1,t.error=null}},extraReducers:t=>{t.addCase(lu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lu.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers.push(...n.payload.phone_numbers)}).addCase(lu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to add phone numbers"}).addCase(ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ic.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers=n.payload}).addCase(ic.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch phone numbers"}).addCase(_B.fulfilled,(e,n)=>{const r=e.phoneNumbers.findIndex(i=>i.id===n.payload.id);r!==-1&&(e.phoneNumbers[r]=n.payload)})}}),{setSelectedPhoneNumbers:G4,togglePhoneNumberSelection:K4,clearSelection:$4,setStatusFilter:Y4,setSearchFilter:Q4,clearFilters:X4,resetLoadingState:yo}=fN.actions,NB=fN.reducer,RB={crmStatuses:[],isLoading:!1,error:null,demoTotal:0,stats:{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}}},sc=_r("crmStatus/fetchAll",async()=>ro(`${no.CRM_INTEGRATIONS}/statuses`)),kB=_r("crmStatus/fetchByPhone",async t=>ro(`${no.CRM_INTEGRATIONS}/status/${t}`)),OB=_r("crmStatus/retryRemoval",async({phoneNumberId:t,crmSystem:e})=>ro(`${no.CRM_INTEGRATIONS}/retry-removal`,{method:"POST",body:JSON.stringify({phone_number_id:t,crm_system:e})})),mN=nl({name:"crmStatus",initialState:RB,reducers:{updateCRMStatus:(t,e)=>{const n=t.crmStatuses.findIndex(r=>r.id===e.payload.id);n!==-1?t.crmStatuses[n]=e.payload:t.crmStatuses.push(e.payload),t.stats=vo(t.crmStatuses)},addCRMStatus:(t,e)=>{t.crmStatuses.push(e.payload),t.stats=vo(t.crmStatuses)},clearCRMStatuses:t=>{t.crmStatuses=[],t.stats={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},t.demoTotal=0},initDemoStats:(t,e)=>{const n=e.payload,r={total:0,pending:n,processing:0,completed:0,failed:0};t.stats={logics:{...r},genesys:{...r},ringcentral:{...r},convoso:{...r},ytel:{...r}},t.demoTotal=n},setCRMStats:(t,e)=>{const{crm:n,stats:r}=e.payload;t.stats[n]=r},clearDemoTotal:t=>{t.demoTotal=0}},extraReducers:t=>{t.addCase(sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sc.fulfilled,(e,n)=>{e.isLoading=!1,e.crmStatuses=n.payload,e.stats=vo(n.payload)}).addCase(sc.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch CRM statuses"}).addCase(kB.fulfilled,(e,n)=>{n.payload.forEach(r=>{const i=e.crmStatuses.findIndex(s=>s.id===r.id);i!==-1?e.crmStatuses[i]=r:e.crmStatuses.push(r)}),e.stats=vo(e.crmStatuses)}).addCase(OB.fulfilled,(e,n)=>{const r=e.crmStatuses.findIndex(i=>i.id===n.payload.id);r!==-1&&(e.crmStatuses[r]=n.payload),e.stats=vo(e.crmStatuses)})}});function vo(t){const e={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}};return t.forEach(n=>{const r=n.crm_system;e[r]&&(e[r].total++,e[r][n.status]++)}),e}const{updateCRMStatus:J4,addCRMStatus:Z4,clearCRMStatuses:W4,initDemoStats:IB,setCRMStats:MB}=mN.actions,jB=mN.reducer,PB={consents:[],isLoading:!1,error:null,filters:{consent_type:[],status:[],search:""}},Of=_r("consent/fetchAll",async()=>{const t=await fetch("/api/v1/consent");if(!t.ok)throw new Error("Failed to fetch consents");return t.json()}),DB=_r("consent/fetchByPhone",async t=>{const e=await fetch(`/api/v1/consent/${t}`);if(!e.ok)throw new Error("Failed to fetch consent for phone number");return e.json()}),UB=_r("consent/update",async t=>{const e=await fetch(`/api/v1/consent/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to update consent");return e.json()}),LB=_r("consent/add",async t=>{const e=await fetch("/api/v1/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to add consent");return e.json()}),gN=nl({name:"consent",initialState:PB,reducers:{setConsentTypeFilter:(t,e)=>{t.filters.consent_type=e.payload},setConsentStatusFilter:(t,e)=>{t.filters.status=e.payload},setConsentSearchFilter:(t,e)=>{t.filters.search=e.payload},clearConsentFilters:t=>{t.filters={consent_type:[],status:[],search:""}}},extraReducers:t=>{t.addCase(Of.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Of.fulfilled,(e,n)=>{e.isLoading=!1,e.consents=n.payload}).addCase(Of.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch consents"}).addCase(DB.fulfilled,(e,n)=>{n.payload.forEach(r=>{const i=e.consents.findIndex(s=>s.id===r.id);i!==-1?e.consents[i]=r:e.consents.push(r)})}).addCase(UB.fulfilled,(e,n)=>{const r=e.consents.findIndex(i=>i.id===n.payload.id);r!==-1&&(e.consents[r]=n.payload)}).addCase(LB.fulfilled,(e,n)=>{e.consents.push(n.payload)})}}),{setConsentTypeFilter:e3,setConsentStatusFilter:t3,setConsentSearchFilter:n3,clearConsentFilters:r3}=gN.actions,HB=gN.reducer,BB={notifications:[],isLoading:!1,error:null,success:null},pN=nl({name:"ui",initialState:BB,reducers:{addNotification:(t,e)=>{const n={...e.payload,id:Date.now().toString(),timestamp:Date.now()};t.notifications.push(n)},removeNotification:(t,e)=>{t.notifications=t.notifications.filter(n=>n.id!==e.payload)},clearNotifications:t=>{t.notifications=[]},setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload},setSuccess:(t,e)=>{t.success=e.payload},clearMessages:t=>{t.error=null,t.success=null}}}),{addNotification:bo,removeNotification:i3,clearNotifications:s3,setLoading:a3,setError:o3,setSuccess:c3,clearMessages:l3}=pN.actions,zB=pN.reducer,VB={organizationId:1,userId:1,role:"member"},yN=nl({name:"demoAuth",initialState:VB,reducers:{setRole(t,e){t.role=e.payload},setOrganization(t,e){t.organizationId=e.payload},setUser(t,e){t.userId=e.payload},setSuperAdmin(t){t.role="superadmin",t.userId=1,t.organizationId=1}}}),{setRole:Hl,setOrganization:u3,setUser:d3,setSuperAdmin:h3}=yN.actions,FB=yN.reducer,qB={key:"do-not-call-root",storage:hN,whitelist:["ui","demoAuth"]},GB=Q_({phoneNumbers:NB,crmStatus:jB,consent:HB,ui:zB,demoAuth:FB}),KB=uB(qB,GB),vN=kH({reducer:KB,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),$B=pB(vN);var rl=t=>t.type==="checkbox",gs=t=>t instanceof Date,Wt=t=>t==null;const bN=t=>typeof t=="object";var mt=t=>!Wt(t)&&!Array.isArray(t)&&bN(t)&&!gs(t),YB=t=>mt(t)&&t.target?rl(t.target)?t.target.checked:t.target.value:t,QB=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XB=(t,e)=>t.has(QB(e)),JB=t=>{const e=t.constructor&&t.constructor.prototype;return mt(e)&&e.hasOwnProperty("isPrototypeOf")},sv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function It(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(sv&&(t instanceof Blob||r))&&(n||mt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!JB(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=It(t[i]));else return t;return e}var vh=t=>/^\w*$/.test(t),St=t=>t===void 0,av=t=>Array.isArray(t)?t.filter(Boolean):[],ov=t=>av(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,n)=>{if(!e||!mt(t))return n;const r=(vh(e)?[e]:ov(e)).reduce((i,s)=>Wt(i)?i:i[s],t);return St(r)||r===t?St(t[e])?n:t[e]:r},gr=t=>typeof t=="boolean",We=(t,e,n)=>{let r=-1;const i=vh(e)?[e]:ov(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let c=n;if(r!==a){const u=t[o];c=mt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}};const KS={BLUR:"blur",FOCUS_OUT:"focusout"},Zn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZB=Q.createContext(null);ZB.displayName="HookFormContext";var WB=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Zn.all&&(e._proxyFormState[a]=!r||Zn.all),t[a]}});return i};const ez=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;var Sr=t=>typeof t=="string",tz=(t,e,n,r,i)=>Sr(t)?(r&&e.watch.add(t),oe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),oe(n,s))):(r&&(e.watchAll=!0),n),mg=t=>Wt(t)||!bN(t);function Ai(t,e,n=new WeakSet){if(mg(t)||mg(e))return t===e;if(gs(t)&&gs(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(gs(a)&&gs(o)||mt(a)&&mt(o)||Array.isArray(a)&&Array.isArray(o)?!Ai(a,o,n):a!==o)return!1}}return!0}var nz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ac=t=>Array.isArray(t)?t:[t],$S=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},cn=t=>mt(t)&&!Object.keys(t).length,cv=t=>t.type==="file",Wn=t=>typeof t=="function",Cd=t=>{if(!sv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},SN=t=>t.type==="select-multiple",lv=t=>t.type==="radio",rz=t=>lv(t)||rl(t),If=t=>Cd(t)&&t.isConnected;function iz(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=St(t)?r++:t[e[r++]];return t}function sz(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function gt(t,e){const n=Array.isArray(e)?e:vh(e)?[e]:ov(e),r=n.length===1?t:iz(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(mt(r)&&cn(r)||Array.isArray(r)&&sz(r))&&gt(t,n.slice(0,-1)),t}var CN=t=>{for(const e in t)if(Wn(t[e]))return!0;return!1};function xd(t,e={}){const n=Array.isArray(t);if(mt(t)||n)for(const r in t)Array.isArray(t[r])||mt(t[r])&&!CN(t[r])?(e[r]=Array.isArray(t[r])?[]:{},xd(t[r],e[r])):Wt(t[r])||(e[r]=!0);return e}function xN(t,e,n){const r=Array.isArray(t);if(mt(t)||r)for(const i in t)Array.isArray(t[i])||mt(t[i])&&!CN(t[i])?St(e)||mg(n[i])?n[i]=Array.isArray(t[i])?xd(t[i],[]):{...xd(t[i])}:xN(t[i],Wt(e)?{}:e[i],n[i]):n[i]=!Ai(t[i],e[i]);return n}var So=(t,e)=>xN(t,e,xd(e));const YS={value:!1,isValid:!1},QS={value:!0,isValid:!0};var wN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?QS:{value:t[0].value,isValid:!0}:QS:YS}return YS},TN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>St(t)?t:e?t===""?NaN:t&&+t:n&&Sr(t)?new Date(t):r?r(t):t;const XS={isValid:!1,value:null};var AN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,XS):XS;function JS(t){const e=t.ref;return cv(e)?e.files:lv(e)?AN(t.refs).value:SN(e)?[...e.selectedOptions].map(({value:n})=>n):rl(e)?wN(t.refs).value:TN(St(e.value)?t.ref.value:e.value,t)}var az=(t,e,n,r)=>{const i={};for(const s of t){const a=oe(e,s);a&&We(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},wd=t=>t instanceof RegExp,Co=t=>St(t)?t:wd(t)?t.source:mt(t)?wd(t.value)?t.value.source:t.value:t,ZS=t=>({isOnSubmit:!t||t===Zn.onSubmit,isOnBlur:t===Zn.onBlur,isOnChange:t===Zn.onChange,isOnAll:t===Zn.all,isOnTouch:t===Zn.onTouched});const WS="AsyncFunction";var oz=t=>!!t&&!!t.validate&&!!(Wn(t.validate)&&t.validate.constructor.name===WS||mt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===WS)),cz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),eC=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const oc=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=oe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(oc(o,e))break}else if(mt(o)&&oc(o,e))break}}};function tC(t,e,n){const r=oe(t,n);if(r||vh(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=oe(e,s),o=oe(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var lz=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return cn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Zn.all))},uz=(t,e,n)=>!t||!e||t===e||ac(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),dz=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hz=(t,e)=>!av(oe(t,e)).length&&gt(t,e),fz=(t,e,n)=>{const r=ac(oe(t,n));return We(r,"root",e[n]),We(t,n,r),t},uu=t=>Sr(t);function nC(t,e,n="validate"){if(uu(t)||Array.isArray(t)&&t.every(uu)||gr(t)&&!t)return{type:n,message:uu(t)?t:"",ref:e}}var qs=t=>mt(t)&&!wd(t)?t:{value:t,message:""},rC=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:h,min:d,max:f,pattern:m,validate:S,name:b,valueAsNumber:A,mount:y}=t._f,g=oe(n,b);if(!y||e.has(b))return{};const p=o?o[0]:a,v=D=>{i&&p.reportValidity&&(p.setCustomValidity(gr(D)?"":D||""),p.reportValidity())},E={},T=lv(a),C=rl(a),x=T||C,N=(A||cv(a))&&St(a.value)&&St(g)||Cd(a)&&a.value===""||g===""||Array.isArray(g)&&!g.length,M=nz.bind(null,b,r,E),F=(D,j,L,V=Pr.maxLength,I=Pr.minLength)=>{const K=D?j:L;E[b]={type:D?V:I,message:K,ref:a,...M(D?V:I,K)}};if(s?!Array.isArray(g)||!g.length:c&&(!x&&(N||Wt(g))||gr(g)&&!g||C&&!wN(o).isValid||T&&!AN(o).isValid)){const{value:D,message:j}=uu(c)?{value:!!c,message:c}:qs(c);if(D&&(E[b]={type:Pr.required,message:j,ref:p,...M(Pr.required,j)},!r))return v(j),E}if(!N&&(!Wt(d)||!Wt(f))){let D,j;const L=qs(f),V=qs(d);if(!Wt(g)&&!isNaN(g)){const I=a.valueAsNumber||g&&+g;Wt(L.value)||(D=I>L.value),Wt(V.value)||(j=I<V.value)}else{const I=a.valueAsDate||new Date(g),K=H=>new Date(new Date().toDateString()+" "+H),J=a.type=="time",k=a.type=="week";Sr(L.value)&&g&&(D=J?K(g)>K(L.value):k?g>L.value:I>new Date(L.value)),Sr(V.value)&&g&&(j=J?K(g)<K(V.value):k?g<V.value:I<new Date(V.value))}if((D||j)&&(F(!!D,L.message,V.message,Pr.max,Pr.min),!r))return v(E[b].message),E}if((u||h)&&!N&&(Sr(g)||s&&Array.isArray(g))){const D=qs(u),j=qs(h),L=!Wt(D.value)&&g.length>+D.value,V=!Wt(j.value)&&g.length<+j.value;if((L||V)&&(F(L,D.message,j.message),!r))return v(E[b].message),E}if(m&&!N&&Sr(g)){const{value:D,message:j}=qs(m);if(wd(D)&&!g.match(D)&&(E[b]={type:Pr.pattern,message:j,ref:a,...M(Pr.pattern,j)},!r))return v(j),E}if(S){if(Wn(S)){const D=await S(g,n),j=nC(D,p);if(j&&(E[b]={...j,...M(Pr.validate,j.message)},!r))return v(j.message),E}else if(mt(S)){let D={};for(const j in S){if(!cn(D)&&!r)break;const L=nC(await S[j](g,n),p,j);L&&(D={...L,...M(j,L.message)},v(L.message),r&&(E[b]=D))}if(!cn(D)&&(E[b]={ref:p,...D},!r))return E}}return v(!0),E};const mz={mode:Zn.onSubmit,reValidateMode:Zn.onChange,shouldFocusError:!0};function gz(t={}){let e={...mz,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=mt(e.defaultValues)||mt(e.values)?It(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:It(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const f={array:$S(),state:$S()},m=e.criteriaMode===Zn.all,S=_=>O=>{clearTimeout(u),u=setTimeout(_,O)},b=async _=>{if(!e.disabled&&(h.isValid||d.isValid||_)){const O=e.resolver?cn((await C()).errors):await N(r,!0);O!==n.isValid&&f.state.next({isValid:O})}},A=(_,O)=>{!e.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((_||Array.from(o.mount)).forEach(U=>{U&&(O?We(n.validatingFields,U,O):gt(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!cn(n.validatingFields)}))},y=(_,O=[],U,ee,X=!0,Z=!0)=>{if(ee&&U&&!e.disabled){if(a.action=!0,Z&&Array.isArray(oe(r,_))){const se=U(oe(r,_),ee.argA,ee.argB);X&&We(r,_,se)}if(Z&&Array.isArray(oe(n.errors,_))){const se=U(oe(n.errors,_),ee.argA,ee.argB);X&&We(n.errors,_,se),hz(n.errors,_)}if((h.touchedFields||d.touchedFields)&&Z&&Array.isArray(oe(n.touchedFields,_))){const se=U(oe(n.touchedFields,_),ee.argA,ee.argB);X&&We(n.touchedFields,_,se)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=So(i,s)),f.state.next({name:_,isDirty:F(_,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else We(s,_,O)},g=(_,O)=>{We(n.errors,_,O),f.state.next({errors:n.errors})},p=_=>{n.errors=_,f.state.next({errors:n.errors,isValid:!1})},v=(_,O,U,ee)=>{const X=oe(r,_);if(X){const Z=oe(s,_,St(U)?oe(i,_):U);St(Z)||ee&&ee.defaultChecked||O?We(s,_,O?Z:JS(X._f)):L(_,Z),a.mount&&b()}},E=(_,O,U,ee,X)=>{let Z=!1,se=!1;const ke={name:_};if(!e.disabled){if(!U||ee){(h.isDirty||d.isDirty)&&(se=n.isDirty,n.isDirty=ke.isDirty=F(),Z=se!==ke.isDirty);const He=Ai(oe(i,_),O);se=!!oe(n.dirtyFields,_),He?gt(n.dirtyFields,_):We(n.dirtyFields,_,!0),ke.dirtyFields=n.dirtyFields,Z=Z||(h.dirtyFields||d.dirtyFields)&&se!==!He}if(U){const He=oe(n.touchedFields,_);He||(We(n.touchedFields,_,U),ke.touchedFields=n.touchedFields,Z=Z||(h.touchedFields||d.touchedFields)&&He!==U)}Z&&X&&f.state.next(ke)}return Z?ke:{}},T=(_,O,U,ee)=>{const X=oe(n.errors,_),Z=(h.isValid||d.isValid)&&gr(O)&&n.isValid!==O;if(e.delayError&&U?(c=S(()=>g(_,U)),c(e.delayError)):(clearTimeout(u),c=null,U?We(n.errors,_,U):gt(n.errors,_)),(U?!Ai(X,U):X)||!cn(ee)||Z){const se={...ee,...Z&&gr(O)?{isValid:O}:{},errors:n.errors,name:_};n={...n,...se},f.state.next(se)}},C=async _=>{A(_,!0);const O=await e.resolver(s,e.context,az(_||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return A(_),O},x=async _=>{const{errors:O}=await C(_);if(_)for(const U of _){const ee=oe(O,U);ee?We(n.errors,U,ee):gt(n.errors,U)}else n.errors=O;return O},N=async(_,O,U={valid:!0})=>{for(const ee in _){const X=_[ee];if(X){const{_f:Z,...se}=X;if(Z){const ke=o.array.has(Z.name),He=X._f&&oz(X._f);He&&h.validatingFields&&A([ee],!0);const sn=await rC(X,o.disabled,s,m,e.shouldUseNativeValidation&&!O,ke);if(He&&h.validatingFields&&A([ee]),sn[Z.name]&&(U.valid=!1,O))break;!O&&(oe(sn,Z.name)?ke?fz(n.errors,sn,Z.name):We(n.errors,Z.name,sn[Z.name]):gt(n.errors,Z.name))}!cn(se)&&await N(se,O,U)}}return U.valid},M=()=>{for(const _ of o.unMount){const O=oe(r,_);O&&(O._f.refs?O._f.refs.every(U=>!If(U)):!If(O._f.ref))&&ie(_)}o.unMount=new Set},F=(_,O)=>!e.disabled&&(_&&O&&We(s,_,O),!Ai(H(),i)),D=(_,O,U)=>tz(_,o,{...a.mount?s:St(O)?i:Sr(_)?{[_]:O}:O},U,O),j=_=>av(oe(a.mount?s:i,_,e.shouldUnregister?oe(i,_,[]):[])),L=(_,O,U={})=>{const ee=oe(r,_);let X=O;if(ee){const Z=ee._f;Z&&(!Z.disabled&&We(s,_,TN(O,Z)),X=Cd(Z.ref)&&Wt(O)?"":O,SN(Z.ref)?[...Z.ref.options].forEach(se=>se.selected=X.includes(se.value)):Z.refs?rl(Z.ref)?Z.refs.forEach(se=>{(!se.defaultChecked||!se.disabled)&&(Array.isArray(X)?se.checked=!!X.find(ke=>ke===se.value):se.checked=X===se.value||!!X)}):Z.refs.forEach(se=>se.checked=se.value===X):cv(Z.ref)?Z.ref.value="":(Z.ref.value=X,Z.ref.type||f.state.next({name:_,values:It(s)})))}(U.shouldDirty||U.shouldTouch)&&E(_,X,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&k(_)},V=(_,O,U)=>{for(const ee in O){if(!O.hasOwnProperty(ee))return;const X=O[ee],Z=_+"."+ee,se=oe(r,Z);(o.array.has(_)||mt(X)||se&&!se._f)&&!gs(X)?V(Z,X,U):L(Z,X,U)}},I=(_,O,U={})=>{const ee=oe(r,_),X=o.array.has(_),Z=It(O);We(s,_,Z),X?(f.array.next({name:_,values:It(s)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&U.shouldDirty&&f.state.next({name:_,dirtyFields:So(i,s),isDirty:F(_,Z)})):ee&&!ee._f&&!Wt(Z)?V(_,Z,U):L(_,Z,U),eC(_,o)&&f.state.next({...n,name:_}),f.state.next({name:a.mount?_:void 0,values:It(s)})},K=async _=>{a.mount=!0;const O=_.target;let U=O.name,ee=!0;const X=oe(r,U),Z=He=>{ee=Number.isNaN(He)||gs(He)&&isNaN(He.getTime())||Ai(He,oe(s,U,He))},se=ZS(e.mode),ke=ZS(e.reValidateMode);if(X){let He,sn;const Nr=O.type?JS(X._f):YB(_),lr=_.type===KS.BLUR||_.type===KS.FOCUS_OUT,il=!cz(X._f)&&!e.resolver&&!oe(n.errors,U)&&!X._f.deps||dz(lr,oe(n.touchedFields,U),n.isSubmitted,ke,se),es=eC(U,o,lr);We(s,U,Nr),lr?(!O||!O.readOnly)&&(X._f.onBlur&&X._f.onBlur(_),c&&c(0)):X._f.onChange&&X._f.onChange(_);const ur=E(U,Nr,lr),sl=!cn(ur)||es;if(!lr&&f.state.next({name:U,type:_.type,values:It(s)}),il)return(h.isValid||d.isValid)&&(e.mode==="onBlur"?lr&&b():lr||b()),sl&&f.state.next({name:U,...es?{}:ur});if(!lr&&es&&f.state.next({...n}),e.resolver){const{errors:Rr}=await C([U]);if(Z(Nr),ee){const Sh=tC(n.errors,r,U),al=tC(Rr,r,Sh.name||U);He=al.error,U=al.name,sn=cn(Rr)}}else A([U],!0),He=(await rC(X,o.disabled,s,m,e.shouldUseNativeValidation))[U],A([U]),Z(Nr),ee&&(He?sn=!1:(h.isValid||d.isValid)&&(sn=await N(r,!0)));ee&&(X._f.deps&&k(X._f.deps),T(U,sn,He,ur))}},J=(_,O)=>{if(oe(n.errors,O)&&_.focus)return _.focus(),1},k=async(_,O={})=>{let U,ee;const X=ac(_);if(e.resolver){const Z=await x(St(_)?_:X);U=cn(Z),ee=_?!X.some(se=>oe(Z,se)):U}else _?(ee=(await Promise.all(X.map(async Z=>{const se=oe(r,Z);return await N(se&&se._f?{[Z]:se}:se)}))).every(Boolean),!(!ee&&!n.isValid)&&b()):ee=U=await N(r);return f.state.next({...!Sr(_)||(h.isValid||d.isValid)&&U!==n.isValid?{}:{name:_},...e.resolver||!_?{isValid:U}:{},errors:n.errors}),O.shouldFocus&&!ee&&oc(r,J,_?X:o.mount),ee},H=_=>{const O={...a.mount?s:i};return St(_)?O:Sr(_)?oe(O,_):_.map(U=>oe(O,U))},P=(_,O)=>({invalid:!!oe((O||n).errors,_),isDirty:!!oe((O||n).dirtyFields,_),error:oe((O||n).errors,_),isValidating:!!oe(n.validatingFields,_),isTouched:!!oe((O||n).touchedFields,_)}),G=_=>{_&&ac(_).forEach(O=>gt(n.errors,O)),f.state.next({errors:_?n.errors:{}})},W=(_,O,U)=>{const ee=(oe(r,_,{_f:{}})._f||{}).ref,X=oe(n.errors,_)||{},{ref:Z,message:se,type:ke,...He}=X;We(n.errors,_,{...He,...O,ref:ee}),f.state.next({name:_,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&ee&&ee.focus&&ee.focus()},le=(_,O)=>Wn(_)?f.state.subscribe({next:U=>"values"in U&&_(D(void 0,O),U)}):D(_,O,!0),ce=_=>f.state.subscribe({next:O=>{uz(_.name,O.name,_.exact)&&lz(O,_.formState||h,Je,_.reRenderRoot)&&_.callback({values:{...s},...n,...O,defaultValues:i})}}).unsubscribe,Pe=_=>(a.mount=!0,d={...d,..._.formState},ce({..._,formState:d})),ie=(_,O={})=>{for(const U of _?ac(_):o.mount)o.mount.delete(U),o.array.delete(U),O.keepValue||(gt(r,U),gt(s,U)),!O.keepError&&gt(n.errors,U),!O.keepDirty&&gt(n.dirtyFields,U),!O.keepTouched&&gt(n.touchedFields,U),!O.keepIsValidating&&gt(n.validatingFields,U),!e.shouldUnregister&&!O.keepDefaultValue&&gt(i,U);f.state.next({values:It(s)}),f.state.next({...n,...O.keepDirty?{isDirty:F()}:{}}),!O.keepIsValid&&b()},he=({disabled:_,name:O})=>{(gr(_)&&a.mount||_||o.disabled.has(O))&&(_?o.disabled.add(O):o.disabled.delete(O))},ye=(_,O={})=>{let U=oe(r,_);const ee=gr(O.disabled)||gr(e.disabled);return We(r,_,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:_}},name:_,mount:!0,...O}}),o.mount.add(_),U?he({disabled:gr(O.disabled)?O.disabled:e.disabled,name:_}):v(_,!0,O.value),{...ee?{disabled:O.disabled||e.disabled}:{},...e.progressive?{required:!!O.required,min:Co(O.min),max:Co(O.max),minLength:Co(O.minLength),maxLength:Co(O.maxLength),pattern:Co(O.pattern)}:{},name:_,onChange:K,onBlur:K,ref:X=>{if(X){ye(_,O),U=oe(r,_);const Z=St(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,se=rz(Z),ke=U._f.refs||[];if(se?ke.find(He=>He===Z):Z===U._f.ref)return;We(r,_,{_f:{...U._f,...se?{refs:[...ke.filter(If),Z,...Array.isArray(oe(i,_))?[{}]:[]],ref:{type:Z.type,name:_}}:{ref:Z}}}),v(_,!1,void 0,Z)}else U=oe(r,_,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(XB(o.array,_)&&a.action)&&o.unMount.add(_)}}},de=()=>e.shouldFocusError&&oc(r,J,o.mount),fe=_=>{gr(_)&&(f.state.next({disabled:_}),oc(r,(O,U)=>{const ee=oe(r,U);ee&&(O.disabled=ee._f.disabled||_,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(X=>{X.disabled=ee._f.disabled||_}))},0,!1))},Ae=(_,O)=>async U=>{let ee;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let X=It(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:se}=await C();n.errors=Z,X=It(se)}else await N(r);if(o.disabled.size)for(const Z of o.disabled)gt(X,Z);if(gt(n.errors,"root"),cn(n.errors)){f.state.next({errors:{}});try{await _(X,U)}catch(Z){ee=Z}}else O&&await O({...n.errors},U),de(),setTimeout(de);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:cn(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},it=(_,O={})=>{oe(r,_)&&(St(O.defaultValue)?I(_,It(oe(i,_))):(I(_,O.defaultValue),We(i,_,It(O.defaultValue))),O.keepTouched||gt(n.touchedFields,_),O.keepDirty||(gt(n.dirtyFields,_),n.isDirty=O.defaultValue?F(_,It(oe(i,_))):F()),O.keepError||(gt(n.errors,_),h.isValid&&b()),f.state.next({...n}))},Y=(_,O={})=>{const U=_?It(_):i,ee=It(U),X=cn(_),Z=X?i:ee;if(O.keepDefaultValues||(i=U),!O.keepValues){if(O.keepDirtyValues){const se=new Set([...o.mount,...Object.keys(So(i,s))]);for(const ke of Array.from(se))oe(n.dirtyFields,ke)?We(Z,ke,oe(s,ke)):I(ke,oe(Z,ke))}else{if(sv&&St(_))for(const se of o.mount){const ke=oe(r,se);if(ke&&ke._f){const He=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(Cd(He)){const sn=He.closest("form");if(sn){sn.reset();break}}}}if(O.keepFieldsRef)for(const se of o.mount)I(se,oe(Z,se));else r={}}s=e.shouldUnregister?O.keepDefaultValues?It(i):{}:It(Z),f.array.next({values:{...Z}}),f.state.next({values:{...Z}})}o={mount:O.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!O.keepIsValid||!!O.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:X?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!Ai(_,i)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:O.keepDirtyValues?O.keepDefaultValues&&s?So(i,s):n.dirtyFields:O.keepDefaultValues&&_?So(i,_):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},pe=(_,O)=>Y(Wn(_)?_(s):_,O),st=(_,O={})=>{const U=oe(r,_),ee=U&&U._f;if(ee){const X=ee.refs?ee.refs[0]:ee.ref;X.focus&&(X.focus(),O.shouldSelect&&Wn(X.select)&&X.select())}},Je=_=>{n={...n,..._}},yn={control:{register:ye,unregister:ie,getFieldState:P,handleSubmit:Ae,setError:W,_subscribe:ce,_runSchema:C,_focusError:de,_getWatch:D,_getDirty:F,_setValid:b,_setFieldArray:y,_setDisabledField:he,_setErrors:p,_getFieldArray:j,_reset:Y,_resetDefaultValues:()=>Wn(e.defaultValues)&&e.defaultValues().then(_=>{pe(_,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:fe,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(_){a=_},get _defaultValues(){return i},get _names(){return o},set _names(_){o=_},get _formState(){return n},get _options(){return e},set _options(_){e={...e,..._}}},subscribe:Pe,trigger:k,register:ye,handleSubmit:Ae,watch:le,setValue:I,getValues:H,reset:pe,resetField:it,clearErrors:G,unregister:ie,setError:W,setFocus:st,getFieldState:P};return{...yn,formControl:yn}}function pz(t={}){const e=Q.useRef(void 0),n=Q.useRef(void 0),[r,i]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Wn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Wn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=gz(t);e.current={...o,formState:r}}const s=e.current.control;return s._options=t,ez(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Q.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Q.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Q.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),Q.useEffect(()=>{t.values&&!Ai(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Q.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=WB(r,s),e.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ot=(t,e)=>{const n=w.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,...u},h)=>w.createElement("svg",{ref:h,...yz,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${vz(t)}`,o].join(" "),...u},[...e.map(([d,f])=>w.createElement(d,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Ot("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=Ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ot("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Ot("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Ot("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ot("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=Ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=Ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=Ot("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function aC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nz(...t){return e=>{let n=!1;const r=t.map(i=>{const s=aC(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():aC(t[i],null)}}}}function _N(t){const e=kz(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,o=w.Children.toArray(s),c=o.find(Iz);if(c){const u=c.props.children,h=o.map(d=>d===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:d);return l.jsx(e,{...a,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,h):null})}return l.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Rz=_N("Slot");function kz(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=jz(i),o=Mz(s,i.props);return i.type!==w.Fragment&&(o.ref=r?Nz(r,a):a),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Oz=Symbol("radix.slottable");function Iz(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oz}function Mz(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function NN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function RN(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NN(t))&&(r&&(r+=" "),r+=e);return r}const oC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cC=RN,kN=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],d=s==null?void 0:s[u];if(h===null)return null;const f=oC(h)||oC(d);return i[u][f]}),o=n&&Object.entries(n).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(S=>{let[b,A]=S;return Array.isArray(A)?A.includes({...s,...o}[b]):{...s,...o}[b]===A})?[...u,d,f]:u},[]);return cC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},uv="-",Pz=t=>{const e=Uz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(uv);return o[0]===""&&o.length!==1&&o.shift(),ON(o,e)||Dz(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},ON=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?ON(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(uv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},lC=/^\[(.+)\]$/,Dz=t=>{if(lC.test(t)){const e=lC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Uz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Hz(Object.entries(t.classGroups),n).forEach(([s,a])=>{vg(a,r,s,e)}),r},vg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:uC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Lz(i)){vg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{vg(a,uC(e,s),n,r)})})},uC=(t,e)=>{let n=t;return e.split(uv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lz=t=>t.isThemeGetter,Hz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,Bz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},IN="!",zz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,h=0,d;for(let A=0;A<o.length;A++){let y=o[A];if(u===0){if(y===i&&(r||o.slice(A,A+s)===e)){c.push(o.slice(h,A)),h=A+s;continue}if(y==="/"){d=A;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?o:o.substring(h),m=f.startsWith(IN),S=m?f.substring(1):f,b=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:a}):a},Vz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Fz=t=>({cache:Bz(t.cacheSize),parseClassName:zz(t),...Pz(t)}),qz=/\s+/,Gz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(qz);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let S=!!m,b=r(S?f.substring(0,m):f);if(!b){if(!S){o=u+(o.length>0?" "+o:o);continue}if(b=r(f),!b){o=u+(o.length>0?" "+o:o);continue}S=!1}const A=Vz(h).join(":"),y=d?A+IN:A,g=y+b;if(s.includes(g))continue;s.push(g);const p=i(b,S);for(let v=0;v<p.length;++v){const E=p[v];s.push(y+E)}o=u+(o.length>0?" "+o:o)}return o};function Kz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MN(e))&&(r&&(r+=" "),r+=n);return r}const MN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MN(t[r]))&&(n&&(n+=" "),n+=e);return n};function $z(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((h,d)=>d(h),t());return n=Fz(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const h=Gz(c,n);return i(c,h),h}return function(){return s(Kz.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},jN=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yz=/^\d+\/\d+$/,Qz=new Set(["px","full","screen"]),Xz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dr=t=>Aa(t)||Qz.has(t)||Yz.test(t),di=t=>io(t,"length",c4),Aa=t=>!!t&&!Number.isNaN(Number(t)),Mf=t=>io(t,"number",Aa),xo=t=>!!t&&Number.isInteger(Number(t)),t4=t=>t.endsWith("%")&&Aa(t.slice(0,-1)),Ce=t=>jN.test(t),hi=t=>Xz.test(t),n4=new Set(["length","size","percentage"]),r4=t=>io(t,n4,PN),i4=t=>io(t,"position",PN),s4=new Set(["image","url"]),a4=t=>io(t,s4,u4),o4=t=>io(t,"",l4),wo=()=>!0,io=(t,e,n)=>{const r=jN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},c4=t=>Jz.test(t)&&!Zz.test(t),PN=()=>!1,l4=t=>Wz.test(t),u4=t=>e4.test(t),d4=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),i=Qe("borderColor"),s=Qe("borderRadius"),a=Qe("borderSpacing"),o=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),h=Qe("hueRotate"),d=Qe("invert"),f=Qe("gap"),m=Qe("gradientColorStops"),S=Qe("gradientColorStopPositions"),b=Qe("inset"),A=Qe("margin"),y=Qe("opacity"),g=Qe("padding"),p=Qe("saturate"),v=Qe("scale"),E=Qe("sepia"),T=Qe("skew"),C=Qe("space"),x=Qe("translate"),N=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ce,e],D=()=>[Ce,e],j=()=>["",Dr,di],L=()=>["auto",Aa,Ce],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Ce],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>[Aa,Ce];return{cacheSize:500,separator:":",theme:{colors:[wo],spacing:[Dr,di],blur:["none","",hi,Ce],brightness:P(),borderColor:[t],borderRadius:["none","","full",hi,Ce],borderSpacing:D(),borderWidth:j(),contrast:P(),grayscale:k(),hueRotate:P(),invert:k(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[t4,di],inset:F(),margin:F(),opacity:P(),padding:D(),saturate:P(),scale:P(),sepia:k(),skew:P(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Ce]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xo,Ce]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",xo,Ce]}],"grid-cols":[{"grid-cols":[wo]}],"col-start-end":[{col:["auto",{span:["full",xo,Ce]},Ce]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[wo]}],"row-start-end":[{row:["auto",{span:[xo,Ce]},Ce]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mf]}],"font-family":[{font:[wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Aa,Mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dr,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dr,di]}],"underline-offset":[{"underline-offset":["auto",Dr,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),i4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",r4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},a4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Dr,Ce]}],"outline-w":[{outline:[Dr,di]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Dr,di]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hi,o4]}],"shadow-color":[{shadow:[wo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hi,Ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[p]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[xo,Ce]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Dr,di,Mf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},h4=$z(d4);function qn(...t){return h4(RN(t))}function f4(t){const e=t.replace(/\D/g,"");return e.length===10||e.length===11}function dC(t){const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("1")?e.slice(1):e}const m4=kN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",info:"bg-info text-info-foreground hover:bg-info/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Rz:"button";return l.jsx(a,{className:qn(m4({variant:e,size:n,className:t})),ref:s,...i})});re.displayName="Button";const be=w.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:qn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));be.displayName="Card";const Ee=w.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:qn("flex flex-col space-y-1.5 p-6",t),...e}));Ee.displayName="CardHeader";const Re=w.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:qn("text-2xl font-semibold leading-none tracking-tight",t),...e}));Re.displayName="CardTitle";const er=w.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:qn("text-sm text-muted-foreground",t),...e}));er.displayName="CardDescription";const Se=w.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:qn("p-6 pt-0",t),...e}));Se.displayName="CardContent";const g4=w.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:qn("flex items-center p-6 pt-0",t),...e}));g4.displayName="CardFooter";const Td=w.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:qn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Td.displayName="Textarea";var p4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y4=p4.reduce((t,e)=>{const n=_N(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),v4="Label",DN=w.forwardRef((t,e)=>l.jsx(y4.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DN.displayName=v4;var UN=DN;const b4=kN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ut=w.forwardRef(({className:t,...e},n)=>l.jsx(UN,{ref:n,className:qn(b4(),t),...e}));Ut.displayName=UN.displayName;const dv=o2,or=u2,S4=({onNumbersSubmit:t,isLoading:e})=>{const[n,r]=w.useState(!1),[i,s]=w.useState(null),[a,o]=w.useState(null),[c,u]=w.useState(["voice"]),{role:h,organizationId:d,userId:f}=or(T=>T.demoAuth),{register:m,handleSubmit:S,formState:{errors:b},reset:A}=pz(),y=async T=>{r(!0),s(null),o(null);try{const C=T.phone_numbers.split(`
`).map(N=>N.trim()).filter(N=>N.length>0).map(dC);if(C.length===0){s("Please enter at least one phone number");return}const x=C.filter(N=>!f4(N));if(x.length>0){s(`Invalid phone numbers: ${x.join(", ")}`);return}await t(C,T.notes),o(`Successfully submitted ${C.length} phone numbers`),A()}catch(C){s(C instanceof Error?C.message:"An error occurred")}finally{r(!1)}},g=()=>{A(),s(null),o(null)},p=async()=>{var T,C;try{const x=d||1,N=f||1,M=((T=document.getElementById("phone_numbers"))==null?void 0:T.value.split(`
`).find(L=>L.trim()))||"",F=dC(M.trim());if(!F){s("Enter at least one phone number to request DNC");return}const D=((C=document.getElementById("dnc_reason"))==null?void 0:C.value)||"user request",j={"X-Org-Id":String(x),"X-User-Id":String(N),"X-Role":String(h||"member"),"Content-Type":"application/json"};try{const L=window.__msalAcquireToken,V="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(L&&V){const I=await L([V]);I&&(j.Authorization=`Bearer ${I}`)}}catch{}if(!c.length){s("Select at least one channel (Call, SMS, Email)");return}for(const L of c)if(!(await fetch(`${te}/api/v1/tenants/dnc-requests/${x}`,{method:"POST",headers:j,body:JSON.stringify({phone_e164:F,reason:D,channel:L})})).ok)throw new Error("Failed to submit DNC request");o("DNC request submitted for review")}catch(x){s(x instanceof Error?x.message:"Failed to submit DNC request")}},v=h==="admin"||h==="owner"||h==="superadmin",E=h==="member";return l.jsxs(be,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ee,{children:[l.jsxs(Re,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(Fa,{className:"h-5 w-5"}),"Add Phone Numbers"]}),l.jsx(er,{children:"Enter phone numbers to be removed from Do Not Call lists across all CRM systems"})]}),l.jsx(Se,{children:l.jsxs("form",{onSubmit:S(y),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Ut,{htmlFor:"phone_numbers",className:"text-sm font-medium text-gray-700",children:"Phone Numbers (one per line)"}),l.jsx(Td,{id:"phone_numbers",placeholder:`Enter phone numbers here...
Example:
555-123-4567
(555) 987-6543
555.123.4567`,className:qn("mt-1 min-h-[120px] resize-none",b.phone_numbers&&"border-red-300 focus:border-red-500 focus:ring-red-500"),...m("phone_numbers",{required:"Phone numbers are required",validate:T=>T.trim()?T.split(`
`).filter(x=>x.trim().length>0).length===0?"Please enter at least one phone number":!0:"Phone numbers are required"})}),b.phone_numbers&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.phone_numbers.message})]}),l.jsxs("div",{children:[l.jsx(Ut,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),l.jsx(Td,{id:"notes",placeholder:"Add any notes about these phone numbers...",className:"mt-1 resize-none",...m("notes")})]}),i&&l.jsx(Tt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx(bh,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:i})]})}),a&&l.jsx(Tt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[l.jsx(Va,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:a})]})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[v&&l.jsx(re,{type:"submit",disabled:n||e,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:n||e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Submitting...":"Loading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yg,{className:"h-4 w-4 mr-2"}),"Run Number Check"]})}),E&&l.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Channels"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"voice",label:"Call"},{key:"sms",label:"SMS"},{key:"email",label:"Email"}].map(T=>l.jsx("button",{type:"button",onClick:()=>u(C=>C.includes(T.key)?C.filter(x=>x!==T.key):[...C,T.key]),className:qn("px-3 py-1 rounded border text-sm",c.includes(T.key)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:T.label},T.key))})]}),l.jsxs("div",{children:[l.jsx(Ut,{htmlFor:"dnc_reason",className:"text-xs",children:"Reason"}),l.jsx("input",{id:"dnc_reason",className:"border rounded px-2 py-1 text-sm",placeholder:"Customer opt-out"})]})]}),E&&l.jsx(re,{type:"button",variant:"outline",onClick:p,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Request DNC"}),l.jsx(re,{type:"button",variant:"outline",onClick:g,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Reset"})]})]})})]})},C4=({title:t,status:e,count:n,total:r,icon:i,onRetry:s,isLoading:a=!1})=>{const o=h=>{switch(h){case"completed":return"text-green-600 bg-green-50 border-green-200";case"failed":return"text-red-600 bg-red-50 border-red-200";case"processing":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=(h,d)=>{switch(h){case"completed":return l.jsx(Va,{className:"w-5 h-5"});case"failed":return l.jsx(bh,{className:"w-5 h-5"});case"processing":return d>0?l.jsx(pg,{className:"w-5 h-5 animate-spin"}):l.jsx(Ta,{className:"w-5 h-5"});case"pending":return l.jsx(Ta,{className:"w-5 h-5"});default:return l.jsx(Fa,{className:"w-5 h-5"})}},u=r>0?Math.round(n/r*100):0;return l.jsx(Tt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:l.jsxs(be,{className:`border-2 ${o(e)} hover:shadow-md transition-shadow`,children:[l.jsx(Ee,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[i,l.jsx(Re,{className:"text-lg font-semibold",children:t})]}),c(e,n)]})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:n}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"% of total"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e==="completed"?"bg-green-500":e==="failed"?"bg-red-500":e==="processing"?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${u}%`}})}),s&&e==="failed"&&l.jsx(re,{variant:"outline",size:"sm",onClick:s,disabled:a,className:"w-full",children:a?l.jsxs(l.Fragment,{children:[l.jsx(pg,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Az,{className:"w-4 h-4 mr-2"}),"Retry Failed"]})})]})})]})})},x4=()=>{const{stats:t,isLoading:e,demoTotal:n}=or(d=>d.crmStatus),{phoneNumbers:r}=or(d=>d.phoneNumbers),i=n||r.length,s=d=>{switch(d){case"logics":return"Logics";case"genesys":return"Genesys";case"ringcentral":return"Ring Central";case"convoso":return"Convoso";case"ytel":return"Ytel";default:return d}},a=d=>{switch(d){case"logics":return l.jsx(bz,{className:"w-5 h-5"});case"genesys":return l.jsx(xz,{className:"w-5 h-5"});case"ringcentral":return l.jsx(Tz,{className:"w-5 h-5"});case"convoso":return l.jsx(_z,{className:"w-5 h-5"});case"ytel":return l.jsx(Fa,{className:"w-5 h-5"});default:return l.jsx(Fa,{className:"w-5 h-5"})}},o=d=>{console.log(`Retrying failed removals for ${d}`)},u={...{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},...t},h=d=>d.failed>0?"failed":d.processing>0?"processing":d.pending>0?"pending":(d.completed>0,"completed");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CRM Status Dashboard"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Phone Numbers: ",i]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(u).map(([d,f])=>l.jsx(C4,{title:s(d),status:h(f),count:f.total,total:i,icon:a(d),onRetry:f.failed>0?()=>o(d):void 0,isLoading:e},d))}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(be,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Processed"}),l.jsx("p",{className:"text-2xl font-bold",children:Object.values(u).reduce((d,f)=>d+f.total,0)})]}),l.jsx(EN,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(be,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(()=>{const d=Object.values(u).reduce((m,S)=>m+S.total,0),f=Object.values(u).reduce((m,S)=>m+S.completed,0);return d>0?Math.round(f/d*100):0})(),"%"]})]}),l.jsx(Va,{className:"w-8 h-8 text-green-500"})]})})}),l.jsx(be,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Object.values(u).reduce((d,f)=>d+f.processing,0)})]}),Object.values(u).reduce((f,m)=>f+m.processing,0)>0?l.jsx(pg,{className:"w-8 h-8 text-blue-500 animate-spin"}):l.jsx(Ta,{className:"w-8 h-8 text-blue-500"})]})})}),l.jsx(be,{children:l.jsx(Se,{className:"p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Failed"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:Object.values(u).reduce((d,f)=>d+f.failed,0)})]}),l.jsx(bh,{className:"w-8 h-8 text-red-500"})]})})})]})]})},Qt=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},w4=({numbers:t,onAutomationComplete:e})=>{const[n,r]=w.useState({}),[i,s]=w.useState({}),[,a]=w.useState(null),[o,c]=w.useState(null),[u,h]=w.useState(!1),[d,f]=w.useState({total:0,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),m=async y=>{var g,p,v,E;s(T=>({...T,[y]:!0}));try{const T={};try{const C=await fetch(`${te}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(C.ok){const x=await C.json();T.dnc={listed:!!(x!=null&&x.is_dnc)}}}catch{}try{const C=await fetch(`${te}/api/v1/providers/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(C.ok){const x=await C.json(),N=(g=x==null?void 0:x.data)==null?void 0:g.is_on_dnc;N===null?T.ringcentral={listed:null,status:"unknown"}:T.ringcentral={listed:N||!1}}}catch{}try{const C=await fetch(`${te}/api/v1/providers/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(C.ok){const x=await C.json(),N=(p=x==null?void 0:x.data)==null?void 0:p.is_on_dnc;N===null?T.convoso={listed:null,status:"unknown"}:T.convoso={listed:N||!1}}}catch{}try{const C=await fetch(`${te}/api/v1/providers/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(C.ok){const x=await C.json(),N=(v=x==null?void 0:x.data)==null?void 0:v.is_on_dnc;N===null?T.ytel={listed:null,status:"unknown"}:T.ytel={listed:N||!1}}}catch{}await A(y);try{const C=await fetch(`${te}/api/v1/providers/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(C.ok){const x=await C.json(),N=(E=x==null?void 0:x.data)==null?void 0:E.is_on_dnc;N===null?T.genesys={listed:null,status:"unknown"}:T.genesys={listed:N||!1}}}catch{}r(C=>{var x;return{...C,[y]:{phone_number:y,providers:{...((x=C[y])==null?void 0:x.providers)||{},...T}}}}),a(null)}catch{a("Cannot reach backend (check that it is running)")}finally{s(T=>({...T,[y]:!1}))}};w.useEffect(()=>{t.forEach(y=>m(y))},[t.join(",")]);const S=(y,g)=>y===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):y===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",g?`  ${g}`:""]}),b=async(y,g)=>{var p,v,E,T;c(`${y}:${g}`);try{try{await fetch(`${te}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({organization_id:1,service_key:y,phone_e164:g,status:"pending",attempt_no:1})})}catch{}if(y==="ringcentral")await fetch(`${te}/api/v1/providers/ringcentral/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:g})});else if(y==="convoso")await fetch(`${te}/api/v1/providers/convoso/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:g})});else if(y==="ytel")await fetch(`${te}/api/v1/providers/ytel/add-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:g})});else if(y==="genesys")await fetch(`${te}/api/v1/providers/genesys/add-dnc-coming-soon`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:g})});else if(y==="logics"){const C=n[g],x=(T=(E=(v=(p=C==null?void 0:C.providers)==null?void 0:p.logics)==null?void 0:v.cases)==null?void 0:E[0])==null?void 0:T.CaseID;x&&await fetch(`${te}/api/v1/providers/logics/update-case`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({caseId:x,statusId:2})})}await m(g),f(C=>({...C,completed:C.completed+1,per:{...C.per,[y]:{...C.per[y],completed:C.per[y].completed+1}},logs:[...C.logs,`${y}  ${g}`].slice(-200)}));try{await fetch(`${te}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({organization_id:1,service_key:y,phone_e164:g,status:"success",attempt_no:1})})}catch{}}catch(C){f(x=>({...x,failed:x.failed+1,per:{...x.per,[y]:{...x.per[y],failed:x.per[y].failed+1}},logs:[...x.logs,`${y}  ${g} ${(C==null?void 0:C.message)||""}`].slice(-200)}));try{await fetch(`${te}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({organization_id:1,service_key:y,phone_e164:g,status:"failed",error_message:(C==null?void 0:C.message)||"failed",attempt_no:1})})}catch{}}finally{c(null)}},A=async y=>{var g,p,v;try{const E=await fetch(`${te}/api/v1/providers/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({phone_number:y})});if(!E.ok)return;const T=await E.json(),C=((g=T==null?void 0:T.data)==null?void 0:g.is_found)||!1,x=((v=(p=T==null?void 0:T.data)==null?void 0:p.raw_response)==null?void 0:v.Data)||[];r(N=>{const M=N[y]||{phone_number:y,providers:{}};return{...N,[y]:{...M,providers:{...M.providers,logics:{listed:C,count:x.length,cases:x}}}}})}catch{}};return l.jsxs(l.Fragment,{children:[l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Systems Check Results"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:t.map(y=>{var v,E,T,C,x,N,M,F,D,j,L,V,I,K,J,k;const g=n[y],p=(g==null?void 0:g.providers)||{};return l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:y}),i[y]&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),i[y]&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"DNC (Federal)"}),l.jsx("div",{className:"flex items-center gap-2",children:p.dnc?p.dnc.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not on DNC"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"})})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[S((v=p.ringcentral)==null?void 0:v.listed),(((E=p.ringcentral)==null?void 0:E.listed)===!1||((T=p.ringcentral)==null?void 0:T.listed)===null)&&l.jsx(re,{size:"sm",variant:"outline",onClick:()=>b("ringcentral",y),disabled:o===`ringcentral:${y}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[S((C=p.convoso)==null?void 0:C.listed),(((x=p.convoso)==null?void 0:x.listed)===!1||((N=p.convoso)==null?void 0:N.listed)===null)&&l.jsx(re,{size:"sm",variant:"outline",onClick:()=>b("convoso",y),disabled:o===`convoso:${y}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[p.logics?p.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"True"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"False"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((M=p.logics)==null?void 0:M.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[p.logics.count," case(s)"]})]}),((j=(D=(F=p.logics)==null?void 0:F.cases)==null?void 0:D[0])==null?void 0:j.CaseID)&&l.jsx(re,{size:"sm",variant:"outline",onClick:()=>b("logics",y),disabled:o===`logics:${y}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Genesys"}),l.jsxs("div",{className:"flex items-center gap-2",children:[S((L=p.genesys)==null?void 0:L.listed),(((V=p.genesys)==null?void 0:V.listed)===!1||((I=p.genesys)==null?void 0:I.listed)===null)&&l.jsx(re,{size:"sm",variant:"outline",onClick:()=>b("genesys",y),disabled:o===`genesys:${y}`,children:"Push"})]})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[S((K=p.ytel)==null?void 0:K.listed,"read N/A"),(((J=p.ytel)==null?void 0:J.listed)===!1||((k=p.ytel)==null?void 0:k.listed)===null)&&l.jsx(re,{size:"sm",variant:"outline",onClick:()=>b("ytel",y),disabled:o===`ytel:${y}`,children:"Push"})]})]})]})]},y)})})})]}),l.jsx("div",{className:"mt-3 flex justify-end",children:l.jsx(re,{onClick:async()=>{try{if(h(!0),f({total:t.length,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),(await fetch(`${te}/api/v1/tenants/dnc/orchestrate`,{method:"POST",headers:{"Content-Type":"application/json",...Qt()},body:JSON.stringify({mode:"push",phone_numbers:t})})).ok){f(g=>({...g,completed:t.length,logs:[...g.logs,`orchestrate  ${t.length} numbers`]}));for(const g of t)await m(g)}else f(g=>({...g,failed:t.length,logs:[...g.logs,"orchestrate "]}))}finally{e==null||e(t.length)}},disabled:o!==null,children:"Put on DNC List (all remaining)"})}),u&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-lg font-semibold",children:"Push Progress"}),l.jsx("button",{className:"text-sm text-gray-600",onClick:()=>h(!1),children:"Close"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"Overall"}),l.jsxs("div",{children:["Completed: ",d.completed," / ",d.total]}),l.jsxs("div",{children:["Failed: ",d.failed]}),l.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 bg-blue-600",style:{width:`${Math.min(100,d.completed/Math.max(1,d.total)*100)}%`}})})]}),l.jsxs("div",{className:"p-2 border rounded",children:[l.jsx("div",{className:"font-medium mb-1",children:"By Provider"}),["ringcentral","convoso","ytel","logics","genesys"].map(y=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"capitalize",children:y}),l.jsxs("span",{children:[d.per[y].completed,"  / ",d.per[y].failed," "]})]},y))]})]}),l.jsx("div",{className:"mt-3 max-h-40 overflow-y-auto text-xs bg-gray-50 border rounded p-2",children:d.logs.map((y,g)=>l.jsx("div",{children:y},g))})]})})]})},T4=({organizationId:t,adminUserId:e})=>{const[n,r]=w.useState([]),[i,s]=w.useState(!1),[a,o]=w.useState(null),c=async()=>{const d={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const f=window.__msalAcquireToken,m="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(f&&m){const S=await f([m]);S&&(d.Authorization=`Bearer ${S}`)}}catch{}return d},u=async()=>{o(null),s(!0);try{const d=await c(),m=await(await fetch(`${te}/api/v1/tenants/dnc-requests/org/${t}?status=pending&limit=10`,{headers:d})).json();r(m||[])}catch(d){o(d instanceof Error?d.message:"Failed to load pending requests")}finally{s(!1)}};w.useEffect(()=>{u()},[]);const h=async(d,f)=>{o(null);try{const m=await c();if(!(await fetch(`${te}/api/v1/tenants/dnc-requests/${d}/${f}`,{method:"POST",headers:m,body:JSON.stringify({notes:""})})).ok)throw new Error("Action failed");r(b=>b.filter(A=>A.id!==d))}catch(m){o(m instanceof Error?m.message:"Action failed")}};return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Pending Requests"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[l.jsx("div",{className:"text-gray-600",children:"Top 10 newest pending."}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(re,{size:"sm",variant:"outline",onClick:u,disabled:i,children:"Refresh"})})]}),a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),i?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((d,f)=>l.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},f))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests."}):l.jsx("div",{className:"space-y-2",children:n.map(d=>l.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[d.phone_e164,"  ",d.channel||"n/a"]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",d.reason||""]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(re,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>h(d.id,"approve"),children:"Approve"}),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>h(d.id,"deny"),children:"Deny"})]})]},d.id))})]})]})},Rt=w.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:qn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Rt.displayName="Input";const A4=({organizationId:t,adminUserId:e})=>{const[n,r]=w.useState([]),[i,s]=w.useState(""),[a,o]=w.useState(null),[c,u]=w.useState(!1),[h,d]=w.useState(!1),[f,m]=w.useState(""),[S,b]=w.useState(""),[A,y]=w.useState(""),[g,p]=w.useState(""),v=async()=>{const C={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const x=window.__msalAcquireToken,N="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(x&&N){const M=await x([N]);M&&(C.Authorization=`Bearer ${M}`)}}catch{}return C},E=async(C=!1)=>{d(!0);const x=new URLSearchParams;i&&x.set("q",i),a&&x.set("cursor",String(a)),x.set("limit","50");const N=await v(),F=await(await fetch(`${te}/api/v1/tenants/litigations/${t}?${x.toString()}`,{headers:N})).json();r(C?[...n,...F]:F),u(F.length===50),o(F.length?F[F.length-1].id:null),d(!1)};w.useEffect(()=>{o(null),E(!1)},[i]);const T=async()=>{if(!f||!S)return;const C=await v();await fetch(`${te}/api/v1/tenants/litigations/${t}`,{method:"POST",headers:C,body:JSON.stringify({phone_e164:f,company:S,case_number:A,notes:g})}),m(""),b(""),y(""),p(""),o(null),E(!1)};return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"TCPA Litigation Records"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ut,{className:"text-xs",children:"Search"}),l.jsx(Rt,{placeholder:"Phone, company, case #",value:i,onChange:C=>s(C.target.value)})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Phone (digits)"}),l.jsx(Rt,{value:f,onChange:C=>m(C.target.value),placeholder:"e.g. 5618189087"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ut,{className:"text-xs",children:"Company"}),l.jsx(Rt,{value:S,onChange:C=>b(C.target.value),placeholder:"Company name"})]}),l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Case #"}),l.jsx(Rt,{value:A,onChange:C=>y(C.target.value),placeholder:"Optional"})]}),l.jsx("div",{className:"md:col-span-2 flex items-end",children:l.jsx(re,{onClick:T,children:"Add"})})]}),h&&n.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((C,x)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},x))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No litigation records"}):l.jsxs("div",{className:"space-y-2",children:[n.map(C=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[C.phone_e164,"  ",C.company]}),l.jsxs("div",{className:"text-gray-600",children:["Case: ",C.case_number||"","  Status: ",C.status]})]})},C.id)),c&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(re,{variant:"outline",onClick:()=>E(!0),children:"Load more"})})]})]})]})},E4=({organizationId:t,adminUserId:e})=>{const[n,r]=w.useState([]),[i,s]=w.useState({}),[a,o]=w.useState(!1),c=async()=>{const f={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const m=window.__msalAcquireToken,S="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(m&&S){const b=await m([S]);b&&(f.Authorization=`Bearer ${b}`)}}catch{}return f},u=async()=>{o(!0);const f=await c(),S=await(await fetch(`${te}/api/v1/tenants/dnc-samples/${t}?only_gaps=true&limit=200`,{headers:f})).json();r(S),o(!1)};w.useEffect(()=>{u()},[]);const h=w.useMemo(()=>Object.entries(i).filter(([,f])=>f).map(([f])=>Number(f)),[i]),d=async()=>{if(h.length===0)return;const f=await c();await fetch(`${te}/api/v1/tenants/dnc-samples/${t}/bulk_add_to_dnc`,{method:"POST",headers:f,body:JSON.stringify({ids:h})}),s({}),u()};return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"National DNC Gaps (not in org DNC)"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(re,{variant:"outline",onClick:d,disabled:h.length===0,children:"Add selected to DNC"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",h.length]})]}),a?l.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((f,m)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},m))}):n.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No gaps found."}):l.jsx("div",{className:"space-y-2",children:n.map(f=>l.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!i[f.id],onChange:m=>s({...i,[f.id]:m.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:f.phone_e164}),l.jsxs("div",{className:"text-gray-600",children:["Sample: ",new Date(f.sample_date).toLocaleString()]})]})]})},f.id))})]})]})},_4=({organizationId:t,adminUserId:e,request:n,onBack:r})=>{var A;const[i,s]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(null),[h,d]=w.useState([]),[f,m]=w.useState(""),S=async()=>{const y={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const g=window.__msalAcquireToken,p="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(g&&p){const v=await g([p]);v&&(y.Authorization=`Bearer ${v}`)}}catch{}return y};w.useEffect(()=>{(async()=>{s(!0),o(null);try{const g=await S(),p=await fetch(`${te}/api/dnc/check_batch`,{method:"POST",headers:g,body:JSON.stringify({phone_numbers:[n.phone_e164]})});p.ok&&u(await p.json());const v=await fetch(`${te}/api/dnc/cases_by_phone`,{method:"POST",headers:g,body:JSON.stringify({phone_number:n.phone_e164})});if(v.ok){const E=await v.json();d(Array.isArray(E.cases)?E.cases:[])}}catch(g){o(g instanceof Error?g.message:"Failed to load details")}finally{s(!1)}})()},[n.id]);const b=async y=>{try{const g=await S();if(!(await fetch(`${te}/api/v1/tenants/dnc-requests/${n.id}/${y}`,{method:"POST",headers:g,body:JSON.stringify({notes:f})})).ok)throw new Error("Action failed");r()}catch(g){o(g instanceof Error?g.message:"Action failed")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h2",{className:"text-2xl font-semibold",children:["Request #",n.id]}),l.jsx(re,{variant:"outline",onClick:r,children:"Back"})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Request Info"})}),l.jsx(Se,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Phone:"})," ",n.phone_e164]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Channel:"})," ",n.channel||"n/a"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Reason:"})," ",n.reason||""]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Requested by:"})," #",n.requested_by_user_id]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"DNC Pre-check"})}),l.jsx(Se,{children:i?"Loading":c?l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{children:["Total Checked: ",c.total_checked,"  Matches: ",c.dnc_matches,"  Safe: ",c.safe_to_call]}),l.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto divide-y",children:(A=c.results)==null?void 0:A.map((y,g)=>l.jsxs("div",{className:"py-1 flex items-center justify-between",children:[l.jsx("span",{children:y.phone_number}),l.jsx("span",{className:`text-xs ${y.is_dnc?"text-red-700":"text-green-700"}`,children:y.is_dnc?"DNC":"Safe"})]},g))})]}):l.jsx("div",{className:"text-gray-600 text-sm",children:"No data"})})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"TPS Cases"})}),l.jsx(Se,{children:i?"Loading":h.length?l.jsx("div",{className:"text-sm max-h-48 overflow-y-auto divide-y",children:h.map((y,g)=>l.jsxs("div",{className:"py-1 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",y.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",y.CreatedDate||"","  Last Modified: ",y.LastModifiedDate||""]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:y.StatusName||`Status ${y.StatusID}`})]},g))}):l.jsx("div",{className:"text-gray-600 text-sm",children:"No cases found"})})]})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Decision"})}),l.jsxs(Se,{children:[a&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Rt,{placeholder:"Decision notes (optional)",value:f,onChange:y=>m(y.target.value)}),l.jsx(re,{onClick:()=>b("approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),l.jsx(re,{variant:"outline",onClick:()=>b("deny"),children:"Deny"})]})]})]})]})},N4=({organizationId:t,adminUserId:e})=>{const n=or(k=>k.demoAuth.role),[r,i]=w.useState([]),[s,a]=w.useState(!1),[o,c]=w.useState(null),[u,h]=w.useState("pending"),[d,f]=w.useState(""),[m,S]=w.useState(""),[b,A]=w.useState(""),[y,g]=w.useState(null),[p,v]=w.useState(!1),[E,T]=w.useState({}),[C,x]=w.useState(""),[N,M]=w.useState({}),[F,D]=w.useState(null),j={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":n==="superadmin"?"superadmin":"admin"},L=async k=>{const H={...k};try{const P=window.__msalAcquireToken,G="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(P&&G){const W=await P([G]);W&&(H.Authorization=`Bearer ${W}`)}}catch{}return H},V=async(k=!1)=>{a(!0),c(null);try{const H=new URLSearchParams;u&&H.set("status",u),k&&y&&H.set("cursor",String(y)),H.set("limit","50");const P=await fetch(`${te}/api/v1/tenants/dnc-requests/org/${t}?${H.toString()}`,{headers:await L(j)});if(!P.ok)throw new Error("Failed to load requests");const G=await P.json();i(k?[...r,...G]:G),v(G.length===50),g(G.length?G[G.length-1].id:null)}catch(H){c(H instanceof Error?H.message:"Failed to load")}finally{a(!1)}};w.useEffect(()=>{g(null),V(!1)},[u]),w.useEffect(()=>{(async()=>{try{const k=await fetch(`${te}/api/v1/tenants/users`,{headers:await L(j)});if(!k.ok)return;const H=await k.json(),P={};H.forEach(G=>{P[G.id]=G}),M(P)}catch{M({})}})()},[]);const I=async(k,H)=>{try{if(!(await fetch(`${te}/api/v1/tenants/dnc-requests/${k}/${H}`,{method:"POST",headers:await L(j),body:JSON.stringify({notes:C})})).ok)throw new Error("Action failed");await V(!1),kl.success(H==="approve"?"Request approved":"Request denied")}catch(P){c(P instanceof Error?P.message:"Action failed"),kl.error("Action failed")}},K=w.useMemo(()=>Object.entries(E).filter(([,k])=>k).map(([k])=>Number(k)),[E]),J=async k=>{if(K.length!==0)try{const H=`${te}/api/v1/tenants/dnc-requests/bulk/${k}`;if(!(await fetch(H,{method:"POST",headers:await L(j),body:JSON.stringify({ids:K,notes:C})})).ok)throw new Error("Bulk action failed");T({}),await V(!1),kl.success(`${k==="approve"?"Approved":"Denied"} ${K.length} requests`)}catch{kl.error("Bulk action failed")}};return F?l.jsx(_4,{organizationId:t,adminUserId:e,request:F,onBack:()=>{D(null),V(!1)}}):l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Pending DNC Requests"})}),l.jsxs(Se,{children:[o&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:o}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Status"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:u,onChange:k=>h(k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:m,onChange:k=>S(k.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]}),l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Requester"}),l.jsx(Rt,{value:b,onChange:k=>A(k.target.value),placeholder:"name or email"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx(Ut,{className:"text-xs",children:"Search phone"}),l.jsx(Rt,{value:d,onChange:k=>f(k.target.value),placeholder:"digits only"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Rt,{placeholder:"Decision notes (optional)",value:C,onChange:k=>x(k.target.value)}),l.jsx(re,{variant:"outline",onClick:()=>J("approve"),disabled:K.length===0,children:"Approve selected"}),l.jsx(re,{variant:"outline",onClick:()=>J("deny"),disabled:K.length===0,children:"Deny selected"})]}),s&&r.length===0?l.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((k,H)=>l.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},H))}):r.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests"}):l.jsxs("div",{className:"space-y-2",children:[r.filter(k=>{if(d&&!k.phone_e164.includes(d)||m&&k.channel!==m)return!1;if(b){const H=N[k.requested_by_user_id];if(!`${(H==null?void 0:H.name)||""} ${(H==null?void 0:H.email)||""}`.toLowerCase().includes(b.toLowerCase()))return!1}return!0}).map(k=>{var H,P,G,W,le,ce;return l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!E[k.id],onChange:Pe=>T({...E,[k.id]:Pe.target.checked})}),l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[k.phone_e164,"  ",k.channel||"n/a"]}),l.jsxs("div",{className:"text-gray-600",children:["Reason: ",k.reason||"","  Requested by ",((H=k.requested_by)==null?void 0:H.name)||((P=N[k.requested_by_user_id])==null?void 0:P.name)||"User",(G=k.requested_by)!=null&&G.email?` (${(W=k.requested_by)==null?void 0:W.email})`:(le=N[k.requested_by_user_id])!=null&&le.email?` (${(ce=N[k.requested_by_user_id])==null?void 0:ce.email})`:""]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>D(k),children:"View"}),l.jsx(re,{className:"bg-green-600 hover:bg-green-700",onClick:()=>I(k.id,"approve"),children:"Approve"}),l.jsx(re,{variant:"outline",onClick:()=>I(k.id,"deny"),children:"Deny"})]})]},k.id)}),p&&l.jsx("div",{className:"text-center pt-2",children:l.jsx(re,{variant:"outline",onClick:()=>V(!0),children:"Load more"})})]})]})]})},fr=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},R4=({initialPhones:t})=>{var J,k,H,P,G,W,le,ce,Pe;const[e,n]=w.useState((t==null?void 0:t[0])||""),[r,i]=w.useState(!1),[s,a]=w.useState(null),[o,c]=w.useState(null),[u,h]=w.useState(null),[d,f]=w.useState({}),[m,S]=w.useState(!1),[b,A]=w.useState(null),[y,g]=w.useState(null),[p,v]=w.useState(null),E=async()=>{if(e.trim()){i(!0),a(null),c(null),g(null),A(null),v(null);try{const ie=await fetch(`${te}/api/v1/systems-check?phone_number=${encodeURIComponent(e.trim())}`,{headers:{"Content-Type":"application/json",...fr()}});if(!ie.ok)throw new Error("Failed systems check");const he=await ie.json();c(he),await j(he.phone_number),K(he.phone_number)}catch(ie){a(ie instanceof Error?ie.message:"Failed systems check")}finally{i(!1)}}},T=(ie,he)=>ie===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):ie===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),C=(o==null?void 0:o.providers)||{},x=async()=>{if(o){h("ringcentral");try{const ie=`${te}/api/v1/ringcentral/block?phone_number=${encodeURIComponent(o.phone_number)}`,he=await fetch(ie,{method:"POST",headers:{...fr()}}),ye=await he.text();let de=ye;try{de=JSON.parse(ye)}catch{}f(fe=>({...fe,ringcentral:{provider:"ringcentral",ok:he.ok,status:he.status,body:de,at:new Date().toISOString()}})),await E()}finally{h(null)}}},N=async()=>{if(o){h("convoso");try{const ie=`${te}/api/v1/convoso/dnc/insert?phone_number=${encodeURIComponent(o.phone_number)}`,he=await fetch(ie,{method:"POST",headers:{...fr()}}),ye=await he.text();let de=ye;try{de=JSON.parse(ye)}catch{}f(fe=>({...fe,convoso:{provider:"convoso",ok:he.ok,status:he.status,body:de,at:new Date().toISOString()}})),await E()}finally{h(null)}}},M=async()=>{if(o){h("ytel");try{const ie=`${te}/api/v1/ytel/dnc?phone_number=${encodeURIComponent(o.phone_number)}`,he=await fetch(ie,{method:"POST",headers:{...fr()}}),ye=await he.text();let de=ye;try{de=JSON.parse(ye)}catch{}f(fe=>({...fe,ytel:{provider:"ytel",ok:he.ok,status:he.status,body:de,at:new Date().toISOString()}})),await E()}finally{h(null)}}},F=async()=>{var he,ye,de;if(!o)return;const ie=(de=(ye=(he=C.logics)==null?void 0:he.cases)==null?void 0:ye[0])==null?void 0:de.CaseID;if(ie){h("logics");try{const fe=`${te}/api/v1/logics/dnc/update-case?case_id=${encodeURIComponent(ie)}&status_id=2`,Ae=await fetch(fe,{method:"POST",headers:{...fr()}}),it=await Ae.text();let Y=it;try{Y=JSON.parse(it)}catch{}f(pe=>({...pe,logics:{provider:"logics",ok:Ae.ok,status:Ae.status,body:Y,at:new Date().toISOString()}})),await E()}finally{h(null)}}},D=async()=>{var ie,he,ye;o&&((ie=C.ringcentral)!=null&&ie.listed||await x(),(he=C.convoso)!=null&&he.listed||await N(),await M(),(ye=C.logics)!=null&&ye.listed||await F())},j=async ie=>{try{const he=await fetch(`${te}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json",...fr()},body:JSON.stringify({phone_number:ie})});if(!he.ok)return;const ye=await he.text();let de=ye;try{de=JSON.parse(ye)}catch{}f(fe=>({...fe,logics_lookup:{provider:"logics_lookup",ok:!0,status:200,body:de,at:new Date().toISOString()}})),c(fe=>{if(!fe)return fe;const Ae=Array.isArray(de.cases)?de.cases:[];return{...fe,providers:{...fe.providers,logics:{listed:Ae.length>0,count:Ae.length,cases:Ae}}}})}catch{}},L=async ie=>{const he=(ie||e||"").trim();if(he)try{const ye=`${te}/api/v1/ringcentral/dnc/search/${encodeURIComponent(he)}`,de=await fetch(ye,{headers:{...fr()}}),fe=await de.text();let Ae=fe;try{Ae=JSON.parse(fe)}catch{}f(it=>({...it,ringcentral_lookup:{provider:"ringcentral_lookup",ok:de.ok,status:de.status,body:Ae,at:new Date().toISOString()}}))}catch{}},V=async ie=>{const he=(ie||e||"").trim();if(he)try{const ye=`${te}/api/v1/convoso/dnc/search/${encodeURIComponent(he)}`,de=await fetch(ye,{headers:{...fr()}}),fe=await de.text();let Ae=fe;try{Ae=JSON.parse(fe)}catch{}f(it=>({...it,convoso_lookup:{provider:"convoso_lookup",ok:de.ok,status:de.status,body:Ae,at:new Date().toISOString()}}))}catch{}},I=async ie=>{const he=(ie||e||"").trim();if(he)try{const ye=`${te}/api/v1/ytel/dnc/check/${encodeURIComponent(he)}`,de=await fetch(ye,{headers:{...fr()}}),fe=await de.text();let Ae=fe;try{Ae=JSON.parse(fe)}catch{}f(it=>({...it,ytel_lookup:{provider:"ytel_lookup",ok:de.ok,status:de.status,body:Ae,at:new Date().toISOString()}}))}catch{}},K=async ie=>{var ye;const he=(ie||e||"").trim();if(he){S(!0),A(null),g(null),v(null);try{const fe=await(await fetch(`${te}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json",...fr()},body:JSON.stringify({phone_numbers:[he]})})).text();let Ae=fe;try{Ae=JSON.parse(fe)}catch{}v(Ae);const it=(ye=Ae==null?void 0:Ae.results)==null?void 0:ye[0],Y=typeof(it==null?void 0:it.is_dnc)=="boolean"?it.is_dnc:Array.isArray(Ae==null?void 0:Ae.matches)?Ae.matches.length>0:null;g(Y)}catch(de){A(de instanceof Error?de.message:"Failed DNC check")}finally{S(!1)}}};return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Systems Check"})}),l.jsxs(Se,{children:[s&&l.jsx("div",{className:"text-red-600 text-sm mb-2",children:s}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx(Rt,{placeholder:"Enter phone (any format)",value:e,onChange:ie=>n(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"&&E()}}),l.jsx(re,{onClick:E,disabled:r,children:r?"Checking":"Run Check"})]}),o&&l.jsxs("div",{className:"border rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:o.phone_number}),r&&l.jsx("span",{className:"text-xs text-gray-500",children:"  Checking"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),r&&l.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:l.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),l.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"National DNC"}),l.jsxs("div",{className:"flex items-center gap-2",children:[m?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking"}):y===!0?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):y===!1?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>K(o.phone_number),disabled:m,children:"Check"})]})]}),(b||p)&&l.jsx("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:b?l.jsx("div",{className:"text-red-600",children:b}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-1",children:"DNC API Response"}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof p=="string"?p:JSON.stringify(p,null,2)})]})}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"RingCentral"}),l.jsxs("div",{className:"flex items-center gap-2",children:[T((J=C.ringcentral)==null?void 0:J.listed),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>L(o.phone_number),children:"Lookup"}),!((k=C.ringcentral)!=null&&k.listed)&&l.jsx(re,{size:"sm",variant:"outline",onClick:x,disabled:u==="ringcentral",children:"Push"})]})]}),d.ringcentral_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.ringcentral_lookup.status,")  ",new Date(d.ringcentral_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ringcentral_lookup.body=="string"?d.ringcentral_lookup.body:JSON.stringify(d.ringcentral_lookup.body,null,2)})]}),d.ringcentral&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",d.ringcentral.status,")  ",new Date(d.ringcentral.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ringcentral.body=="string"?d.ringcentral.body:JSON.stringify(d.ringcentral.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Convoso"}),l.jsxs("div",{className:"flex items-center gap-2",children:[T((H=C.convoso)==null?void 0:H.listed),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>V(o.phone_number),children:"Lookup"}),!((P=C.convoso)!=null&&P.listed)&&l.jsx(re,{size:"sm",variant:"outline",onClick:N,disabled:u==="convoso",children:"Push"})]})]}),d.convoso_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.convoso_lookup.status,")  ",new Date(d.convoso_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.convoso_lookup.body=="string"?d.convoso_lookup.body:JSON.stringify(d.convoso_lookup.body,null,2)})]}),d.convoso&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",d.convoso.status,")  ",new Date(d.convoso.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.convoso.body=="string"?d.convoso.body:JSON.stringify(d.convoso.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[C.logics?C.logics.listed?l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"True"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"False"}):l.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((G=C.logics)==null?void 0:G.count)=="number"&&l.jsxs("span",{className:"text-xs text-gray-600",children:[C.logics.count," case(s)"]})]}),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>j(o.phone_number),children:"Lookup"}),((ce=(le=(W=C.logics)==null?void 0:W.cases)==null?void 0:le[0])==null?void 0:ce.CaseID)&&l.jsx(re,{size:"sm",variant:"outline",onClick:F,disabled:u==="logics",children:"Push"})]})]}),d.logics_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.logics_lookup.status,")  ",new Date(d.logics_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.logics_lookup.body=="string"?d.logics_lookup.body:JSON.stringify(d.logics_lookup.body,null,2)})]}),d.logics&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",d.logics.status,")  ",new Date(d.logics.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.logics.body=="string"?d.logics.body:JSON.stringify(d.logics.body,null,2)})]}),l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("div",{className:"font-medium",children:"Ytel"}),l.jsxs("div",{className:"flex items-center gap-2",children:[T((Pe=C.ytel)==null?void 0:Pe.listed),l.jsx(re,{size:"sm",variant:"outline",onClick:()=>I(o.phone_number),children:"Lookup"}),l.jsx(re,{size:"sm",variant:"outline",onClick:M,disabled:u==="ytel",children:"Push"})]})]}),d.ytel_lookup&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.ytel_lookup.status,")  ",new Date(d.ytel_lookup.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ytel_lookup.body=="string"?d.ytel_lookup.body:JSON.stringify(d.ytel_lookup.body,null,2)})]}),d.ytel&&l.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[l.jsxs("div",{className:"mb-1",children:["Response (",d.ytel.status,")  ",new Date(d.ytel.at).toLocaleTimeString()]}),l.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ytel.body=="string"?d.ytel.body:JSON.stringify(d.ytel.body,null,2)})]})]}),l.jsx("div",{className:"mt-3",children:l.jsx(re,{onClick:D,disabled:u!==null,children:"Push DNC to remaining"})}),l.jsxs("div",{className:"mt-3 text-xs text-gray-600 space-y-1",children:[l.jsx("div",{children:l.jsx("strong",{children:"Current behavior:"})}),l.jsx("div",{children:" RingCentral: paginated blocked list search; Listed if found."}),l.jsx("div",{children:" Convoso: DNC search; Listed if found."}),l.jsx("div",{children:" Logics (TPS): Listed when cases are found by phone (count and first few returned)."}),l.jsx("div",{children:" Ytel: no read API; shows Unknown."}),l.jsx("div",{children:" Genesys: placeholder for now."})]})]})]})]})},k4=({organizationId:t,adminUserId:e})=>{const[n,r]=w.useState([]),[i,s]=w.useState([]),[a,o]=w.useState({}),[c,u]=w.useState(!1),[h,d]=w.useState(""),[f,m]=w.useState(""),[S,b]=w.useState(""),A=or(x=>{var N;return((N=x.demoAuth)==null?void 0:N.role)||"member"}),y=async()=>{const x={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const N=window.__msalAcquireToken,M="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(N&&M){const F=await N([M]);F&&(x.Authorization=`Bearer ${F}`)}}catch(N){console.warn("Failed to acquire token:",N)}return x},g=async()=>{u(!0);try{const x=await y();try{const N=await fetch(`${te}/api/v1/tenants/propagation/attempts/${t}`,{headers:x});if(N.ok){const M=await N.json();r(M||[])}else console.warn("Failed to fetch propagation attempts:",N.status,N.statusText),r([])}catch(N){console.error("Error fetching propagation attempts:",N),r([])}try{const N=await fetch(`${te}/api/v1/tenants/dnc-requests/org/${t}?limit=500`,{headers:x});if(N.ok){const M=await N.json();s(M||[])}else console.warn("Failed to fetch DNC requests:",N.status,N.statusText),s([])}catch(N){console.error("Error fetching DNC requests:",N),s([])}try{const N=await fetch(`${te}/api/v1/tenants/users`,{headers:x});if(N.ok){const M=await N.json(),F={};M.forEach(D=>{F[D.id]=D}),o(F)}else console.warn("Failed to fetch users:",N.status,N.statusText)}catch(N){console.error("Error fetching users:",N)}}finally{u(!1)}};w.useEffect(()=>{g()},[]);const p=w.useMemo(()=>{const x={};return n.forEach(M=>{h&&!M.phone_e164.includes(h)||f&&M.service_key!==f||S&&M.status!==S||(x[M.phone_e164]||(x[M.phone_e164]=[]),x[M.phone_e164].push(M))}),Object.keys(x).map(M=>{const F=x[M].sort((I,K)=>new Date(K.started_at).getTime()-new Date(I.started_at).getTime()),D={};F.forEach(I=>{D[I.service_key]||(D[I.service_key]=I)});const j=i.find(I=>I.phone_e164===M),L=a[e],V=String(A).toLowerCase()==="superadmin";return{phone:M,providers:D,requested_by:j?a[j.requested_by_user_id]:V?L:void 0,approved_by:j&&j.reviewed_by_user_id?a[j.reviewed_by_user_id]:V?L:void 0,decided_at:j==null?void 0:j.decided_at}})},[n,i,a,h,f,S]),v=["ringcentral","convoso","ytel","logics","genesys"],E=()=>{const N=[["phone","provider","status","attempt_no","started_at","finished_at","error","requested_by","approved_by"].join(",")];p.forEach(j=>{v.forEach(L=>{const V=j.providers[L];V&&N.push([j.phone,L,V.status,String(V.attempt_no),V.started_at,V.finished_at||"",(V.error_message||"").replace(/\n|\r|,/g," "),j.requested_by?`${j.requested_by.email}`:"",j.approved_by?`${j.approved_by.email}`:""].join(","))})});const M=new Blob([N.join(`
`)],{type:"text/csv"}),F=URL.createObjectURL(M),D=document.createElement("a");D.href=F,D.download="dnc_history_export.csv",D.click(),URL.revokeObjectURL(F)},T=x=>{if(!x)return l.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:""});const N=x==="success"?"bg-green-100 text-green-800":x==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${N}`,children:x})},C=async(x,N)=>{try{const M=await y();let F=null;if(x==="ringcentral")F=await fetch(`${te}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(N)}&label=${encodeURIComponent("API Block")}`,{method:"POST",headers:M});else if(x==="convoso")F=await fetch(`${te}/api/v1/convoso/dnc/add?phone_number=${encodeURIComponent(N)}`,{method:"POST",headers:M});else if(x==="ytel")F=await fetch(`${te}/api/v1/ytel/dnc/add?phone_number=${encodeURIComponent(N)}`,{method:"POST",headers:M});else if(x==="logics"){console.log("Logics retry not implemented - use Systems Check flow");return}F&&!F.ok?console.error(`Retry failed for ${x}:`,F.status,F.statusText):F&&console.log(`Retry successful for ${x}`),g()}catch(M){console.error(`Error retrying ${x}:`,M)}};return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"DNC History Monitor"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-3 text-sm",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Search phone"}),l.jsx("input",{className:"border rounded px-2 py-1",placeholder:"digits",value:h,onChange:x=>d(x.target.value)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Provider"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:f,onChange:x=>m(x.target.value),children:[l.jsx("option",{value:"",children:"Any"}),v.map(x=>l.jsx("option",{value:x,children:x},x))]})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{className:"border rounded px-2 py-1",value:S,onChange:x=>b(x.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"success",children:"success"}),l.jsx("option",{value:"failed",children:"failed"}),l.jsx("option",{value:"pending",children:"pending"})]})]}),l.jsx(re,{onClick:g,disabled:c,children:"Refresh"}),l.jsx(re,{variant:"outline",onClick:E,children:"Export CSV"})]}),c?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):p.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No DNC history yet."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm border",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50",children:[l.jsx("th",{className:"p-2 text-left",children:"Phone"}),l.jsx("th",{className:"p-2 text-left",children:"Requested By"}),l.jsx("th",{className:"p-2 text-left",children:"Approved By"}),v.map(x=>l.jsx("th",{className:"p-2 text-left capitalize",children:x},x))]})}),l.jsx("tbody",{children:p.map(x=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"p-2 font-medium",children:x.phone}),l.jsx("td",{className:"p-2",children:x.requested_by?x.requested_by.name||x.requested_by.email:""}),l.jsx("td",{className:"p-2",children:x.approved_by?x.approved_by.name||x.approved_by.email:""}),v.map(N=>{const M=x.providers[N];return l.jsxs("td",{className:"p-2 align-top",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[T(M==null?void 0:M.status),M&&l.jsx("button",{className:"text-xs underline",onClick:()=>C(N,x.phone),children:"Retry"})]}),(M==null?void 0:M.error_message)&&l.jsx("div",{className:"text-xs text-red-600 mt-1",children:M.error_message}),(M==null?void 0:M.finished_at)&&l.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:new Date(M.finished_at).toLocaleString()})]},N)})]},x.phone))})]})})]})]})},O4=(t,e)=>{const n={};return t.forEach(r=>{const i=e(r);n[i]||(n[i]=[]),n[i].push(r)}),n},I4=t=>{const e=t.toUpperCase();return["GET","POST","PUT","DELETE","PATCH"].includes(e)?e:null},M4=()=>{const[t,e]=w.useState("5618189087"),[n,r]=w.useState([]),[i,s]=w.useState({}),[a,o]=w.useState({}),[c,u]=w.useState(!1),[h,d]=w.useState(null),[f,m]=w.useState(null),[S,b]=w.useState(void 0),[A,y]=w.useState({}),[g,p]=w.useState({}),v=j=>j.replace(/\{[^/}]+\}/g,encodeURIComponent(t||"")),E=w.useMemo(()=>O4(n,j=>j.tags&&j.tags[0]||j.url.split("/").slice(0,4).join("/")||"Untagged"),[n]),T=async()=>{var j;u(!0),m(null);try{const L=await fetch(`${te}/openapi.json`);if(!L.ok)throw new Error(`OpenAPI fetch failed: ${L.status}`);const V=await L.json(),I=V.servers&&((j=V.servers[0])==null?void 0:j.url)||void 0;b(I);const K=[],J=V.paths||{};Object.entries(J).forEach(([G,W])=>{Object.entries(W||{}).forEach(([le,ce])=>{var Je,ut,yn,_,O,U,ee;const Pe=I4(le);if(!Pe)return;const ie=`${Pe}-${G}`,he=Array.isArray(ce==null?void 0:ce.parameters)?ce.parameters.filter(X=>(X==null?void 0:X.in)==="query").map(X=>X==null?void 0:X.name).filter(Boolean):[],ye=he.length?`?${he.map(X=>`${X}={${X}}`).join("&")}`:"",de=`${G}${ye}`,fe=(ce==null?void 0:ce.summary)||`${Pe} ${G}`,Ae=Array.isArray(ce==null?void 0:ce.tags)?ce.tags:["Untagged"];let it;try{it=((yn=(ut=(Je=ce==null?void 0:ce.requestBody)==null?void 0:Je.content)==null?void 0:ut["application/json"])==null?void 0:yn.example)||((ee=(U=(O=(_=ce==null?void 0:ce.requestBody)==null?void 0:_.content)==null?void 0:O["application/json"])==null?void 0:U.examples)==null?void 0:ee[0])}catch{}const Y=!!(ce!=null&&ce.requestBody),pe=de.includes("/ringcentral/")&&!de.includes("/auth")?[{id:"rc-auth",name:"RingCentral Auth",url:"/api/ringcentral/auth",method:"POST",tags:["RingCentral"]}]:[],st=Y?{"Content-Type":"application/json"}:void 0;K.push({id:ie,name:fe,url:de,method:Pe,tags:Ae,description:ce==null?void 0:ce.description,requestBodyExample:it,headers:st,prereqs:pe,hasBody:Y})})});const k=j4(),H=new Set(K.map(G=>G.id)),P=[...K];k.forEach(G=>{H.has(G.id)||(P.push(G),H.add(G.id))}),r(P),d(new Date().toISOString())}catch(L){m((L==null?void 0:L.message)||String(L))}finally{u(!1)}};w.useEffect(()=>{T()},[]);const C=j=>{if(/^https?:\/\//i.test(j))return j;const V=(S&&/^https?:\/\//i.test(S)?S:te).replace(/\/$/,""),K=(j.startsWith("/")?j:`/${j}`).replace(/\{[^/}]+\}/g,encodeURIComponent(t||""));return`${V}${K}`},x=async(j,L,V,I,K)=>{const J=performance.now();try{let k=K;if(["POST","PUT","PATCH"].includes(L)){const le=A[V];if(le&&le.trim().length)try{k=JSON.parse(le)}catch{}}const H=k!==void 0?typeof k=="string"?k:JSON.stringify(hC(k)):void 0,P=await fetch(C(M(V)),{method:L,headers:I,body:H}),G=await P.text();let W=G;try{W=JSON.parse(G)}catch{}return{title:j,ok:P.ok,status:P.status,ms:Math.round(performance.now()-J),body:W}}catch(k){return{title:j,ok:!1,status:0,ms:Math.round(performance.now()-J),body:String((k==null?void 0:k.message)||k)}}},N=j=>{const L=j.indexOf("?");return L===-1?[]:j.slice(L+1).split("&").map(I=>I.split("=")[0]).filter(Boolean)},M=j=>{const L=g[j];if(!L||Object.keys(L).length===0)return j;const V=j.indexOf("?"),I=V===-1?j:j.slice(0,V),K=new URLSearchParams(V===-1?"":j.slice(V+1));Object.entries(L).forEach(([k,H])=>{H==null||String(H).trim()===""||K.set(k,String(H))});const J=K.toString();return J?`${I}?${J}`:I},F=async j=>{o(k=>({...k,[j.id]:!0}));const L=[],V=performance.now();if(j.prereqs&&j.prereqs.length)for(const k of j.prereqs){const H=v(k.url||"")||v(j.url),P=await x(k.name||"OAuth / Prereq",k.method||"GET",H,k.headers);if(L.push(P),!P.ok)break}if(L.every(k=>k.ok)){const k=v(j.url),H=await x("API Call",j.method,k,j.headers,j.hasBody?j.requestBodyExample:void 0);L.push(H)}const I=Math.round(performance.now()-V),K=L.length>0&&L.every(k=>k.ok),J={id:j.id,ok:K,totalMs:I,steps:L,when:new Date().toISOString()};s(k=>({...k,[j.id]:J})),o(k=>({...k,[j.id]:!1}))},D=j=>l.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${j==="GET"?"bg-green-100 text-green-800":j==="POST"?"bg-blue-100 text-blue-800":j==="PUT"?"bg-yellow-100 text-yellow-800":j==="DELETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:j});return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"API Endpoint Tester"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-sm text-gray-700",children:"Test Value (replaces path parameters in URLs)"}),l.jsx(Rt,{value:t,onChange:j=>e(j.target.value),placeholder:"5618189087"})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx(re,{className:"bg-green-600 hover:bg-green-700",onClick:T,disabled:c,children:c?"Syncing":"Sync with OpenAPI"}),l.jsx("div",{className:"text-xs text-gray-600",children:h?`Last synced: ${new Date(h).toLocaleTimeString()}  ${n.length} endpoints`:"Not synced yet"})]})]}),f&&l.jsx("div",{className:"text-sm text-red-600 mt-2",children:f})]})]}),Object.entries(E).map(([j,L])=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:[j,"  ",L.length]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:L.map(V=>{const I=i[V.id],K=["POST","PUT","PATCH"].includes(V.method),J=V.url.includes("?"),k=JSON.stringify(hC(V.requestBodyExample??{phoneNumber:"{phoneNumber}"}),null,2);return l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsxs(Re,{className:"flex items-center justify-between text-base",children:[l.jsx("span",{children:V.name}),D(V.method)]})}),l.jsxs(Se,{children:[V.description&&l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:V.description}),l.jsx("div",{className:"text-xs font-mono break-all bg-gray-50 border rounded p-2 mb-2",children:v(V.url)}),J&&l.jsxs("div",{className:"mb-2 space-y-1",children:[l.jsx("div",{className:"text-xs text-gray-600",children:"Query Parameters"}),N(V.url).map(H=>{var P;return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs w-32 text-gray-700",children:H}),l.jsx(Rt,{value:((P=g[V.url])==null?void 0:P[H])??"",onChange:G=>p(W=>({...W,[V.url]:{...W[V.url]||{},[H]:G.target.value}})),placeholder:H==="phoneNumber"?t:""})]},H)})]}),K&&V.hasBody&&l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Request JSON Body"}),l.jsx("textarea",{className:"w-full text-xs font-mono border rounded p-2 bg-white",rows:6,defaultValue:k,onChange:H=>y(P=>({...P,[V.url]:H.target.value}))})]}),l.jsx("div",{className:"flex items-center justify-end gap-2",children:l.jsx(re,{onClick:()=>F(V),disabled:!!a[V.id],children:a[V.id]?"Testing":"Test"})}),I&&l.jsxs("div",{className:"mt-3 border-t pt-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:`flex items-center gap-2 ${I.ok?"text-green-700":"text-red-700"}`,children:l.jsx("span",{className:"font-semibold",children:I.ok?"Success":"Error"})}),l.jsxs("div",{className:"text-xs text-gray-600",children:[new Date(I.when).toLocaleString(),"  ",I.totalMs," ms"]})]}),l.jsx("div",{className:"mt-2 space-y-2",children:I.steps.map((H,P)=>l.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"font-medium",children:[P+1,". ",H.title]}),l.jsxs("div",{className:`text-xs ${H.ok?"text-green-700":"text-red-700"}`,children:[H.ok?"":""," ",H.status,"  ",H.ms," ms"]})]}),l.jsx("pre",{className:"mt-1 text-xs whitespace-pre-wrap break-words",children:typeof H.body=="string"?H.body:JSON.stringify(H.body,null,2)})]},P))})]})]})]},V.id)})})]},j))]})};function bg(t,e){if(typeof t=="string"){let n=t;return Object.entries(e).forEach(([r,i])=>{n=n.split(`{${r}}`).join(i)}),n}if(Array.isArray(t))return t.map(n=>bg(n,e));if(t&&typeof t=="object"){const n={};return Object.entries(t).forEach(([r,i])=>{n[r]=bg(i,e)}),n}return t}function j4(){const t={"Content-Type":"application/json"},e=Object.assign({},t,{"X-Org-Id":"1","X-User-Id":"1","X-Role":"superadmin"});return[{id:"GET-/api/v1/statuses",name:"CRM Statuses",url:"/api/v1/statuses",method:"GET",tags:["Core"]},{id:"POST-/api/check_number",name:"Check Single Number",url:"/api/check_number",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/check_tps_database",name:"Check TPS DB DNC",url:"/api/check_tps_database",method:"POST",tags:["Core"],headers:t,requestBodyExample:{limit:100}},{id:"POST-/api/cases_by_phone",name:"Cases By Phone (TPS)",url:"/api/cases_by_phone",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/run_automation",name:"Run DNC Automation (stub)",url:"/api/run_automation",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/cookies/refresh",name:"Refresh FreeDNC Cookies",url:"/api/cookies/refresh",method:"POST",tags:["Core"]},{id:"GET-/api/v1/tenants/propagation/attempts",name:"Tenant DNC History (by Org)",url:"/api/v1/tenants/propagation/attempts/1",method:"GET",tags:["Tenants"],headers:e},{id:"GET-/api/v1/tenants/system/services",name:"System Services (admin)",url:"/api/v1/tenants/system/services",method:"GET",tags:["Tenants"],headers:e},{id:"POST-/api/v1/tenants/system/test",name:"System Provider Test (admin)",url:"/api/v1/tenants/system/test/{phoneNumber}",method:"POST",tags:["Tenants"],headers:e}]}function hC(t){var r;if(t===void 0)return;const e=((r=document.querySelector('input[placeholder="5618189087"]'))==null?void 0:r.value)||"";return bg(t,{phoneNumber:e,phone_number:e})}const P4=()=>{const t=dv(),{phoneNumbers:e}=or(p=>p.phoneNumbers),{crmStatuses:n,stats:r}=or(p=>p.crmStatus),[i,s]=w.useState("pending"),a=1,o=1,[c,u]=w.useState({total:0,success:0,failed:0}),[h,d]=w.useState(0),[f,m]=w.useState(!1);w.useEffect(()=>{t(ic()),t(sc())},[t]);const S=async()=>{const p={"Content-Type":"application/json","X-Org-Id":String(a),"X-User-Id":String(o),"X-Role":"superadmin"};try{const v=window.__msalAcquireToken,E="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(v&&E){const T=await v([E]);T&&(p.Authorization=`Bearer ${T}`)}}catch{}return p},b=async()=>{m(!0);try{const p=await S(),v=await fetch(`${te}/api/v1/tenants/propagation/attempts/${a}?limit=200`,{headers:p});if(v.ok){const T=await v.json(),C=T.length,x=T.filter(M=>M.status==="success").length,N=T.filter(M=>M.status==="failed").length;u({total:C,success:x,failed:N})}else u({total:0,success:0,failed:0});const E=await fetch(`${te}/api/v1/tenants/dnc-entries/${a}`,{headers:p});if(E.ok){const T=await E.json();d(T.length)}else d(0)}catch{u({total:0,success:0,failed:0}),d(0)}finally{m(!1)}};w.useEffect(()=>{b()},[]);const A=e.length,y=n.length,g=p=>{switch(p.toLowerCase()){case"completed":return l.jsx(Va,{className:"w-4 h-4 text-green-600"});case"failed":return l.jsx(sC,{className:"w-4 h-4 text-red-600"});case"processing":return l.jsx(Ta,{className:"w-4 h-4 text-yellow-600"});case"pending":return l.jsx(Ta,{className:"w-4 h-4 text-blue-600"});default:return l.jsx(Ta,{className:"w-4 h-4 text-gray-600"})}};return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor phone number removals and CRM system status"})]}),l.jsx(re,{onClick:b,disabled:f,children:"Refresh Data"})]}),l.jsx("div",{className:"border-b",children:l.jsx("nav",{className:"flex flex-wrap gap-2 -mb-px text-sm",children:[{key:"pending",label:"Pending"},{key:"propagation",label:"DNC History"},{key:"systems",label:"Systems Check"},{key:"litigation",label:"Litigation"},{key:"samples",label:"Samples & Gaps"},{key:"overview",label:"Overview"},{key:"tester",label:"Tester"}].map(p=>l.jsx("button",{className:`px-3 py-2 border-b-2 ${i===p.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,onClick:()=>s(p.key),children:p.label},p.key))})}),i==="pending"&&l.jsx(N4,{organizationId:1,adminUserId:1}),i==="propagation"&&l.jsx(k4,{organizationId:1,adminUserId:1}),i==="systems"&&l.jsx(R4,{}),i==="litigation"&&l.jsx(A4,{organizationId:1,adminUserId:1}),i==="samples"&&l.jsx(E4,{organizationId:1,adminUserId:1}),i==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(be,{children:[l.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Re,{className:"text-sm font-medium",children:"Total Phone Numbers"}),l.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:h||A}),l.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Phone numbers in org DNC"})]})]}),l.jsxs(be,{children:[l.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Re,{className:"text-sm font-medium",children:"CRM Status Records"}),l.jsx(Sz,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.total||y}),l.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Provider attempts (recent)"})]})]}),l.jsxs(be,{children:[l.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Re,{className:"text-sm font-medium",children:"Completed Removals"}),l.jsx(Va,{className:"h-4 w-4 text-green-600"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.success}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully pushed to providers (recent)"})]})]}),l.jsxs(be,{children:[l.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Re,{className:"text-sm font-medium",children:"Failed Removals"}),l.jsx(sC,{className:"h-4 w-4 text-red-600"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.failed}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed provider attempts (recent)"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{children:"Logics Statistics"}),l.jsx(er,{children:"Removal status for Logics CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(r.logics).map(([p,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[g(p),l.jsx("span",{className:"capitalize",children:p})]}),l.jsx("span",{className:"font-semibold",children:v})]},p))})})]}),l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{children:"Genesys Statistics"}),l.jsx(er,{children:"Removal status for Genesys CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(r.genesys).map(([p,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[g(p),l.jsx("span",{className:"capitalize",children:p})]}),l.jsx("span",{className:"font-semibold",children:v})]},p))})})]}),l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{children:"Ring Central Statistics"}),l.jsx(er,{children:"Removal status for Ring Central CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(r.ringcentral).map(([p,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[g(p),l.jsx("span",{className:"capitalize",children:p})]}),l.jsx("span",{className:"font-semibold",children:v})]},p))})})]}),l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{children:"Convoso Statistics"}),l.jsx(er,{children:"Removal status for Convoso CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(r.convoso).map(([p,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[g(p),l.jsx("span",{className:"capitalize",children:p})]}),l.jsx("span",{className:"font-semibold",children:v})]},p))})})]}),l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{children:"Ytel Statistics"}),l.jsx(er,{children:"Removal status for Ytel CRM"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3",children:Object.entries(r.ytel).map(([p,v])=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[g(p),l.jsx("span",{className:"capitalize",children:p})]}),l.jsx("span",{className:"font-semibold",children:v})]},p))})})]})]})]}),i==="tester"&&l.jsx(M4,{})]})},D4=({userId:t})=>{const[e,n]=w.useState([]),[r,i]=w.useState(!1),[s,a]=w.useState(""),[o,c]=w.useState(""),[u,h]=w.useState(null),[d,f]=w.useState(!1),[m,S]=w.useState(null),b=async()=>{const A={"Content-Type":"application/json"};try{const y=window.__msalAcquireToken,g="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(y&&g){const p=await y([g]);p&&(A.Authorization=`Bearer ${p}`)}}catch{}return A};return w.useEffect(()=>{const A=async(y=!1)=>{i(!0);try{let g=m;try{const x=await b(),N=await fetch(`${te}/api/v1/tenants/auth/me`,{headers:x});if(N.ok){const M=await N.json();M!=null&&M.user_id&&(g=Number(M.user_id),m!==g&&S(g))}}catch{}const p=new URLSearchParams;s&&p.set("status",s),u&&p.set("cursor",String(u)),p.set("limit","50");const v=await b(),C=await(await fetch(`${te}/api/v1/tenants/dnc-requests/user/${g||m||t}?${p.toString()}`,{headers:v})).json();n(y?[...e,...C]:C),f(C.length===50),h(C.length?C[C.length-1].id:null)}finally{i(!1)}};h(null),A(!1)},[t,s,m]),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Your DNC Requests"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Status"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:s,onChange:A=>a(A.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"approved",children:"Approved"}),l.jsx("option",{value:"denied",children:"Denied"})]})]}),l.jsxs("div",{children:[l.jsx(Ut,{className:"text-xs",children:"Channel"}),l.jsxs("select",{className:"w-full border rounded px-2 py-1",value:o,onChange:A=>c(A.target.value),children:[l.jsx("option",{value:"",children:"Any"}),l.jsx("option",{value:"voice",children:"Voice"}),l.jsx("option",{value:"sms",children:"SMS"}),l.jsx("option",{value:"email",children:"Email"})]})]})]}),r?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):e.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"No requests yet."}):l.jsxs("div",{className:"space-y-2",children:[e.map(A=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[l.jsxs("div",{className:"text-sm",children:[l.jsxs("div",{className:"font-medium",children:[A.phone_e164,"  ",A.channel||"n/a"]}),l.jsxs("div",{className:"text-gray-600",children:[A.status,"  ",A.reason||""]})]}),l.jsx("div",{className:"text-xs text-gray-600",children:A.created_at?new Date(A.created_at).toLocaleString():""})]},A.id)),d&&l.jsx("div",{className:"text-center pt-2",children:l.jsx("button",{className:"px-3 py-1 border rounded",onClick:()=>{(async()=>{const y=await b(),v=await(await fetch(`${te}/api/v1/tenants/dnc-requests/user/${m||t}?cursor=${u||""}&limit=50`,{headers:y})).json();n([...e,...v]),f(v.length===50),h(v.length?v[v.length-1].id:null)})()},children:"Load more"})})]})]})]})},U4=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(0),[i,s]=w.useState(!1),[a,o]=w.useState(null),[c,u]=w.useState(null),[h,d]=w.useState(""),f=w.useRef(null),[m,S]=w.useState(""),[b,A]=w.useState(""),[y,g]=w.useState(null),[p,v]=w.useState(null),[E,T]=w.useState(!1),[C,x]=w.useState(!1),[N,M]=w.useState(""),[F,D]=w.useState(null),[j,L]=w.useState(null),[V,I]=w.useState(null),[K]=w.useState(!1),[J,k]=w.useState(!1),[H,P]=w.useState("quick"),G=Y=>{var st;const pe=(st=Y.target.files)==null?void 0:st[0];pe&&pe.type==="text/csv"?(e(pe),o(null)):o("Please select a valid CSV file")},W=Y=>{Y.preventDefault()},le=Y=>{Y.preventDefault();const pe=Y.dataTransfer.files[0];pe&&pe.type==="text/csv"?(e(pe),o(null)):o("Please drop a valid CSV file")},ce=async()=>{if(t){s(!0),o(null),d("Uploading CSV file...");try{const Y=new FormData;Y.append("file",t),Y.append("column_index",n.toString()),Y.append("format","json"),d("Processing CSV with DNC checking...");const pe=await fetch(`${te}/api/dnc/process`,{method:"POST",body:Y});if(!pe.ok){const O=await pe.json();throw new Error(O.detail||"Failed to process file")}const st=await pe.json();console.log("API Response:",st),d("Downloading processed results...");const Je=`${te}/api/dnc${st.file}`;console.log("Downloading from:",Je);const ut=await fetch(Je);if(!ut.ok)throw new Error("Failed to download processed file");const yn=await ut.text(),_=Pe(yn);u(_),d("Processing complete!")}catch(Y){o(Y instanceof Error?Y.message:"An error occurred"),d("")}finally{s(!1)}}},Pe=Y=>{const pe=Y.split(`
`);if(pe.length<2)return[];const st=pe[0].split(",").map(ut=>ut.trim().replace(/"/g,"")),Je=[];for(let ut=1;ut<pe.length;ut++)if(pe[ut].trim()){const yn=pe[ut].split(",").map(O=>O.trim().replace(/"/g,"")),_={};st.forEach((O,U)=>{_[O]=yn[U]||""}),Je.push(_)}return Je},ie=()=>{if(!c)return;const Y=[Object.keys(c[0]),...c.map(ut=>Object.values(ut))].map(ut=>ut.map(yn=>`"${yn}"`).join(",")).join(`
`),pe=new Blob([Y],{type:"text/csv"}),st=window.URL.createObjectURL(pe),Je=document.createElement("a");Je.href=st,Je.download=`dnc_results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),window.URL.revokeObjectURL(st)},he=async()=>{if(m.trim()){T(!0),o(null),g(null);try{const Y=await fetch(`${te}/api/dnc/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:m.trim()})});if(!Y.ok){const st=await Y.json();throw new Error(st.detail||"Failed to check phone number")}const pe=await Y.json();g(pe)}catch(Y){o(Y instanceof Error?Y.message:"An error occurred")}finally{T(!1)}}},ye=async()=>{if(b.trim()){x(!0),o(null),v(null);try{const Y=b.split(/[,\n\s]+/).map(Je=>Je.trim()).filter(Je=>Je.length>0);if(Y.length===0)throw new Error("No valid phone numbers found");if(Y.length>1e3)throw new Error("Maximum 1000 phone numbers per batch");const pe=await fetch(`${te}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_numbers:Y})});if(!pe.ok){const Je=await pe.json();throw new Error(Je.detail||"Failed to check batch phone numbers")}const st=await pe.json();v(st)}catch(Y){o(Y instanceof Error?Y.message:"An error occurred")}finally{x(!1)}}},de=async()=>{if(N.trim()){k(!0),o(null),D(null);try{const Y=await fetch(`${te}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:N.trim()})});if(!Y.ok){const st=await Y.json();throw new Error(st.detail||"Failed to fetch TPS cases")}const pe=await Y.json();D(pe.cases||[])}catch(Y){o(Y instanceof Error?Y.message:"Failed to fetch TPS cases")}finally{k(!1)}}},fe=Y=>{if(!Y)return"";try{const pe=new Date(Y);return Number.isNaN(pe.getTime())?"":pe.toLocaleString()}catch{return""}},Ae=async()=>{if(j)try{const Y=await fetch(`${te}/api/dnc/run_automation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:j})});if(!Y.ok){const pe=await Y.json();throw new Error(pe.detail||"Automation failed to start")}}catch(Y){o(Y instanceof Error?Y.message:"Automation failed")}},it=()=>{e(null),r(0),u(null),S(""),A(""),g(null),v(null),o(null),d(""),f.current&&(f.current.value="")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Tt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DNC Checker"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Upload a CSV file to check phone numbers against Do Not Call lists using FreeDNCList.com API. Ensure compliance across all CRM systems."})]}),l.jsxs("div",{className:"flex justify-center gap-2",children:[l.jsx(re,{variant:H==="quick"?"default":"outline",onClick:()=>P("quick"),children:"Quick Check"}),l.jsx(re,{variant:H==="tps"?"default":"outline",onClick:()=>P("tps"),children:"TPS Cases"}),l.jsx(re,{variant:H==="csv"?"default":"outline",onClick:()=>P("csv"),children:"CSV Upload"})]}),l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:H==="quick"?"Quick Phone Number Check":"TPS2 Database Check"}),l.jsx("p",{className:"text-gray-600",children:H==="quick"?"Check individual phone numbers or batches without CSV upload":"Find possible DNC matches from TPS and view case details"})]}),l.jsxs(Se,{className:"space-y-4",children:[H==="quick"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ut,{htmlFor:"single-phone",children:"Single Phone Number"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Rt,{id:"single-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:m,onChange:Y=>S(Y.target.value),className:"flex-1"}),l.jsx(re,{onClick:he,disabled:!m.trim()||E,className:"bg-blue-600 hover:bg-blue-700",children:E?"Checking...":"Check"})]}),y&&l.jsxs("div",{className:`p-3 rounded-lg border ${y.is_dnc?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[l.jsxs("div",{className:"font-medium",children:[y.phone_number,": ",y.is_dnc?"Yes - On DNC List":"No - Not on DNC"]}),l.jsx("div",{className:"text-sm opacity-75",children:y.notes})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ut,{htmlFor:"batch-phones",children:"Batch Phone Numbers"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Td,{id:"batch-phones",placeholder:`Enter phone numbers separated by commas, spaces, or new lines
Example:
5173715410
555-000-1234
555-111-5678`,value:b,onChange:Y=>A(Y.target.value),rows:4,className:"font-mono text-sm"}),l.jsx(re,{onClick:ye,disabled:!b.trim()||C,className:"bg-blue-600 hover:bg-blue-700 w-full",children:C?"Checking...":`Check ${b.split(/[,\n\s]+/).filter(Y=>Y.trim()).length} Numbers`})]}),p&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:p.results.map((Y,pe)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${Y.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[l.jsx("span",{className:"font-medium",children:Y.phone_number}),":",l.jsx("span",{className:Y.is_dnc?"text-red-700":"text-green-700",children:Y.is_dnc?" DNC":" Safe"})]},pe))})]})]})]}),H==="tps"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx(Ut,{htmlFor:"tps-phone",children:"TPS (Logiqs) Cases"})}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx(Rt,{id:"tps-phone",type:"tel",placeholder:"Enter phone number",value:N,onChange:Y=>M(Y.target.value),className:"flex-1"}),l.jsx(re,{onClick:de,disabled:J,className:"bg-purple-600 hover:bg-purple-700",children:J?"Finding cases":"Find cases"})]}),F&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Found ",F.length," case(s)"]}),l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:F.map((Y,pe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",Y.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",fe(Y.CreatedDate)," | Last Modified: ",fe(Y.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:Y.StatusName||`Status ${Y.StatusID}`})]},pe))})]})]})]})]})}),H==="tps"&&j&&l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Re,{className:"text-purple-700",children:j}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:Ae,className:"bg-red-600 hover:bg-red-700",children:"RUN DNC Automation"}),l.jsx(re,{variant:"outline",onClick:()=>{L(null),I(null)},children:"Close"})]})]}),l.jsx(er,{children:"All cases for this number with created/last modified/status."})]}),l.jsx(Se,{children:K?l.jsx("div",{className:"text-sm text-gray-600",children:"Loading cases..."}):l.jsx("div",{className:"space-y-2",children:V&&V.length>0?l.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:V.map((Y,pe)=>l.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium",children:["Case ",Y.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",fe(Y.CreatedDate)," | Last Modified: ",fe(Y.LastModifiedDate)]})]}),l.jsxs("div",{className:"text-xs text-gray-700",children:[Y.StatusName||`Status ${Y.StatusID}`,"  ",Y.PhoneType]})]},pe))}):l.jsx("div",{className:"text-sm text-gray-600",children:"No cases found for this number."})})})]})}),H==="csv"&&l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(be,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[l.jsxs(Ee,{children:[l.jsxs(Re,{className:"flex items-center gap-2 text-blue-600",children:[l.jsx(yg,{className:"h-5 w-5"}),"Upload CSV File"]}),l.jsx(er,{children:"Drag and drop your CSV file here, or click to browse"})]}),l.jsx(Se,{children:l.jsxs("div",{className:`relative p-8 text-center transition-colors ${t?"bg-blue-50":"bg-gray-50"}`,onDragOver:W,onDrop:le,children:[l.jsx("input",{ref:f,type:"file",accept:".csv",onChange:G,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(yg,{className:"h-12 w-12 mx-auto text-gray-400"}),l.jsx("p",{className:"text-sm text-gray-600",children:t?`Selected: ${t.name}`:"Click to select or drag and drop CSV file"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Only CSV files are supported"})]})]})})]})}),H==="csv"&&l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{className:"text-blue-600",children:"Phone Number Column"}),l.jsx(er,{children:"Specify which column contains the phone numbers (0-based index)"})]}),l.jsx(Se,{children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ut,{htmlFor:"columnIndex",children:"Column Index:"}),l.jsx(Rt,{id:"columnIndex",type:"number",min:"0",value:n,onChange:Y=>r(parseInt(Y.target.value)||0),className:"w-20"}),l.jsx("span",{className:"text-sm text-gray-500",children:"(0 = first column, 1 = second column, etc.)"})]})})]})}),H==="csv"&&l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:l.jsx(re,{onClick:ce,disabled:!t||i,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gg,{className:"h-5 w-5 mr-2"}),"Process DNC Check"]})})}),H==="csv"&&h&&l.jsx(Tt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:l.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[l.jsx(Va,{className:"h-4 w-4 mr-2"}),h]})}),a&&l.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center p-4 bg-red-100 border border-red-300 rounded-lg",children:[l.jsx(bh,{className:"h-5 w-5 text-red-500 mr-2"}),l.jsx("span",{className:"text-red-700",children:a}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:l.jsx(Ez,{className:"h-4 w-4"})})]}),H==="csv"&&c&&l.jsxs(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{className:"text-green-600",children:"Processing Results"})}),l.jsx(Se,{children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:c.length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),l.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.filter(Y=>Y.DNC_Status==="DNC_MATCH").length}),l.jsx("div",{className:"text-sm text-red-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(Y=>Y.DNC_Status==="SAFE").length}),l.jsx("div",{className:"text-sm text-green-600",children:"Safe to Call"})]})]})})]}),l.jsx("div",{className:"text-center",children:l.jsxs(re,{onClick:ie,className:"bg-green-600 hover:bg-green-700 text-white",children:[l.jsx(Cz,{className:"h-4 w-4 mr-2"}),"Download Results CSV"]})}),l.jsxs(be,{children:[l.jsxs(Ee,{children:[l.jsx(Re,{className:"text-blue-600",children:"Results in JSON Format"}),l.jsx(er,{children:"Processed data from FreeDNCList.com API"})]}),l.jsx(Se,{children:l.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto max-h-96",children:l.jsx("pre",{className:"text-sm",children:JSON.stringify(c,null,2)})})})]}),l.jsx("div",{className:"text-center",children:l.jsx(re,{onClick:it,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Process Another File"})})]})]})},L4=({activeTab:t,onTabChange:e})=>{var v,E;const{role:n,organizationId:r,userId:i}=or(T=>T.demoAuth),s=dv(),a=T=>T==="admin"||T==="superadmin",o=T=>T==="superadmin",[c,u]=w.useState(""),[h,d]=w.useState(""),[f,m]=w.useState(null),S=f||h||c||n,b=o(S),A=a(S),[y,g]=w.useState(""),p=w.useRef(!1);return w.useEffect(()=>{var T;try{const C=window.__msalInstance,x=(T=C==null?void 0:C.getAllAccounts)==null?void 0:T.call(C)[0];x&&g(x.name||x.username||"")}catch{}(async()=>{if(!p.current){try{const C={"Content-Type":"application/json"},x=window.__msalAcquireToken,N="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";let M="";x&&N&&(M=await x([N]),M&&(C.Authorization=`Bearer ${M}`));const F=await fetch(`${te}/api/v1/tenants/auth/me`,{headers:C});if(F.ok){const D=await F.json(),j=String(D.role||"").toLowerCase();if(j){u(j),h||d(j),j!==n&&s(Hl(j)),p.current=!0;return}}if(M)try{const D=JSON.parse(atob(M.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),j=Array.isArray(D.roles)?D.roles.map(I=>String(I).toLowerCase()):[],L=new Set(j.map(I=>I.replace(/[^a-z0-9]/g,"")));let V="member";j.includes("all")||j.includes("superadmin")||L.has("superadmin")?V="superadmin":j.includes("owner")||L.has("owner")?V="owner":(j.includes("approve_requests")||j.includes("admin")||L.has("admin"))&&(V="admin"),u(V),h||d(V),V!==n&&s(Hl(V))}catch{}}catch{}p.current=!0}})()},[]),l.jsx("nav",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-8",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fa,{className:"h-6 w-6 text-blue-600"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TRA DNC Portal"})]}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsxs(re,{variant:t==="main"?"default":"ghost",onClick:()=>e("main"),className:"flex items-center space-x-2",children:[l.jsx(wz,{className:"h-4 w-4"}),l.jsx("span",{children:"Main View"})]}),l.jsxs(re,{variant:t==="dnc-checker"?"default":"ghost",onClick:()=>e("dnc-checker"),className:"flex items-center space-x-2",children:[l.jsx(gg,{className:"h-4 w-4"}),l.jsx("span",{children:"DNC Checker"})]}),!A&&l.jsxs(re,{variant:t==="requests"?"default":"ghost",onClick:()=>e("requests"),className:"flex items-center space-x-2",children:[l.jsx(gg,{className:"h-4 w-4"}),l.jsx("span",{children:"My Requests"})]}),A&&l.jsxs(re,{variant:t==="admin"?"default":"ghost",onClick:()=>e("admin"),className:"flex items-center space-x-2",children:[l.jsx(EN,{className:"h-4 w-4"}),l.jsx("span",{children:"Admin"})]}),b&&l.jsxs(re,{variant:t==="settings"?"default":"ghost",onClick:()=>e("settings"),className:"flex items-center space-x-2",children:[l.jsx(iC,{className:"h-4 w-4"}),l.jsx("span",{children:"Settings"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[h==="superadmin"&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("span",{children:"Role:"}),l.jsxs("select",{value:S,onChange:T=>{const C=T.target.value;m(C),s(Hl(C))},className:"border rounded px-2 py-1",children:[l.jsx("option",{value:"member",children:"User"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-700 mr-2",children:[y&&l.jsx("span",{className:"mr-2 truncate max-w-[220px]",title:y,children:y}),l.jsx("span",{className:"px-2 py-0.5 border rounded bg-gray-50",children:S})]}),l.jsxs(re,{variant:"outline",size:"sm",onClick:async()=>{var C,x;const T="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";try{const N=window.__msalAcquireToken,M=window.__msalLogout,F=window.__msalInstance,D=(((C=F==null?void 0:F.getAllAccounts)==null?void 0:C.call(F))||[]).length>0;if(!D&&N){await N([T]);const j=(x=F==null?void 0:F.getAllAccounts)==null?void 0:x.call(F)[0];j&&g(j.name||j.username||"");const L={"X-Role":String(n),"X-Org-Id":String(r),"X-User-Id":String(i)};try{const I=window.__msalAcquireToken;if(I&&T){const K=await I([T]);K&&(L.Authorization=`Bearer ${K}`)}}catch{}const V=await fetch(`${te}/api/v1/tenants/auth/me`,{headers:L});if(V.ok){const I=await V.json();u(I.role),I.role&&s(Hl(I.role))}}else D&&M&&(await M(),g(""),u(""))}catch{}},children:[l.jsx(iC,{className:"h-4 w-4 mr-2"}),(E=(v=window.__msalInstance)==null?void 0:v.getAllAccounts)!=null&&E.call(v).length?"Sign Out":"Sign In"]})]})]})})})},fC=(t,e,n)=>({"Content-Type":"application/json","X-Role":t,"X-Org-Id":String(e||1),"X-User-Id":String(n||1)}),H4=()=>{const{role:t,organizationId:e,userId:n}=or(P=>P.demoAuth),r=t==="superadmin",[i]=w.useState(!0),[s,a]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(""),[d,f]=w.useState(""),[m,S]=w.useState({}),[b,A]=w.useState(!1),[y,g]=w.useState("5551234567"),[p,v]=w.useState(""),[E,T]=w.useState(""),[C,x]=w.useState(!1),[N,M]=w.useState(!1),[F,D]=w.useState("");w.useEffect(()=>{!i||!r||(async()=>{try{const P=await L(),G=await fetch(`${te}/api/v1/tenants/system/services`,{headers:P});G.ok&&a(await G.json());const W=await fetch(`${te}/api/v1/tenants/users`,{headers:P});W.ok&&c(await W.json())}catch{}})()},[i,r]);const j=async(P,G)=>{try{const W=await L();(await fetch(`${te}/api/v1/tenants/system/services/${P}`,{method:"PUT",headers:W,body:JSON.stringify({enabled:G})})).ok&&a(ce=>ce.map(Pe=>Pe.key===P?{...Pe,enabled:G}:Pe))}catch{}},L=async()=>{const P=fC(t,e,n);try{const G=window.__msalAcquireToken,W="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(G&&W){const le=await G([W]);le&&(P.Authorization=`Bearer ${le}`)}}catch{}return P},V=async()=>{M(!0),D("");try{const P=await L(),G=await fetch(`${te}/api/v1/tenants/admin/entra/sync-users`,{method:"POST",headers:P}),W=await G.json().catch(()=>({}));G.ok?D(`Synced: upserted ${W.upserted??0}, linked ${W.linked??0}`):D(`Error: ${W.detail||G.status}`)}catch(P){D(`Error: ${P.message}`)}finally{M(!1)}},I=async P=>{A(!0),v("");try{const W=await(await fetch(`${te}/api/v1/tenants/system/test/${P}`,{method:"POST",headers:fC(t,e,n),body:JSON.stringify({phone_e164:y})})).json();v(`${P}: ${W.success?"OK":"FAILED"} (${W.status_code})
${W.response||""}`)}catch(G){v(`${P}: ERROR ${G.message}`)}finally{A(!1)}},K=async()=>{x(!0),T("");try{const P=await L(),W=await(await fetch(`${te}/api/v1/ringcentral/auth/status`,{headers:P})).json();T(JSON.stringify(W,null,2))}catch(P){T(`Error: ${P.message}`)}finally{x(!1)}},J=async()=>{x(!0);try{const P=await L(),W=await(await fetch(`${te}/api/v1/ringcentral/dnc/list`,{headers:P})).json();T(JSON.stringify(W,null,2))}catch(P){T(`Error: ${P.message}`)}finally{x(!1)}},k=async()=>{x(!0);try{const P=encodeURIComponent(y),G=await L(),le=await(await fetch(`${te}/api/v1/ringcentral/dnc/search/${P}`,{headers:G})).json();T(JSON.stringify(le,null,2))}catch(P){T(`Error: ${P.message}`)}finally{x(!1)}},H=async()=>{x(!0);try{const P=await L(),G=`${te}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(y)}&label=${encodeURIComponent("API Block")}`,le=await(await fetch(G,{method:"POST",headers:P})).json();T(JSON.stringify(le,null,2))}catch(P){T(`Error: ${P.message}`)}finally{x(!1)}};return r&&i?l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Providers"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-2",children:s.map(P=>l.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[l.jsx("span",{className:"capitalize",children:P.key}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:P.enabled?"Enabled":"Disabled"}),l.jsx("input",{type:"checkbox",checked:P.enabled,onChange:G=>j(P.key,G.target.checked)})]})]},P.key))})})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Test Endpoints"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(Rt,{value:y,onChange:P=>g(P.target.value),placeholder:"E.164 or digits"})}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["ringcentral","convoso","ytel","logics"].map(P=>l.jsx(re,{size:"sm",variant:"outline",onClick:()=>I(P),disabled:b,children:P},P))}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:p||"Run a test to see response here."})]})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Directory Sync (Entra  DB)"})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(re,{size:"sm",onClick:V,disabled:N,children:N?"Syncing":"Sync Entra users"}),F&&l.jsx("span",{className:"text-sm text-gray-600",children:F})]}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requires Graph app permissions and superadmin role."})]})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Maintenance"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(re,{size:"sm",variant:"destructive",onClick:async()=>{if(confirm("Delete ALL DNC requests? This cannot be undone."))try{const P=await L(),G=await fetch(`${te}/api/v1/tenants/admin/purge/dnc-requests`,{method:"POST",headers:P}),W=await G.json().catch(()=>({}));alert(G.ok?`Deleted ${W.deleted??0} request(s)`:W.detail||"Failed")}catch(P){alert(`Error: ${P.message}`)}},children:"Purge DNC requests"})}),l.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Superadmin only. Deletes rows; keeps table."})]})]}),l.jsxs(be,{children:[l.jsx(Ee,{children:l.jsx(Re,{children:"RingCentral Auth & DNC"})}),l.jsxs(Se,{children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx(Rt,{value:y,onChange:P=>g(P.target.value),placeholder:"Phone to add/search"})}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:K,disabled:C,children:"Check Auth"}),l.jsx(re,{size:"sm",variant:"outline",onClick:J,disabled:C,children:"List Blocked"}),l.jsx(re,{size:"sm",variant:"outline",onClick:k,disabled:C,children:"Search Blocked"}),l.jsx(re,{size:"sm",variant:"default",onClick:H,disabled:C,children:"Add to DNC"})]}),l.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:E||"Use the buttons above to interact with RingCentral."})]})]}),l.jsxs(be,{className:"md:col-span-2",children:[l.jsx(Ee,{children:l.jsx(Re,{children:"Users & Roles (minimal)"})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Rt,{placeholder:"Email",value:u,onChange:P=>h(P.target.value)}),l.jsx(Rt,{placeholder:"Name",value:d,onChange:P=>f(P.target.value)}),l.jsx(re,{onClick:async()=>{try{const P=await L(),G=await fetch(`${te}/api/v1/tenants/users`,{method:"POST",headers:{...P,"Content-Type":"application/json"},body:JSON.stringify({email:u,name:d})});if(G.ok){const W=await G.json();c([W,...o]),h(""),f("")}}catch{}},children:"Add"})]}),l.jsx("div",{className:"border rounded divide-y",children:o.map(P=>l.jsxs("div",{className:"p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:P.email}),l.jsx("div",{className:"text-gray-600",children:P.name||""})]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:"System Admin"}),l.jsx("input",{type:"checkbox",checked:!!m[P.id],onChange:G=>S({...m,[P.id]:G.target.checked})})]})]},P.id))})]})})]})]}):null},mC=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null),i="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";w.useEffect(()=>{location.pathname!=="/login"&&window.history.replaceState({},"","/login")},[]);const s=async()=>{r(null),e(!0);try{const a=window.__msalAcquireToken;if(!a)throw new Error("Auth not initialized");await a([i]),location.pathname!=="/"&&window.history.replaceState({},"","/")}catch(a){r((a==null?void 0:a.message)||"Login failed")}finally{e(!1)}};return l.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white border rounded",children:[l.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Sign in"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use your Microsoft account to sign in."}),n&&l.jsx("div",{className:"mb-3 text-sm text-red-600",children:n}),l.jsx(re,{onClick:s,disabled:t,children:t?"Signing in":"Sign in with Microsoft"})]})},B4=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},z4=()=>{const t=dv(),{isLoading:e,error:n}=or(p=>p.phoneNumbers),r=or(p=>p.demoAuth.role),[i,s]=w.useState("main"),[a,o]=w.useState("none"),[c,u]=w.useState([]),[h]=w.useState(null),[d,f]=w.useState(null),[m]=w.useState(!1);w.useEffect(()=>{t(yo());const p=setTimeout(()=>{t(yo())},100);return t(ic()),t(sc()),()=>{clearTimeout(p),t(yo())}},[t]);const S=async(p,v)=>{if(r==="admin"||r==="superadmin"){u(p),o("systems"),t(bo({type:"info",message:'Checking systems Use "Put on DNC List (all remaining)" to push.',duration:5e3}));return}try{const E=await t(lu({phone_numbers:p,notes:v})).unwrap();t(bo({type:"success",message:`Successfully submitted ${E.success_count} phone numbers for removal`,duration:5e3})),E.failed_count>0&&t(bo({type:"warning",message:`${E.failed_count} phone numbers failed validation`,duration:5e3}));const T=p.length;t(IB(T));const C=["logics","genesys","ringcentral","convoso","ytel"];let x=0;o("crm");const N=setInterval(()=>{x++,C.forEach(M=>{const F=Math.min(T,Math.round(x/5*T)),D=x===5?Math.floor(F*.1):0,j=x<5?Math.max(0,T-F):0,L=Math.max(0,T-F-j);t(MB({crm:M,stats:{total:F,pending:L,processing:j,completed:F-D,failed:D}}))}),x>=5&&clearInterval(N)},800);t(yo())}catch{t(bo({type:"error",message:"Failed to submit phone numbers for removal",duration:5e3})),t(yo())}},b=async p=>{try{f({phone:p,cases:[]});const v=await fetch(`${te}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json",...B4()},body:JSON.stringify({phone_number:p})});if(!v.ok)throw new Error("Failed to fetch details");const E=await v.json();f({phone:p,cases:E.cases||[]})}catch(v){t(bo({type:"error",message:v instanceof Error?v.message:"Failed to fetch details",duration:4e3}))}},A=p=>{if(!p)return"";const v=new Date(p);return isNaN(v.getTime())?"":v.toLocaleString()},y=a!=="none",g=()=>{var E;const p=window.__msalInstance;if((((E=p==null?void 0:p.getAllAccounts)==null?void 0:E.call(p))||[]).length===0)return l.jsx(mC,{});switch(i){case"main":return l.jsxs(l.Fragment,{children:[l.jsxs(Tt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TRA Do Not Call List Manager"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Manage phone number removals from Do Not Call lists across multiple CRM systems"})]}),l.jsx("div",{className:`${y?"max-w-7xl":"max-w-3xl"} mx-auto w-full transition-all duration-300`,children:l.jsxs(Tt.div,{layout:!0,transition:{duration:.35,ease:"easeInOut"},className:`grid gap-8 ${y?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"} ${y?"":"justify-items-center"}`,children:[l.jsx(Tt.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:`${y?"":"w-full max-w-3xl"}`,children:l.jsx(S4,{onNumbersSubmit:S,isLoading:e})}),y&&l.jsxs(Tt.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a==="crm"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(T4,{organizationId:1,adminUserId:1}),l.jsx(x4,{})]}),a==="systems"&&l.jsx(w4,{numbers:c}),a==="precheck"&&h&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.total_checked}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.dnc_matches}),l.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.safe_to_call}),l.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),l.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:h.results.slice(0,20).map((T,C)=>l.jsxs("div",{className:`p-2 rounded border text-sm ${T.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"} flex items-center justify-between`,children:[l.jsx("span",{className:"font-medium",children:T.phone_number}),l.jsx("span",{className:T.is_dnc?"text-red-700":"text-green-700",children:T.is_dnc?" DNC":" Safe"}),l.jsx("button",{className:"ml-2 px-2 py-1 text-xs border rounded hover:bg-gray-50",onClick:()=>b(T.phone_number),children:"View details"})]},C))}),d&&l.jsxs("div",{className:"p-3 rounded border bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"font-medium",children:d.phone}),l.jsx("button",{className:"text-xs text-gray-500 underline",onClick:()=>f(null),children:"Close"})]}),m?l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Loading details..."}):d.cases.length?l.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[l.jsxs("div",{className:"text-gray-700",children:["Cases found: ",d.cases.length]}),l.jsx("div",{className:"max-h-40 overflow-y-auto divide-y",children:d.cases.map((T,C)=>l.jsxs("div",{className:"py-1 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-gray-800",children:["Case ",T.CaseID]}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",A(T.CreatedDate),"  Last Modified: ",A(T.LastModifiedDate)]})]}),l.jsx("div",{className:"text-xs text-gray-700",children:T.StatusName||`Status ${T.StatusID}`})]},C))})]}):l.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No cases found for this number."})]})]})]})]})}),l.jsx(sH,{children:n&&l.jsx(Tt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),l.jsx("span",{className:"font-medium",children:"Error:"}),l.jsx("span",{children:n})]})})})]});case"dnc-checker":return l.jsx(U4,{});case"requests":return r==="admin"||r==="superadmin"?l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"No personal requests for admins"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Admins submit removals directly and review member requests on the Admin page."})]}):l.jsxs("div",{children:[l.jsx(Tt.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold mb-4",children:"Your DNC Requests"}),l.jsx(D4,{userId:0})]});case"admin":return r==="admin"||r==="superadmin"?l.jsx(P4,{}):l.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[l.jsx("div",{className:"text-lg font-semibold mb-2",children:"Admin access required"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Switch role to Admin in the top-right selector to view the Admin dashboard."})]});case"settings":return r==="superadmin"?l.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"System Settings"}),l.jsx(H4,{})]}):l.jsx(mC,{});default:return null}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsx(L4,{activeTab:i,onTabChange:s}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g(),l.jsx(Tt.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-16 text-center text-gray-500 text-sm",children:l.jsx("p",{children:"TRA Do Not Call List Management System  Built with React, TypeScript, and FastAPI"})})]})]})},V4=()=>l.jsx(i2,{store:vN,children:l.jsxs(EE,{loading:null,persistor:$B,children:[l.jsx(z4,{}),l.jsx(V2,{position:"top-right",richColors:!0,closeButton:!0,duration:5e3})]})}),fi=new _y({auth:{clientId:"a2a6c2c2-cb10-411e-a354-da61bfa4a3b2",authority:"https://login.microsoftonline.com/185fc38c-2c1b-4307-a164-24a4072e83e1",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"localStorage"}});(async()=>{try{await fi.initialize()}catch(e){console.error("MSAL initialize failed:",e)}window.__msalInstance=fi;let t=null;window.__msalAcquireToken=async e=>t||(t=(async()=>{try{const n=fi.getAllAccounts();if(n.length>0)try{const r={account:n[0],scopes:e};return(await fi.acquireTokenSilent(r)).accessToken}catch{}try{return(await fi.loginPopup({scopes:e})).accessToken}catch(r){const i=(r==null?void 0:r.errorCode)||(r==null?void 0:r.message)||"";if(String(i).includes("interaction_in_progress"))return null;throw r}}finally{t=null}})(),t),window.__msalLogout=async()=>{try{await fi.logoutPopup()}catch{await fi.logoutRedirect()}},L1.createRoot(document.getElementById("root")).render(l.jsx(Q.StrictMode,{children:l.jsx(Pj,{instance:fi,children:l.jsx(V4,{})})}))})();
//# sourceMappingURL=index-nMtVrFt1.js.map
