var sk=Object.defineProperty;var rk=(t,e,n)=>e in t?sk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ih=(t,e,n)=>rk(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Og(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RS={exports:{}},Ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=Symbol.for("react.transitional.element"),ak=Symbol.for("react.fragment");function OS(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:ik,type:t,key:s,ref:e!==void 0?e:null,props:n}}Ld.Fragment=ak;Ld.jsx=OS;Ld.jsxs=OS;RS.exports=Ld;var c=RS.exports,IS={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig=Symbol.for("react.transitional.element"),ok=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),lk=Symbol.for("react.strict_mode"),uk=Symbol.for("react.profiler"),dk=Symbol.for("react.consumer"),hk=Symbol.for("react.context"),fk=Symbol.for("react.forward_ref"),mk=Symbol.for("react.suspense"),gk=Symbol.for("react.memo"),jS=Symbol.for("react.lazy"),_v=Symbol.iterator;function pk(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var MS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,DS={};function Za(t,e,n){this.props=t,this.context=e,this.refs=DS,this.updater=n||MS}Za.prototype.isReactComponent={};Za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function US(){}US.prototype=Za.prototype;function jg(t,e,n){this.props=t,this.context=e,this.refs=DS,this.updater=n||MS}var Mg=jg.prototype=new US;Mg.constructor=jg;PS(Mg,Za.prototype);Mg.isPureReactComponent=!0;var Nv=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},LS=Object.prototype.hasOwnProperty;function Pg(t,e,n,s,r,i){return n=i.ref,{$$typeof:Ig,type:t,key:e,ref:n!==void 0?n:null,props:i}}function yk(t,e){return Pg(t.type,e,void 0,void 0,void 0,t.props)}function Dg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ig}function vk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kv=/\/+/g;function jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vk(""+t.key):e.toString(36)}function Rv(){}function bk(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Rv,Rv):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ta(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ig:case ok:a=!0;break;case jS:return a=t._init,ta(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+jh(t,0):s,Nv(r)?(n="",a!=null&&(n=a.replace(kv,"$&/")+"/"),ta(r,e,n,"",function(u){return u})):r!=null&&(Dg(r)&&(r=yk(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(kv,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=s===""?".":s+":";if(Nv(t))for(var l=0;l<t.length;l++)s=t[l],i=o+jh(s,l),a+=ta(s,e,n,i,r);else if(l=pk(t),typeof l=="function")for(t=l.call(t),l=0;!(s=t.next()).done;)s=s.value,i=o+jh(s,l++),a+=ta(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return ta(bk(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function gl(t,e,n){if(t==null)return t;var s=[],r=0;return ta(t,s,"","",function(i){return e.call(n,i,r++)}),s}function xk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ov=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sk(){}Ie.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!Dg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Za;Ie.Fragment=ck;Ie.Profiler=uk;Ie.PureComponent=jg;Ie.StrictMode=lk;Ie.Suspense=mk;Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct;Ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ct.H.useMemoCache(t)}};Ie.cache=function(t){return function(){return t.apply(null,arguments)}};Ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=PS({},t.props),r=t.key,i=void 0;if(e!=null)for(a in e.ref!==void 0&&(i=void 0),e.key!==void 0&&(r=""+e.key),e)!LS.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}return Pg(t.type,r,void 0,void 0,i,s)};Ie.createContext=function(t){return t={$$typeof:hk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:dk,_context:t},t};Ie.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)LS.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return Pg(t,i,void 0,void 0,null,r)};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:fk,render:t}};Ie.isValidElement=Dg;Ie.lazy=function(t){return{$$typeof:jS,_payload:{_status:-1,_result:t},_init:xk}};Ie.memo=function(t,e){return{$$typeof:gk,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ct.T,n={};ct.T=n;try{var s=t(),r=ct.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Sk,Ov)}catch(i){Ov(i)}finally{ct.T=e}};Ie.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()};Ie.use=function(t){return ct.H.use(t)};Ie.useActionState=function(t,e,n){return ct.H.useActionState(t,e,n)};Ie.useCallback=function(t,e){return ct.H.useCallback(t,e)};Ie.useContext=function(t){return ct.H.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t,e){return ct.H.useDeferredValue(t,e)};Ie.useEffect=function(t,e,n){var s=ct.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(t,e)};Ie.useId=function(){return ct.H.useId()};Ie.useImperativeHandle=function(t,e,n){return ct.H.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return ct.H.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return ct.H.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return ct.H.useMemo(t,e)};Ie.useOptimistic=function(t,e){return ct.H.useOptimistic(t,e)};Ie.useReducer=function(t,e,n){return ct.H.useReducer(t,e,n)};Ie.useRef=function(t){return ct.H.useRef(t)};Ie.useState=function(t){return ct.H.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return ct.H.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return ct.H.useTransition()};Ie.version="19.1.1";IS.exports=Ie;var S=IS.exports;const Z=Og(S);var HS={exports:{}},Hd={},BS={exports:{}},zS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,K){var te=O.length;O.push(K);e:for(;0<te;){var H=te-1>>>1,$=O[H];if(0<r($,K))O[H]=K,O[te]=$,te=H;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var K=O[0],te=O.pop();if(te!==K){O[0]=te;e:for(var H=0,$=O.length,M=$>>>1;H<M;){var Y=2*(H+1)-1,Q=O[Y],le=Y+1,L=O[le];if(0>r(Q,te))le<$&&0>r(L,Q)?(O[H]=L,O[le]=te,H=le):(O[H]=Q,O[Y]=te,H=Y);else if(le<$&&0>r(L,te))O[H]=L,O[le]=te,H=le;else break e}}return K}function r(O,K){var te=O.sortIndex-K.sortIndex;return te!==0?te:O.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,m=!1,x=!1,b=!1,C=!1,y=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function v(O){for(var K=n(u);K!==null;){if(K.callback===null)s(u);else if(K.startTime<=O)s(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function w(O){if(b=!1,v(O),!x)if(n(l)!==null)x=!0,E||(E=!0,P());else{var K=n(u);K!==null&&F(w,K.startTime-O)}}var E=!1,T=-1,A=5,_=-1;function R(){return C?!0:!(t.unstable_now()-_<A)}function D(){if(C=!1,E){var O=t.unstable_now();_=O;var K=!0;try{e:{x=!1,b&&(b=!1,p(T),T=-1),m=!0;var te=f;try{t:{for(v(O),d=n(l);d!==null&&!(d.expirationTime>O&&R());){var H=d.callback;if(typeof H=="function"){d.callback=null,f=d.priorityLevel;var $=H(d.expirationTime<=O);if(O=t.unstable_now(),typeof $=="function"){d.callback=$,v(O),K=!0;break t}d===n(l)&&s(l),v(O)}else s(l);d=n(l)}if(d!==null)K=!0;else{var M=n(u);M!==null&&F(w,M.startTime-O),K=!1}}break e}finally{d=null,f=te,m=!1}K=void 0}}finally{K?P():E=!1}}}var P;if(typeof g=="function")P=function(){g(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,B=j.port2;j.port1.onmessage=D,P=function(){B.postMessage(null)}}else P=function(){y(D,0)};function F(O,K){T=y(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var te=f;f=K;try{return O()}finally{f=te}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=f;f=O;try{return K()}finally{f=te}},t.unstable_scheduleCallback=function(O,K,te){var H=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?H+te:H):te=H,O){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=te+$,O={id:h++,callback:K,priorityLevel:O,startTime:te,expirationTime:$,sortIndex:-1},te>H?(O.sortIndex=te,e(u,O),n(l)===null&&O===n(u)&&(b?(p(T),T=-1):b=!0,F(w,te-H))):(O.sortIndex=$,e(l,O),x||m||(x=!0,E||(E=!0,P()))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var K=f;return function(){var te=f;f=K;try{return O.apply(this,arguments)}finally{f=te}}}})(zS);BS.exports=zS;var Ck=BS.exports,VS={exports:{}},hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wk=S;function FS(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mr(){}var dn={d:{f:mr,r:function(){throw Error(FS(522))},D:mr,C:mr,L:mr,m:mr,X:mr,S:mr,M:mr},p:0,findDOMNode:null},Tk=Symbol.for("react.portal");function Ak(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tk,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var zo=wk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Bd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dn;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(FS(299));return Ak(t,e,null,n)};hn.flushSync=function(t){var e=zo.T,n=dn.p;try{if(zo.T=null,dn.p=2,t)return t()}finally{zo.T=e,dn.p=n,dn.d.f()}};hn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,dn.d.C(t,e))};hn.prefetchDNS=function(t){typeof t=="string"&&dn.d.D(t)};hn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Bd(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?dn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&dn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};hn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Bd(e.as,e.crossOrigin);dn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&dn.d.M(t)};hn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Bd(n,e.crossOrigin);dn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};hn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Bd(e.as,e.crossOrigin);dn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else dn.d.m(t)};hn.requestFormReset=function(t){dn.d.r(t)};hn.unstable_batchedUpdates=function(t,e){return t(e)};hn.useFormState=function(t,e,n){return zo.H.useFormState(t,e,n)};hn.useFormStatus=function(){return zo.H.useHostTransitionStatus()};hn.version="19.1.1";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(t){console.error(t)}}GS(),VS.exports=hn;var qS=VS.exports;const Ek=Og(qS);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt=Ck,KS=S,_k=qS;function q(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $S(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Iv(t){if(Fc(t)!==t)throw Error(q(188))}function Nk(t){var e=t.alternate;if(!e){if(e=Fc(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Iv(r),t;if(i===s)return Iv(r),e;i=i.sibling}throw Error(q(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,s=i;break}if(o===s){a=!0,s=r,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,s=r;break}if(o===s){a=!0,s=i,n=r;break}o=o.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==s)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function QS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=QS(t),e!==null)return e;t=t.sibling}return null}var rt=Object.assign,kk=Symbol.for("react.element"),pl=Symbol.for("react.transitional.element"),jo=Symbol.for("react.portal"),oa=Symbol.for("react.fragment"),XS=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),Rk=Symbol.for("react.provider"),JS=Symbol.for("react.consumer"),qs=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Lg=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),$f=Symbol.for("react.activity"),Ok=Symbol.for("react.memo_cache_sentinel"),jv=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var Ik=Symbol.for("react.client.reference");function Yf(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ik?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oa:return"Fragment";case Gf:return"Profiler";case XS:return"StrictMode";case qf:return"Suspense";case Kf:return"SuspenseList";case $f:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case jo:return"Portal";case qs:return(t.displayName||"Context")+".Provider";case JS:return(t._context.displayName||"Context")+".Consumer";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lg:return e=t.displayName||null,e!==null?e:Yf(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return Yf(t(e))}catch{}}return null}var Mo=Array.isArray,Te=KS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve=_k.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ti={pending:!1,data:null,method:null,action:null},Qf=[],ca=-1;function js(t){return{current:t}}function Ft(t){0>ca||(t.current=Qf[ca],Qf[ca]=null,ca--)}function lt(t,e){ca++,Qf[ca]=t.current,t.current=e}var ks=js(null),vc=js(null),Dr=js(null),wu=js(null);function Tu(t,e){switch(lt(Dr,e),lt(vc,t),lt(ks,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Lb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Lb(e),t=mT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ft(ks),lt(ks,t)}function Pa(){Ft(ks),Ft(vc),Ft(Dr)}function Xf(t){t.memoizedState!==null&&lt(wu,t);var e=ks.current,n=mT(e,t.type);e!==n&&(lt(vc,t),lt(ks,n))}function Au(t){vc.current===t&&(Ft(ks),Ft(vc)),wu.current===t&&(Ft(wu),Nc._currentValue=Ti)}var Jf=Object.prototype.hasOwnProperty,Hg=Dt.unstable_scheduleCallback,Mh=Dt.unstable_cancelCallback,jk=Dt.unstable_shouldYield,Mk=Dt.unstable_requestPaint,Rs=Dt.unstable_now,Pk=Dt.unstable_getCurrentPriorityLevel,ZS=Dt.unstable_ImmediatePriority,WS=Dt.unstable_UserBlockingPriority,Eu=Dt.unstable_NormalPriority,Dk=Dt.unstable_LowPriority,eC=Dt.unstable_IdlePriority,Uk=Dt.log,Lk=Dt.unstable_setDisableYieldValue,Gc=null,In=null;function Or(t){if(typeof Uk=="function"&&Lk(t),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(Gc,t)}catch{}}var jn=Math.clz32?Math.clz32:zk,Hk=Math.log,Bk=Math.LN2;function zk(t){return t>>>=0,t===0?32:31-(Hk(t)/Bk|0)|0}var yl=256,vl=4194304;function hi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zd(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~i,s!==0?r=hi(s):(a&=o,a!==0?r=hi(a):n||(n=o&~t,n!==0&&(r=hi(n))))):(o=s&~i,o!==0?r=hi(o):a!==0?r=hi(a):n||(n=s&~t,n!==0&&(r=hi(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function qc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Vk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tC(){var t=yl;return yl<<=1,!(yl&4194048)&&(yl=256),t}function nC(){var t=vl;return vl<<=1,!(vl&62914560)&&(vl=4194304),t}function Ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fk(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-jn(n),d=1<<h;o[h]=0,l[h]=-1;var f=u[h];if(f!==null)for(u[h]=null,h=0;h<f.length;h++){var m=f[h];m!==null&&(m.lane&=-536870913)}n&=~d}s!==0&&sC(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function sC(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-jn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&4194090}function rC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-jn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Bg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function iC(){var t=Ve.p;return t!==0?t:(t=window.event,t===void 0?32:TT(t.type))}function Gk(t,e){var n=Ve.p;try{return Ve.p=t,e()}finally{Ve.p=n}}var si=Math.random().toString(36).slice(2),en="__reactFiber$"+si,xn="__reactProps$"+si,Wa="__reactContainer$"+si,Zf="__reactEvents$"+si,qk="__reactListeners$"+si,Kk="__reactHandles$"+si,Mv="__reactResources$"+si,$c="__reactMarker$"+si;function Vg(t){delete t[en],delete t[xn],delete t[Zf],delete t[qk],delete t[Kk]}function la(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zb(t);t!==null;){if(n=t[en])return n;t=zb(t)}return e}t=n,n=t.parentNode}return null}function eo(t){if(t=t[en]||t[Wa]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Po(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(q(33))}function wa(t){var e=t[Mv];return e||(e=t[Mv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function zt(t){t[$c]=!0}var aC=new Set,oC={};function Fi(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(oC[t]=e,t=0;t<e.length;t++)aC.add(e[t])}var $k=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pv={},Dv={};function Yk(t){return Jf.call(Dv,t)?!0:Jf.call(Pv,t)?!1:$k.test(t)?Dv[t]=!0:(Pv[t]=!0,!1)}function Jl(t,e,n){if(Yk(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ds(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}var Dh,Uv;function na(t){if(Dh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dh=e&&e[1]||"",Uv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dh+t+Uv}var Uh=!1;function Lh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(t,[],d)}else{try{d.call()}catch(m){f=m}t.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(r=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===l.length||r===u.length)for(s=l.length-1,r=u.length-1;1<=s&&0<=r&&l[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(l[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||l[s]!==u[r]){var h=`
`+l[s].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=s&&0<=r);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?na(n):""}function Qk(t){switch(t.tag){case 26:case 27:case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Lh(t.type,!1);case 11:return Lh(t.type.render,!1);case 1:return Lh(t.type,!0);case 31:return na("Activity");default:return""}}function Lv(t){try{var e="";do e+=Qk(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function $n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xk(t){var e=cC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=Xk(t))}function lC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=cC(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Jk=/[\n"\\]/g;function Jn(t){return t.replace(Jk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Wf(t,e,n,s,r,i,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+$n(e)):t.value!==""+$n(e)&&(t.value=""+$n(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?em(t,a,$n(e)):n!=null?em(t,a,$n(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+$n(o):t.removeAttribute("name")}function uC(t,e,n,s,r,i,a,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null))return;n=n!=null?""+$n(n):"",e=e!=null?""+$n(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function em(t,e,n){e==="number"&&Nu(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Ta(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function dC(t,e,n){if(e!=null&&(e=""+$n(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+$n(n):""}function hC(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(q(92));if(Mo(s)){if(1<s.length)throw Error(q(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=$n(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s)}function Ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hv(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||Zk.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function fC(t,e,n){if(e!=null&&typeof e!="object")throw Error(q(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&Hv(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&Hv(t,i,e[i])}function Fg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(t){return eR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tm=null;function Gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ua=null,Aa=null;function Bv(t){var e=eo(t);if(e&&(t=e.stateNode)){var n=t[xn]||null;e:switch(t=e.stateNode,e.type){case"input":if(Wf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Jn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[xn]||null;if(!r)throw Error(q(90));Wf(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&lC(s)}break e;case"textarea":dC(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Ta(t,!!n.multiple,e,!1)}}}var Hh=!1;function mC(t,e,n){if(Hh)return t(e,n);Hh=!0;try{var s=t(e);return s}finally{if(Hh=!1,(ua!==null||Aa!==null)&&(Jd(),ua&&(e=ua,t=Aa,Aa=ua=null,Bv(e),t)))for(e=0;e<t.length;e++)Bv(t[e])}}function bc(t,e){var n=t.stateNode;if(n===null)return null;var s=n[xn]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nm=!1;if(sr)try{var po={};Object.defineProperty(po,"passive",{get:function(){nm=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{nm=!1}var Ir=null,qg=null,Wl=null;function gC(){if(Wl)return Wl;var t,e=qg,n=e.length,s,r="value"in Ir?Ir.value:Ir.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Wl=r.slice(t,1<s?1-s:void 0)}function eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function zv(){return!1}function Tn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xl:zv,this.isPropagationStopped=zv,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=Tn(Gi),Yc=rt({},Gi,{view:0,detail:0}),tR=Tn(Yc),Bh,zh,yo,Fd=rt({},Yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(Bh=t.screenX-yo.screenX,zh=t.screenY-yo.screenY):zh=Bh=0,yo=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:zh}}),Vv=Tn(Fd),nR=rt({},Fd,{dataTransfer:0}),sR=Tn(nR),rR=rt({},Yc,{relatedTarget:0}),Vh=Tn(rR),iR=rt({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),aR=Tn(iR),oR=rt({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cR=Tn(oR),lR=rt({},Gi,{data:0}),Fv=Tn(lR),uR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hR[t])?!!e[t]:!1}function Kg(){return fR}var mR=rt({},Yc,{key:function(t){if(t.key){var e=uR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kg,charCode:function(t){return t.type==="keypress"?eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gR=Tn(mR),pR=rt({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gv=Tn(pR),yR=rt({},Yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kg}),vR=Tn(yR),bR=rt({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xR=Tn(bR),SR=rt({},Fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CR=Tn(SR),wR=rt({},Gi,{newState:0,oldState:0}),TR=Tn(wR),AR=[9,13,27,32],$g=sr&&"CompositionEvent"in window,Vo=null;sr&&"documentMode"in document&&(Vo=document.documentMode);var ER=sr&&"TextEvent"in window&&!Vo,pC=sr&&(!$g||Vo&&8<Vo&&11>=Vo),qv=" ",Kv=!1;function yC(t,e){switch(t){case"keyup":return AR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function _R(t,e){switch(t){case"compositionend":return vC(e);case"keypress":return e.which!==32?null:(Kv=!0,qv);case"textInput":return t=e.data,t===qv&&Kv?null:t;default:return null}}function NR(t,e){if(da)return t==="compositionend"||!$g&&yC(t,e)?(t=gC(),Wl=qg=Ir=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pC&&e.locale!=="ko"?null:e.data;default:return null}}var kR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kR[t.type]:e==="textarea"}function bC(t,e,n,s){ua?Aa?Aa.push(s):Aa=[s]:ua=s,e=Ku(e,"onChange"),0<e.length&&(n=new Vd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Fo=null,xc=null;function RR(t){dT(t,0)}function Gd(t){var e=Po(t);if(lC(e))return t}function Yv(t,e){if(t==="change")return e}var xC=!1;if(sr){var Fh;if(sr){var Gh="oninput"in document;if(!Gh){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Gh=typeof Qv.oninput=="function"}Fh=Gh}else Fh=!1;xC=Fh&&(!document.documentMode||9<document.documentMode)}function Xv(){Fo&&(Fo.detachEvent("onpropertychange",SC),xc=Fo=null)}function SC(t){if(t.propertyName==="value"&&Gd(xc)){var e=[];bC(e,xc,t,Gg(t)),mC(RR,e)}}function OR(t,e,n){t==="focusin"?(Xv(),Fo=e,xc=n,Fo.attachEvent("onpropertychange",SC)):t==="focusout"&&Xv()}function IR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gd(xc)}function jR(t,e){if(t==="click")return Gd(e)}function MR(t,e){if(t==="input"||t==="change")return Gd(e)}function PR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:PR;function Sc(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Jf.call(e,r)||!Ln(t[r],e[r]))return!1}return!0}function Jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zv(t,e){var n=Jv(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jv(n)}}function CC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wC(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Nu(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function Yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var DR=sr&&"documentMode"in document&&11>=document.documentMode,ha=null,sm=null,Go=null,rm=!1;function Wv(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rm||ha==null||ha!==Nu(s)||(s=ha,"selectionStart"in s&&Yg(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Go&&Sc(Go,s)||(Go=s,s=Ku(sm,"onSelect"),0<s.length&&(e=new Vd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ha)))}function ui(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fa={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},qh={},TC={};sr&&(TC=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function qi(t){if(qh[t])return qh[t];if(!fa[t])return t;var e=fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TC)return qh[t]=e[n];return t}var AC=qi("animationend"),EC=qi("animationiteration"),_C=qi("animationstart"),UR=qi("transitionrun"),LR=qi("transitionstart"),HR=qi("transitioncancel"),NC=qi("transitionend"),kC=new Map,im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");im.push("scrollEnd");function vs(t,e){kC.set(t,e),Fi(e,[t])}var eb=new WeakMap;function Zn(t,e){if(typeof t=="object"&&t!==null){var n=eb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Lv(e)},eb.set(t,e),e)}return{value:t,source:e,stack:Lv(e)}}var Kn=[],ma=0,Qg=0;function qd(){for(var t=ma,e=Qg=ma=0;e<t;){var n=Kn[e];Kn[e++]=null;var s=Kn[e];Kn[e++]=null;var r=Kn[e];Kn[e++]=null;var i=Kn[e];if(Kn[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&RC(n,r,i)}}function Kd(t,e,n,s){Kn[ma++]=t,Kn[ma++]=e,Kn[ma++]=n,Kn[ma++]=s,Qg|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Xg(t,e,n,s){return Kd(t,e,n,s),ku(t)}function to(t,e){return Kd(t,null,null,e),ku(t)}function RC(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-jn(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function ku(t){if(50<ec)throw ec=0,Em=null,Error(q(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ga={};function BR(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,s){return new BR(t,e,n,s)}function Jg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zs(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function OC(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function tu(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")Jg(t)&&(a=1);else if(typeof t=="string")a=V1(t,n,ks.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $f:return t=On(31,n,e,r),t.elementType=$f,t.lanes=i,t;case oa:return Ai(n.children,r,i,e);case XS:a=8,r|=24;break;case Gf:return t=On(12,n,e,r|2),t.elementType=Gf,t.lanes=i,t;case qf:return t=On(13,n,e,r),t.elementType=qf,t.lanes=i,t;case Kf:return t=On(19,n,e,r),t.elementType=Kf,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rk:case qs:a=10;break e;case JS:a=9;break e;case Ug:a=11;break e;case Lg:a=14;break e;case Cr:a=16,s=null;break e}a=29,n=Error(q(130,t===null?"null":typeof t,"")),s=null}return e=On(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Ai(t,e,n,s){return t=On(7,t,s,e),t.lanes=n,t}function Kh(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function $h(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var pa=[],ya=0,Ru=null,Ou=0,Yn=[],Qn=0,Ei=null,Ks=1,$s="";function fi(t,e){pa[ya++]=Ou,pa[ya++]=Ru,Ru=t,Ou=e}function IC(t,e,n){Yn[Qn++]=Ks,Yn[Qn++]=$s,Yn[Qn++]=Ei,Ei=t;var s=Ks;t=$s;var r=32-jn(s)-1;s&=~(1<<r),n+=1;var i=32-jn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Ks=1<<32-jn(e)+r|n<<r|s,$s=i+t}else Ks=1<<i|n<<r|s,$s=t}function Zg(t){t.return!==null&&(fi(t,1),IC(t,1,0))}function Wg(t){for(;t===Ru;)Ru=pa[--ya],pa[ya]=null,Ou=pa[--ya],pa[ya]=null;for(;t===Ei;)Ei=Yn[--Qn],Yn[Qn]=null,$s=Yn[--Qn],Yn[Qn]=null,Ks=Yn[--Qn],Yn[Qn]=null}var ln=null,ft=null,ze=!1,_i=null,Ts=!1,am=Error(q(519));function ji(t){var e=Error(q(418,""));throw Cc(Zn(e,t)),am}function tb(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[en]=t,e[xn]=s,n){case"dialog":Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":case"embed":Pe("load",e);break;case"video":case"audio":for(n=0;n<Ac.length;n++)Pe(Ac[n],e);break;case"source":Pe("error",e);break;case"img":case"image":case"link":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"input":Pe("invalid",e),uC(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),_u(e);break;case"select":Pe("invalid",e);break;case"textarea":Pe("invalid",e),hC(e,s.value,s.defaultValue,s.children),_u(e)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||fT(e.textContent,n)?(s.popover!=null&&(Pe("beforetoggle",e),Pe("toggle",e)),s.onScroll!=null&&Pe("scroll",e),s.onScrollEnd!=null&&Pe("scrollend",e),s.onClick!=null&&(e.onclick=eh),e=!0):e=!1,e||ji(t)}function nb(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:ln=ln.return}}function vo(t){if(t!==ln)return!1;if(!ze)return nb(t),ze=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Im(t.type,t.memoizedProps)),n=!n),n&&ft&&ji(t),nb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ft=hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ft=null}}else e===27?(e=ft,ri(t.type)?(t=Pm,Pm=null,ft=t):ft=e):ft=ln?hs(t.stateNode.nextSibling):null;return!0}function Qc(){ft=ln=null,ze=!1}function sb(){var t=_i;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),_i=null),t}function Cc(t){_i===null?_i=[t]:_i.push(t)}var om=js(null),Ki=null,Ys=null;function Ar(t,e,n){lt(om,e._currentValue),e._currentValue=n}function Ws(t){t._currentValue=om.current,Ft(om)}function cm(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function lm(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),cm(i.return,n,t),s||(a=null);break e}i=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(q(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),cm(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Xc(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(q(387));if(a=a.memoizedProps,a!==null){var o=r.type;Ln(r.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(r===wu.current){if(a=r.alternate,a===null)throw Error(q(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Nc):t=[Nc])}r=r.return}t!==null&&lm(e,t,n,s),e.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mi(t){Ki=t,Ys=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return jC(Ki,t)}function Sl(t,e){return Ki===null&&Mi(t),jC(t,e)}function jC(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ys===null){if(t===null)throw Error(q(308));Ys=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ys=Ys.next=e;return n}var zR=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},VR=Dt.unstable_scheduleCallback,FR=Dt.unstable_NormalPriority,Ot={$$typeof:qs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new zR,data:new Map,refCount:0}}function Jc(t){t.refCount--,t.refCount===0&&VR(FR,function(){t.controller.abort()})}var qo=null,um=0,La=0,Ea=null;function GR(t,e){if(qo===null){var n=qo=[];um=0,La=wp(),Ea={status:"pending",value:void 0,then:function(s){n.push(s)}}}return um++,e.then(rb,rb),e}function rb(){if(--um===0&&qo!==null){Ea!==null&&(Ea.status="fulfilled");var t=qo;qo=null,La=0,Ea=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function qR(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var ib=Te.S;Te.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&GR(t,e),ib!==null&&ib(t,e)};var Ni=js(null);function tp(){var t=Ni.current;return t!==null?t:nt.pooledCache}function nu(t,e){e===null?lt(Ni,Ni.current):lt(Ni,e.pool)}function MC(){var t=tp();return t===null?null:{parent:Ot._currentValue,pool:t}}var Zc=Error(q(460)),PC=Error(q(474)),$d=Error(q(542)),dm={then:function(){}};function ab(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cl(){}function DC(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Cl,Cl),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cb(t),t;default:if(typeof e.status=="string")e.then(Cl,Cl);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(q(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cb(t),t}throw Ko=e,Zc}}var Ko=null;function ob(){if(Ko===null)throw Error(q(459));var t=Ko;return Ko=null,t}function cb(t){if(t===Zc||t===$d)throw Error(q(483))}var wr=!1;function np(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ke&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=ku(t),RC(t,null,n),e}return Kd(t,s,e,n),ku(t)}function $o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rC(t,n)}}function Yh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var fm=!1;function Yo(){if(fm){var t=Ea;if(t!==null)throw t}}function Qo(t,e,n,s){fm=!1;var r=t.updateQueue;wr=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(i!==null){var d=r.baseState;a=0,h=u=l=null,o=i;do{var f=o.lane&-536870913,m=f!==o.lane;if(m?(Le&f)===f:(s&f)===f){f!==0&&f===La&&(fm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,b=o;f=e;var C=n;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){d=x.call(C,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,f=typeof x=="function"?x.call(C,d,f):x,f==null)break e;d=rt({},d,f);break e;case 2:wr=!0}}f=o.callback,f!==null&&(t.flags|=64,m&&(t.flags|=8192),m=r.callbacks,m===null?r.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;m=o,o=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,i===null&&(r.shared.lanes=0),Jr|=a,t.lanes=a,t.memoizedState=d}}function UC(t,e){if(typeof t!="function")throw Error(q(191,t));t.call(e)}function LC(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)UC(n[t],e)}var Ha=js(null),ju=js(0);function lb(t,e){t=ar,lt(ju,t),lt(Ha,e),ar=t|e.baseLanes}function mm(){lt(ju,ar),lt(Ha,Ha.current)}function sp(){ar=ju.current,Ft(Ha),Ft(ju)}var Qr=0,je=null,Ye=null,wt=null,Mu=!1,_a=!1,Pi=!1,Pu=0,wc=0,Na=null,KR=0;function gt(){throw Error(q(321))}function rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function ip(t,e,n,s,r,i){return Qr=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Te.H=t===null||t.memoizedState===null?gw:pw,Pi=!1,i=n(s,r),Pi=!1,_a&&(i=BC(e,n,s,r)),HC(t),i}function HC(t){Te.H=Du;var e=Ye!==null&&Ye.next!==null;if(Qr=0,wt=Ye=je=null,Mu=!1,wc=0,Na=null,e)throw Error(q(300));t===null||Vt||(t=t.dependencies,t!==null&&Iu(t)&&(Vt=!0))}function BC(t,e,n,s){je=t;var r=0;do{if(_a&&(Na=null),wc=0,_a=!1,25<=r)throw Error(q(301));if(r+=1,wt=Ye=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Te.H=WR,i=e(n,s)}while(_a);return i}function $R(){var t=Te.H,e=t.useState()[0];return e=typeof e.then=="function"?Wc(e):e,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(je.flags|=1024),e}function ap(){var t=Pu!==0;return Pu=0,t}function op(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function cp(t){if(Mu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Mu=!1}Qr=0,wt=Ye=je=null,_a=!1,wc=Pu=0,Na=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?je.memoizedState=wt=t:wt=wt.next=t,wt}function Et(){if(Ye===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=wt===null?je.memoizedState:wt.next;if(e!==null)wt=e,Ye=t;else{if(t===null)throw je.alternate===null?Error(q(467)):Error(q(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},wt===null?je.memoizedState=wt=t:wt=wt.next=t}return wt}function lp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wc(t){var e=wc;return wc+=1,Na===null&&(Na=[]),t=DC(Na,t,e),e=je,(wt===null?e.memoizedState:wt.next)===null&&(e=e.alternate,Te.H=e===null||e.memoizedState===null?gw:pw),t}function Yd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wc(t);if(t.$$typeof===qs)return tn(t)}throw Error(q(438,String(t)))}function up(t){var e=null,n=je.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=je.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=lp(),je.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=Ok;return e.index++,n}function rr(t,e){return typeof e=="function"?e(t):e}function su(t){var e=Et();return dp(e,Ye,t)}function dp(t,e,n){var s=t.queue;if(s===null)throw Error(q(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var o=a=null,l=null,u=e,h=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Le&d)===d:(Qr&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===La&&(h=!0);else if((Qr&f)===f){u=u.next,f===La&&(h=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=d,a=i):l=l.next=d,je.lanes|=f,Jr|=f;d=u.action,Pi&&n(i,d),i=u.hasEagerState?u.eagerState:n(i,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,a=i):l=l.next=f,je.lanes|=d,Jr|=d;u=u.next}while(u!==null&&u!==e);if(l===null?a=i:l.next=o,!Ln(i,t.memoizedState)&&(Vt=!0,h&&(n=Ea,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=l,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Qh(t){var e=Et(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Ln(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function zC(t,e,n){var s=je,r=Et(),i=ze;if(i){if(n===void 0)throw Error(q(407));n=n()}else n=e();var a=!Ln((Ye||r).memoizedState,n);a&&(r.memoizedState=n,Vt=!0),r=r.queue;var o=GC.bind(null,s,r,t);if(el(2048,8,o,[t]),r.getSnapshot!==e||a||wt!==null&&wt.memoizedState.tag&1){if(s.flags|=2048,Ba(9,Qd(),FC.bind(null,s,r,n,e),null),nt===null)throw Error(q(349));i||Qr&124||VC(s,e,n)}return n}function VC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e=lp(),je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FC(t,e,n,s){e.value=n,e.getSnapshot=s,qC(e)&&KC(t)}function GC(t,e,n){return n(function(){qC(e)&&KC(t)})}function qC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function KC(t){var e=to(t,2);e!==null&&Pn(e,t,2)}function gm(t){var e=fn();if(typeof t=="function"){var n=t;if(t=n(),Pi){Or(!0);try{n()}finally{Or(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},e}function $C(t,e,n,s){return t.baseState=n,dp(t,Ye,typeof s=="function"?s:rr)}function YR(t,e,n,s,r){if(Xd(t))throw Error(q(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};Te.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,YC(e,i)):(i.next=n.next,e.pending=n.next=i)}}function YC(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=Te.T,a={};Te.T=a;try{var o=n(r,s),l=Te.S;l!==null&&l(a,o),ub(t,e,o)}catch(u){pm(t,e,u)}finally{Te.T=i}}else try{i=n(r,s),ub(t,e,i)}catch(u){pm(t,e,u)}}function ub(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){db(t,e,s)},function(s){return pm(t,e,s)}):db(t,e,n)}function db(t,e,n){e.status="fulfilled",e.value=n,QC(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,YC(t,n)))}function pm(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,QC(e),e=e.next;while(e!==s)}t.action=null}function QC(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function XC(t,e){return e}function hb(t,e){if(ze){var n=nt.formState;if(n!==null){e:{var s=je;if(ze){if(ft){t:{for(var r=ft,i=Ts;r.nodeType!==8;){if(!i){r=null;break t}if(r=hs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){ft=hs(r.nextSibling),s=r.data==="F!";break e}}ji(s)}s=!1}s&&(e=n[0])}}return n=fn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:XC,lastRenderedState:e},n.queue=s,n=hw.bind(null,je,s),s.dispatch=n,s=gm(!1),i=gp.bind(null,je,!1,s.queue),s=fn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=YR.bind(null,je,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function fb(t){var e=Et();return JC(e,Ye,t)}function JC(t,e,n){if(e=dp(t,e,XC)[0],t=su(rr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Wc(e)}catch(a){throw a===Zc?$d:a}else s=e;e=Et();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(je.flags|=2048,Ba(9,Qd(),QR.bind(null,r,n),null)),[s,i,t]}function QR(t,e){t.action=e}function mb(t){var e=Et(),n=Ye;if(n!==null)return JC(e,n,t);Et(),e=e.memoizedState,n=Et();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Ba(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=je.updateQueue,e===null&&(e=lp(),je.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function Qd(){return{destroy:void 0,resource:void 0}}function ZC(){return Et().memoizedState}function ru(t,e,n,s){var r=fn();s=s===void 0?null:s,je.flags|=t,r.memoizedState=Ba(1|e,Qd(),n,s)}function el(t,e,n,s){var r=Et();s=s===void 0?null:s;var i=r.memoizedState.inst;Ye!==null&&s!==null&&rp(s,Ye.memoizedState.deps)?r.memoizedState=Ba(e,i,n,s):(je.flags|=t,r.memoizedState=Ba(1|e,i,n,s))}function gb(t,e){ru(8390656,8,t,e)}function WC(t,e){el(2048,8,t,e)}function ew(t,e){return el(4,2,t,e)}function tw(t,e){return el(4,4,t,e)}function nw(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sw(t,e,n){n=n!=null?n.concat([t]):null,el(4,4,nw.bind(null,e,t),n)}function hp(){}function rw(t,e){var n=Et();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&rp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function iw(t,e){var n=Et();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&rp(e,s[1]))return s[0];if(s=t(),Pi){Or(!0);try{t()}finally{Or(!1)}}return n.memoizedState=[s,e],s}function fp(t,e,n){return n===void 0||Qr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=Qw(),je.lanes|=t,Jr|=t,n)}function aw(t,e,n,s){return Ln(n,e)?n:Ha.current!==null?(t=fp(t,n,s),Ln(t,e)||(Vt=!0),t):Qr&42?(t=Qw(),je.lanes|=t,Jr|=t,e):(Vt=!0,t.memoizedState=n)}function ow(t,e,n,s,r){var i=Ve.p;Ve.p=i!==0&&8>i?i:8;var a=Te.T,o={};Te.T=o,gp(t,!1,e,n);try{var l=r(),u=Te.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=qR(l,s);Xo(t,e,h,Mn(t))}else Xo(t,e,s,Mn(t))}catch(d){Xo(t,e,{then:function(){},status:"rejected",reason:d},Mn())}finally{Ve.p=i,Te.T=a}}function XR(){}function ym(t,e,n,s){if(t.tag!==5)throw Error(q(476));var r=cw(t).queue;ow(t,r,e,Ti,n===null?XR:function(){return lw(t),n(s)})}function cw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ti,baseState:Ti,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:Ti},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function lw(t){var e=cw(t).next.queue;Xo(t,e,{},Mn())}function mp(){return tn(Nc)}function uw(){return Et().memoizedState}function dw(){return Et().memoizedState}function JR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Mn();t=Ur(n);var s=Lr(e,t,n);s!==null&&(Pn(s,e,n),$o(s,e,n)),e={cache:ep()},t.payload=e;return}e=e.return}}function ZR(t,e,n){var s=Mn();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Xd(t)?fw(e,n):(n=Xg(t,e,n,s),n!==null&&(Pn(n,t,s),mw(n,e,s)))}function hw(t,e,n){var s=Mn();Xo(t,e,n,s)}function Xo(t,e,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xd(t))fw(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(r.hasEagerState=!0,r.eagerState=o,Ln(o,a))return Kd(t,e,r,0),nt===null&&qd(),!1}catch{}finally{}if(n=Xg(t,e,r,s),n!==null)return Pn(n,t,s),mw(n,e,s),!0}return!1}function gp(t,e,n,s){if(s={lane:2,revertLane:wp(),action:s,hasEagerState:!1,eagerState:null,next:null},Xd(t)){if(e)throw Error(q(479))}else e=Xg(t,n,s,2),e!==null&&Pn(e,t,2)}function Xd(t){var e=t.alternate;return t===je||e!==null&&e===je}function fw(t,e){_a=Mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mw(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rC(t,n)}}var Du={readContext:tn,use:Yd,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},gw={readContext:tn,use:Yd,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:gb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,ru(4194308,4,nw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ru(4194308,4,t,e)},useInsertionEffect:function(t,e){ru(4,2,t,e)},useMemo:function(t,e){var n=fn();e=e===void 0?null:e;var s=t();if(Pi){Or(!0);try{t()}finally{Or(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=fn();if(n!==void 0){var r=n(e);if(Pi){Or(!0);try{n(e)}finally{Or(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=ZR.bind(null,je,t),[s.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=gm(t);var e=t.queue,n=hw.bind(null,je,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hp,useDeferredValue:function(t,e){var n=fn();return fp(n,t,e)},useTransition:function(){var t=gm(!1);return t=ow.bind(null,je,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=je,r=fn();if(ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),nt===null)throw Error(q(349));Le&124||VC(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,gb(GC.bind(null,s,i,t),[t]),s.flags|=2048,Ba(9,Qd(),FC.bind(null,s,i,n,e),null),n},useId:function(){var t=fn(),e=nt.identifierPrefix;if(ze){var n=$s,s=Ks;n=(s&~(1<<32-jn(s)-1)).toString(32)+n,e="«"+e+"R"+n,n=Pu++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=KR++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:mp,useFormState:hb,useActionState:hb,useOptimistic:function(t){var e=fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=gp.bind(null,je,!0,n),n.dispatch=e,[t,e]},useMemoCache:up,useCacheRefresh:function(){return fn().memoizedState=JR.bind(null,je)}},pw={readContext:tn,use:Yd,useCallback:rw,useContext:tn,useEffect:WC,useImperativeHandle:sw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:iw,useReducer:su,useRef:ZC,useState:function(){return su(rr)},useDebugValue:hp,useDeferredValue:function(t,e){var n=Et();return aw(n,Ye.memoizedState,t,e)},useTransition:function(){var t=su(rr)[0],e=Et().memoizedState;return[typeof t=="boolean"?t:Wc(t),e]},useSyncExternalStore:zC,useId:uw,useHostTransitionStatus:mp,useFormState:fb,useActionState:fb,useOptimistic:function(t,e){var n=Et();return $C(n,Ye,t,e)},useMemoCache:up,useCacheRefresh:dw},WR={readContext:tn,use:Yd,useCallback:rw,useContext:tn,useEffect:WC,useImperativeHandle:sw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:iw,useReducer:Qh,useRef:ZC,useState:function(){return Qh(rr)},useDebugValue:hp,useDeferredValue:function(t,e){var n=Et();return Ye===null?fp(n,t,e):aw(n,Ye.memoizedState,t,e)},useTransition:function(){var t=Qh(rr)[0],e=Et().memoizedState;return[typeof t=="boolean"?t:Wc(t),e]},useSyncExternalStore:zC,useId:uw,useHostTransitionStatus:mp,useFormState:mb,useActionState:mb,useOptimistic:function(t,e){var n=Et();return Ye!==null?$C(n,Ye,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:up,useCacheRefresh:dw},ka=null,Tc=0;function wl(t){var e=Tc;return Tc+=1,ka===null&&(ka=[]),DC(ka,t,e)}function bo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Tl(t,e){throw e.$$typeof===kk?Error(q(525)):(t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pb(t){var e=t._init;return e(t._payload)}function yw(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function s(y){for(var p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function r(y,p){return y=Zs(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=67108866,p):g):(y.flags|=67108866,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,p,g,v){return p===null||p.tag!==6?(p=Kh(g,y.mode,v),p.return=y,p):(p=r(p,g),p.return=y,p)}function l(y,p,g,v){var w=g.type;return w===oa?h(y,p,g.props.children,v,g.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cr&&pb(w)===p.type)?(p=r(p,g.props),bo(p,g),p.return=y,p):(p=tu(g.type,g.key,g.props,null,y.mode,v),bo(p,g),p.return=y,p)}function u(y,p,g,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=$h(g,y.mode,v),p.return=y,p):(p=r(p,g.children||[]),p.return=y,p)}function h(y,p,g,v,w){return p===null||p.tag!==7?(p=Ai(g,y.mode,v,w),p.return=y,p):(p=r(p,g),p.return=y,p)}function d(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Kh(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pl:return g=tu(p.type,p.key,p.props,null,y.mode,g),bo(g,p),g.return=y,g;case jo:return p=$h(p,y.mode,g),p.return=y,p;case Cr:var v=p._init;return p=v(p._payload),d(y,p,g)}if(Mo(p)||go(p))return p=Ai(p,y.mode,g,null),p.return=y,p;if(typeof p.then=="function")return d(y,wl(p),g);if(p.$$typeof===qs)return d(y,Sl(y,p),g);Tl(y,p)}return null}function f(y,p,g,v){var w=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return w!==null?null:o(y,p,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pl:return g.key===w?l(y,p,g,v):null;case jo:return g.key===w?u(y,p,g,v):null;case Cr:return w=g._init,g=w(g._payload),f(y,p,g,v)}if(Mo(g)||go(g))return w!==null?null:h(y,p,g,v,null);if(typeof g.then=="function")return f(y,p,wl(g),v);if(g.$$typeof===qs)return f(y,p,Sl(y,g),v);Tl(y,g)}return null}function m(y,p,g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return y=y.get(g)||null,o(p,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return y=y.get(v.key===null?g:v.key)||null,l(p,y,v,w);case jo:return y=y.get(v.key===null?g:v.key)||null,u(p,y,v,w);case Cr:var E=v._init;return v=E(v._payload),m(y,p,g,v,w)}if(Mo(v)||go(v))return y=y.get(g)||null,h(p,y,v,w,null);if(typeof v.then=="function")return m(y,p,g,wl(v),w);if(v.$$typeof===qs)return m(y,p,g,Sl(p,v),w);Tl(p,v)}return null}function x(y,p,g,v){for(var w=null,E=null,T=p,A=p=0,_=null;T!==null&&A<g.length;A++){T.index>A?(_=T,T=null):_=T.sibling;var R=f(y,T,g[A],v);if(R===null){T===null&&(T=_);break}t&&T&&R.alternate===null&&e(y,T),p=i(R,p,A),E===null?w=R:E.sibling=R,E=R,T=_}if(A===g.length)return n(y,T),ze&&fi(y,A),w;if(T===null){for(;A<g.length;A++)T=d(y,g[A],v),T!==null&&(p=i(T,p,A),E===null?w=T:E.sibling=T,E=T);return ze&&fi(y,A),w}for(T=s(T);A<g.length;A++)_=m(T,y,A,g[A],v),_!==null&&(t&&_.alternate!==null&&T.delete(_.key===null?A:_.key),p=i(_,p,A),E===null?w=_:E.sibling=_,E=_);return t&&T.forEach(function(D){return e(y,D)}),ze&&fi(y,A),w}function b(y,p,g,v){if(g==null)throw Error(q(151));for(var w=null,E=null,T=p,A=p=0,_=null,R=g.next();T!==null&&!R.done;A++,R=g.next()){T.index>A?(_=T,T=null):_=T.sibling;var D=f(y,T,R.value,v);if(D===null){T===null&&(T=_);break}t&&T&&D.alternate===null&&e(y,T),p=i(D,p,A),E===null?w=D:E.sibling=D,E=D,T=_}if(R.done)return n(y,T),ze&&fi(y,A),w;if(T===null){for(;!R.done;A++,R=g.next())R=d(y,R.value,v),R!==null&&(p=i(R,p,A),E===null?w=R:E.sibling=R,E=R);return ze&&fi(y,A),w}for(T=s(T);!R.done;A++,R=g.next())R=m(T,y,A,R.value,v),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?A:R.key),p=i(R,p,A),E===null?w=R:E.sibling=R,E=R);return t&&T.forEach(function(P){return e(y,P)}),ze&&fi(y,A),w}function C(y,p,g,v){if(typeof g=="object"&&g!==null&&g.type===oa&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pl:e:{for(var w=g.key;p!==null;){if(p.key===w){if(w=g.type,w===oa){if(p.tag===7){n(y,p.sibling),v=r(p,g.props.children),v.return=y,y=v;break e}}else if(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Cr&&pb(w)===p.type){n(y,p.sibling),v=r(p,g.props),bo(v,g),v.return=y,y=v;break e}n(y,p);break}else e(y,p);p=p.sibling}g.type===oa?(v=Ai(g.props.children,y.mode,v,g.key),v.return=y,y=v):(v=tu(g.type,g.key,g.props,null,y.mode,v),bo(v,g),v.return=y,y=v)}return a(y);case jo:e:{for(w=g.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),v=r(p,g.children||[]),v.return=y,y=v;break e}else{n(y,p);break}else e(y,p);p=p.sibling}v=$h(g,y.mode,v),v.return=y,y=v}return a(y);case Cr:return w=g._init,g=w(g._payload),C(y,p,g,v)}if(Mo(g))return x(y,p,g,v);if(go(g)){if(w=go(g),typeof w!="function")throw Error(q(150));return g=w.call(g),b(y,p,g,v)}if(typeof g.then=="function")return C(y,p,wl(g),v);if(g.$$typeof===qs)return C(y,p,Sl(y,g),v);Tl(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),v=r(p,g),v.return=y,y=v):(n(y,p),v=Kh(g,y.mode,v),v.return=y,y=v),a(y)):n(y,p)}return function(y,p,g,v){try{Tc=0;var w=C(y,p,g,v);return ka=null,w}catch(T){if(T===Zc||T===$d)throw T;var E=On(29,T,null,y.mode);return E.lanes=v,E.return=y,E}finally{}}}var za=yw(!0),vw=yw(!1),es=js(null),Os=null;function Er(t){var e=t.alternate;lt(It,It.current&1),lt(es,t),Os===null&&(e===null||Ha.current!==null||e.memoizedState!==null)&&(Os=t)}function bw(t){if(t.tag===22){if(lt(It,It.current),lt(es,t),Os===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Os=t)}}else _r()}function _r(){lt(It,It.current),lt(es,es.current)}function Qs(t){Ft(es),Os===t&&(Os=null),Ft(It)}var It=js(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Mm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Xh(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vm={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Mn(),r=Ur(s);r.payload=e,n!=null&&(r.callback=n),e=Lr(t,r,s),e!==null&&(Pn(e,t,s),$o(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Mn(),r=Ur(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Lr(t,r,s),e!==null&&(Pn(e,t,s),$o(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),s=Ur(n);s.tag=2,e!=null&&(s.callback=e),e=Lr(t,s,n),e!==null&&(Pn(e,t,n),$o(e,t,n))}};function yb(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!Sc(n,s)||!Sc(r,i):!0}function vb(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&vm.enqueueReplaceState(e,e.state,null)}function Di(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=rt({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xw(t){Lu(t)}function Sw(t){console.error(t)}function Cw(t){Lu(t)}function Hu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function bb(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function bm(t,e,n){return n=Ur(n),n.tag=3,n.payload={element:null},n.callback=function(){Hu(t,e)},n}function ww(t){return t=Ur(t),t.tag=3,t}function Tw(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){bb(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){bb(e,n,s),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function e1(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Xc(e,n,r,!0),n=es.current,n!==null){switch(n.tag){case 13:return Os===null?_m():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===dm?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),cf(t,s,r)),!1;case 22:return n.flags|=65536,s===dm?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),cf(t,s,r)),!1}throw Error(q(435,n.tag))}return cf(t,s,r),_m(),!1}if(ze)return e=es.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==am&&(t=Error(q(422),{cause:s}),Cc(Zn(t,n)))):(s!==am&&(e=Error(q(423),{cause:s}),Cc(Zn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Zn(s,n),r=bm(t.stateNode,s,r),Yh(t,r),mt!==4&&(mt=2)),!1;var i=Error(q(520),{cause:s});if(i=Zn(i,n),Wo===null?Wo=[i]:Wo.push(i),mt!==4&&(mt=2),e===null)return!0;s=Zn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=bm(n.stateNode,s,t),Yh(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Hr===null||!Hr.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=ww(r),Tw(r,t,n,s),Yh(n,r),!1}n=n.return}while(n!==null);return!1}var Aw=Error(q(461)),Vt=!1;function $t(t,e,n,s){e.child=t===null?vw(e,null,n,s):za(e,t.child,n,s)}function xb(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var o in s)o!=="ref"&&(a[o]=s[o])}else a=s;return Mi(e),s=ip(t,e,n,a,i,r),o=ap(),t!==null&&!Vt?(op(t,e,r),ir(t,e,r)):(ze&&o&&Zg(e),e.flags|=1,$t(t,e,s,r),e.child)}function Sb(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Jg(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,Ew(t,e,i,s,r)):(t=tu(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!pp(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sc,n(a,s)&&t.ref===e.ref)return ir(t,e,r)}return e.flags|=1,t=Zs(i,s),t.ref=e.ref,t.return=e,e.child=t}function Ew(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Sc(i,s)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=s=i,pp(t,r))t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,ir(t,e,r)}return xm(t,e,n,s,r)}function _w(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if(e.flags&128){if(s=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;e.childLanes=i&~s}else e.childLanes=0,e.child=null;return Cb(t,e,s,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&nu(e,i!==null?i.cachePool:null),i!==null?lb(e,i):mm(),bw(e);else return e.lanes=e.childLanes=536870912,Cb(t,e,i!==null?i.baseLanes|n:n,n)}else i!==null?(nu(e,i.cachePool),lb(e,i),_r(),e.memoizedState=null):(t!==null&&nu(e,null),mm(),_r());return $t(t,e,r,n),e.child}function Cb(t,e,n,s){var r=tp();return r=r===null?null:{parent:Ot._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&nu(e,null),mm(),bw(e),t!==null&&Xc(t,e,s,!0),null}function iu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(q(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function xm(t,e,n,s,r){return Mi(e),n=ip(t,e,n,s,void 0,r),s=ap(),t!==null&&!Vt?(op(t,e,r),ir(t,e,r)):(ze&&s&&Zg(e),e.flags|=1,$t(t,e,n,r),e.child)}function wb(t,e,n,s,r,i){return Mi(e),e.updateQueue=null,n=BC(e,s,n,r),HC(t),s=ap(),t!==null&&!Vt?(op(t,e,i),ir(t,e,i)):(ze&&s&&Zg(e),e.flags|=1,$t(t,e,n,i),e.child)}function Tb(t,e,n,s,r){if(Mi(e),e.stateNode===null){var i=ga,a=n.contextType;typeof a=="object"&&a!==null&&(i=tn(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=vm,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},np(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?tn(a):ga,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xh(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&vm.enqueueReplaceState(i,i.state,null),Qo(e,s,i,r),Yo(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,l=Di(n,o);i.props=l;var u=i.context,h=n.contextType;a=ga,typeof h=="object"&&h!==null&&(a=tn(h));var d=n.getDerivedStateFromProps;h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||u!==a)&&vb(e,i,s,a),wr=!1;var f=e.memoizedState;i.state=f,Qo(e,s,i,r),Yo(),u=e.memoizedState,o||f!==u||wr?(typeof d=="function"&&(Xh(e,n,d,s),u=e.memoizedState),(l=wr||yb(e,n,l,s,f,u,a))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,hm(t,e),a=e.memoizedProps,h=Di(n,a),i.props=h,d=e.pendingProps,f=i.context,u=n.contextType,l=ga,typeof u=="object"&&u!==null&&(l=tn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&vb(e,i,s,l),wr=!1,f=e.memoizedState,i.state=f,Qo(e,s,i,r),Yo();var m=e.memoizedState;a!==d||f!==m||wr||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof o=="function"&&(Xh(e,n,o,s),m=e.memoizedState),(h=wr||yb(e,n,h,s,f,m,l)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,m,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),i.props=s,i.state=m,i.context=l,s=h):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,iu(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=za(e,t.child,null,r),e.child=za(e,null,n,r)):$t(t,e,n,r),e.memoizedState=i.state,t=e.child):t=ir(t,e,r),t}function Ab(t,e,n,s){return Qc(),e.flags|=256,$t(t,e,n,s),e.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zh(t){return{baseLanes:t,cachePool:MC()}}function Wh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Wn),t}function Nw(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ze){if(r?Er(e):_r(),ze){var o=ft,l;if(l=o){e:{for(l=o,o=Ts;l.nodeType!==8;){if(!o){o=null;break e}if(l=hs(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:Ei!==null?{id:Ks,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},l=On(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,ln=e,ft=null,l=!0):l=!1}l||ji(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Mm(o)?e.lanes=32:e.lanes=536870912,null;Qs(e)}return o=s.children,s=s.fallback,r?(_r(),r=e.mode,o=Bu({mode:"hidden",children:o},r),s=Ai(s,r,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,r=e.child,r.memoizedState=Zh(n),r.childLanes=Wh(t,a,n),e.memoizedState=Jh,s):(Er(e),Sm(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(i)e.flags&256?(Er(e),e.flags&=-257,e=ef(t,e,n)):e.memoizedState!==null?(_r(),e.child=t.child,e.flags|=128,e=null):(_r(),r=s.fallback,o=e.mode,s=Bu({mode:"visible",children:s.children},o),r=Ai(r,o,n,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,za(e,t.child,null,n),s=e.child,s.memoizedState=Zh(n),s.childLanes=Wh(t,a,n),e.memoizedState=Jh,e=r);else if(Er(e),Mm(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error(q(419)),s.stack="",s.digest=a,Cc({value:s,source:null,stack:null}),e=ef(t,e,n)}else if(Vt||Xc(t,e,n,!1),a=(n&t.childLanes)!==0,Vt||a){if(a=nt,a!==null&&(s=n&-n,s=s&42?1:Bg(s),s=s&(a.suspendedLanes|n)?0:s,s!==0&&s!==l.retryLane))throw l.retryLane=s,to(t,s),Pn(a,t,s),Aw;o.data==="$?"||_m(),e=ef(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,ft=hs(o.nextSibling),ln=e,ze=!0,_i=null,Ts=!1,t!==null&&(Yn[Qn++]=Ks,Yn[Qn++]=$s,Yn[Qn++]=Ei,Ks=t.id,$s=t.overflow,Ei=e),e=Sm(e,s.children),e.flags|=4096);return e}return r?(_r(),r=s.fallback,o=e.mode,l=t.child,u=l.sibling,s=Zs(l,{mode:"hidden",children:s.children}),s.subtreeFlags=l.subtreeFlags&65011712,u!==null?r=Zs(u,r):(r=Ai(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o===null?o=Zh(n):(l=o.cachePool,l!==null?(u=Ot._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=MC(),o={baseLanes:o.baseLanes|n,cachePool:l}),r.memoizedState=o,r.childLanes=Wh(t,a,n),e.memoizedState=Jh,s):(Er(e),n=t.child,t=n.sibling,n=Zs(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Sm(t,e){return e=Bu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Bu(t,e){return t=On(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ef(t,e,n){return za(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Eb(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),cm(t.return,e,n)}function tf(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function kw(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if($t(t,e,s.children,n),s=It.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eb(t,n,e);else if(t.tag===19)Eb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(lt(It,s),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),tf(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Uu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}tf(e,!0,n,null,i);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Xc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function t1(t,e,n){switch(e.tag){case 3:Tu(e,e.stateNode.containerInfo),Ar(e,Ot,t.memoizedState.cache),Qc();break;case 27:case 5:Xf(e);break;case 4:Tu(e,e.stateNode.containerInfo);break;case 10:Ar(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Er(e),e.flags|=128,null):n&e.child.childLanes?Nw(t,e,n):(Er(e),t=ir(t,e,n),t!==null?t.sibling:null);Er(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Xc(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return kw(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),lt(It,It.current),s)break;return null;case 22:case 23:return e.lanes=0,_w(t,e,n);case 24:Ar(e,Ot,t.memoizedState.cache)}return ir(t,e,n)}function Rw(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Vt=!0;else{if(!pp(t,n)&&!(e.flags&128))return Vt=!1,t1(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,ze&&e.flags&1048576&&IC(e,Ou,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var s=e.elementType,r=s._init;if(s=r(s._payload),e.type=s,typeof s=="function")Jg(s)?(t=Di(s,t),e.tag=1,e=Tb(null,e,s,t,n)):(e.tag=0,e=xm(null,e,s,t,n));else{if(s!=null){if(r=s.$$typeof,r===Ug){e.tag=11,e=xb(null,e,s,t,n);break e}else if(r===Lg){e.tag=14,e=Sb(null,e,s,t,n);break e}}throw e=Yf(s)||s,Error(q(306,e,""))}}return e;case 0:return xm(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Di(s,e.pendingProps),Tb(t,e,s,r,n);case 3:e:{if(Tu(e,e.stateNode.containerInfo),t===null)throw Error(q(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,hm(t,e),Qo(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Ar(e,Ot,s),s!==i.cache&&lm(e,[Ot],n,!0),Yo(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Ab(t,e,s,n);break e}else if(s!==r){r=Zn(Error(q(424)),e),Cc(r),e=Ab(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=hs(t.firstChild),ln=e,ze=!0,_i=null,Ts=!0,n=vw(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Qc(),s===r){e=ir(t,e,n);break e}$t(t,e,s,n)}e=e.child}return e;case 26:return iu(t,e),t===null?(n=Fb(e.type,null,e.pendingProps,null))?e.memoizedState=n:ze||(n=e.type,t=e.pendingProps,s=$u(Dr.current).createElement(n),s[en]=e,s[xn]=t,Xt(s,n,t),zt(s),e.stateNode=s):e.memoizedState=Fb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Xf(e),t===null&&ze&&(s=e.stateNode=pT(e.type,e.pendingProps,Dr.current),ln=e,Ts=!0,r=ft,ri(e.type)?(Pm=r,ft=hs(s.firstChild)):ft=r),$t(t,e,e.pendingProps.children,n),iu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ze&&((r=s=ft)&&(s=k1(s,e.type,e.pendingProps,Ts),s!==null?(e.stateNode=s,ln=e,ft=hs(s.firstChild),Ts=!1,r=!0):r=!1),r||ji(e)),Xf(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Im(r,i)?s=null:a!==null&&Im(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=ip(t,e,$R,null,null,n),Nc._currentValue=r),iu(t,e),$t(t,e,s,n),e.child;case 6:return t===null&&ze&&((t=n=ft)&&(n=R1(n,e.pendingProps,Ts),n!==null?(e.stateNode=n,ln=e,ft=null,t=!0):t=!1),t||ji(e)),null;case 13:return Nw(t,e,n);case 4:return Tu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=za(e,null,s,n):$t(t,e,s,n),e.child;case 11:return xb(t,e,e.type,e.pendingProps,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ar(e,e.type,s.value),$t(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Mi(e),r=tn(r),s=s(r),e.flags|=1,$t(t,e,s,n),e.child;case 14:return Sb(t,e,e.type,e.pendingProps,n);case 15:return Ew(t,e,e.type,e.pendingProps,n);case 19:return kw(t,e,n);case 31:return s=e.pendingProps,n=e.mode,s={mode:s.mode,children:s.children},t===null?(n=Bu(s,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Zs(t.child,s),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return _w(t,e,n);case 24:return Mi(e),s=tn(Ot),t===null?(r=tp(),r===null&&(r=nt,i=ep(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},np(e),Ar(e,Ot,r)):(t.lanes&n&&(hm(t,e),Qo(e,null,null,n),Yo()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),Ar(e,Ot,s)):(s=i.cache,Ar(e,Ot,s),s!==r.cache&&lm(e,[Ot],n,!0))),$t(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(q(156,e.tag))}function Us(t){t.flags|=4}function _b(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!bT(e)){if(e=es.current,e!==null&&((Le&4194048)===Le?Os!==null:(Le&62914560)!==Le&&!(Le&536870912)||e!==Os))throw Ko=dm,PC;t.flags|=8192}}function Al(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?nC():536870912,t.lanes|=e,Va|=e)}function xo(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function n1(t,e,n){var s=e.pendingProps;switch(Wg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return dt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ws(Ot),Pa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vo(e)?Us(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sb())),dt(e),null;case 26:return n=e.memoizedState,t===null?(Us(e),n!==null?(dt(e),_b(e,n)):(dt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Us(e),dt(e),_b(e,n)):(dt(e),e.flags&=-16777217):(t.memoizedProps!==s&&Us(e),dt(e),e.flags&=-16777217),null;case 27:Au(e),n=Dr.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Us(e);else{if(!s){if(e.stateNode===null)throw Error(q(166));return dt(e),null}t=ks.current,vo(e)?tb(e):(t=pT(r,s,n),e.stateNode=t,Us(e))}return dt(e),null;case 5:if(Au(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Us(e);else{if(!s){if(e.stateNode===null)throw Error(q(166));return dt(e),null}if(t=ks.current,vo(e))tb(e);else{switch(r=$u(Dr.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}t[en]=e,t[xn]=s;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Xt(t,n,s),n){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Us(e)}}return dt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Us(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(q(166));if(t=Dr.current,vo(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=ln,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[en]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||fT(t.nodeValue,n)),t||ji(e)}else t=$u(t).createTextNode(s),t[en]=e,e.stateNode=t}return dt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=vo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(q(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(q(317));r[en]=e}else Qc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),r=!1}else r=sb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Qs(e),e):(Qs(e),null)}if(Qs(e),e.flags&128)return e.lanes=n,e;if(n=s!==null,t=t!==null&&t.memoizedState!==null,n){s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var i=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Al(e,e.updateQueue),dt(e),null;case 4:return Pa(),t===null&&Tp(e.stateNode.containerInfo),dt(e),null;case 10:return Ws(e.type),dt(e),null;case 19:if(Ft(It),r=e.memoizedState,r===null)return dt(e),null;if(s=(e.flags&128)!==0,i=r.rendering,i===null)if(s)xo(r,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Uu(t),i!==null){for(e.flags|=128,xo(r,!1),t=i.updateQueue,e.updateQueue=t,Al(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)OC(n,t),n=n.sibling;return lt(It,It.current&1|2),e.child}t=t.sibling}r.tail!==null&&Rs()>Vu&&(e.flags|=128,s=!0,xo(r,!1),e.lanes=4194304)}else{if(!s)if(t=Uu(i),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,Al(e,t),xo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!ze)return dt(e),null}else 2*Rs()-r.renderingStartTime>Vu&&n!==536870912&&(e.flags|=128,s=!0,xo(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Rs(),e.sibling=null,t=It.current,lt(It,s?t&1|2:t&1),e):(dt(e),null);case 22:case 23:return Qs(e),sp(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),n=e.updateQueue,n!==null&&Al(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Ft(Ni),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ws(Ot),dt(e),null;case 25:return null;case 30:return null}throw Error(q(156,e.tag))}function s1(t,e){switch(Wg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(Ot),Pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Au(e),null;case 13:if(Qs(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Qc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(It),null;case 4:return Pa(),null;case 10:return Ws(e.type),null;case 22:case 23:return Qs(e),sp(),t!==null&&Ft(Ni),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ws(Ot),null;case 25:return null;default:return null}}function Ow(t,e){switch(Wg(e),e.tag){case 3:Ws(Ot),Pa();break;case 26:case 27:case 5:Au(e);break;case 4:Pa();break;case 13:Qs(e);break;case 19:Ft(It);break;case 10:Ws(e.type);break;case 22:case 23:Qs(e),sp(),t!==null&&Ft(Ni);break;case 24:Ws(Ot)}}function tl(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(o){et(e,e.return,o)}}function Xr(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var l=n,u=o;try{u()}catch(h){et(r,l,h)}}}s=s.next}while(s!==i)}}catch(h){et(e,e.return,h)}}function Iw(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{LC(e,n)}catch(s){et(t,t.return,s)}}}function jw(t,e,n){n.props=Di(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){et(t,e,s)}}function Jo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){et(t,e,r)}}function _s(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){et(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Mw(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){et(t,t.return,r)}}function nf(t,e,n){try{var s=t.stateNode;T1(s,t.type,n,e),s[xn]=e}catch(r){et(t,t.return,r)}}function Pw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ri(t.type)||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ri(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=eh));else if(s!==4&&(s===27&&ri(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Cm(t,e,n),t=t.sibling;t!==null;)Cm(t,e,n),t=t.sibling}function zu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&ri(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(zu(t,e,n),t=t.sibling;t!==null;)zu(t,e,n),t=t.sibling}function Dw(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Xt(e,s,n),e[en]=t,e[xn]=n}catch(i){et(t,t.return,i)}}var Gs=!1,pt=!1,rf=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function r1(t,e){if(t=t.containerInfo,Rm=Ju,t=wC(t),Yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(o=a+r),d!==i||s!==0&&d.nodeType!==3||(l=a+s),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===r&&(o=a),f===i&&++h===s&&(l=a),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Om={focusedElem:t,selectionRange:n},Ju=!1,Bt=e;Bt!==null;)if(e=Bt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Bt=t;else for(;Bt!==null;){switch(e=Bt,i=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var x=Di(n.type,r,n.elementType===n.type);t=s.getSnapshotBeforeUpdate(x,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(b){et(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jm(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(q(163))}if(t=e.sibling,t!==null){t.return=e.return,Bt=t;break}Bt=e.return}}function Uw(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:gr(t,n),s&4&&tl(5,n);break;case 1:if(gr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){et(n,n.return,a)}else{var r=Di(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){et(n,n.return,a)}}s&64&&Iw(n),s&512&&Jo(n,n.return);break;case 3:if(gr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{LC(t,e)}catch(a){et(n,n.return,a)}}break;case 27:e===null&&s&4&&Dw(n);case 26:case 5:gr(t,n),e===null&&s&4&&Mw(n),s&512&&Jo(n,n.return);break;case 12:gr(t,n);break;case 13:gr(t,n),s&4&&Bw(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=f1.bind(null,n),O1(t,n))));break;case 22:if(s=n.memoizedState!==null||Gs,!s){e=e!==null&&e.memoizedState!==null||pt,r=Gs;var i=pt;Gs=s,(pt=e)&&!i?br(t,n,(n.subtreeFlags&8772)!==0):gr(t,n),Gs=r,pt=i}break;case 30:break;default:gr(t,n)}}function Lw(t){var e=t.alternate;e!==null&&(t.alternate=null,Lw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Vg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,mn=!1;function Ls(t,e,n){for(n=n.child;n!==null;)Hw(t,e,n),n=n.sibling}function Hw(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(Gc,n)}catch{}switch(n.tag){case 26:pt||_s(n,e),Ls(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:pt||_s(n,e);var s=at,r=mn;ri(n.type)&&(at=n.stateNode,mn=!1),Ls(t,e,n),tc(n.stateNode),at=s,mn=r;break;case 5:pt||_s(n,e);case 6:if(s=at,r=mn,at=null,Ls(t,e,n),at=s,mn=r,at!==null)if(mn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(i){et(n,e,i)}else try{at.removeChild(n.stateNode)}catch(i){et(n,e,i)}break;case 18:at!==null&&(mn?(t=at,Bb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Oc(t)):Bb(at,n.stateNode));break;case 4:s=at,r=mn,at=n.stateNode.containerInfo,mn=!0,Ls(t,e,n),at=s,mn=r;break;case 0:case 11:case 14:case 15:pt||Xr(2,n,e),pt||Xr(4,n,e),Ls(t,e,n);break;case 1:pt||(_s(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&jw(n,e,s)),Ls(t,e,n);break;case 21:Ls(t,e,n);break;case 22:pt=(s=pt)||n.memoizedState!==null,Ls(t,e,n),pt=s;break;default:Ls(t,e,n)}}function Bw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Oc(t)}catch(n){et(e,e.return,n)}}function i1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Nb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Nb),e;default:throw Error(q(435,t.tag))}}function af(t,e){var n=i1(t);e.forEach(function(s){var r=m1.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}function _n(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(ri(o.type)){at=o.stateNode,mn=!1;break e}break;case 5:at=o.stateNode,mn=!1;break e;case 3:case 4:at=o.stateNode.containerInfo,mn=!0;break e}o=o.return}if(at===null)throw Error(q(160));Hw(i,a,r),at=null,mn=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)zw(e,t),e=e.sibling}var is=null;function zw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(e,t),Nn(t),s&4&&(Xr(3,t,t.return),tl(3,t),Xr(5,t,t.return));break;case 1:_n(e,t),Nn(t),s&512&&(pt||n===null||_s(n,n.return)),s&64&&Gs&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=is;if(_n(e,t),Nn(t),s&512&&(pt||n===null||_s(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[$c]||i[en]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),Xt(i,s,n),i[en]=t,zt(i),s=i;break e;case"link":var a=qb("link","href",r).get(s+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(i=a[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}i=r.createElement(s),Xt(i,s,n),r.head.appendChild(i);break;case"meta":if(a=qb("meta","content",r).get(s+(n.content||""))){for(o=0;o<a.length;o++)if(i=a[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}i=r.createElement(s),Xt(i,s,n),r.head.appendChild(i);break;default:throw Error(q(468,s))}i[en]=t,zt(i),s=i}t.stateNode=s}else Kb(r,t.type,t.stateNode);else t.stateNode=Gb(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?Kb(r,t.type,t.stateNode):Gb(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&nf(t,t.memoizedProps,n.memoizedProps)}break;case 27:_n(e,t),Nn(t),s&512&&(pt||n===null||_s(n,n.return)),n!==null&&s&4&&nf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(_n(e,t),Nn(t),s&512&&(pt||n===null||_s(n,n.return)),t.flags&32){r=t.stateNode;try{Ua(r,"")}catch(m){et(t,t.return,m)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,nf(t,r,n!==null?n.memoizedProps:r)),s&1024&&(rf=!0);break;case 6:if(_n(e,t),Nn(t),s&4){if(t.stateNode===null)throw Error(q(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(m){et(t,t.return,m)}}break;case 3:if(cu=null,r=is,is=Yu(e.containerInfo),_n(e,t),is=r,Nn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Oc(e.containerInfo)}catch(m){et(t,t.return,m)}rf&&(rf=!1,Vw(t));break;case 4:s=is,is=Yu(t.stateNode.containerInfo),_n(e,t),Nn(t),is=s;break;case 12:_n(e,t),Nn(t);break;case 13:_n(e,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sp=Rs()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,af(t,s)));break;case 22:r=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Gs,h=pt;if(Gs=u||r,pt=h||l,_n(e,t),pt=h,Gs=u,Nn(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||l||Gs||pt||mi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){et(l,l.return,m)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(m){et(l,l.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,af(t,n))));break;case 19:_n(e,t),Nn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,af(t,s)));break;case 30:break;case 21:break;default:_n(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(Pw(s)){n=s;break}s=s.return}if(n==null)throw Error(q(160));switch(n.tag){case 27:var r=n.stateNode,i=sf(t);zu(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ua(a,""),n.flags&=-33);var o=sf(t);zu(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=sf(t);Cm(t,u,l);break;default:throw Error(q(161))}}catch(h){et(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Vw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function gr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Uw(t,e.alternate,e),e=e.sibling}function mi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Xr(4,e,e.return),mi(e);break;case 1:_s(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&jw(e,e.return,n),mi(e);break;case 27:tc(e.stateNode);case 26:case 5:_s(e,e.return),mi(e);break;case 22:e.memoizedState===null&&mi(e);break;case 30:mi(e);break;default:mi(e)}t=t.sibling}}function br(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:br(r,i,n),tl(4,i);break;case 1:if(br(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){et(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var o=s.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)UC(l[r],o)}catch(u){et(s,s.return,u)}}n&&a&64&&Iw(i),Jo(i,i.return);break;case 27:Dw(i);case 26:case 5:br(r,i,n),n&&s===null&&a&4&&Mw(i),Jo(i,i.return);break;case 12:br(r,i,n);break;case 13:br(r,i,n),n&&a&4&&Bw(r,i);break;case 22:i.memoizedState===null&&br(r,i,n),Jo(i,i.return);break;case 30:break;default:br(r,i,n)}e=e.sibling}}function yp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Jc(n))}function vp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jc(t))}function xs(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fw(t,e,n,s),e=e.sibling}function Fw(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:xs(t,e,n,s),r&2048&&tl(9,e);break;case 1:xs(t,e,n,s);break;case 3:xs(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jc(t)));break;case 12:if(r&2048){xs(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,o=i.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){et(e,e.return,l)}}else xs(t,e,n,s);break;case 13:xs(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?xs(t,e,n,s):Zo(t,e):i._visibility&2?xs(t,e,n,s):(i._visibility|=2,sa(t,e,n,s,(e.subtreeFlags&10256)!==0)),r&2048&&yp(a,e);break;case 24:xs(t,e,n,s),r&2048&&vp(e.alternate,e);break;default:xs(t,e,n,s)}}function sa(t,e,n,s,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var i=t,a=e,o=n,l=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:sa(i,a,o,l,r),tl(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?sa(i,a,o,l,r):Zo(i,a):(h._visibility|=2,sa(i,a,o,l,r)),r&&u&2048&&yp(a.alternate,a);break;case 24:sa(i,a,o,l,r),r&&u&2048&&vp(a.alternate,a);break;default:sa(i,a,o,l,r)}e=e.sibling}}function Zo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Zo(n,s),r&2048&&yp(s.alternate,s);break;case 24:Zo(n,s),r&2048&&vp(s.alternate,s);break;default:Zo(n,s)}e=e.sibling}}var Do=8192;function Ji(t){if(t.subtreeFlags&Do)for(t=t.child;t!==null;)Gw(t),t=t.sibling}function Gw(t){switch(t.tag){case 26:Ji(t),t.flags&Do&&t.memoizedState!==null&&G1(is,t.memoizedState,t.memoizedProps);break;case 5:Ji(t);break;case 3:case 4:var e=is;is=Yu(t.stateNode.containerInfo),Ji(t),is=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Do,Do=16777216,Ji(t),Do=e):Ji(t));break;default:Ji(t)}}function qw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function So(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Bt=s,$w(s,t)}qw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kw(t),t=t.sibling}function Kw(t){switch(t.tag){case 0:case 11:case 15:So(t),t.flags&2048&&Xr(9,t,t.return);break;case 3:So(t);break;case 12:So(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,au(t)):So(t);break;default:So(t)}}function au(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];Bt=s,$w(s,t)}qw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Xr(8,e,e.return),au(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,au(e));break;default:au(e)}t=t.sibling}}function $w(t,e){for(;Bt!==null;){var n=Bt;switch(n.tag){case 0:case 11:case 15:Xr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Jc(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Bt=s;else e:for(n=t;Bt!==null;){s=Bt;var r=s.sibling,i=s.return;if(Lw(s),s===n){Bt=null;break e}if(r!==null){r.return=i,Bt=r;break e}Bt=i}}}var a1={getCacheForType:function(t){var e=tn(Ot),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},o1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Le=0,Ge=0,Rn=null,jr=!1,no=!1,bp=!1,ar=0,mt=0,Jr=0,ki=0,xp=0,Wn=0,Va=0,Wo=null,pn=null,wm=!1,Sp=0,Vu=1/0,Fu=null,Hr=null,Qt=0,Br=null,Fa=null,Ra=0,Tm=0,Am=null,Yw=null,ec=0,Em=null;function Mn(){if(Ke&2&&Le!==0)return Le&-Le;if(Te.T!==null){var t=La;return t!==0?t:wp()}return iC()}function Qw(){Wn===0&&(Wn=!(Le&536870912)||ze?tC():536870912);var t=es.current;return t!==null&&(t.flags|=32),Wn}function Pn(t,e,n){(t===nt&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Mr(t,Le,Wn,!1)),Kc(t,n),(!(Ke&2)||t!==nt)&&(t===nt&&(!(Ke&2)&&(ki|=n),mt===4&&Mr(t,Le,Wn,!1)),Ms(t))}function Xw(t,e,n){if(Ke&6)throw Error(q(327));var s=!n&&(e&124)===0&&(e&t.expiredLanes)===0||qc(t,e),r=s?u1(t,e):of(t,e,!0),i=s;do{if(r===0){no&&!s&&Mr(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!c1(n)){r=of(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;r=Wo;var l=o.current.memoizedState.isDehydrated;if(l&&(Ga(o,a).flags|=256),a=of(o,a,!1),a!==2){if(bp&&!l){o.errorRecoveryDisabledLanes|=i,ki|=i,r=4;break e}i=pn,pn=r,i!==null&&(pn===null?pn=i:pn.push.apply(pn,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){Ga(t,0),Mr(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(q(345));case 4:if((e&4194048)!==e)break;case 6:Mr(s,e,Wn,!jr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(q(329))}if((e&62914560)===e&&(r=Sp+300-Rs(),10<r)){if(Mr(s,e,Wn,!jr),zd(s,0,!0)!==0)break e;s.timeoutHandle=gT(kb.bind(null,s,n,pn,Fu,wm,e,Wn,ki,Va,jr,i,2,-0,0),r);break e}kb(s,n,pn,Fu,wm,e,Wn,ki,Va,jr,i,0,-0,0)}}break}while(!0);Ms(t)}function kb(t,e,n,s,r,i,a,o,l,u,h,d,f,m){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:F1},Gw(e),d=q1(),d!==null)){t.cancelPendingCommit=d(Ob.bind(null,t,e,i,n,s,r,a,o,l,h,1,f,m)),Mr(t,i,a,!u);return}Ob(t,e,i,n,s,r,a,o,l)}function c1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Ln(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e,n,s){e&=~xp,e&=~ki,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-jn(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&sC(t,n,e)}function Jd(){return Ke&6?!0:(nl(0),!1)}function Cp(){if(De!==null){if(Ge===0)var t=De.return;else t=De,Ys=Ki=null,cp(t),ka=null,Tc=0,t=De;for(;t!==null;)Ow(t.alternate,t),t=t.return;De=null}}function Ga(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,E1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Cp(),nt=t,De=n=Zs(t.current,null),Le=e,Ge=0,Rn=null,jr=!1,no=qc(t,e),bp=!1,Va=Wn=xp=ki=Jr=mt=0,pn=Wo=null,wm=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-jn(s),i=1<<r;e|=t[r],s&=~i}return ar=e,qd(),n}function Jw(t,e){je=null,Te.H=Du,e===Zc||e===$d?(e=ob(),Ge=3):e===PC?(e=ob(),Ge=4):Ge=e===Aw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Rn=e,De===null&&(mt=1,Hu(t,Zn(e,t.current)))}function Zw(){var t=Te.H;return Te.H=Du,t===null?Du:t}function Ww(){var t=Te.A;return Te.A=a1,t}function _m(){mt=4,jr||(Le&4194048)!==Le&&es.current!==null||(no=!0),!(Jr&134217727)&&!(ki&134217727)||nt===null||Mr(nt,Le,Wn,!1)}function of(t,e,n){var s=Ke;Ke|=2;var r=Zw(),i=Ww();(nt!==t||Le!==e)&&(Fu=null,Ga(t,e)),e=!1;var a=mt;e:do try{if(Ge!==0&&De!==null){var o=De,l=Rn;switch(Ge){case 8:Cp(),a=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(e=!0);var u=Ge;if(Ge=0,Rn=null,va(t,o,l,u),n&&no){a=0;break e}break;default:u=Ge,Ge=0,Rn=null,va(t,o,l,u)}}l1(),a=mt;break}catch(h){Jw(t,h)}while(!0);return e&&t.shellSuspendCounter++,Ys=Ki=null,Ke=s,Te.H=r,Te.A=i,De===null&&(nt=null,Le=0,qd()),a}function l1(){for(;De!==null;)eT(De)}function u1(t,e){var n=Ke;Ke|=2;var s=Zw(),r=Ww();nt!==t||Le!==e?(Fu=null,Vu=Rs()+500,Ga(t,e)):no=qc(t,e);e:do try{if(Ge!==0&&De!==null){e=De;var i=Rn;t:switch(Ge){case 1:Ge=0,Rn=null,va(t,e,i,1);break;case 2:case 9:if(ab(i)){Ge=0,Rn=null,Rb(e);break}e=function(){Ge!==2&&Ge!==9||nt!==t||(Ge=7),Ms(t)},i.then(e,e);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:ab(i)?(Ge=0,Rn=null,Rb(e)):(Ge=0,Rn=null,va(t,e,i,7));break;case 5:var a=null;switch(De.tag){case 26:a=De.memoizedState;case 5:case 27:var o=De;if(!a||bT(a)){Ge=0,Rn=null;var l=o.sibling;if(l!==null)De=l;else{var u=o.return;u!==null?(De=u,Zd(u)):De=null}break t}}Ge=0,Rn=null,va(t,e,i,5);break;case 6:Ge=0,Rn=null,va(t,e,i,6);break;case 8:Cp(),mt=6;break e;default:throw Error(q(462))}}d1();break}catch(h){Jw(t,h)}while(!0);return Ys=Ki=null,Te.H=s,Te.A=r,Ke=n,De!==null?0:(nt=null,Le=0,qd(),mt)}function d1(){for(;De!==null&&!jk();)eT(De)}function eT(t){var e=Rw(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?Zd(t):De=e}function Rb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=wb(n,e,e.pendingProps,e.type,void 0,Le);break;case 11:e=wb(n,e,e.pendingProps,e.type.render,e.ref,Le);break;case 5:cp(e);default:Ow(n,e),e=De=OC(e,ar),e=Rw(n,e,ar)}t.memoizedProps=t.pendingProps,e===null?Zd(t):De=e}function va(t,e,n,s){Ys=Ki=null,cp(e),ka=null,Tc=0;var r=e.return;try{if(e1(t,r,e,n,Le)){mt=1,Hu(t,Zn(n,t.current)),De=null;return}}catch(i){if(r!==null)throw De=r,i;mt=1,Hu(t,Zn(n,t.current)),De=null;return}e.flags&32768?(ze||s===1?t=!0:no||Le&536870912?t=!1:(jr=t=!0,(s===2||s===9||s===3||s===6)&&(s=es.current,s!==null&&s.tag===13&&(s.flags|=16384))),tT(e,t)):Zd(e)}function Zd(t){var e=t;do{if(e.flags&32768){tT(e,jr);return}t=e.return;var n=n1(e.alternate,e,ar);if(n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);mt===0&&(mt=5)}function tT(t,e){do{var n=s1(t.alternate,t);if(n!==null){n.flags&=32767,De=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){De=t;return}De=t=n}while(t!==null);mt=6,De=null}function Ob(t,e,n,s,r,i,a,o,l){t.cancelPendingCommit=null;do Wd();while(Qt!==0);if(Ke&6)throw Error(q(327));if(e!==null){if(e===t.current)throw Error(q(177));if(i=e.lanes|e.childLanes,i|=Qg,Fk(t,n,i,a,o,l),t===nt&&(De=nt=null,Le=0),Fa=e,Br=t,Ra=n,Tm=i,Am=r,Yw=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,g1(Eu,function(){return aT(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Te.T,Te.T=null,r=Ve.p,Ve.p=2,a=Ke,Ke|=4;try{r1(t,e,n)}finally{Ke=a,Ve.p=r,Te.T=s}}Qt=1,nT(),sT(),rT()}}function nT(){if(Qt===1){Qt=0;var t=Br,e=Fa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Te.T,Te.T=null;var s=Ve.p;Ve.p=2;var r=Ke;Ke|=4;try{zw(e,t);var i=Om,a=wC(t.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&CC(o.ownerDocument.documentElement,o)){if(l!==null&&Yg(o)){var u=l.start,h=l.end;if(h===void 0&&(h=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(h,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),x=o.textContent.length,b=Math.min(l.start,x),C=l.end===void 0?b:Math.min(l.end,x);!m.extend&&b>C&&(a=C,C=b,b=a);var y=Zv(o,b),p=Zv(o,C);if(y&&p&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var g=d.createRange();g.setStart(y.node,y.offset),m.removeAllRanges(),b>C?(m.addRange(g),m.extend(p.node,p.offset)):(g.setEnd(p.node,p.offset),m.addRange(g))}}}}for(d=[],m=o;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Ju=!!Rm,Om=Rm=null}finally{Ke=r,Ve.p=s,Te.T=n}}t.current=e,Qt=2}}function sT(){if(Qt===2){Qt=0;var t=Br,e=Fa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Te.T,Te.T=null;var s=Ve.p;Ve.p=2;var r=Ke;Ke|=4;try{Uw(t,e.alternate,e)}finally{Ke=r,Ve.p=s,Te.T=n}}Qt=3}}function rT(){if(Qt===4||Qt===3){Qt=0,Mk();var t=Br,e=Fa,n=Ra,s=Yw;e.subtreeFlags&10256||e.flags&10256?Qt=5:(Qt=0,Fa=Br=null,iT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Hr=null),zg(n),e=e.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(Gc,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Te.T,r=Ve.p,Ve.p=2,Te.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var o=s[a];i(o.value,{componentStack:o.stack})}}finally{Te.T=e,Ve.p=r}}Ra&3&&Wd(),Ms(t),r=t.pendingLanes,n&4194090&&r&42?t===Em?ec++:(ec=0,Em=t):ec=0,nl(0)}}function iT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jc(e)))}function Wd(t){return nT(),sT(),rT(),aT()}function aT(){if(Qt!==5)return!1;var t=Br,e=Tm;Tm=0;var n=zg(Ra),s=Te.T,r=Ve.p;try{Ve.p=32>n?32:n,Te.T=null,n=Am,Am=null;var i=Br,a=Ra;if(Qt=0,Fa=Br=null,Ra=0,Ke&6)throw Error(q(331));var o=Ke;if(Ke|=4,Kw(i.current),Fw(i,i.current,a,n),Ke=o,nl(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(Gc,i)}catch{}return!0}finally{Ve.p=r,Te.T=s,iT(t,e)}}function Ib(t,e,n){e=Zn(n,e),e=bm(t.stateNode,e,2),t=Lr(t,e,2),t!==null&&(Kc(t,2),Ms(t))}function et(t,e,n){if(t.tag===3)Ib(t,t,n);else for(;e!==null;){if(e.tag===3){Ib(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hr===null||!Hr.has(s))){t=Zn(n,t),n=ww(2),s=Lr(e,n,2),s!==null&&(Tw(n,s,e,t),Kc(s,2),Ms(s));break}}e=e.return}}function cf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new o1;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(bp=!0,r.add(n),t=h1.bind(null,t,e,n),e.then(t,t))}function h1(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,nt===t&&(Le&n)===n&&(mt===4||mt===3&&(Le&62914560)===Le&&300>Rs()-Sp?!(Ke&2)&&Ga(t,0):xp|=n,Va===Le&&(Va=0)),Ms(t)}function oT(t,e){e===0&&(e=nC()),t=to(t,e),t!==null&&(Kc(t,e),Ms(t))}function f1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oT(t,n)}function m1(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(q(314))}s!==null&&s.delete(e),oT(t,n)}function g1(t,e){return Hg(t,e)}var Gu=null,ra=null,Nm=!1,qu=!1,lf=!1,Ri=0;function Ms(t){t!==ra&&t.next===null&&(ra===null?Gu=ra=t:ra=ra.next=t),qu=!0,Nm||(Nm=!0,y1())}function nl(t,e){if(!lf&&qu){lf=!0;do for(var n=!1,s=Gu;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,o=s.pingedLanes;i=(1<<31-jn(42|t)+1)-1,i&=r&~(a&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,jb(s,i))}else i=Le,i=zd(s,s===nt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||qc(s,i)||(n=!0,jb(s,i));s=s.next}while(n);lf=!1}}function p1(){cT()}function cT(){qu=Nm=!1;var t=0;Ri!==0&&(A1()&&(t=Ri),Ri=0);for(var e=Rs(),n=null,s=Gu;s!==null;){var r=s.next,i=lT(s,e);i===0?(s.next=null,n===null?Gu=r:n.next=r,r===null&&(ra=n)):(n=s,(t!==0||i&3)&&(qu=!0)),s=r}nl(t)}function lT(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-jn(i),o=1<<a,l=r[a];l===-1?(!(o&n)||o&s)&&(r[a]=Vk(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}if(e=nt,n=Le,n=zd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Mh(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||qc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Mh(s),zg(n)){case 2:case 8:n=WS;break;case 32:n=Eu;break;case 268435456:n=eC;break;default:n=Eu}return s=uT.bind(null,t),n=Hg(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Mh(s),t.callbackPriority=2,t.callbackNode=null,2}function uT(t,e){if(Qt!==0&&Qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Wd()&&t.callbackNode!==n)return null;var s=Le;return s=zd(t,t===nt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Xw(t,s,e),lT(t,Rs()),t.callbackNode!=null&&t.callbackNode===n?uT.bind(null,t):null)}function jb(t,e){if(Wd())return null;Xw(t,e,!0)}function y1(){_1(function(){Ke&6?Hg(ZS,p1):cT()})}function wp(){return Ri===0&&(Ri=tC()),Ri}function Mb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zl(""+t)}function Pb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function v1(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=Mb((r[xn]||null).action),a=s.submitter;a&&(e=(e=a[xn]||null)?Mb(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var o=new Vd("action","action",null,s,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ri!==0){var l=a?Pb(r,a):new FormData(r);ym(n,{pending:!0,data:l,method:r.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=a?Pb(r,a):new FormData(r),ym(n,{pending:!0,data:l,method:r.method,action:i},i,l))},currentTarget:r}]})}}for(var uf=0;uf<im.length;uf++){var df=im[uf],b1=df.toLowerCase(),x1=df[0].toUpperCase()+df.slice(1);vs(b1,"on"+x1)}vs(AC,"onAnimationEnd");vs(EC,"onAnimationIteration");vs(_C,"onAnimationStart");vs("dblclick","onDoubleClick");vs("focusin","onFocus");vs("focusout","onBlur");vs(UR,"onTransitionRun");vs(LR,"onTransitionStart");vs(HR,"onTransitionCancel");vs(NC,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ac));function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var o=s[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(h){Lu(h)}r.currentTarget=null,i=l}else for(a=0;a<s.length;a++){if(o=s[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&r.isPropagationStopped())break e;i=o,r.currentTarget=u;try{i(r)}catch(h){Lu(h)}r.currentTarget=null,i=l}}}}function Pe(t,e){var n=e[Zf];n===void 0&&(n=e[Zf]=new Set);var s=t+"__bubble";n.has(s)||(hT(e,t,2,!1),n.add(s))}function hf(t,e,n){var s=0;e&&(s|=4),hT(n,t,s,e)}var El="_reactListening"+Math.random().toString(36).slice(2);function Tp(t){if(!t[El]){t[El]=!0,aC.forEach(function(n){n!=="selectionchange"&&(S1.has(n)||hf(n,!1,t),hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[El]||(e[El]=!0,hf("selectionchange",!1,e))}}function hT(t,e,n,s){switch(TT(e)){case 2:var r=Y1;break;case 8:r=Q1;break;default:r=Np}n=r.bind(null,e,n,t),r=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ff(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var o=s.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=s.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=la(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){s=i=a;continue e}o=o.parentNode}}s=s.return}mC(function(){var u=i,h=Gg(n),d=[];e:{var f=kC.get(t);if(f!==void 0){var m=Vd,x=t;switch(t){case"keypress":if(eu(n)===0)break e;case"keydown":case"keyup":m=gR;break;case"focusin":x="focus",m=Vh;break;case"focusout":x="blur",m=Vh;break;case"beforeblur":case"afterblur":m=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vR;break;case AC:case EC:case _C:m=aR;break;case NC:m=xR;break;case"scroll":case"scrollend":m=tR;break;case"wheel":m=CR;break;case"copy":case"cut":case"paste":m=cR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Gv;break;case"toggle":case"beforetoggle":m=TR}var b=(e&4)!==0,C=!b&&(t==="scroll"||t==="scrollend"),y=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,g;p!==null;){var v=p;if(g=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||g===null||y===null||(v=bc(p,y),v!=null&&b.push(Ec(p,v,g))),C)break;p=p.return}0<b.length&&(f=new m(f,x,null,n,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==tm&&(x=n.relatedTarget||n.fromElement)&&(la(x)||x[Wa]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?la(x):null,x!==null&&(C=Fc(x),b=x.tag,x!==C||b!==5&&b!==27&&b!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=Vv,v="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=Gv,v="onPointerLeave",y="onPointerEnter",p="pointer"),C=m==null?f:Po(m),g=x==null?f:Po(x),f=new b(v,p+"leave",m,n,h),f.target=C,f.relatedTarget=g,v=null,la(h)===u&&(b=new b(y,p+"enter",x,n,h),b.target=g,b.relatedTarget=C,v=b),C=v,m&&x)t:{for(b=m,y=x,p=0,g=b;g;g=Zi(g))p++;for(g=0,v=y;v;v=Zi(v))g++;for(;0<p-g;)b=Zi(b),p--;for(;0<g-p;)y=Zi(y),g--;for(;p--;){if(b===y||y!==null&&b===y.alternate)break t;b=Zi(b),y=Zi(y)}b=null}else b=null;m!==null&&Db(d,f,m,b,!1),x!==null&&C!==null&&Db(d,C,x,b,!0)}}e:{if(f=u?Po(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=Yv;else if($v(f))if(xC)w=MR;else{w=IR;var E=OR}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Fg(u.elementType)&&(w=Yv):w=jR;if(w&&(w=w(t,u))){bC(d,w,n,h);break e}E&&E(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&em(f,"number",f.value)}switch(E=u?Po(u):window,t){case"focusin":($v(E)||E.contentEditable==="true")&&(ha=E,sm=u,Go=null);break;case"focusout":Go=sm=ha=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,Wv(d,n,h);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":Wv(d,n,h)}var T;if($g)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else da?yC(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(pC&&n.locale!=="ko"&&(da||A!=="onCompositionStart"?A==="onCompositionEnd"&&da&&(T=gC()):(Ir=h,qg="value"in Ir?Ir.value:Ir.textContent,da=!0)),E=Ku(u,A),0<E.length&&(A=new Fv(A,t,null,n,h),d.push({event:A,listeners:E}),T?A.data=T:(T=vC(n),T!==null&&(A.data=T)))),(T=ER?_R(t,n):NR(t,n))&&(A=Ku(u,"onBeforeInput"),0<A.length&&(E=new Fv("onBeforeInput","beforeinput",null,n,h),d.push({event:E,listeners:A}),E.data=T)),v1(d,t,u,n,h)}dT(d,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ku(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=bc(t,n),r!=null&&s.unshift(Ec(t,r,i)),r=bc(t,e),r!=null&&s.push(Ec(t,r,i))),t.tag===3)return s;t=t.return}return[]}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Db(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===s)break;o!==5&&o!==26&&o!==27||u===null||(l=u,r?(u=bc(n,i),u!=null&&a.unshift(Ec(n,u,l))):r||(u=bc(n,i),u!=null&&a.push(Ec(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var C1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Ub(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(w1,"")}function fT(t,e){return e=Ub(e),Ub(t)===e}function eh(){}function $e(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Ua(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Ua(t,""+s);break;case"className":bl(t,"class",s);break;case"tabIndex":bl(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(t,n,s);break;case"style":fC(t,s,i);break;case"data":if(e!=="object"){bl(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Zl(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&$e(t,e,"name",r.name,r,null),$e(t,e,"formEncType",r.formEncType,r,null),$e(t,e,"formMethod",r.formMethod,r,null),$e(t,e,"formTarget",r.formTarget,r,null)):($e(t,e,"encType",r.encType,r,null),$e(t,e,"method",r.method,r,null),$e(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Zl(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=eh);break;case"onScroll":s!=null&&Pe("scroll",t);break;case"onScrollEnd":s!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(q(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Zl(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Jl(t,"popover",s);break;case"xlinkActuate":Ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ds(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ds(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ds(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ds(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Jl(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wk.get(n)||n,Jl(t,n,s))}}function km(t,e,n,s,r,i){switch(n){case"style":fC(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(q(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(q(60));t.innerHTML=n}}break;case"children":typeof s=="string"?Ua(t,s):(typeof s=="number"||typeof s=="bigint")&&Ua(t,""+s);break;case"onScroll":s!=null&&Pe("scroll",t);break;case"onScrollEnd":s!=null&&Pe("scrollend",t);break;case"onClick":s!=null&&(t.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oC.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[xn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Jl(t,n,s)}}}function Xt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:$e(t,e,i,a,n,null)}}r&&$e(t,e,"srcSet",n.srcSet,n,null),s&&$e(t,e,"src",n.src,n,null);return;case"input":Pe("invalid",t);var o=i=a=r=null,l=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var h=n[s];if(h!=null)switch(s){case"name":r=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":u=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(q(137,e));break;default:$e(t,e,s,h,n,null)}}uC(t,i,o,l,u,a,r,!1),_u(t);return;case"select":Pe("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:$e(t,e,r,o,n,null)}e=i,n=a,t.multiple=!!s,e!=null?Ta(t,!!s,e,!1):n!=null&&Ta(t,!!s,n,!0);return;case"textarea":Pe("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":r=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(q(91));break;default:$e(t,e,a,o,n,null)}hC(t,s,r,i),_u(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(t,e,l,s,n,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(s=0;s<Ac.length;s++)Pe(Ac[s],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,e));default:$e(t,e,u,s,n,null)}return;default:if(Fg(e)){for(h in n)n.hasOwnProperty(h)&&(s=n[h],s!==void 0&&km(t,e,h,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&$e(t,e,o,s,n,null))}function T1(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,o=null,l=null,u=null,h=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:s.hasOwnProperty(m)||$e(t,e,m,null,s,d)}}for(var f in s){var m=s[f];if(d=n[f],s.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":i=m;break;case"name":r=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":a=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(q(137,e));break;default:m!==d&&$e(t,e,f,m,s,d)}}Wf(t,a,o,l,u,h,i,r);return;case"select":m=a=o=f=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":m=l;default:s.hasOwnProperty(i)||$e(t,e,i,null,s,l)}for(r in s)if(i=s[r],l=n[r],s.hasOwnProperty(r)&&(i!=null||l!=null))switch(r){case"value":f=i;break;case"defaultValue":o=i;break;case"multiple":a=i;default:i!==l&&$e(t,e,r,i,s,l)}e=o,n=a,s=m,f!=null?Ta(t,!!n,f,!1):!!s!=!!n&&(e!=null?Ta(t,!!n,e,!0):Ta(t,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:$e(t,e,o,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":f=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(q(91));break;default:r!==i&&$e(t,e,a,r,s,i)}dC(t,f,m);return;case"option":for(var x in n)if(f=n[x],n.hasOwnProperty(x)&&f!=null&&!s.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:$e(t,e,x,null,s,f)}for(l in s)if(f=s[l],m=n[l],s.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$e(t,e,l,f,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)f=n[b],n.hasOwnProperty(b)&&f!=null&&!s.hasOwnProperty(b)&&$e(t,e,b,null,s,f);for(u in s)if(f=s[u],m=n[u],s.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(q(137,e));break;default:$e(t,e,u,f,s,m)}return;default:if(Fg(e)){for(var C in n)f=n[C],n.hasOwnProperty(C)&&f!==void 0&&!s.hasOwnProperty(C)&&km(t,e,C,void 0,s,f);for(h in s)f=s[h],m=n[h],!s.hasOwnProperty(h)||f===m||f===void 0&&m===void 0||km(t,e,h,f,s,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!s.hasOwnProperty(y)&&$e(t,e,y,null,s,f);for(d in s)f=s[d],m=n[d],!s.hasOwnProperty(d)||f===m||f==null&&m==null||$e(t,e,d,f,s,m)}var Rm=null,Om=null;function $u(t){return t.nodeType===9?t:t.ownerDocument}function Lb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mf=null;function A1(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var gT=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(t){return Hb.resolve(null).then(t).catch(N1)}:gT;function N1(t){setTimeout(function(){throw t})}function ri(t){return t==="head"}function Bb(t,e){var n=e,s=0,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(0<s&&8>s){n=s;var a=t.ownerDocument;if(n&1&&tc(a.documentElement),n&2&&tc(a.body),n&4)for(n=a.head,tc(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[$c]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(r===0){t.removeChild(i),Oc(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=i}while(n);Oc(e)}function jm(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jm(n),Vg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function k1(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[$c])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=hs(t.nextSibling),t===null)break}return null}function R1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=hs(t.nextSibling),t===null))return null;return t}function Mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function O1(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Pm=null;function zb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function pT(t,e,n){switch(e=$u(n),t){case"html":if(t=e.documentElement,!t)throw Error(q(452));return t;case"head":if(t=e.head,!t)throw Error(q(453));return t;case"body":if(t=e.body,!t)throw Error(q(454));return t;default:throw Error(q(451))}}function tc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Vg(t)}var ts=new Map,Vb=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dr=Ve.d;Ve.d={f:I1,r:j1,D:M1,C:P1,L:D1,m:U1,X:H1,S:L1,M:B1};function I1(){var t=dr.f(),e=Jd();return t||e}function j1(t){var e=eo(t);e!==null&&e.tag===5&&e.type==="form"?lw(e):dr.r(t)}var so=typeof document>"u"?null:document;function yT(t,e,n){var s=so;if(s&&typeof e=="string"&&e){var r=Jn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Vb.has(r)||(Vb.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Xt(e,"link",t),zt(e),s.head.appendChild(e)))}}function M1(t){dr.D(t),yT("dns-prefetch",t,null)}function P1(t,e){dr.C(t,e),yT("preconnect",t,e)}function D1(t,e,n){dr.L(t,e,n);var s=so;if(s&&t&&e){var r='link[rel="preload"][as="'+Jn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Jn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Jn(n.imageSizes)+'"]')):r+='[href="'+Jn(t)+'"]';var i=r;switch(e){case"style":i=qa(t);break;case"script":i=ro(t)}ts.has(i)||(t=rt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ts.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(sl(i))||e==="script"&&s.querySelector(rl(i))||(e=s.createElement("link"),Xt(e,"link",t),zt(e),s.head.appendChild(e)))}}function U1(t,e){dr.m(t,e);var n=so;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Jn(s)+'"][href="'+Jn(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ro(t)}if(!ts.has(i)&&(t=rt({rel:"modulepreload",href:t},e),ts.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(rl(i)))return}s=n.createElement("link"),Xt(s,"link",t),zt(s),n.head.appendChild(s)}}}function L1(t,e,n){dr.S(t,e,n);var s=so;if(s&&t){var r=wa(s).hoistableStyles,i=qa(t);e=e||"default";var a=r.get(i);if(!a){var o={loading:0,preload:null};if(a=s.querySelector(sl(i)))o.loading=5;else{t=rt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ts.get(i))&&Ap(t,n);var l=a=s.createElement("link");zt(l),Xt(l,"link",t),l._p=new Promise(function(u,h){l.onload=u,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ou(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(i,a)}}}function H1(t,e){dr.X(t,e);var n=so;if(n&&t){var s=wa(n).hoistableScripts,r=ro(t),i=s.get(r);i||(i=n.querySelector(rl(r)),i||(t=rt({src:t,async:!0},e),(e=ts.get(r))&&Ep(t,e),i=n.createElement("script"),zt(i),Xt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function B1(t,e){dr.M(t,e);var n=so;if(n&&t){var s=wa(n).hoistableScripts,r=ro(t),i=s.get(r);i||(i=n.querySelector(rl(r)),i||(t=rt({src:t,async:!0,type:"module"},e),(e=ts.get(r))&&Ep(t,e),i=n.createElement("script"),zt(i),Xt(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function Fb(t,e,n,s){var r=(r=Dr.current)?Yu(r):null;if(!r)throw Error(q(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=qa(n.href),n=wa(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=qa(n.href);var i=wa(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(sl(t)))&&!i._p&&(a.instance=i,a.state.loading=5),ts.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ts.set(t,n),i||z1(r,t,n,a.state))),e&&s===null)throw Error(q(528,""));return a}if(e&&s!==null)throw Error(q(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ro(n),n=wa(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,t))}}function qa(t){return'href="'+Jn(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function vT(t){return rt({},t,{"data-precedence":t.precedence,precedence:null})}function z1(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Xt(e,"link",n),zt(e),t.head.appendChild(e))}function ro(t){return'[src="'+Jn(t)+'"]'}function rl(t){return"script[async]"+t}function Gb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+Jn(n.href)+'"]');if(s)return e.instance=s,zt(s),s;var r=rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),zt(s),Xt(s,"style",r),ou(s,n.precedence,t),e.instance=s;case"stylesheet":r=qa(n.href);var i=t.querySelector(sl(r));if(i)return e.state.loading|=4,e.instance=i,zt(i),i;s=vT(n),(r=ts.get(r))&&Ap(s,r),i=(t.ownerDocument||t).createElement("link"),zt(i);var a=i;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Xt(i,"link",s),e.state.loading|=4,ou(i,n.precedence,t),e.instance=i;case"script":return i=ro(n.src),(r=t.querySelector(rl(i)))?(e.instance=r,zt(r),r):(s=n,(r=ts.get(i))&&(s=rt({},n),Ep(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),zt(r),Xt(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(q(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,ou(s,n.precedence,t));return e.instance}function ou(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var o=s[a];if(o.dataset.precedence===e)i=o;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ap(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ep(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var cu=null;function qb(t,e,n){if(cu===null){var s=new Map,r=cu=new Map;r.set(n,s)}else r=cu,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[$c]||i[en]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var o=s.get(a);o?o.push(i):s.set(a,[i])}}return s}function Kb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function V1(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function bT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var _c=null;function F1(){}function G1(t,e,n){if(_c===null)throw Error(q(475));var s=_c;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=qa(n.href),i=t.querySelector(sl(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Qu.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=i,zt(i);return}i=t.ownerDocument||t,n=vT(n),(r=ts.get(r))&&Ap(n,r),i=i.createElement("link"),zt(i);var a=i;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Xt(i,"link",n),e.instance=i}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(s.count++,e=Qu.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function q1(){if(_c===null)throw Error(q(475));var t=_c;return t.stylesheets&&t.count===0&&Dm(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Dm(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Dm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,e.forEach(K1,t),Xu=null,Qu.call(t))}function K1(t,e){if(!(e.state.loading&4)){var n=Xu.get(t);if(n)var s=n.get(null);else{n=new Map,Xu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=Qu.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Nc={$$typeof:qs,Provider:null,Consumer:null,_currentValue:Ti,_currentValue2:Ti,_threadCount:0};function $1(t,e,n,s,r,i,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ph(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ph(0),this.hiddenUpdates=Ph(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function xT(t,e,n,s,r,i,a,o,l,u,h,d){return t=new $1(t,e,n,a,o,l,u,d),e=1,i===!0&&(e|=24),i=On(3,null,null,e),t.current=i,i.stateNode=t,e=ep(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},np(i),t}function ST(t){return t?(t=ga,t):ga}function CT(t,e,n,s,r,i){r=ST(r),s.context===null?s.context=r:s.pendingContext=r,s=Ur(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Lr(t,s,e),n!==null&&(Pn(n,t,e),$o(n,t,e))}function $b(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _p(t,e){$b(t,e),(t=t.alternate)&&$b(t,e)}function wT(t){if(t.tag===13){var e=to(t,67108864);e!==null&&Pn(e,t,67108864),_p(t,67108864)}}var Ju=!0;function Y1(t,e,n,s){var r=Te.T;Te.T=null;var i=Ve.p;try{Ve.p=2,Np(t,e,n,s)}finally{Ve.p=i,Te.T=r}}function Q1(t,e,n,s){var r=Te.T;Te.T=null;var i=Ve.p;try{Ve.p=8,Np(t,e,n,s)}finally{Ve.p=i,Te.T=r}}function Np(t,e,n,s){if(Ju){var r=Um(s);if(r===null)ff(t,e,s,Zu,n),Yb(t,s);else if(J1(r,t,e,n,s))s.stopPropagation();else if(Yb(t,s),e&4&&-1<X1.indexOf(t)){for(;r!==null;){var i=eo(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=hi(i.pendingLanes);if(a!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-jn(a);o.entanglements[1]|=l,a&=~l}Ms(i),!(Ke&6)&&(Vu=Rs()+500,nl(0))}}break;case 13:o=to(i,2),o!==null&&Pn(o,i,2),Jd(),_p(i,2)}if(i=Um(s),i===null&&ff(t,e,s,Zu,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ff(t,e,s,null,n)}}function Um(t){return t=Gg(t),kp(t)}var Zu=null;function kp(t){if(Zu=null,t=la(t),t!==null){var e=Fc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=YS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zu=t,null}function TT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pk()){case ZS:return 2;case WS:return 8;case Eu:case Dk:return 32;case eC:return 268435456;default:return 32}default:return 32}}var Lm=!1,zr=null,Vr=null,Fr=null,kc=new Map,Rc=new Map,Nr=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yb(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(e.pointerId)}}function Co(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=eo(e),e!==null&&wT(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function J1(t,e,n,s,r){switch(e){case"focusin":return zr=Co(zr,t,e,n,s,r),!0;case"dragenter":return Vr=Co(Vr,t,e,n,s,r),!0;case"mouseover":return Fr=Co(Fr,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return kc.set(i,Co(kc.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Rc.set(i,Co(Rc.get(i)||null,t,e,n,s,r)),!0}return!1}function AT(t){var e=la(t.target);if(e!==null){var n=Fc(e);if(n!==null){if(e=n.tag,e===13){if(e=YS(n),e!==null){t.blockedOn=e,Gk(t.priority,function(){if(n.tag===13){var s=Mn();s=Bg(s);var r=to(n,s);r!==null&&Pn(r,n,s),_p(n,s)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Um(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);tm=s,n.target.dispatchEvent(s),tm=null}else return e=eo(n),e!==null&&wT(e),t.blockedOn=n,!1;e.shift()}return!0}function Qb(t,e,n){lu(t)&&n.delete(e)}function Z1(){Lm=!1,zr!==null&&lu(zr)&&(zr=null),Vr!==null&&lu(Vr)&&(Vr=null),Fr!==null&&lu(Fr)&&(Fr=null),kc.forEach(Qb),Rc.forEach(Qb)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,Lm||(Lm=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,Z1)))}var Nl=null;function Xb(t){Nl!==t&&(Nl=t,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,function(){Nl===t&&(Nl=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(kp(s||n)===null)continue;break}var i=eo(n);i!==null&&(t.splice(e,3),e-=3,ym(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Oc(t){function e(l){return _l(l,t)}zr!==null&&_l(zr,t),Vr!==null&&_l(Vr,t),Fr!==null&&_l(Fr,t),kc.forEach(e),Rc.forEach(e);for(var n=0;n<Nr.length;n++){var s=Nr[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)AT(n),n.blockedOn===null&&Nr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[xn]||null;if(typeof i=="function")a||Xb(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[xn]||null)o=a.formAction;else if(kp(r)!==null)continue}else o=a.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),Xb(n)}}}function Rp(t){this._internalRoot=t}th.prototype.render=Rp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));var n=e.current,s=Mn();CT(n,s,t,e,null,null)};th.prototype.unmount=Rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;CT(t.current,2,null,t,null,null),Jd(),e[Wa]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=iC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&AT(t)}};var Jb=KS.version;if(Jb!=="19.1.1")throw Error(q(527,Jb,"19.1.1"));Ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Nk(e),t=t!==null?QS(t):null,t=t===null?null:t.stateNode,t};var W1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{Gc=kl.inject(W1),In=kl}catch{}}Hd.createRoot=function(t,e){if(!$S(t))throw Error(q(299));var n=!1,s="",r=xw,i=Sw,a=Cw,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=xT(t,1,!1,null,null,n,s,r,i,a,o,null),t[Wa]=e.current,Tp(t),new Rp(e)};Hd.hydrateRoot=function(t,e,n){if(!$S(t))throw Error(q(299));var s=!1,r="",i=xw,a=Sw,o=Cw,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=xT(t,1,!0,e,n??null,s,r,i,a,o,l,u),e.context=ST(null),n=e.current,s=Mn(),s=Bg(s),r=Ur(s),r.callback=null,Lr(n,r,s),n=s,e.current.lanes=n,Kc(e,n),Ms(e),t[Wa]=e.current,Tp(t),new th(e)};Hd.version="19.1.1";function ET(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ET)}catch(t){console.error(t)}}ET(),HS.exports=Hd;var eO=HS.exports;const tO=Og(eO);/*! @azure/msal-common v15.12.0 2025-08-19 */const V={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Pr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},xi={GET:"GET",POST:"POST"},io=[V.OPENID_SCOPE,V.PROFILE_SCOPE,V.OFFLINE_ACCESS_SCOPE],Zb=[...io,V.EMAIL_SCOPE],on={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Wb={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Gr={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Rl={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},un={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Op={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},nh={QUERY:"query",FRAGMENT:"fragment"},nO={QUERY:"query"},_T={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Ol={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Ic={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Yt={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ip="appmetadata",sO="client_info",Wu="1",ed={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},kn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},qt={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},qe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},nc={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},e0={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Wi={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},gf={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},gi={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},rO={Pop:"pop"},NT=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const td="unexpected_error",iO="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const t0={[td]:"Unexpected error in authentication.",[iO]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Xe extends Error{constructor(e,n,s){const r=n?`${e}: ${n}`:e;super(r),Object.setPrototypeOf(this,Xe.prototype),this.errorCode=e||V.EMPTY_STRING,this.errorMessage=n||V.EMPTY_STRING,this.subError=s||V.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Hm(t,e){return new Xe(t,e?`${t0[t]} ${e}`:t0[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const jp="client_info_decoding_error",kT="client_info_empty_error",Mp="token_parsing_error",RT="null_or_empty_token",Fs="endpoints_resolution_error",OT="network_error",IT="openid_config_error",jT="hash_not_deserialized",Ka="invalid_state",MT="state_mismatch",Bm="state_not_found",PT="nonce_mismatch",Pp="auth_time_not_found",DT="max_age_transpired",aO="multiple_matching_tokens",oO="multiple_matching_accounts",UT="multiple_matching_appMetadata",LT="request_cannot_be_made",HT="cannot_remove_empty_scope",BT="cannot_append_scopeset",zm="empty_input_scopeset",cO="device_code_polling_cancelled",lO="device_code_expired",uO="device_code_unknown_error",Dp="no_account_in_silent_request",zT="invalid_cache_record",Up="invalid_cache_environment",Vm="no_account_found",Fm="no_crypto_object",dO="unexpected_credential_type",hO="invalid_assertion",fO="invalid_client_credential",qr="token_refresh_required",mO="user_timeout_reached",VT="token_claims_cnf_required_for_signedjwt",FT="authorization_code_missing_from_server_response",GT="binding_key_not_removed",qT="end_session_endpoint_not_supported",Lp="key_id_missing",gO="no_network_connectivity",pO="user_canceled",yO="missing_tenant_id_error",Oe="method_not_implemented",vO="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const n0={[jp]:"The client info could not be parsed/decoded correctly",[kT]:"The client info was empty",[Mp]:"Token cannot be parsed",[RT]:"The token is null or empty",[Fs]:"Endpoints cannot be resolved",[OT]:"Network request failed",[IT]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[jT]:"The hash parameters could not be deserialized",[Ka]:"State was not the expected format",[MT]:"State mismatch error",[Bm]:"State not found",[PT]:"Nonce mismatch error",[Pp]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[DT]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[aO]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[oO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[UT]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[LT]:"Token request cannot be made without authorization code or refresh token.",[HT]:"Cannot remove null or empty scope from ScopeSet",[BT]:"Cannot append ScopeSet",[zm]:"Empty input ScopeSet cannot be processed",[cO]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[lO]:"Device code is expired.",[uO]:"Device code stopped polling for unknown reasons.",[Dp]:"Please pass an account object, silent flow is not supported without account information",[zT]:"Cache record object was null or undefined.",[Up]:"Invalid environment when attempting to create cache entry",[Vm]:"No account found in cache for given key.",[Fm]:"No crypto object detected.",[dO]:"Unexpected credential type.",[hO]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[fO]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[qr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[mO]:"User defined timeout for device code polling reached",[VT]:"Cannot generate a POP jwt if the token_claims are not populated",[FT]:"Server response does not contain an authorization code to proceed",[GT]:"Could not remove the credential's binding key from storage.",[qT]:"The provided authority does not support logout",[Lp]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[gO]:"No network connectivity. Check your internet connection.",[pO]:"User cancelled the flow.",[yO]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Oe]:"This method has not been implemented",[vO]:"The nested app auth bridge is disabled"};class Hp extends Xe{constructor(e,n){super(e,n?`${n0[e]}: ${n}`:n0[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Hp.prototype)}}function J(t,e){return new Hp(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const nd={createNewGuid:()=>{throw J(Oe)},base64Decode:()=>{throw J(Oe)},base64Encode:()=>{throw J(Oe)},base64UrlEncode:()=>{throw J(Oe)},encodeKid:()=>{throw J(Oe)},async getPublicKeyThumbprint(){throw J(Oe)},async removeTokenBindingKey(){throw J(Oe)},async clearKeystore(){throw J(Oe)},async signJwt(){throw J(Oe)},async hashString(){throw J(Oe)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var ot;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ot||(ot={}));class or{constructor(e,n,s){this.level=ot.Info;const r=()=>{},i=e||or.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||r,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:ot.Info,this.correlationId=i.correlationId||V.EMPTY_STRING,this.packageName=n||V.EMPTY_STRING,this.packageVersion=s||V.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info}}clone(e,n,s){return new or({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:s||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ot[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,i,n.containsPii||!1)}executeCallback(e,n,s){this.localCallback&&this.localCallback(e,n,s)}error(e,n){this.logMessage(e,{logLevel:ot.Error,containsPii:!1,correlationId:n||V.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ot.Error,containsPii:!0,correlationId:n||V.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ot.Warning,containsPii:!1,correlationId:n||V.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ot.Warning,containsPii:!0,correlationId:n||V.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ot.Info,containsPii:!1,correlationId:n||V.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ot.Info,containsPii:!0,correlationId:n||V.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ot.Verbose,containsPii:!1,correlationId:n||V.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ot.Verbose,containsPii:!0,correlationId:n||V.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ot.Trace,containsPii:!1,correlationId:n||V.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ot.Trace,containsPii:!0,correlationId:n||V.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const KT="@azure/msal-common",Bp="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const zp={None:"none"};/*! @azure/msal-common v15.12.0 2025-08-19 */const $T="redirect_uri_empty",bO="claims_request_parsing_error",YT="authority_uri_insecure",Uo="url_parse_error",QT="empty_url_error",XT="empty_input_scopes_error",Vp="invalid_claims",JT="token_request_empty",ZT="logout_request_empty",xO="invalid_code_challenge_method",Fp="pkce_params_missing",Gp="invalid_cloud_discovery_metadata",WT="invalid_authority_metadata",eA="untrusted_authority",sh="missing_ssh_jwk",tA="missing_ssh_kid",SO="missing_nonce_authentication_header",CO="invalid_authentication_header",nA="cannot_set_OIDCOptions",sA="cannot_allow_platform_broker",rA="authority_mismatch",iA="invalid_request_method_for_EAR",aA="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const wO={[$T]:"A redirect URI is required for all calls, and none has been set.",[bO]:"Could not parse the given claims request object.",[YT]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Uo]:"URL could not be parsed into appropriate segments.",[QT]:"URL was empty or null.",[XT]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Vp]:"Given claims parameter must be a stringified JSON object.",[JT]:"Token request was empty and not found in cache.",[ZT]:"The logout request was null or undefined.",[xO]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Fp]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Gp]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[WT]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[eA]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[sh]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[tA]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[SO]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[CO]:"Invalid authentication header provided",[nA]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[sA]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[rA]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[aA]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[iA]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class qp extends Xe{constructor(e){super(e,wO[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,qp.prototype)}}function We(t){return new qp(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class Dn{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},s=e.split("&"),r=i=>decodeURIComponent(i.replace(/\+/g," "));return s.forEach(i=>{if(i.trim()){const[a,o]=i.split(/=(.+)/g,2);a&&o&&(n[r(a)]=r(o))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Mt{constructor(e){const n=e?Dn.trimArrayEntries([...e]):[],s=n?Dn.removeEmptyStringsFromArray(n):[];if(!s||!s.length)throw We(XT);this.scopes=new Set,s.forEach(r=>this.scopes.add(r))}static fromString(e){const s=(e||V.EMPTY_STRING).split(" ");return new Mt(s)}static createSearchScopes(e){const n=e&&e.length>0?e:[...io],s=new Mt(n);return s.containsOnlyOIDCScopes()?s.removeScope(V.OFFLINE_ACCESS_SCOPE):s.removeOIDCScopes(),s}containsScope(e){const n=this.printScopesLowerCase().split(" "),s=new Mt(n);return e?s.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return Zb.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw J(BT)}}removeScope(e){if(!e)throw J(HT);this.scopes.delete(e.trim())}removeOIDCScopes(){Zb.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw J(zm);const n=new Set;return e.scopes.forEach(s=>n.add(s.toLowerCase())),this.scopes.forEach(s=>n.add(s.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw J(zm);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),s=e.getScopeCount(),r=this.getScopeCount();return n.size<r+s}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):V.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function s0(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Kp(t,e,n,s){if(s){const{oid:r,sub:i,tid:a,name:o,tfp:l,acr:u,preferred_username:h,upn:d,login_hint:f}=s,m=a||l||u||"";return{tenantId:m,localAccountId:r||i||"",name:o,username:h||d||"",loginHint:f,isHomeTenant:s0(m,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:s0(n,t)}}function $p(t,e,n,s){let r=t;if(e){const{isHomeTenant:i,...a}=e;r={...t,...a}}if(n){const{isHomeTenant:i,...a}=Kp(t.homeAccountId,t.localAccountId,t.tenantId,n);return r={...r,...a,idTokenClaims:n,idToken:s},r}return r}/*! @azure/msal-common v15.12.0 2025-08-19 */function ao(t,e){const n=TO(t);try{const s=e(n);return JSON.parse(s)}catch{throw J(Mp)}}function TO(t){if(!t)throw J(RT);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw J(Mp);return n[2]}function oA(t,e){if(e===0||Date.now()-3e5>t+e)throw J(DT)}/*! @azure/msal-common v15.12.0 2025-08-19 */function r0(t){if(!t)return t;let e=t.toLowerCase();return Dn.endsWith(e,"?")?e=e.slice(0,-1):Dn.endsWith(e,"?/")&&(e=e.slice(0,-2)),Dn.endsWith(e,"/")||(e+="/"),e}function cA(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function sd(t){if(!t||t.indexOf("=")<0)return null;try{const e=cA(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw J(jT)}return null}function jc(t,e=!0,n){const s=new Array;return t.forEach((r,i)=>{!e&&n&&i in n?s.push(`${i}=${r}`):s.push(`${i}=${encodeURIComponent(r)}`)}),s.join("&")}function i0(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),s=n.origin+n.pathname+n.search;return r0(s)}catch{return r0(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class He{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw We(QT);e.includes("#")||(this._urlString=He.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Dn.endsWith(n,"?")?n=n.slice(0,-1):Dn.endsWith(n,"?/")&&(n=n.slice(0,-2)),Dn.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw We(Uo)}if(!e.HostNameAndPort||!e.PathSegments)throw We(Uo);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw We(YT)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return He.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),s=n.PathSegments;return e&&s.length!==0&&(s[0]===Gr.COMMON||s[0]===Gr.ORGANIZATIONS)&&(s[0]=e),He.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw We(Uo);const s={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let r=s.AbsolutePath.split("/");return r=r.filter(i=>i&&i.length>0),s.PathSegments=r,s.QueryString&&s.QueryString.endsWith("/")&&(s.QueryString=s.QueryString.substring(0,s.QueryString.length-1)),s}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),s=e.match(n);if(!s)throw We(Uo);return s[2]}static getAbsoluteUrl(e,n){if(e[0]===V.FORWARD_SLASH){const r=new He(n).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new He(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!sd(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const lA={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},a0=lA.endpointMetadata,Yp=lA.instanceDiscoveryMetadata,uA=new Set;Yp.metadata.forEach(t=>{t.aliases.forEach(e=>{uA.add(e)})});function AO(t,e){var r;let n;const s=t.canonicalAuthority;if(s){const i=new He(s).getUrlComponents().HostNameAndPort;n=o0(i,(r=t.cloudDiscoveryMetadata)==null?void 0:r.metadata,kn.CONFIG,e)||o0(i,Yp.metadata,kn.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function o0(t,e,n,s){if(s==null||s.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const r=rd(e,t);if(r)return s==null||s.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),r.aliases;s==null||s.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function EO(t){return rd(Yp.metadata,t)}function rd(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(s.aliases.includes(e))return s}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const id="cache_quota_exceeded",Qp="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const pf={[id]:"Exceeded cache storage capacity.",[Qp]:"Unexpected error occurred when using cache storage."};class Oa extends Xe{constructor(e,n){const s=n||(pf[e]?pf[e]:pf[Qp]);super(`${e}: ${s}`),Object.setPrototypeOf(this,Oa.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=s}}function Gm(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Oa(id):new Oa(t.name,t.message):new Oa(Qp)}/*! @azure/msal-common v15.12.0 2025-08-19 */class qm{constructor(e,n,s,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=s.clone(KT,Bp),this.staticAuthorityOptions=i,this.performanceClient=r}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(r=>!r))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const s=this.getAllAccounts(e,n);return s.length>1?s.sort(i=>i.idTokenClaims?-1:1)[0]:s.length===1?s[0]:null}getBaseAccountInfo(e,n){const s=this.getAccountsFilteredBy(e,n);return s.length>0?s[0].getAccountInfo():null}buildTenantProfiles(e,n,s){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n,s==null?void 0:s.tenantId,s))}getTenantedAccountInfoByFilter(e,n,s,r,i){let a=null,o;if(i&&!this.tenantProfileMatchesFilter(s,i))return null;const l=this.getIdToken(e,r,n,s.tenantId);return l&&(o=ao(l.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,i))?null:(a=$p(e,s,o,l==null?void 0:l.secret),a)}getTenantProfilesFromAccountEntity(e,n,s,r){const i=e.getAccountInfo();let a=i.tenantProfiles||new Map;const o=this.getTokenKeys();if(s){const u=a.get(s);if(u)a=new Map([[s,u]]);else return[]}const l=[];return a.forEach(u=>{const h=this.getTenantedAccountInfoByFilter(i,o,u,n,r);h&&l.push(h)}),l}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,s){var r;if(!e)throw J(zT);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(s==null?void 0:s.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(s==null?void 0:s.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(s==null?void 0:s.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(i){throw(r=this.commonLogger)==null||r.error("CacheManager.saveCacheRecord: failed"),i instanceof Xe?i:Gm(i)}}async saveAccessToken(e,n){const s={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Mt.fromString(e.target);r.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,s,!1))return;const o=this.getAccessTokenCredential(a,n);o&&this.credentialMatchesFilter(o,s)&&Mt.fromString(o.target).intersectingScopeSets(i)&&this.removeAccessToken(a,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const s=this.getAccountKeys(),r=[];return s.forEach(i=>{var u;const a=this.getAccount(i,n);if(!a||e.homeAccountId&&!this.matchHomeAccountId(a,e.homeAccountId)||e.username&&!this.matchUsername(a.username,e.username)||e.environment&&!this.matchEnvironment(a,e.environment)||e.realm&&!this.matchRealm(a,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(a,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(a,e.authorityType))return;const o={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},l=(u=a.tenantProfiles)==null?void 0:u.filter(h=>this.tenantProfileMatchesFilter(h,o));l&&l.length===0||r.push(a)}),r}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===qe.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),s={};return n.forEach(r=>{if(!this.isAppMetadata(r))return;const i=this.getAppMetadata(r);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(s[r]=i))}),s}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let s=null;return n.forEach(r=>{if(!this.isAuthorityMetadata(r)||r.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(r);i&&i.aliases.indexOf(e)!==-1&&(s=i)}),s}removeAllAccounts(e){this.getAllAccounts({},e).forEach(s=>{this.removeAccount(s,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const s=this.getAccountKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.filter(r).forEach(i=>{this.removeItem(i,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const s=this.getTokenKeys(),r=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);s.idToken.filter(r).forEach(i=>{this.removeIdToken(i,n)}),s.accessToken.filter(r).forEach(i=>{this.removeAccessToken(i,n)}),s.refreshToken.filter(r).forEach(i=>{this.removeRefreshToken(i,n)})}removeAccessToken(e,n){const s=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!s||s.credentialType.toLowerCase()!==Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||s.tokenType!==qe.POP)return;const r=s.keyId;r&&this.cryptoImpl.removeTokenBindingKey(r).catch(()=>{var i;this.commonLogger.error(`Failed to remove token binding key ${r}`,n),(i=this.performanceClient)==null||i.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(s=>{this.isAppMetadata(s)&&this.removeItem(s,e)}),!0}getIdToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Yt.ID_TOKEN,clientId:this.clientId,realm:r},o=this.getIdTokensByFilter(a,n,s),l=o.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let u=o;if(!r){const h=new Map;o.forEach((f,m)=>{f.realm===e.tenantId&&h.set(m,f)});const d=h.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),o.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),h.values().next().value;u=h}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((h,d)=>{this.removeIdToken(d,n)}),i&&n&&i.addFields({multiMatchedID:o.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),o.values().next().value}getIdTokensByFilter(e,n,s){const r=s&&s.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(a=>{if(!this.idTokenKeyMatchesFilter(a,{clientId:this.clientId,...e}))return;const o=this.getIdTokenCredential(a,n);o&&this.credentialMatchesFilter(o,e)&&i.set(a,o)}),i}idTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,s,r){const i=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",i);const a=Mt.createSearchScopes(n.scopes),o=n.authenticationScheme||qe.BEARER,l=o.toLowerCase()!==qe.BEARER.toLowerCase()?Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME:Yt.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:o,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},h=s&&s.accessToken||this.getTokenKeys().accessToken,d=[];h.forEach(m=>{if(this.accessTokenKeyMatchesFilter(m,u,!0)){const x=this.getAccessTokenCredential(m,i);x&&this.credentialMatchesFilter(x,u)&&d.push(x)}});const f=d.length;return f<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",i),null):f>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",i),d.forEach(m=>{this.removeAccessToken(this.generateCredentialKey(m),i)}),this.performanceClient.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",i),d[0])}accessTokenKeyMatchesFilter(e,n,s){const r=e.toLowerCase();if(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&r.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&r.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const i=n.target.asArray();for(let a=0;a<i.length;a++){if(s&&!r.includes(i[a].toLowerCase()))return!1;if(!s&&r.includes(i[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const s=this.getTokenKeys(),r=[];return s.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const a=this.getAccessTokenCredential(i,n);a&&this.credentialMatchesFilter(a,e)&&r.push(a)}),r}getRefreshToken(e,n,s,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=n?Wu:void 0,o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Yt.REFRESH_TOKEN,clientId:this.clientId,familyId:a},l=r&&r.refreshToken||this.getTokenKeys().refreshToken,u=[];l.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,o)){const f=this.getRefreshTokenCredential(d,s);f&&this.credentialMatchesFilter(f,o)&&u.push(f)}});const h=u.length;return h<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(h>1&&i&&s&&i.addFields({multiMatchedRT:h},s),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}refreshTokenKeyMatchesFilter(e,n){const s=e.toLowerCase();return!(n.familyId&&s.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&s.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&s.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},s=this.getAppMetadataFilteredBy(n),r=Object.keys(s).map(a=>s[a]),i=r.length;if(i<1)return null;if(i>1)throw J(UT);return r[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Wu)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const s=e.oid||e.sub;return n===s}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var s;return n.toLowerCase()===((s=e.name)==null?void 0:s.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const r=AO(this.staticAuthorityOptions,this.commonLogger);if(r.includes(n)&&r.includes(e.environment))return!0}const s=this.getAuthorityMetadataByAlias(n);return!!(s&&s.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var s;return((s=e.realm)==null?void 0:s.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Yt.ACCESS_TOKEN&&e.credentialType!==Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Mt.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Ip)!==-1}isAuthorityMetadata(e){return e.indexOf(ed.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${ed.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const s in n)e[s]=n[s];return e}}class _O extends qm{async setAccount(){throw J(Oe)}getAccount(){throw J(Oe)}async setIdTokenCredential(){throw J(Oe)}getIdTokenCredential(){throw J(Oe)}async setAccessTokenCredential(){throw J(Oe)}getAccessTokenCredential(){throw J(Oe)}async setRefreshTokenCredential(){throw J(Oe)}getRefreshTokenCredential(){throw J(Oe)}setAppMetadata(){throw J(Oe)}getAppMetadata(){throw J(Oe)}setServerTelemetry(){throw J(Oe)}getServerTelemetry(){throw J(Oe)}setAuthorityMetadata(){throw J(Oe)}getAuthorityMetadata(){throw J(Oe)}getAuthorityMetadataKeys(){throw J(Oe)}setThrottlingCache(){throw J(Oe)}getThrottlingCache(){throw J(Oe)}removeItem(){throw J(Oe)}getKeys(){throw J(Oe)}getAccountKeys(){throw J(Oe)}getTokenKeys(){throw J(Oe)}generateCredentialKey(){throw J(Oe)}generateAccountKey(){throw J(Oe)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const bn={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const k={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},NO={InProgress:1};/*! @azure/msal-common v15.12.0 2025-08-19 */class c0{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class dA{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:NO.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new c0}}startPerformanceMeasurement(){return new c0}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const hA={tokenRenewalOffsetSeconds:NT,preventCorsPreflight:!1},kO={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ot.Info,correlationId:V.EMPTY_STRING},RO={claimsBasedCachingEnabled:!1},OO={async sendGetRequestAsync(){throw J(Oe)},async sendPostRequestAsync(){throw J(Oe)}},IO={sku:V.SKU,version:Bp,cpu:V.EMPTY_STRING,os:V.EMPTY_STRING},jO={clientSecret:V.EMPTY_STRING,clientAssertion:void 0},MO={azureCloudInstance:zp.None,tenant:`${V.DEFAULT_COMMON_TENANT}`},PO={application:{appName:"",appVersion:""}};function DO({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:s,storageInterface:r,networkInterface:i,cryptoInterface:a,clientCredentials:o,libraryInfo:l,telemetry:u,serverTelemetryManager:h,persistencePlugin:d,serializableCache:f}){const m={...kO,...n};return{authOptions:UO(t),systemOptions:{...hA,...e},loggerOptions:m,cacheOptions:{...RO,...s},storageInterface:r||new _O(t.clientId,nd,new or(m),new dA),networkInterface:i||OO,cryptoInterface:a||nd,clientCredentials:o||jO,libraryInfo:{...IO,...l},telemetry:{...PO,...u},serverTelemetryManager:h||null,persistencePlugin:d||null,serializableCache:f||null}}function UO(t){return{clientCapabilities:[],azureCloudOptions:MO,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function fA(t){return t.authOptions.authority.options.protocolMode===bn.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const ds={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function ad(t,e){if(!t)throw J(kT);try{const n=e(t);return JSON.parse(n)}catch{throw J(jp)}}function Ia(t){if(!t)throw J(jp);const e=t.split(Ic.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?V.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ui="client_id",mA="redirect_uri",LO="response_type",HO="response_mode",BO="grant_type",zO="claims",VO="scope",FO="refresh_token",GO="state",qO="nonce",KO="prompt",$O="code",YO="code_challenge",QO="code_challenge_method",XO="code_verifier",JO="client-request-id",ZO="x-client-SKU",WO="x-client-VER",eI="x-client-OS",tI="x-client-CPU",nI="x-client-current-telemetry",sI="x-client-last-telemetry",rI="x-ms-lib-capability",iI="x-app-name",aI="x-app-ver",oI="post_logout_redirect_uri",cI="id_token_hint",lI="client_secret",uI="client_assertion",dI="client_assertion_type",gA="token_type",pA="req_cnf",l0="return_spa_code",hI="nativebroker",fI="logout_hint",mI="sid",gI="login_hint",pI="domain_hint",yI="x-client-xtra-sku",od="brk_client_id",cd="brk_redirect_uri",Km="instance_aware",vI="ear_jwk",bI="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function rh(t,e,n){if(!e)return;const s=t.get(Ui);s&&t.has(od)&&(n==null||n.addFields({embeddedClientId:s,embeddedRedirectUri:t.get(mA)},e))}function Xp(t,e){t.set(LO,e)}function xI(t,e){t.set(HO,e||nO.QUERY)}function SI(t){t.set(hI,"1")}function Jp(t,e,n=!0,s=io){n&&!s.includes("openid")&&!e.includes("openid")&&s.push("openid");const r=n?[...e||[],...s]:e||[],i=new Mt(r);t.set(VO,i.printScopes())}function Zp(t,e){t.set(Ui,e)}function Wp(t,e){t.set(mA,e)}function CI(t,e){t.set(oI,e)}function wI(t,e){t.set(cI,e)}function TI(t,e){t.set(pI,e)}function Il(t,e){t.set(gI,e)}function ld(t,e){t.set(on.CCS_HEADER,`UPN:${e}`)}function sc(t,e){t.set(on.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function u0(t,e){t.set(mI,e)}function ey(t,e,n){const s=RI(e,n);try{JSON.parse(s)}catch{throw We(Vp)}t.set(zO,s)}function ty(t,e){t.set(JO,e)}function ny(t,e){t.set(ZO,e.sku),t.set(WO,e.version),e.os&&t.set(eI,e.os),e.cpu&&t.set(tI,e.cpu)}function sy(t,e){e!=null&&e.appName&&t.set(iI,e.appName),e!=null&&e.appVersion&&t.set(aI,e.appVersion)}function AI(t,e){t.set(KO,e)}function yA(t,e){e&&t.set(GO,e)}function EI(t,e){t.set(qO,e)}function vA(t,e,n){if(e&&n)t.set(YO,e),t.set(QO,n);else throw We(Fp)}function _I(t,e){t.set($O,e)}function NI(t,e){t.set(FO,e)}function kI(t,e){t.set(XO,e)}function bA(t,e){t.set(lI,e)}function xA(t,e){e&&t.set(uI,e)}function SA(t,e){e&&t.set(dI,e)}function CA(t,e){t.set(BO,e)}function ry(t){t.set(sO,"1")}function wA(t){t.has(Km)||t.set(Km,"true")}function Kr(t,e){Object.entries(e).forEach(([n,s])=>{!t.has(n)&&s&&t.set(n,s)})}function RI(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw We(Vp)}return e&&e.length>0&&(n.hasOwnProperty(Rl.ACCESS_TOKEN)||(n[Rl.ACCESS_TOKEN]={}),n[Rl.ACCESS_TOKEN][Rl.XMS_CC]={values:e}),JSON.stringify(n)}function iy(t,e){e&&(t.set(gA,qe.POP),t.set(pA,e))}function TA(t,e){e&&(t.set(gA,qe.SSH),t.set(pA,e))}function AA(t,e){t.set(nI,e.generateCurrentRequestHeaderValue()),t.set(sI,e.generateLastRequestHeaderValue())}function EA(t){t.set(rI,nc.X_MS_LIB_CAPABILITY_VALUE)}function OI(t,e){t.set(fI,e)}function ih(t,e,n){t.has(od)||t.set(od,e),t.has(cd)||t.set(cd,n)}function II(t,e){t.set(vI,encodeURIComponent(e)),t.set(bI,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function jI(t,e){Object.entries(e).forEach(([n,s])=>{s&&t.set(n,s)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const as={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function MI(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function PI(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function DI(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const Un=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}try{const o=t(...i);return a==null||a.end({success:!0}),n.trace(`Returning result from ${e}`),o}catch(o){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o}},z=(t,e,n,s,r)=>(...i)=>{n.trace(`Executing function ${e}`);const a=s==null?void 0:s.startMeasurement(e,r);if(r){const o=e+"CallCount";s==null||s.incrementFields({[o]:1},r)}return s==null||s.setPreQueueTime(e,r),t(...i).then(o=>(n.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),o)).catch(o=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(o))}catch{n.trace("Unable to print error message.")}throw a==null||a.end({success:!1},o),o})};/*! @azure/msal-common v15.12.0 2025-08-19 */class ah{constructor(e,n,s,r){this.networkInterface=e,this.logger=n,this.performanceClient=s,this.correlationId=r}async detectRegion(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(k.RegionDiscoveryDetectRegion,this.correlationId);let s=e;if(s)n.region_source=Wi.ENVIRONMENT_VARIABLE;else{const i=ah.IMDS_OPTIONS;try{const a=await z(this.getRegionFromIMDS.bind(this),k.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(V.IMDS_VERSION,i);if(a.status===Pr.SUCCESS&&(s=a.body,n.region_source=Wi.IMDS),a.status===Pr.BAD_REQUEST){const o=await z(this.getCurrentVersion.bind(this),k.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!o)return n.region_source=Wi.FAILED_AUTO_DETECTION,null;const l=await z(this.getRegionFromIMDS.bind(this),k.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(o,i);l.status===Pr.SUCCESS&&(s=l.body,n.region_source=Wi.IMDS)}}catch{return n.region_source=Wi.FAILED_AUTO_DETECTION,null}}return s||(n.region_source=Wi.FAILED_AUTO_DETECTION),s||null}async getRegionFromIMDS(e,n){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(k.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${V.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,V.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(k.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const s=await this.networkInterface.sendGetRequestAsync(`${V.IMDS_ENDPOINT}?format=json`,e);return s.status===Pr.BAD_REQUEST&&s.body&&s.body["newest-versions"]&&s.body["newest-versions"].length>0?s.body["newest-versions"][0]:null}catch{return null}}}ah.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function Sn(){return Math.round(new Date().getTime()/1e3)}function d0(t){return t.getTime()/1e3}function ja(t){return t?new Date(Number(t)*1e3):new Date}function ud(t,e){const n=Number(t)||0;return Sn()+e>n}function UI(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function LI(t){return Number(t)>Sn()}/*! @azure/msal-common v15.12.0 2025-08-19 */function oh(t,e,n,s,r){return{credentialType:Yt.ID_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,realm:r,lastUpdatedAt:Date.now().toString()}}function ch(t,e,n,s,r,i,a,o,l,u,h,d,f,m,x){var C,y;const b={homeAccountId:t,credentialType:Yt.ACCESS_TOKEN,secret:n,cachedAt:Sn().toString(),expiresOn:a.toString(),extendedExpiresOn:o.toString(),environment:e,clientId:s,realm:r,target:i,tokenType:h||qe.BEARER,lastUpdatedAt:Date.now().toString()};if(d&&(b.userAssertionHash=d),u&&(b.refreshOn=u.toString()),m&&(b.requestedClaims=m,b.requestedClaimsHash=x),((C=b.tokenType)==null?void 0:C.toLowerCase())!==qe.BEARER.toLowerCase())switch(b.credentialType=Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case qe.POP:const p=ao(n,l);if(!((y=p==null?void 0:p.cnf)!=null&&y.kid))throw J(VT);b.keyId=p.cnf.kid;break;case qe.SSH:b.keyId=f}return b}function _A(t,e,n,s,r,i,a){const o={credentialType:Yt.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:s,secret:n,lastUpdatedAt:Date.now().toString()};return i&&(o.userAssertionHash=i),r&&(o.familyId=r),a&&(o.expiresOn=a.toString()),o}function ay(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function h0(t){return t?ay(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Yt.ACCESS_TOKEN||t.credentialType===Yt.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function HI(t){return t?ay(t)&&t.hasOwnProperty("realm")&&t.credentialType===Yt.ID_TOKEN:!1}function f0(t){return t?ay(t)&&t.credentialType===Yt.REFRESH_TOKEN:!1}function BI(t,e){const n=t.indexOf(qt.CACHE_KEY)===0;let s=!0;return e&&(s=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&s}function zI(t,e){let n=!1;t&&(n=t.indexOf(nc.THROTTLING_PREFIX)===0);let s=!0;return e&&(s=e.hasOwnProperty("throttleTime")),n&&s}function VI({environment:t,clientId:e}){return[Ip,t,e].join(Ic.CACHE_KEY_SEPARATOR).toLowerCase()}function FI(t,e){return e?t.indexOf(Ip)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function GI(t,e){return e?t.indexOf(ed.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function m0(){return Sn()+ed.REFRESH_TIME_SECONDS}function jl(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function yf(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function g0(t){return t.expiresAt<=Sn()}/*! @azure/msal-common v15.12.0 2025-08-19 */class Wt{constructor(e,n,s,r,i,a,o,l){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=s,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=o,this.correlationId=a,this.managedIdentity=l||!1,this.regionDiscovery=new ah(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(V.CIAM_AUTH_URL))return as.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case V.ADFS:return as.Adfs;case V.DSTS:return as.Dsts}return as.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new He(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw J(Fs)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw J(Fs)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw J(Fs)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw J(qT);return this.replacePath(this.metadata.end_session_endpoint)}else throw J(Fs)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw J(Fs)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw J(Fs)}canReplaceTenant(e){return e.PathSegments.length===1&&!Wt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===as.Default&&this.protocolMode!==bn.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const r=new He(this.metadata.canonical_authority).getUrlComponents(),i=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((o,l)=>{let u=i[l];if(l===0&&this.canReplaceTenant(r)){const h=new He(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];u!==h&&(this.logger.verbose(`Replacing tenant domain name ${u} with id ${h}`),u=h)}o!==u&&(n=n.replace(`/${u}/`,`/${o}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===as.Adfs||this.protocolMode===bn.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(k.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await z(this.updateCloudDiscoveryMetadata.bind(this),k.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const s=await z(this.updateEndpointMetadata.bind(this),k.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:s}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:n,authorityEndpointSource:s},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:m0(),jwks_uri:""}),e}updateCachedMetadata(e,n,s){n!==kn.CACHE&&(s==null?void 0:s.source)!==kn.CACHE&&(e.expiresAt=m0(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){var r,i,a;(r=this.performanceClient)==null||r.addQueueMeasurement(k.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===kn.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&n.metadata){const o=await z(this.updateMetadataWithRegionalInformation.bind(this),k.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);jl(e,o,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let s=await z(this.getEndpointMetadataFromNetwork.bind(this),k.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(s=await z(this.updateMetadataWithRegionalInformation.bind(this),k.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(s)),jl(e,s,!0),kn.NETWORK;throw J(IT,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),jl(e,n,!1),{source:kn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const r=this.getEndpointMetadataFromHardcodedValues();if(r)return jl(e,r,!1),{source:kn.HARDCODED_VALUES,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const s=g0(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!s?(this.logger.verbose("Found endpoint metadata in the cache."),{source:kn.CACHE}):(s&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new He(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw We(WT)}return null}async getEndpointMetadataFromNetwork(){var s;(s=this.performanceClient)==null||s.addQueueMeasurement(k.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const r=await this.networkInterface.sendGetRequestAsync(n,e);return MI(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in a0?a0[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(k.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(r=this.authorityOptions.azureRegionConfiguration)==null?void 0:r.azureRegion;if(n){if(n!==V.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=gf.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Wt.replaceWithRegionalInformation(e,n);const a=await z(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),k.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=gf.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,Wt.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=gf.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(k.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const s=await z(this.getCloudDiscoveryMetadataFromNetwork.bind(this),k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(s)return yf(e,s,!0),kn.NETWORK;throw We(eA)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||V.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||V.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||V.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),yf(e,n,!1),kn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const r=EO(this.hostnameAndPort);if(r)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),yf(e,r,!1),kn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const s=g0(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!s?(this.logger.verbose("Found cloud discovery metadata in the cache."),kn.CACHE):(s&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===as.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Wt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=rd(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),We(Gp)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Wt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(k.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${V.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let s=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,n);let a,o;if(PI(i.body))a=i.body,o=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(DI(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),a=i.body,a.error===V.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),s=rd(o,this.hostnameAndPort)}catch(i){if(i instanceof Xe)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const a=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return s||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),s=Wt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),s}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&He.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let s;if(n&&n.azureCloudInstance!==zp.None){const r=n.tenant?n.tenant:V.DEFAULT_COMMON_TENANT;s=`${n.azureCloudInstance}/${r}/`}return s||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return V.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw J(Fs)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return uA.has(e)}static isPublicCloudAuthority(e){return V.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,s){const r=new He(e);r.validateAsUri();const i=r.getUrlComponents();let a=`${n}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(a=`${n}.${V.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const o=He.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return s?`${o}?${s}`:o}static replaceWithRegionalInformation(e,n){const s={...e};return s.authorization_endpoint=Wt.buildRegionalAuthorityString(s.authorization_endpoint,n),s.token_endpoint=Wt.buildRegionalAuthorityString(s.token_endpoint,n),s.end_session_endpoint&&(s.end_session_endpoint=Wt.buildRegionalAuthorityString(s.end_session_endpoint,n)),s}static transformCIAMAuthority(e){let n=e;const r=new He(e).getUrlComponents();if(r.PathSegments.length===0&&r.HostNameAndPort.endsWith(V.CIAM_AUTH_URL)){const i=r.HostNameAndPort.split(".")[0];n=`${n}${i}${V.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Wt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Gr.COMMON,Gr.CONSUMERS,Gr.ORGANIZATIONS]);function qI(t){var r;const s=(r=new He(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:r.toLowerCase();switch(s){case Gr.COMMON:case Gr.ORGANIZATIONS:case Gr.CONSUMERS:return;default:return s}}function NA(t){return t.endsWith(V.FORWARD_SLASH)?t:`${t}${V.FORWARD_SLASH}`}function KI(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw We(Gp)}return{canonicalAuthority:t.authority?NA(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function kA(t,e,n,s,r,i,a){a==null||a.addQueueMeasurement(k.AuthorityFactoryCreateDiscoveredInstance,i);const o=Wt.transformCIAMAuthority(NA(t)),l=new Wt(o,e,n,s,r,i,a);try{return await z(l.resolveEndpointsAsync.bind(l),k.AuthorityResolveEndpointsAsync,r,a,i)(),l}catch{throw J(Fs)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class $i extends Xe{constructor(e,n,s,r,i){super(e,n,s),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,$i.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function lh(t,e,n){var s;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((s=e.tokenBodyParameters)==null?void 0:s.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class As{static generateThrottlingStorageKey(e){return`${nc.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,s){var a;const r=As.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r,s);return}throw new $i(((a=i.errorCodes)==null?void 0:a.join(" "))||V.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,s,r){if(As.checkResponseStatus(s)||As.checkResponseForRetryAfter(s)){const i={throttleTime:As.calculateThrottleTime(parseInt(s.headers[on.RETRY_AFTER])),error:s.body.error,errorCodes:s.body.error_codes,errorMessage:s.body.error_description,subError:s.body.suberror};e.setThrottlingCache(As.generateThrottlingStorageKey(n),i,r)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(on.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,s=Date.now()/1e3;return Math.floor(Math.min(s+(n||nc.DEFAULT_THROTTLE_TIME_SECONDS),s+nc.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,s,r){const i=lh(n,s,r),a=this.generateThrottlingStorageKey(i);e.removeItem(a,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class uh extends Xe{constructor(e,n,s){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,uh.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=s}}function Lo(t,e,n,s){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${s==null?void 0:s.name}, error.message:${s==null?void 0:s.message}`,new uh(t,e,n)}/*! @azure/msal-common v15.12.0 2025-08-19 */class oy{constructor(e,n){this.config=DO(e),this.logger=new or(this.config.loggerOptions,KT,Bp),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[on.CONTENT_TYPE]=V.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case ds.HOME_ACCOUNT_ID:try{const s=Ia(e.credential);n[on.CCS_HEADER]=`Oid:${s.uid}@${s.utid}`}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case ds.UPN:n[on.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,s,r,i,a){var l;a&&((l=this.performanceClient)==null||l.addQueueMeasurement(a,i));const o=await this.sendPostRequest(r,e,{body:n,headers:s},i);return this.config.serverTelemetryManager&&o.status<500&&o.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),o}async sendPostRequest(e,n,s,r){var a,o,l;As.preProcess(this.cacheManager,e,r);let i;try{i=await z(this.networkClient.sendPostRequestAsync.bind(this.networkClient),k.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,r)(n,s);const u=i.headers||{};(o=this.performanceClient)==null||o.addFields({refreshTokenSize:((a=i.body.refresh_token)==null?void 0:a.length)||0,httpVerToken:u[on.X_MS_HTTP_VERSION]||"",requestId:u[on.X_MS_REQUEST_ID]||""},r)}catch(u){if(u instanceof uh){const h=u.responseHeaders;throw h&&((l=this.performanceClient)==null||l.addFields({httpVerToken:h[on.X_MS_HTTP_VERSION]||"",requestId:h[on.X_MS_REQUEST_ID]||"",contentTypeHeader:h[on.CONTENT_TYPE]||void 0,contentLengthHeader:h[on.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},r)),u.error}throw u instanceof Xe?u:J(OT)}return As.postProcess(this.cacheManager,e,i,r),i}async updateAuthority(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(k.UpdateTokenEndpointAuthority,n);const s=`https://${e}/${this.authority.tenant}/`,r=await kA(s,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&ih(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Kr(n,e.tokenQueryParameters),ty(n,e.correlationId),rh(n,e.correlationId,this.performanceClient),jc(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function RA(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class ms{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,s){var u,h,d,f,m,x,b;const r=new ms;n.authorityType===as.Adfs?r.authorityType=Ol.ADFS_ACCOUNT_TYPE:n.protocolMode===bn.OIDC?r.authorityType=Ol.GENERIC_ACCOUNT_TYPE:r.authorityType=Ol.MSSTS_ACCOUNT_TYPE;let i;e.clientInfo&&s&&(i=ad(e.clientInfo,s)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const a=e.environment||n&&n.getPreferredCache();if(!a)throw J(Up);r.environment=a,r.realm=(i==null?void 0:i.utid)||RA(e.idTokenClaims)||"",r.localAccountId=(i==null?void 0:i.uid)||((u=e.idTokenClaims)==null?void 0:u.oid)||((h=e.idTokenClaims)==null?void 0:h.sub)||"";const o=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),l=(m=e.idTokenClaims)!=null&&m.emails?e.idTokenClaims.emails[0]:null;if(r.username=o||l||"",r.loginHint=(x=e.idTokenClaims)==null?void 0:x.login_hint,r.name=((b=e.idTokenClaims)==null?void 0:b.name)||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const C=Kp(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[C]}return r}static createFromAccountInfo(e,n,s){var i;const r=new ms;return r.authorityType=e.authorityType||Ol.GENERIC_ACCOUNT_TYPE,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.loginHint=e.loginHint,r.cloudGraphHostName=n,r.msGraphHost=s,r.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),r}static generateHomeAccountId(e,n,s,r,i){if(!(n===as.Adfs||n===as.Dsts)){if(e)try{const a=ad(e,r.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}s.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,s){if(!e||!n)return!1;let r=!0;if(s){const i=e.idTokenClaims||{},a=n.idTokenClaims||{};r=i.iat===a.iat&&i.nonce===a.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&r}}/*! @azure/msal-common v15.12.0 2025-08-19 */const dd="no_tokens_found",OA="native_account_unavailable",cy="refresh_token_expired",ly="ux_not_allowed",$I="interaction_required",YI="consent_required",QI="login_required",dh="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const p0=[$I,YI,QI,dh,ly],XI=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],JI={[dd]:"No refresh token found in the cache. Please sign-in.",[OA]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[cy]:"Refresh token has expired.",[dh]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[ly]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class gs extends Xe{constructor(e,n,s,r,i,a,o,l){super(e,n,s),Object.setPrototypeOf(this,gs.prototype),this.timestamp=r||V.EMPTY_STRING,this.traceId=i||V.EMPTY_STRING,this.correlationId=a||V.EMPTY_STRING,this.claims=o||V.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function IA(t,e,n){const s=!!t&&p0.indexOf(t)>-1,r=!!n&&XI.indexOf(n)>-1,i=!!e&&p0.some(a=>e.indexOf(a)>-1);return s||i||r}function hd(t){return new gs(t,JI[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class oo{static setRequestState(e,n,s){const r=oo.generateLibraryState(e,s);return n?`${r}${V.RESOURCE_DELIM}${n}`:r}static generateLibraryState(e,n){if(!e)throw J(Fm);const s={id:e.createNewGuid()};n&&(s.meta=n);const r=JSON.stringify(s);return e.base64Encode(r)}static parseRequestState(e,n){if(!e)throw J(Fm);if(!n)throw J(Ka);try{const s=n.split(V.RESOURCE_DELIM),r=s[0],i=s.length>1?s.slice(1).join(V.RESOURCE_DELIM):V.EMPTY_STRING,a=e.base64Decode(r),o=JSON.parse(a);return{userRequestState:i||V.EMPTY_STRING,libraryState:o}}catch{throw J(Ka)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const ZI={SW:"sw"};class $a{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(k.PopTokenGenerateCnf,e.correlationId);const s=await z(this.generateKid.bind(this),k.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(s));return{kid:s.kid,reqCnfString:r}}async generateKid(e){var s;return(s=this.performanceClient)==null||s.addQueueMeasurement(k.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:ZI.SW}}async signPopToken(e,n,s){return this.signPayload(e,n,s)}async signPayload(e,n,s,r){const{resourceRequestMethod:i,resourceRequestUri:a,shrClaims:o,shrNonce:l,shrOptions:u}=s,h=a?new He(a):void 0,d=h==null?void 0:h.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Sn(),m:i==null?void 0:i.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:o||void 0,...r},n,u,s.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class WI{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Li{constructor(e,n,s,r,i,a,o){this.clientId=e,this.cacheStorage=n,this.cryptoObj=s,this.logger=r,this.serializableCache=i,this.persistencePlugin=a,this.performanceClient=o}validateTokenResponse(e,n){var s;if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||V.NOT_AVAILABLE} - Timestamp: ${e.timestamp||V.NOT_AVAILABLE} - Description: ${e.error_description||V.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||V.NOT_AVAILABLE} - Trace ID: ${e.trace_id||V.NOT_AVAILABLE}`,i=(s=e.error_codes)!=null&&s.length?e.error_codes[0]:void 0,a=new $i(e.error,r,e.suberror,i,e.status);if(n&&e.status&&e.status>=Pr.SERVER_ERROR_RANGE_START&&e.status<=Pr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(n&&e.status&&e.status>=Pr.CLIENT_ERROR_RANGE_START&&e.status<=Pr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw IA(e.error,e.error_description,e.suberror)?new gs(e.error,e.error_description,e.suberror,e.timestamp||V.EMPTY_STRING,e.trace_id||V.EMPTY_STRING,e.correlation_id||V.EMPTY_STRING,e.claims||V.EMPTY_STRING,i):a}}async handleServerTokenResponse(e,n,s,r,i,a,o,l,u){var x;(x=this.performanceClient)==null||x.addQueueMeasurement(k.HandleServerTokenResponse,e.correlation_id);let h;if(e.id_token){if(h=ao(e.id_token||V.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&h.nonce!==i.nonce)throw J(PT);if(r.maxAge||r.maxAge===0){const b=h.auth_time;if(!b)throw J(Pp);oA(b,r.maxAge)}}this.homeAccountIdentifier=ms.generateHomeAccountId(e.client_info||V.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,h);let d;i&&i.state&&(d=oo.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const f=this.generateCacheRecord(e,n,s,r,h,a,i);let m;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new WI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(m)),o&&!l&&f.account){const b=this.cacheStorage.generateAccountKey(f.account.getAccountInfo());if(!this.cacheStorage.getAccount(b,r.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Li.generateAuthenticationResult(this.cryptoObj,n,f,!1,r,h,d,void 0,u)}await this.cacheStorage.saveCacheRecord(f,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&m&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(m))}return Li.generateAuthenticationResult(this.cryptoObj,n,f,!1,r,h,d,e,u)}generateCacheRecord(e,n,s,r,i,a,o){const l=n.getPreferredCache();if(!l)throw J(Up);const u=RA(i);let h,d;e.id_token&&i&&(h=oh(this.homeAccountIdentifier,l,e.id_token,this.clientId,u||""),d=uy(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,r.correlationId,i,e.client_info,l,u,o,void 0,this.logger));let f=null;if(e.access_token){const b=e.scope?Mt.fromString(e.scope):new Mt(r.scopes||[]),C=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,y=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,p=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,g=s+C,v=g+y,w=p&&p>0?s+p:void 0;f=ch(this.homeAccountIdentifier,l,e.access_token,this.clientId,u||n.tenant||"",b.printScopes(),g,v,this.cryptoObj.base64Decode,w,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let m=null;if(e.refresh_token){let b;if(e.refresh_token_expires_in){const C=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;b=s+C}m=_A(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,a,b)}let x=null;return e.foci&&(x={clientId:this.clientId,environment:l,familyId:e.foci}),{account:d,idToken:h,accessToken:f,refreshToken:m,appMetadata:x}}static async generateAuthenticationResult(e,n,s,r,i,a,o,l,u){var g,v,w,E,T;let h=V.EMPTY_STRING,d=[],f=null,m,x,b=V.EMPTY_STRING;if(s.accessToken){if(s.accessToken.tokenType===qe.POP&&!i.popKid){const A=new $a(e),{secret:_,keyId:R}=s.accessToken;if(!R)throw J(Lp);h=await A.signPopToken(_,R,i)}else h=s.accessToken.secret;d=Mt.fromString(s.accessToken.target).asArray(),f=ja(s.accessToken.expiresOn),m=ja(s.accessToken.extendedExpiresOn),s.accessToken.refreshOn&&(x=ja(s.accessToken.refreshOn))}s.appMetadata&&(b=s.appMetadata.familyId===Wu?Wu:"");const C=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",y=(a==null?void 0:a.tid)||"";l!=null&&l.spa_accountid&&s.account&&(s.account.nativeAccountId=l==null?void 0:l.spa_accountid);const p=s.account?$p(s.account.getAccountInfo(),void 0,a,(g=s.idToken)==null?void 0:g.secret):null;return{authority:n.canonicalAuthority,uniqueId:C,tenantId:y,scopes:d,account:p,idToken:((v=s==null?void 0:s.idToken)==null?void 0:v.secret)||"",idTokenClaims:a||{},accessToken:h,fromCache:r,expiresOn:f,extExpiresOn:m,refreshOn:x,correlationId:i.correlationId,requestId:u||V.EMPTY_STRING,familyId:b,tokenType:((w=s.accessToken)==null?void 0:w.tokenType)||V.EMPTY_STRING,state:o?o.userRequestState:V.EMPTY_STRING,cloudGraphHostName:((E=s.account)==null?void 0:E.cloudGraphHostName)||V.EMPTY_STRING,msGraphHost:((T=s.account)==null?void 0:T.msGraphHost)||V.EMPTY_STRING,code:l==null?void 0:l.spa_code,fromNativeBroker:!1}}}function uy(t,e,n,s,r,i,a,o,l,u,h,d){d==null||d.verbose("setCachedAccount called");const m=t.getAccountKeys().find(p=>p.startsWith(n));let x=null;m&&(x=t.getAccount(m,r));const b=x||ms.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:a,environment:o,cloudGraphHostName:u==null?void 0:u.cloud_graph_host_name,msGraphHost:u==null?void 0:u.msgraph_host,nativeAccountId:h},e,s),C=b.tenantProfiles||[],y=l||b.realm;if(y&&!C.find(p=>p.tenantId===y)){const p=Kp(n,b.localAccountId,y,i);C.push(p)}return b.tenantProfiles=C,b}/*! @azure/msal-common v15.12.0 2025-08-19 */async function jA(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.12.0 2025-08-19 */class MA extends oy{constructor(e,n){var s;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes}async acquireToken(e,n){var o,l;if((o=this.performanceClient)==null||o.addQueueMeasurement(k.AuthClientAcquireToken,e.correlationId),!e.code)throw J(LT);const s=Sn(),r=await z(this.executeTokenRequest.bind(this),k.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(l=r.headers)==null?void 0:l[on.X_MS_REQUEST_ID],a=new Li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),z(a.handleServerTokenResponse.bind(a),k.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,s,e,n,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw We(ZT);const n=this.createLogoutUrlQueryString(e);return He.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var u;(u=this.performanceClient)==null||u.addQueueMeasurement(k.AuthClientExecuteTokenRequest,n.correlationId);const s=this.createTokenQueryParameters(n),r=He.appendQueryString(e.tokenEndpoint,s),i=await z(this.createTokenRequestBody.bind(this),k.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let a;if(n.clientInfo)try{const h=ad(n.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${h.uid}${Ic.CLIENT_INFO_SEPARATOR}${h.utid}`,type:ds.HOME_ACCOUNT_ID}}catch(h){this.logger.verbose("Could not parse client info for CCS Header: "+h)}const o=this.createTokenRequestHeaders(a||n.ccsCredential),l=lh(this.config.authOptions.clientId,n);return z(this.executePostToTokenEndpoint.bind(this),k.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(r,i,o,l,n.correlationId,k.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,i;(r=this.performanceClient)==null||r.addQueueMeasurement(k.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Zp(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Ui])||this.config.authOptions.clientId),this.includeRedirectUri)Wp(n,e.redirectUri);else if(!e.redirectUri)throw We($T);if(Jp(n,e.scopes,!0,this.oidcDefaultScopes),_I(n,e.code),ny(n,this.config.libraryInfo),sy(n,this.config.telemetry.application),EA(n),this.serverTelemetryManager&&!fA(this.config)&&AA(n,this.serverTelemetryManager),e.codeVerifier&&kI(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&bA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;xA(n,await jA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),SA(n,a.assertionType)}if(CA(n,_T.AUTHORIZATION_CODE_GRANT),ry(n),e.authenticationScheme===qe.POP){const a=new $a(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await z(a.generateCnf.bind(a),k.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,iy(n,o)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)TA(n,e.sshJwk);else throw We(sh);(!Dn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ey(n,e.claims,this.config.authOptions.clientCapabilities);let s;if(e.clientInfo)try{const a=ad(e.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${a.uid}${Ic.CLIENT_INFO_SEPARATOR}${a.utid}`,type:ds.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else s=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&s)switch(s.type){case ds.HOME_ACCOUNT_ID:try{const a=Ia(s.credential);sc(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ds.UPN:ld(n,s.credential);break}return e.embeddedClientId&&ih(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Kr(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[l0])&&Kr(n,{[l0]:"1"}),rh(n,e.correlationId,this.performanceClient),jc(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&CI(n,e.postLogoutRedirectUri),e.correlationId&&ty(n,e.correlationId),e.idTokenHint&&wI(n,e.idTokenHint),e.state&&yA(n,e.state),e.logoutHint&&OI(n,e.logoutHint),e.extraQueryParameters&&Kr(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&wA(n),jc(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const ej=300;class tj extends oy{constructor(e,n){super(e,n)}async acquireToken(e){var a,o;(a=this.performanceClient)==null||a.addQueueMeasurement(k.RefreshTokenClientAcquireToken,e.correlationId);const n=Sn(),s=await z(this.executeTokenRequest.bind(this),k.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=(o=s.headers)==null?void 0:o[on.X_MS_REQUEST_ID],i=new Li(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(s.body),z(i.handleServerTokenResponse.bind(i),k.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){var s;if(!e)throw We(JT);if((s=this.performanceClient)==null||s.addQueueMeasurement(k.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw J(Dp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await z(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const i=r instanceof gs&&r.errorCode===dd,a=r instanceof $i&&r.errorCode===e0.INVALID_GRANT_ERROR&&r.subError===e0.CLIENT_MISMATCH_ERROR;if(i||a)return z(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return z(this.acquireTokenWithCachedRefreshToken.bind(this),k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var i,a,o;(i=this.performanceClient)==null||i.addQueueMeasurement(k.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const s=Un(this.cacheManager.getRefreshToken.bind(this.cacheManager),k.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!s)throw hd(dd);if(s.expiresOn&&ud(s.expiresOn,e.refreshTokenExpirationOffsetSeconds||ej))throw(a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),hd(cy);const r={...e,refreshToken:s.secret,authenticationScheme:e.authenticationScheme||qe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:ds.HOME_ACCOUNT_ID}};try{return await z(this.acquireToken.bind(this),k.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(l){if(l instanceof gs&&((o=this.performanceClient)==null||o.addFields({rtExpiresOnMs:Number(s.expiresOn)},e.correlationId),l.subError===dh)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=this.cacheManager.generateCredentialKey(s);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw l}}async executeTokenRequest(e,n){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(k.RefreshTokenClientExecuteTokenRequest,e.correlationId);const s=this.createTokenQueryParameters(e),r=He.appendQueryString(n.tokenEndpoint,s),i=await z(this.createTokenRequestBody.bind(this),k.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),o=lh(this.config.authOptions.clientId,e);return z(this.executePostToTokenEndpoint.bind(this),k.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,i,a,o,e.correlationId,k.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var s,r,i;(s=this.performanceClient)==null||s.addQueueMeasurement(k.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Zp(n,e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r[Ui])||this.config.authOptions.clientId),e.redirectUri&&Wp(n,e.redirectUri),Jp(n,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),CA(n,_T.REFRESH_TOKEN_GRANT),ry(n),ny(n,this.config.libraryInfo),sy(n,this.config.telemetry.application),EA(n),this.serverTelemetryManager&&!fA(this.config)&&AA(n,this.serverTelemetryManager),NI(n,e.refreshToken),this.config.clientCredentials.clientSecret&&bA(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;xA(n,await jA(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),SA(n,a.assertionType)}if(e.authenticationScheme===qe.POP){const a=new $a(this.cryptoUtils,this.performanceClient);let o;e.popKid?o=this.cryptoUtils.encodeKid(e.popKid):o=(await z(a.generateCnf.bind(a),k.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,iy(n,o)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)TA(n,e.sshJwk);else throw We(sh);if((!Dn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ey(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case ds.HOME_ACCOUNT_ID:try{const a=Ia(e.ccsCredential.credential);sc(n,a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case ds.UPN:ld(n,e.ccsCredential.credential);break}return e.embeddedClientId&&ih(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Kr(n,e.tokenBodyParameters),rh(n,e.correlationId,this.performanceClient),jc(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class nj extends oy{constructor(e,n){super(e,n)}async acquireCachedToken(e){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(k.SilentFlowClientAcquireCachedToken,e.correlationId);let n=gi.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Dn.isEmptyObj(e.claims))throw this.setCacheOutcome(gi.FORCE_REFRESH_OR_CLAIMS,e.correlationId),J(qr);if(!e.account)throw J(Dp);const s=e.account.tenantId||qI(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,s);if(i){if(LI(i.cachedAt)||ud(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(gi.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),J(qr);i.refreshOn&&ud(i.refreshOn,0)&&(n=gi.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(gi.NO_CACHED_ACCESS_TOKEN,e.correlationId),J(qr);const a=e.authority||this.authority.getPreferredCache(),o={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,r,s,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await z(this.generateResultFromCacheRecord.bind(this),k.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(o,e),n]}setCacheOutcome(e,n){var s,r;(s=this.serverTelemetryManager)==null||s.setCacheOutcome(e),(r=this.performanceClient)==null||r.addFields({cacheOutcome:e},n),e!==gi.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(k.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let s;if(e.idToken&&(s=ao(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const i=s==null?void 0:s.auth_time;if(!i)throw J(Pp);oA(i,n.maxAge)}return Li.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,s)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const sj={sendGetRequestAsync:()=>Promise.reject(J(Oe)),sendPostRequestAsync:()=>Promise.reject(J(Oe))};/*! @azure/msal-common v15.12.0 2025-08-19 */function rj(t,e,n,s){var o,l;const r=e.correlationId,i=new Map;Zp(i,e.embeddedClientId||((o=e.extraQueryParameters)==null?void 0:o[Ui])||t.clientId);const a=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Jp(i,a,!0,(l=t.authority.options.OIDCOptions)==null?void 0:l.defaultScopes),Wp(i,e.redirectUri),ty(i,r),xI(i,e.responseMode),ry(i),e.prompt&&(AI(i,e.prompt),s==null||s.addFields({prompt:e.prompt},r)),e.domainHint&&(TI(i,e.domainHint),s==null||s.addFields({domainHintFromRequest:!0},r)),e.prompt!==un.SELECT_ACCOUNT)if(e.sid&&e.prompt===un.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),u0(i,e.sid),s==null||s.addFields({sidFromRequest:!0},r);else if(e.account){const u=oj(e.account);let h=cj(e.account);if(h&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),h=null),h){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Il(i,h),s==null||s.addFields({loginHintFromClaim:!0},r);try{const d=Ia(e.account.homeAccountId);sc(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(u&&e.prompt===un.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),u0(i,u),s==null||s.addFields({sidFromClaim:!0},r);try{const d=Ia(e.account.homeAccountId);sc(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Il(i,e.loginHint),ld(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Il(i,e.account.username),s==null||s.addFields({loginHintFromUpn:!0},r);try{const d=Ia(e.account.homeAccountId);sc(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Il(i,e.loginHint),ld(i,e.loginHint),s==null||s.addFields({loginHintFromRequest:!0},r));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&EI(i,e.nonce),e.state&&yA(i,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&ey(i,e.claims,t.clientCapabilities),e.embeddedClientId&&ih(i,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Km))&&wA(i),i}function dy(t,e,n,s){const r=jc(e,n,s);return He.appendQueryString(t.authorizationEndpoint,r)}function ij(t,e){if(PA(t,e),!t.code)throw J(FT);return t}function PA(t,e){if(!t.state||!e)throw t.state?J(Bm,"Cached State"):J(Bm,"Server State");let n,s;try{n=decodeURIComponent(t.state)}catch{throw J(Ka,t.state)}try{s=decodeURIComponent(e)}catch{throw J(Ka,t.state)}if(n!==s)throw J(MT);if(t.error||t.error_description||t.suberror){const r=aj(t);throw IA(t.error,t.error_description,t.suberror)?new gs(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",r):new $i(t.error||"",t.error_description,t.suberror,r)}}function aj(t){var s,r;const e="code=",n=(s=t.error_uri)==null?void 0:s.lastIndexOf(e);return n&&n>=0?(r=t.error_uri)==null?void 0:r.substring(n+e.length):void 0}function oj(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function cj(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const y0=",",DA="|";function lj(t){const{skus:e,libraryName:n,libraryVersion:s,extensionName:r,extensionVersion:i}=t,a=new Map([[0,[n,s]],[2,[r,i]]]);let o=[];if(e!=null&&e.length){if(o=e.split(y0),o.length<4)return e}else o=Array.from({length:4},()=>DA);return a.forEach((l,u)=>{var h,d;l.length===2&&((h=l[0])!=null&&h.length)&&((d=l[1])!=null&&d.length)&&uj({skuArr:o,index:u,skuName:l[0],skuVersion:l[1]})}),o.join(y0)}function uj(t){const{skuArr:e,index:n,skuName:s,skuVersion:r}=t;n>=e.length||(e[n]=[s,r].join(DA))}class Mc{constructor(e,n){this.cacheOutcome=gi.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||V.EMPTY_STRING,this.wrapperVer=e.wrapperVer||V.EMPTY_STRING,this.telemetryCacheKey=qt.CACHE_KEY+Ic.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${qt.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],s=this.getNativeBrokerErrorCode();s!=null&&s.length&&n.push(`broker_error=${s}`);const r=n.join(qt.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),a=[e,i].join(qt.VALUE_SEPARATOR);return[qt.SCHEMA_VERSION,a,r].join(qt.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Mc.maxErrorsToSend(e),s=e.failedRequests.slice(0,2*n).join(qt.VALUE_SEPARATOR),r=e.errors.slice(0,n).join(qt.VALUE_SEPARATOR),i=e.errors.length,a=n<i?qt.OVERFLOW_TRUE:qt.OVERFLOW_FALSE,o=[i,a].join(qt.VALUE_SEPARATOR);return[qt.SCHEMA_VERSION,e.cacheHits,s,r,o].join(qt.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=qt.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Xe?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(qt.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Mc.maxErrorsToSend(e),s=e.errors.length;if(n===s)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const r={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let n,s=0,r=0;const i=e.errors.length;for(n=0;n<i;n++){const a=e.failedRequests[2*n]||V.EMPTY_STRING,o=e.failedRequests[2*n+1]||V.EMPTY_STRING,l=e.errors[n]||V.EMPTY_STRING;if(r+=a.toString().length+o.toString().length+l.length+3,r<qt.MAX_LAST_HEADER_BYTES)s+=1;else break}return s}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||V.EMPTY_STRING),e.push(this.regionSource||V.EMPTY_STRING),e.push(this.regionOutcome||V.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return lj(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const UA="missing_kid_error",LA="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const dj={[UA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[LA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class hy extends Xe{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,hy.prototype)}}function v0(t){return new hy(t,dj[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class fy{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw v0(UA);if(!e.alg)throw v0(LA);const n=new fy({typ:e.typ||rO.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const my="pkce_not_created",gy="ear_jwk_empty",HA="ear_jwe_empty",$m="crypto_nonexistent",hh="empty_navigate_uri",BA="hash_empty_error",py="no_state_in_hash",zA="hash_does_not_contain_known_properties",VA="unable_to_parse_state",FA="state_interaction_type_mismatch",GA="interaction_in_progress",qA="popup_window_error",KA="empty_window_error",Pc="user_cancelled",hj="monitor_popup_timeout",$A="monitor_window_timeout",YA="redirect_in_iframe",QA="block_iframe_reload",XA="block_nested_popups",fj="iframe_closed_prematurely",fh="silent_logout_unsupported",JA="no_account_error",mj="silent_prompt_value_error",ZA="no_token_request_cache_error",WA="unable_to_parse_token_request_cache_error",gj="auth_request_not_set_error",pj="invalid_cache_type",mh="non_browser_environment",ia="database_not_open",fd="no_network_connectivity",eE="post_request_failed",tE="get_request_failed",Ym="failed_to_parse_response",nE="unable_to_load_token",yy="crypto_key_not_found",sE="auth_code_required",rE="auth_code_or_nativeAccountId_required",iE="spa_code_and_nativeAccountId_present",vy="database_unavailable",aE="unable_to_acquire_token_from_native_platform",oE="native_handshake_timeout",cE="native_extension_not_installed",by="native_connection_not_established",rc="uninitialized_public_client_application",lE="native_prompt_not_supported",uE="invalid_base64_string",dE="invalid_pop_token_request",hE="failed_to_build_headers",fE="failed_to_parse_headers",uu="failed_to_decrypt_ear_response",md="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Hs="For more visit: aka.ms/msaljs/browser-errors",yj={[my]:"The PKCE code challenge and verifier could not be generated.",[gy]:"No EAR encryption key provided. This is unexpected.",[HA]:"Server response does not contain ear_jwe property. This is unexpected.",[$m]:"The crypto object or function is not available.",[hh]:"Navigation URI is empty. Please check stack trace for more info.",[BA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Hs}`,[py]:"Hash does not contain state. Please verify that the request originated from msal.",[zA]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Hs}`,[VA]:"Unable to parse state. Please verify that the request originated from msal.",[FA]:"Hash contains state but the interaction type does not match the caller.",[GA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Hs}`,[qA]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[KA]:"window.open returned null or undefined window object.",[Pc]:"User cancelled the flow.",[hj]:`Token acquisition in popup failed due to timeout.  ${Hs}`,[$A]:`Token acquisition in iframe failed due to timeout.  ${Hs}`,[YA]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[QA]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Hs}`,[XA]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[fj]:"The iframe being monitored was closed prematurely.",[fh]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[JA]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[mj]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ZA]:"No token request found in cache.",[WA]:"The cached token request could not be parsed.",[gj]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[pj]:"Invalid cache type",[mh]:"Login and token requests are not supported in non-browser environments.",[ia]:"Database is not open!",[fd]:"No network connectivity. Check your internet connection.",[eE]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[tE]:"Network request failed. Please check the network trace to determine root cause.",[Ym]:"Failed to parse network response. Check network trace.",[nE]:"Error loading token to cache.",[yy]:"Cryptographic Key or Keypair not found in browser storage.",[sE]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[rE]:"An authorization code or nativeAccountId must be provided to this flow.",[iE]:"Request cannot contain both spa code and native account id.",[vy]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[aE]:`Unable to acquire token from native platform.  ${Hs}`,[oE]:"Timed out while attempting to establish connection to browser extension",[cE]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[by]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Hs}`,[rc]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Hs}`,[lE]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[uE]:"Invalid base64 encoded string.",[dE]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[hE]:"Failed to build request headers object.",[fE]:"Failed to parse response headers",[uu]:"Failed to decrypt ear response",[md]:"The request timed out."};class il extends Xe{constructor(e,n){super(e,yj[e],n),Object.setPrototypeOf(this,il.prototype),this.name="BrowserAuthError"}}function ce(t,e){return new il(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const vn={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Xn={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},wo={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Pt={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},b0={GET:"GET",POST:"POST"},kr={SIGNIN:"signin",SIGNOUT:"signout"},Ct={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Ml={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Qe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var ve;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(ve||(ve={}));const kt={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},x0={scopes:io},mE="jwk",vj={React:"@azure/msal-react"},Qm="msal.db",bj=1,xj=`${Qm}.keys`,rn={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},Sj=[rn.Default,rn.Skip,rn.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function Pl(t){return encodeURIComponent(Dc(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Zr(t){return gE(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dc(t){return gE(new TextEncoder().encode(t))}function gE(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function fs(t){return new TextDecoder().decode($r(t))}function $r(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw ce(uE)}const n=atob(e);return Uint8Array.from(n,s=>s.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Cj="RSASSA-PKCS1-v1_5",co="AES-GCM",pE="HKDF",xy="SHA-256",wj=2048,Tj=new Uint8Array([1,0,1]),S0="0123456789abcdef",C0=new Uint32Array(1),Sy="raw",yE="encrypt",Cy="decrypt",Aj="deriveKey",Ej="crypto_subtle_undefined",wy={name:Cj,hash:xy,modulusLength:wj,publicExponent:Tj};function _j(t){if(!window)throw ce(mh);if(!window.crypto)throw ce($m);if(!t&&!window.crypto.subtle)throw ce($m,Ej)}async function vE(t,e,n){e==null||e.addQueueMeasurement(k.Sha256Digest,n);const r=new TextEncoder().encode(t);return window.crypto.subtle.digest(xy,r)}function Nj(t){return window.crypto.getRandomValues(t)}function vf(){return window.crypto.getRandomValues(C0),C0[0]}function ps(){const t=Date.now(),e=vf()*1024+(vf()&1023),n=new Uint8Array(16),s=Math.trunc(e/2**30),r=e&2**30-1,i=vf();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|s>>>8,n[7]=s,n[8]=128|r>>>24,n[9]=r>>>16,n[10]=r>>>8,n[11]=r,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let o=0;o<n.length;o++)a+=S0.charAt(n[o]>>>4),a+=S0.charAt(n[o]&15),(o===3||o===5||o===7||o===9)&&(a+="-");return a}async function kj(t,e){return window.crypto.subtle.generateKey(wy,t,e)}async function bf(t){return window.crypto.subtle.exportKey(mE,t)}async function Rj(t,e,n){return window.crypto.subtle.importKey(mE,t,wy,e,n)}async function Oj(t,e){return window.crypto.subtle.sign(wy,t,e)}async function Ty(){const t=await bE(),n={alg:"dir",kty:"oct",k:Zr(new Uint8Array(t))};return Dc(JSON.stringify(n))}async function Ij(t){const e=fs(t),s=JSON.parse(e).k,r=$r(s);return window.crypto.subtle.importKey(Sy,r,co,!1,[Cy])}async function jj(t,e){const n=e.split(".");if(n.length!==5)throw ce(uu,"jwe_length");const s=await Ij(t).catch(()=>{throw ce(uu,"import_key")});try{const r=new TextEncoder().encode(n[0]),i=$r(n[2]),a=$r(n[3]),o=$r(n[4]),l=o.byteLength*8,u=new Uint8Array(a.length+o.length);u.set(a),u.set(o,a.length);const h=await window.crypto.subtle.decrypt({name:co,iv:i,tagLength:l,additionalData:r},s,u);return new TextDecoder().decode(h)}catch{throw ce(uu,"decrypt")}}async function bE(){const t=await window.crypto.subtle.generateKey({name:co,length:256},!0,[yE,Cy]);return window.crypto.subtle.exportKey(Sy,t)}async function w0(t){return window.crypto.subtle.importKey(Sy,t,pE,!1,[Aj])}async function xE(t,e,n){return window.crypto.subtle.deriveKey({name:pE,salt:e,hash:xy,info:new TextEncoder().encode(n)},t,{name:co,length:256},!1,[yE,Cy])}async function Mj(t,e,n){const s=new TextEncoder().encode(e),r=window.crypto.getRandomValues(new Uint8Array(16)),i=await xE(t,r,n),a=await window.crypto.subtle.encrypt({name:co,iv:new Uint8Array(12)},i,s);return{data:Zr(new Uint8Array(a)),nonce:Zr(r)}}async function T0(t,e,n,s){const r=$r(s),i=await xE(t,$r(e),n),a=await window.crypto.subtle.decrypt({name:co,iv:new Uint8Array(12)},i,r);return new TextDecoder().decode(a)}async function SE(t){const e=await vE(t),n=new Uint8Array(e);return Zr(n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const gh="storage_not_supported",Nt="stubbed_public_client_application_called",Ay="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const du={[gh]:"Given storage configuration option was not supported.",[Nt]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Ay]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};du[gh],du[Nt],du[Ay];class Ey extends Xe{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Ey.prototype)}}function xt(t){return new Ey(t,du[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function CE(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function Pj(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function _y(){return window.parent!==window}function Dj(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${vn.POPUP_NAME_PREFIX}.`)===0}function Xs(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Uj(){const e=new He(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function Lj(){if(He.hashContainsKnownProperties(window.location.hash)&&_y())throw ce(QA)}function Hj(t){if(_y()&&!t)throw ce(YA)}function Bj(){if(Dj())throw ce(XA)}function wE(){if(typeof window>"u")throw ce(mh)}function TE(t){if(!t)throw ce(rc)}function Ny(t){wE(),Lj(),Bj(),TE(t)}function A0(t,e){if(Ny(t),Hj(e.system.allowRedirectInIframe),e.cache.cacheLocation===Pt.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw xt(Ay)}function AE(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function zj(){return ps()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class gd{navigateInternal(e,n){return gd.defaultNavigateWindow(e,n)}navigateExternal(e,n){return gd.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((s,r)=>{setTimeout(()=>{r(ce(md,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Vj{async sendGetRequestAsync(e,n){let s,r={},i=0;const a=E0(n);try{s=await fetch(e,{method:b0.GET,headers:a})}catch(o){throw Lo(ce(window.navigator.onLine?tE:fd),void 0,void 0,o)}r=_0(s.headers);try{return i=s.status,{headers:r,body:await s.json(),status:i}}catch(o){throw Lo(ce(Ym),i,r,o)}}async sendPostRequestAsync(e,n){const s=n&&n.body||"",r=E0(n);let i,a=0,o={};try{i=await fetch(e,{method:b0.POST,headers:r,body:s})}catch(l){throw Lo(ce(window.navigator.onLine?eE:fd),void 0,void 0,l)}o=_0(i.headers);try{return a=i.status,{headers:o,body:await i.json(),status:a}}catch(l){throw Lo(ce(Ym),a,o,l)}}}function E0(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([s,r])=>{e.append(s,r)}),e}catch(e){throw Lo(ce(hE),void 0,void 0,e)}}function _0(t){try{const e={};return t.forEach((n,s)=>{e[s]=n}),e}catch{throw ce(fE)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Fj=6e4,Xm=1e4,Gj=3e4,EE=2e3;function qj({auth:t,cache:e,system:n,telemetry:s},r){const i={clientId:V.EMPTY_STRING,authority:`${V.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:V.EMPTY_STRING,authorityMetadata:V.EMPTY_STRING,redirectUri:typeof window<"u"?Xs():"",postLogoutRedirectUri:V.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:bn.AAD,OIDCOptions:{serverResponseType:nh.FRAGMENT,defaultScopes:[V.OPENID_SCOPE,V.PROFILE_SCOPE,V.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:zp.None,tenant:V.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:Pt.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Pt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Pt.LocalStorage),claimsBasedCachingEnabled:!1},o={loggerCallback:()=>{},logLevel:ot.Info,piiLoggingEnabled:!1},u={...{...hA,loggerOptions:o,networkClient:r?new Vj:sj,navigationClient:new gd,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Fj,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||Xm,navigateFrameWait:0,redirectNavigationTimeout:Gj,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||EE,pollIntervalMilliseconds:vn.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||o},h={application:{appName:V.EMPTY_STRING,appVersion:V.EMPTY_STRING},client:new dA};if((t==null?void 0:t.protocolMode)!==bn.OIDC&&(t!=null&&t.OIDCOptions)&&new or(u.loggerOptions).warning(JSON.stringify(We(nA))),t!=null&&t.protocolMode&&t.protocolMode===bn.OIDC&&(u!=null&&u.allowPlatformBroker))throw We(sA);return{auth:{...i,...t,OIDCOptions:{...i.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:u,telemetry:{...h,...s}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Kj="@azure/msal-browser",Hi="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Ht="msal",ky="browser",xf="-",xr=1,Jm=1,$j=`${Ht}.${ky}.log.level`,Yj=`${Ht}.${ky}.log.pii`,Qj=`${Ht}.${ky}.platform.auth.dom`,N0=`${Ht}.version`,k0="account.keys",R0="token.keys";function Cs(t=Jm){return t<1?`${Ht}.${k0}`:`${Ht}.${t}.${k0}`}function Si(t,e=xr){return e<1?`${Ht}.${R0}.${t}`:`${Ht}.${e}.${R0}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Ry{static loggerCallback(e,n){switch(e){case ot.Error:console.error(n);return;case ot.Info:console.info(n);return;case ot.Verbose:console.debug(n);return;case ot.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var l;this.browserEnvironment=typeof window<"u",this.config=qj(e,this.browserEnvironment);let n;try{n=window[Pt.SessionStorage]}catch{}const s=n==null?void 0:n.getItem($j),r=(l=n==null?void 0:n.getItem(Yj))==null?void 0:l.toLowerCase(),i=r==="true"?!0:r==="false"?!1:void 0,a={...this.config.system.loggerOptions},o=s&&Object.keys(ot).includes(s)?ot[s]:void 0;o&&(a.loggerCallback=Ry.loggerCallback,a.logLevel=o),i!==void 0&&(a.piiLoggingEnabled=i),this.logger=new or(a,Kj,Hi),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bi extends Ry{getModuleName(){return Bi.MODULE_NAME}getId(){return Bi.ID}async initialize(){return this.available=typeof window<"u",this.available}}Bi.MODULE_NAME="";Bi.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class Xj{constructor(){this.dbName=Qm,this.version=bj,this.tableName=xj,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const s=window.indexedDB.open(this.dbName,this.version);s.addEventListener("upgradeneeded",r=>{r.target.result.createObjectStore(this.tableName)}),s.addEventListener("success",r=>{const i=r;this.db=i.target.result,this.dbOpen=!0,e()}),s.addEventListener("error",()=>n(ce(vy)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ce(ia));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",o=>{const l=o;this.closeConnection(),n(l.target.result)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((s,r)=>{if(!this.db)return r(ce(ia));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);o.addEventListener("success",()=>{this.closeConnection(),s()}),o.addEventListener("error",l=>{this.closeConnection(),r(l)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ce(ia));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),n()}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(ce(ia));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",a=>{const o=a;this.closeConnection(),e(o.target.result)}),i.addEventListener("error",a=>{this.closeConnection(),n(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,s)=>{if(!this.db)return s(ce(ia));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",o=>{const l=o;this.closeConnection(),n(l.target.result===1)}),a.addEventListener("error",o=>{this.closeConnection(),s(o)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const s=window.indexedDB.deleteDatabase(Qm),r=setTimeout(()=>n(!1),200);s.addEventListener("success",()=>(clearTimeout(r),e(!0))),s.addEventListener("blocked",()=>(clearTimeout(r),e(!0))),s.addEventListener("error",()=>(clearTimeout(r),n(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ph{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,s)=>{e.push(s)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Jj{constructor(e){this.inMemoryCache=new ph,this.indexedDBCache=new Xj,this.logger=e}handleDatabaseAccessError(e){if(e instanceof il&&e.errorCode===vy)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(s){this.handleDatabaseAccessError(s)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(s){this.handleDatabaseAccessError(s)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(s){this.handleDatabaseAccessError(s)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class cr{constructor(e,n,s){this.logger=e,_j(s??!1),this.cache=new Jj(this.logger),this.performanceClient=n}createNewGuid(){return ps()}base64Encode(e){return Dc(e)}base64Decode(e){return fs(e)}base64UrlEncode(e){return Pl(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var h;const n=(h=this.performanceClient)==null?void 0:h.startMeasurement(k.CryptoOptsGetPublicKeyThumbprint,e.correlationId),s=await kj(cr.EXTRACTABLE,cr.POP_KEY_USAGES),r=await bf(s.publicKey),i={e:r.e,kty:r.kty,n:r.n},a=O0(i),o=await this.hashString(a),l=await bf(s.privateKey),u=await Rj(l,!1,["sign"]);return await this.cache.setItem(o,{privateKey:u,publicKey:s.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),o}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw J(GT)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,s,r){var g;const i=(g=this.performanceClient)==null?void 0:g.startMeasurement(k.CryptoOptsSignJwt,r),a=await this.cache.getItem(n);if(!a)throw ce(yy);const o=await bf(a.publicKey),l=O0(o),u=Pl(JSON.stringify({kid:n})),h=fy.getShrHeaderString({...s==null?void 0:s.header,alg:o.alg,kid:u}),d=Pl(h);e.cnf={jwk:JSON.parse(l)};const f=Pl(JSON.stringify(e)),m=`${d}.${f}`,b=new TextEncoder().encode(m),C=await Oj(a.privateKey,b),y=Zr(new Uint8Array(C)),p=`${m}.${y}`;return i&&i.end({success:!0}),p}async hashString(e){return SE(e)}}cr.POP_KEY_USAGES=["sign","verify"];cr.EXTRACTABLE=!0;function O0(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const Zj=24*60*60*1e3,Zm={Lax:"Lax",None:"None"};class _E{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,s=document.cookie.split(";");for(let r=0;r<s.length;r++){const i=s[r],[a,...o]=decodeURIComponent(i).trim().split("="),l=o.join("=");if(a===n)return l}return""}getUserData(){throw J(Oe)}setItem(e,n,s,r=!0,i=Zm.Lax){let a=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${i};`;if(s){const o=Wj(s);a+=`expires=${o};`}(r||i===Zm.None)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(J(Oe))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(s=>{const r=decodeURIComponent(s).trim().split("=");n.push(r[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function Wj(t){const e=new Date;return new Date(e.getTime()+t*Zj).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function ic(t,e){const n=t.getItem(Cs(e));return n?JSON.parse(n):[]}function ac(t,e,n){const s=e.getItem(Si(t,n));if(s){const r=JSON.parse(s);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Wm(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const I0="msal.cache.encryption",eM="msal.broadcast.cache";class tM{constructor(e,n,s){if(!window.localStorage)throw xt(gh);this.memoryStorage=new ph,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=s,this.broadcast=new BroadcastChannel(eM)}async initialize(e){const n=new _E,s=n.getItem(I0);let r={key:"",id:""};if(s)try{r=JSON.parse(s)}catch{}if(r.key&&r.id){const i=Un($r,k.Base64Decode,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await z(w0,k.GenerateHKDF,this.logger,this.performanceClient,e)(i)}}else{const i=ps(),a=await z(bE,k.GenerateBaseKey,this.logger,this.performanceClient,e)(),o=Un(Zr,k.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(a));this.encryptionCookie={id:i,key:await z(w0,k.GenerateHKDF,this.logger,this.performanceClient,e)(a)};const l={id:i,key:o};n.setItem(I0,JSON.stringify(l),0,!0,Zm.None)}await z(this.importExistingCache.bind(this),k.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw ce(rc);return this.memoryStorage.getItem(e)}async decryptData(e,n,s){if(!this.initialized||!this.encryptionCookie)throw ce(rc);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},s),null;const r=await z(T0,k.Decrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!r)return null;try{return JSON.parse(r)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},s),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,s,r){if(!this.initialized||!this.encryptionCookie)throw ce(rc);const{data:i,nonce:a}=await z(Mj,k.Encrypt,this.logger,this.performanceClient,s)(this.encryptionCookie.key,n,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:a,data:i,lastUpdatedAt:r};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),ic(this).forEach(s=>this.removeItem(s));const n=ac(this.clientId,this);n.idToken.forEach(s=>this.removeItem(s)),n.accessToken.forEach(s=>this.removeItem(s)),n.refreshToken.forEach(s=>this.removeItem(s)),this.getKeys().forEach(s=>{(s.startsWith(Ht)||s.indexOf(this.clientId)!==-1)&&this.removeItem(s)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=ic(this);n=await this.importArray(n,e),n.length?this.setItem(Cs(),JSON.stringify(n)):this.removeItem(Cs());const s=ac(this.clientId,this);s.idToken=await this.importArray(s.idToken,e),s.accessToken=await this.importArray(s.accessToken,e),s.refreshToken=await this.importArray(s.refreshToken,e),s.idToken.length||s.accessToken.length||s.refreshToken.length?this.setItem(Si(this.clientId),JSON.stringify(s)):this.removeItem(Si(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const s=this.getItem(e);if(!s)return null;let r;try{r=JSON.parse(s)}catch{return null}return Wm(r)?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):z(T0,k.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),r)}async importArray(e,n){const s=[],r=[];return e.forEach(i=>{const a=this.getItemFromEncryptedCache(i,n).then(o=>{o?(this.memoryStorage.setItem(i,o),s.push(i)):this.removeItem(i)});r.push(a)}),await Promise.all(r),s}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(k.LocalStorageUpdated);n.add({isBackground:!0});const{key:s,value:r,context:i}=e.data;if(!s){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),n.end({success:!1,errorCode:"contextMismatch"});return}r?(this.memoryStorage.setItem(s,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(s),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class nM{constructor(){if(!window.sessionStorage)throw xt(gh)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const ue={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function j0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class eg extends qm{constructor(e,n,s,r,i,a,o){super(e,s,r,i,o),this.cacheConfig=n,this.logger=r,this.internalStorage=new ph,this.browserStorage=M0(e,n.cacheLocation,r,i),this.temporaryCacheStorage=M0(e,n.temporaryCacheLocation,r,i),this.cookieStorage=new _E,this.eventHandler=a}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=ic(this.browserStorage,0),s=ac(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:s.accessToken.length,oldIdCount:s.idToken.length,oldRefreshCount:s.refreshToken.length},e);const r=ic(this.browserStorage,1),i=ac(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:r.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(Jm,n,r,e),this.updateV0ToCurrent(xr,s.idToken,i.idToken,e),this.updateV0ToCurrent(xr,s.accessToken,i.accessToken,e),this.updateV0ToCurrent(xr,s.refreshToken,i.refreshToken,e)]),n.length>0?this.browserStorage.setItem(Cs(0),JSON.stringify(n)):this.browserStorage.removeItem(Cs(0)),r.length>0?this.browserStorage.setItem(Cs(1),JSON.stringify(r)):this.browserStorage.removeItem(Cs(1)),this.setTokenKeys(s,e,0),this.setTokenKeys(i,e,1)}async updateV0ToCurrent(e,n,s,r){const i=[];for(const a of[...n]){const o=this.browserStorage.getItem(a),l=this.validateAndParseJson(o||"");if(!l){j0(n,a);continue}l.lastUpdatedAt||(l.lastUpdatedAt=Date.now().toString(),this.setItem(a,JSON.stringify(l),r));const u=Wm(l)?await this.browserStorage.decryptData(a,l,r):l;let h;if(u&&(h0(u)||f0(u))&&(h=u.expiresOn),!u||UI(l.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||h&&ud(h,NT)){this.browserStorage.removeItem(a),j0(n,a),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},r);continue}if(this.cacheConfig.cacheLocation!==Pt.LocalStorage||Wm(l)){const d=`${Ht}.${e}${xf}${a}`,f=this.browserStorage.getItem(d);if(f){const m=this.validateAndParseJson(f);if(Number(l.lastUpdatedAt)>Number(m.lastUpdatedAt)){i.push(this.setUserData(d,JSON.stringify(u),r,l.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},r)}));continue}}else{i.push(this.setUserData(d,JSON.stringify(u),r,l.lastUpdatedAt).then(()=>{s.push(d),this.performanceClient.incrementFields({upgradedCacheCount:1},r)}));continue}}}return Promise.all(i)}trackVersionChanges(e){const n=this.browserStorage.getItem(N0);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==Hi&&this.setItem(N0,Hi,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,s){let r=0,i=[];const a=20;for(let o=0;o<=a;o++)try{this.browserStorage.setItem(e,n),o>0&&(o<=r?this.removeAccessTokenKeys(i.slice(0,o),s,0):(this.removeAccessTokenKeys(i.slice(0,r),s,0),this.removeAccessTokenKeys(i.slice(r,o),s)));break}catch(l){const u=Gm(l);if(u.errorCode===id&&o<a){if(!i.length){const h=e===Si(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,d=e===Si(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;i=[...h,...d],r=h.length}if(i.length<=o)throw u;this.removeAccessToken(i[o],s,!1)}else throw u}}async setUserData(e,n,s,r){let i=0,a=[];const o=20;for(let l=0;l<=o;l++)try{await z(this.browserStorage.setUserData.bind(this.browserStorage),k.SetUserData,this.logger,this.performanceClient)(e,n,s,r),l>0&&(l<=i?this.removeAccessTokenKeys(a.slice(0,l),s,0):(this.removeAccessTokenKeys(a.slice(0,i),s,0),this.removeAccessTokenKeys(a.slice(i,l),s)));break}catch(u){const h=Gm(u);if(h.errorCode===id&&l<o){if(!a.length){const d=this.getTokenKeys(0).accessToken,f=this.getTokenKeys().accessToken;a=[...d,...f],i=d.length}if(a.length<=l)throw h;this.removeAccessToken(a[l],s,!1)}else throw h}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const s=this.browserStorage.getUserData(e);if(!s)return this.removeAccountKeyFromMap(e,n),null;const r=this.validateAndParseJson(s);return!r||!ms.isAccountEntity(r)?null:qm.toObject(new ms,r)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const s=this.generateAccountKey(e.getAccountInfo()),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.addAccountKeyToMap(s,n);this.cacheConfig.cacheLocation===Pt.LocalStorage&&i&&this.eventHandler.emitEvent(ue.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return ic(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const s=this.getAccountKeys();return s.indexOf(e)===-1?(s.push(e),this.setItem(Cs(),JSON.stringify(s),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const s=this.getAccountKeys(),r=s.indexOf(e);if(r>-1){if(s.splice(r,1),s.length===0){this.removeItem(Cs());return}else this.setItem(Cs(),JSON.stringify(s),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const s=this.getActiveAccount(n);(s==null?void 0:s.homeAccountId)===e.homeAccountId&&(s==null?void 0:s.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(r=>{r.includes(e.homeAccountId)&&r.includes(e.environment)&&this.browserStorage.removeItem(r)}),this.cacheConfig.cacheLocation===Pt.LocalStorage&&this.eventHandler.emitEvent(ue.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const s=this.getTokenKeys(),r=s.idToken.indexOf(e);r>-1&&(this.logger.info("idToken removed from tokenKeys map"),s.idToken.splice(r,1),this.setTokenKeys(s,n))}removeAccessToken(e,n,s=!0){super.removeAccessToken(e,n),s&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,s=xr){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys(s);let i=0;if(e.forEach(a=>{const o=r.accessToken.indexOf(a);o>-1&&(r.accessToken.splice(o,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(r,n,s);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const s=this.getTokenKeys(),r=s.refreshToken.indexOf(e);r>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),s.refreshToken.splice(r,1),this.setTokenKeys(s,n))}getTokenKeys(e=xr){return ac(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,s=xr){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(Si(this.clientId,s));return}else this.setItem(Si(this.clientId,s),JSON.stringify(e),n)}getIdTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!HI(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.idToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(s),this.setTokenKeys(i,n))}getAccessTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const r=this.validateAndParseJson(s);return!r||!h0(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys(),a=i.accessToken.indexOf(s);a!==-1&&i.accessToken.splice(a,1),this.logger.trace(`access token ${a===-1?"added to":"updated in"} map`),i.accessToken.push(s),this.setTokenKeys(i,n)}getRefreshTokenCredential(e,n){const s=this.browserStorage.getUserData(e);if(!s)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const r=this.validateAndParseJson(s);return!r||!f0(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const s=this.generateCredentialKey(e),r=Date.now().toString();e.lastUpdatedAt=r,await this.setUserData(s,JSON.stringify(e),n,r);const i=this.getTokenKeys();i.refreshToken.indexOf(s)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(s),this.setTokenKeys(i,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!FI(e,s)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),s)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const s=VI(e);this.setItem(s,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!BI(e,s)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),s)}setServerTelemetry(e,n,s){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),s)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const s=this.validateAndParseJson(n);return s&&GI(e,s)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),s):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Ml.WRAPPER_SKU,e),this.internalStorage.setItem(Ml.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Ml.WRAPPER_SKU)||V.EMPTY_STRING,n=this.internalStorage.getItem(Ml.WRAPPER_VER)||V.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(Wb.ACTIVE_ACCOUNT_FILTERS),s=this.browserStorage.getItem(n);if(!s)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const r=this.validateAndParseJson(s);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const s=this.generateCacheKey(Wb.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:Sn().toString()};this.setItem(s,JSON.stringify(r),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(s);this.eventHandler.emitEvent(ue.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const s=this.validateAndParseJson(n);return!s||!zI(e,s)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),s)}setThrottlingCache(e,n,s){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),s)}getTemporaryCache(e,n){const s=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const r=this.temporaryCacheStorage.getItem(s);if(!r){if(this.cacheConfig.cacheLocation===Pt.LocalStorage){const i=this.browserStorage.getItem(s);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,n,s){const r=s?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Ht)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Ht)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(k.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let s=0;n.accessToken.forEach(r=>{const i=this.getAccessTokenCredential(r,e);i!=null&&i.requestedClaimsHash&&r.includes(i.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(r,e),s++)}),s>0&&this.logger.warning(`${s} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return Dn.startsWith(e,Ht)?e:`${Ht}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Yt.REFRESH_TOKEN&&e.familyId||e.clientId,s=e.tokenType&&e.tokenType.toLowerCase()!==qe.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Ht}.${xr}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",s].join(xf).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Ht}.${Jm}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(xf).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Ct.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(Ct.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(Ct.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(Ct.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(Ct.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const s=Dc(JSON.stringify(e));if(this.setTemporaryCache(Ct.REQUEST_PARAMS,s,!0),n){const r=Dc(n);this.setTemporaryCache(Ct.VERIFIER,r,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Ct.REQUEST_PARAMS,!0);if(!e)throw ce(ZA);const n=this.getTemporaryCache(Ct.VERIFIER,!0);let s,r="";try{s=JSON.parse(fs(e)),n&&(r=fs(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),ce(WA)}return[s,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Ct.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var s;const n=(s=this.getInteractionInProgress())==null?void 0:s.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Ht}.${Ct.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),CE(window),null}}setInteractionInProgress(e,n=kr.SIGNIN){var r;const s=`${Ht}.${Ct.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw ce(GA);this.setTemporaryCache(s,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((r=this.getInteractionInProgress())==null?void 0:r.clientId)===this.clientId&&this.removeTemporaryItem(s)}async hydrateCache(e,n){var o,l,u;const s=oh((o=e.account)==null?void 0:o.homeAccountId,(l=e.account)==null?void 0:l.environment,e.idToken,this.clientId,e.tenantId);let r;n.claims&&(r=await this.cryptoImpl.hashString(n.claims));const i=ch((u=e.account)==null?void 0:u.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?d0(e.expiresOn):0,e.extExpiresOn?d0(e.extExpiresOn):0,fs,void 0,e.tokenType,void 0,n.sshKid,n.claims,r),a={idToken:s,accessToken:i};return this.saveCacheRecord(a,e.correlationId)}async saveCacheRecord(e,n,s){try{await super.saveCacheRecord(e,n,s)}catch(r){if(r instanceof Oa&&this.performanceClient&&n)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},n)}catch{}throw r}}}function M0(t,e,n,s){try{switch(e){case Pt.LocalStorage:return new tM(t,n,s);case Pt.SessionStorage:return new nM;case Pt.MemoryStorage:default:break}}catch(r){n.error(r)}return new ph}const sM=(t,e,n,s)=>{const r={cacheLocation:Pt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Pt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new eg(t,r,nd,e,n,s)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function rM(t,e,n,s,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r||{},s):[]}function iM(t,e,n,s){const r=n.getAccountInfoFilteredBy(t,s);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function aM(t,e,n,s){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t},s);return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function oM(t,e,n,s){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t},s);return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function cM(t,e,n,s){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t},s);return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function lM(t,e,n){e.setActiveAccount(t,n)}function uM(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const dM="msal.broadcast.event";class hM{constructor(e){this.eventCallbacks=new Map,this.logger=e||new or({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(dM)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,s){if(typeof window<"u"){const r=s||zj();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,s,r){var a;const i={eventType:e,interactionType:n||null,payload:s||null,error:r||null,timestamp:Date.now()};switch(e){case ue.ACCOUNT_ADDED:case ue.ACCOUNT_REMOVED:case ue.ACTIVE_ACCOUNT_CHANGED:(a=this.broadcastChannel)==null||a.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,s],r)=>{(s.length===0||s.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${r}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class NE{constructor(e,n,s,r,i,a,o,l,u){this.config=e,this.browserStorage=n,this.browserCrypto=s,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=a,this.platformAuthProvider=l,this.correlationId=u||ps(),this.logger=r.clone(vn.MSAL_SKU,Hi,this.correlationId),this.performanceClient=o}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return He.getAbsoluteUrl(n,Xs())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const s={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Mc(s,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,s=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,a=s!=null&&s.length?s==="true":this.config.auth.instanceAware,o=n&&a?this.config.auth.authority.replace(He.getDomainFromUrl(i),n.environment):i,l=Wt.generateAuthority(o,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),u=await z(kA,k.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(l,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(n&&!u.isAlias(n.environment))throw We(rA);return u}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Oy(t,e,n,s){n.addQueueMeasurement(k.InitializeBaseRequest,t.correlationId);const r=t.authority||e.auth.authority,i=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:r,scopes:i};if(!a.authenticationScheme)a.authenticationScheme=qe.BEARER,s.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===qe.SSH){if(!t.sshJwk)throw We(sh);if(!t.sshKid)throw We(tA)}s.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Dn.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await SE(t.claims)),a}async function fM(t,e,n,s,r){s.addQueueMeasurement(k.InitializeSilentRequest,t.correlationId);const i=await z(Oy,k.InitializeBaseRequest,r,s,t.correlationId)(t,n,s,r);return{...t,...i,account:e,forceRefresh:t.forceRefresh||!1}}function kE(t,e){let n;const s=t.httpMethod;if(e===bn.EAR){if(n=s||xi.POST,n!==xi.POST)throw We(iA)}else n=s||xi.GET;if(t.authorizePostBodyParameters&&n!==xi.POST)throw We(aA);return n}/*! @azure/msal-browser v4.22.1 2025-09-09 */class lo extends NE{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||ps(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const s=this.getLogoutHintFromIdTokenClaims(e.account);s&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=s)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=He.getAbsoluteUrl(e.postLogoutRedirectUri,Xs())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=He.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Xs())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=He.getAbsoluteUrl(Xs(),Xs())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(k.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await z(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new MA(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}=e;this.performanceClient.addQueueMeasurement(k.StandardInteractionClientGetClientConfiguration,this.correlationId);const o=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:s,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:a}),l=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:o,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:l.loggerCallback,piiLoggingEnabled:l.piiLoggingEnabled,logLevel:l.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:vn.MSAL_SKU,version:Hi,cpu:V.EMPTY_STRING,os:V.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(k.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const s=this.getRedirectUri(e.redirectUri),r={interactionType:n},i=oo.setRequestState(this.browserCrypto,e&&e.state||V.EMPTY_STRING,r),o={...await z(Oy,k.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:s,state:i,nonce:e.nonce||ps(),responseMode:this.config.auth.OIDCOptions.serverResponseType},l={...o,httpMethod:kE(o,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return l;const u=e.account||this.browserStorage.getActiveAccount(this.correlationId);return u&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${u.homeAccountId}`,this.correlationId),l.account=u),l}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function mM(t,e){if(!e)return null;try{return oo.parseRequestState(t,e).libraryState.meta}catch{throw J(Ka)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function oc(t,e,n){const s=sd(t);if(!s)throw cA(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),ce(zA)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),ce(BA));return s}function gM(t,e,n){if(!t.state)throw ce(py);const s=mM(e,t.state);if(!s)throw ce(VA);if(s.interactionType!==n)throw ce(FA)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class RE{constructor(e,n,s,r,i){this.authModule=e,this.browserStorage=n,this.authCodeRequest=s,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(k.HandleCodeResponse,n.correlationId);let s;try{s=ij(e,n.state)}catch(r){throw r instanceof $i&&r.subError===Pc?ce(Pc):r}return z(this.handleCodeResponseFromServer.bind(this),k.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(s,n)}async handleCodeResponseFromServer(e,n,s=!0){if(this.performanceClient.addQueueMeasurement(k.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await z(this.authModule.updateAuthority.bind(this.authModule),k.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),s&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(n);i&&(this.authCodeRequest.ccsCredential=i)}return await z(this.authModule.acquireToken.bind(this.authModule),k.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:ds.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:ds.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const pM="ContentError",OE="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const yM="USER_INTERACTION_REQUIRED",vM="USER_CANCEL",bM="NO_NETWORK",xM="DISABLED",SM="ACCOUNT_UNAVAILABLE",CM="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const wM=-2147186943,TM={[OE]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Es extends Xe{constructor(e,n,s){super(e,n),Object.setPrototypeOf(this,Es.prototype),this.name="NativeAuthError",this.ext=s}}function aa(t){if(t.ext&&t.ext.status&&t.ext.status===xM||t.ext&&t.ext.error&&t.ext.error===wM)return!0;switch(t.errorCode){case pM:return!0;default:return!1}}function pd(t,e,n){if(n&&n.status)switch(n.status){case SM:return hd(OA);case yM:return new gs(t,e);case vM:return ce(Pc);case bM:return ce(fd);case CM:return hd(ly)}return new Es(t,TM[t]||e,n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class IE extends lo{async acquireToken(e){this.performanceClient.addQueueMeasurement(k.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),s=await z(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new nj(s,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await z(r.acquireCachedToken.bind(r),k.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(i){throw i instanceof il&&i.errorCode===yy&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class hu extends NE{constructor(e,n,s,r,i,a,o,l,u,h,d,f){super(e,n,s,r,i,a,l,u,f),this.apiId=o,this.accountId=h,this.platformAuthProvider=u,this.nativeStorageManager=d,this.silentCacheClient=new IE(e,this.nativeStorageManager,s,r,i,a,l,u,f);const m=this.platformAuthProvider.getExtensionName();this.skus=Mc.makeExtraSkuString({libraryName:vn.MSAL_SKU,libraryVersion:Hi,extensionName:m,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[yI]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(k.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const s=this.performanceClient.startMeasurement(k.NativeInteractionClientAcquireToken,this.correlationId),r=Sn(),i=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const l=await this.acquireTokensFromCache(this.accountId,a);return s.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch(l){if(n===rn.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),s.end({success:!1,brokerErrorCode:"cache_request_failed"}),l;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o=await this.platformAuthProvider.sendMessage(a);return await this.handleNativeResponse(o,a,r).then(l=>(s.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),i.clearNativeBrokerErrorCode(),l)).catch(l=>{throw s.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError}),l})}catch(a){throw a instanceof Es&&i.setNativeBrokerErrorCode(a.errorCode),s.end({success:!1}),a}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Mt.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),J(Vm);const s=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!s)throw J(Vm);try{const r=this.createSilentCacheRequest(n,s),i=await this.silentCacheClient.acquireToken(r),a={...s,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:a}}catch(r){throw r}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...s}=e;delete s.onRedirectNavigate;const r=await this.initializeNativeRequest(s);try{await this.platformAuthProvider.sendMessage(r)}catch(o){if(o instanceof Es&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(o.errorCode),aa(o)))throw o}this.browserStorage.setTemporaryCache(Ct.NATIVE_REQUEST,JSON.stringify(r),!0);const i={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const s=this.browserStorage.getCachedNativeRequest();if(!s)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:r,...i}=s;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ct.NATIVE_REQUEST));const a=Sn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const o=await this.platformAuthProvider.sendMessage(i),l=await this.handleNativeResponse(o,i,a);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),l}catch(o){throw o}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,s){var h,d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=ao(e.id_token,fs),i=this.createHomeAccountIdentifier(e,r),a=(h=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:h.homeAccountId;if((d=n.extraParameters)!=null&&d.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==a&&e.account.id!==n.accountId)throw pd(OE);const o=await this.getDiscoveredAuthority({requestAuthority:n.authority}),l=uy(this.browserStorage,o,i,fs,this.correlationId,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const u=await this.generateAuthenticationResult(e,n,r,l,o.canonicalAuthority,s);return await this.cacheAccount(l,this.correlationId),await this.cacheNativeTokens(e,n,i,r,e.access_token,u.tenantId,s),u}createHomeAccountIdentifier(e,n){return ms.generateHomeAccountId(e.client_info||V.EMPTY_STRING,as.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Mt.fromString(n):Mt.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===qe.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const s=new $a(this.browserCrypto),r={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw J(Lp);return s.signPopToken(e.access_token,n.keyId,r)}else return e.access_token}async generateAuthenticationResult(e,n,s,r,i,a){const o=this.addTelemetryFromNativeResponse(e.properties.MATS),l=this.generateScopes(n.scope,e.scope),u=e.account.properties||{},h=u.UID||s.oid||s.sub||V.EMPTY_STRING,d=u.TenantId||s.tid||V.EMPTY_STRING,f=$p(r.getAccountInfo(),void 0,s,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const m=await this.generatePopAccessToken(e,n),x=n.tokenType===qe.POP?qe.POP:qe.BEARER;return{authority:i,uniqueId:h,tenantId:d,scopes:l.asArray(),account:f,idToken:e.id_token,idTokenClaims:s,accessToken:m,fromCache:o?this.isResponseFromCache(o):!1,expiresOn:ja(a+e.expires_in),tokenType:x,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,s,r,i,a,o){const l=oh(s,n.authority,e.id_token||"",n.clientId,r.tid||""),u=n.tokenType===qe.POP?V.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,h=o+u,d=this.generateScopes(e.scope,n.scope),f=ch(s,n.authority,i,n.clientId,r.tid||a,d.printScopes(),h,0,fs,void 0,n.tokenType,void 0,n.keyId),m={idToken:l,accessToken:f};return this.nativeStorageManager.saveCacheRecord(m,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===qe.POP?V.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:s,...r}=e,i=new Mt(s||[]);i.appendScopes(io);const a={...r,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw ce(dE);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Xn.MATS_TELEMETRY,e.authenticationScheme===qe.POP){const o={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},l=new $a(this.browserCrypto);let u;if(a.keyId)u=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const h=await z(l.generateCnf.bind(l),k.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(o,this.logger);u=h.reqCnfString,a.keyId=h.kid,a.signPopToken=!0}a.reqCnf=u}return this.addRequestSKUs(a),a}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const s=new He(n);return s.validateAsUri(),s}getPrompt(e){switch(this.apiId){case Qe.ssoSilent:case Qe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),un.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case un.NONE:case un.CONSENT:case un.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),ce(lE)}}handleExtraBrokerParams(e){var i;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(od)&&e.extraParameters.hasOwnProperty(cd)&&e.extraParameters.hasOwnProperty(Ui);if(!e.embeddedClientId&&!n)return;let s="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,s=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[cd],s=e.extraParameters[Ui]),e.extraParameters={child_client_id:s,child_redirect_uri:r},(i=this.performanceClient)==null||i.addFields({embeddedClientId:s,embeddedRedirectUri:r},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Iy(t,e,n,s,r){const i=rj({...t.auth,authority:e},n,s,r);if(ny(i,{sku:vn.MSAL_SKU,version:Hi,os:"",cpu:""}),t.auth.protocolMode!==bn.OIDC&&sy(i,t.telemetry.application),n.platformBroker&&(SI(i),r.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===qe.POP)){const a=new cr(s,r),o=new $a(a);let l;n.popKid?l=a.encodeKid(n.popKid):l=(await z(o.generateCnf.bind(o),k.PopTokenGenerateCnf,s,r,n.correlationId)(n,s)).reqCnfString,iy(i,l)}return rh(i,n.correlationId,r),i}async function jy(t,e,n,s,r){if(!n.codeChallenge)throw We(Fp);const i=await z(Iy,k.GetStandardParams,s,r,n.correlationId)(t,e,n,s,r);return Xp(i,Op.CODE),vA(i,n.codeChallenge,V.S256_CODE_CHALLENGE_METHOD),Kr(i,n.extraQueryParameters||{}),dy(e,i,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function My(t,e,n,s,r,i){if(!s.earJwk)throw ce(gy);const a=await Iy(e,n,s,r,i);Xp(a,Op.IDTOKEN_TOKEN_REFRESHTOKEN),II(a,s.earJwk);const o=new Map;Kr(o,s.extraQueryParameters||{});const l=dy(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return jE(t,l,a)}async function Py(t,e,n,s,r,i){const a=await Iy(e,n,s,r,i);Xp(a,Op.CODE),vA(a,s.codeChallenge,s.codeChallengeMethod||V.S256_CODE_CHALLENGE_METHOD),jI(a,s.authorizePostBodyParameters||{});const o=new Map;Kr(o,s.extraQueryParameters||{});const l=dy(n,o,e.auth.encodeExtraQueryParams,s.extraQueryParameters);return jE(t,l,a)}function jE(t,e,n){const s=t.createElement("form");return s.method="post",s.action=e,n.forEach((r,i)=>{const a=t.createElement("input");a.hidden=!0,a.name=i,a.value=r,s.appendChild(a)}),t.body.appendChild(s),s}async function ME(t,e,n,s,r,i,a,o,l,u){if(o.verbose("Account id found, calling WAM for token"),!u)throw ce(by);const h=new cr(o,l),d=new hu(s,r,h,o,a,s.system.navigationClient,n,l,u,e,i,t.correlationId),{userRequestState:f}=oo.parseRequestState(h,t.state);return z(d.acquireToken.bind(d),k.NativeInteractionClientAcquireToken,o,l,t.correlationId)({...t,state:f,prompt:void 0})}async function yd(t,e,n,s,r,i,a,o,l,u,h,d){if(As.removeThrottle(a,r.auth.clientId,t),e.accountId)return z(ME,k.HandleResponsePlatformBroker,u,h,t.correlationId)(t,e.accountId,s,r,a,o,l,u,h,d);const f={...t,code:e.code||"",codeVerifier:n},m=new RE(i,a,f,u,h);return await z(m.handleCodeResponse.bind(m),k.HandleCodeResponse,u,h,t.correlationId)(e,t)}async function Dy(t,e,n,s,r,i,a,o,l,u,h){if(As.removeThrottle(i,s.auth.clientId,t),PA(e,t.state),!e.ear_jwe)throw ce(HA);if(!t.earJwk)throw ce(gy);const d=JSON.parse(await z(jj,k.DecryptEarResponse,l,u,t.correlationId)(t.earJwk,e.ear_jwe));if(d.accountId)return z(ME,k.HandleResponsePlatformBroker,l,u,t.correlationId)(t,d.accountId,n,s,i,a,o,l,u,h);const f=new Li(s.auth.clientId,i,new cr(l,u),l,null,null,u);f.validateTokenResponse(d);const m={code:"",state:t.state,nonce:t.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await z(f.handleServerTokenResponse.bind(f),k.HandleServerTokenResponse,l,u,t.correlationId)(d,r,Sn(),t,m,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const AM=32;async function yh(t,e,n){t.addQueueMeasurement(k.GeneratePkceCodes,n);const s=Un(EM,k.GenerateCodeVerifier,e,t,n)(t,e,n),r=await z(_M,k.GenerateCodeChallengeFromVerifier,e,t,n)(s,t,e,n);return{verifier:s,challenge:r}}function EM(t,e,n){try{const s=new Uint8Array(AM);return Un(Nj,k.GetRandomValues,e,t,n)(s),Zr(s)}catch{throw ce(my)}}async function _M(t,e,n,s){e.addQueueMeasurement(k.GenerateCodeChallengeFromVerifier,s);try{const r=await z(vE,k.Sha256Digest,n,e,s)(t,e,s);return Zr(new Uint8Array(r))}catch{throw ce(my)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class vd{constructor(e,n,s,r){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=s,this.handshakeEvent=s.startMeasurement(k.NativeMessageHandlerHandshake),this.platformAuthType=Xn.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:wo.GetToken,request:e},s={channel:Xn.CHANNEL_ID,extensionId:this.extensionId,responseId:ps(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(s)}`),this.messageChannel.port1.postMessage(s);const r=await new Promise((a,o)=>{this.resolvers.set(s.responseId,{resolve:a,reject:o})});return this.validatePlatformBrokerResponse(r)}static async createProvider(e,n,s){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const r=new vd(e,n,s,Xn.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch{const i=new vd(e,n,s);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Xn.CHANNEL_ID,extensionId:this.extensionId,responseId:ps(),body:{method:wo.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,s)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:s}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),s(ce(oE)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Xn.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===wo.HandshakeRequest){const s=this.handshakeResolvers.get(n.responseId);if(!s){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),s.reject(ce(cE))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,s=this.resolvers.get(n.responseId),r=this.handshakeResolvers.get(n.responseId);try{const i=n.body.method;if(i===wo.Response){if(!s)return;const a=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")s.reject(pd(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?s.reject(pd(a.result.code,a.result.description,a.result.ext)):s.resolve(a.result);else throw Hm(td,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(i===wo.HandshakeResponse){if(!r){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),s?s.reject(i):r&&r.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Hm(td,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===Xn.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Uy{constructor(e,n,s){this.logger=e,this.performanceClient=n,this.correlationId=s,this.platformAuthType=Xn.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,s){var r;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(r=window.navigator)!=null&&r.platformAuthentication){const i=await window.navigator.platformAuthentication.getSupportedContracts(Xn.MICROSOFT_ENTRA_BROKERID);if(i!=null&&i.includes(Xn.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Uy(e,n,s)}}getExtensionId(){return Xn.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return Xn.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),s=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(s)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:s,authority:r,scope:i,redirectUri:a,correlationId:o,state:l,storeInCache:u,embeddedClientId:h,extraParameters:d,...f}=e,m=this.getDOMExtraParams(f);return{accountId:n,brokerId:this.getExtensionId(),authority:r,clientId:s,correlationId:o||this.correlationId,extraParameters:{...d,...m},isSecurityTokenService:!1,redirectUri:a,scope:i,state:l,storeInCache:u,embeddedClientId:h}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),pd(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw Hm(td,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((r,[i,a])=>(r[i]=String(a),r),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function NM(t,e,n,s){t.trace("getPlatformAuthProvider called",n);const r=kM();t.trace("Has client allowed platform auth via DOM API: "+r);let i;try{r&&(i=await Uy.createProvider(t,e,n)),i||(t.trace("Platform auth via DOM API not available, checking for extension"),i=await vd.createProvider(t,s||EE,e))}catch(a){t.trace("Platform auth not available",a)}return i}function kM(){let t;try{return t=window[Pt.SessionStorage],(t==null?void 0:t.getItem(Qj))==="true"}catch{return!1}}function Uc(t,e,n,s){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(s)switch(s){case qe.BEARER:case qe.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class RM extends lo{constructor(e,n,s,r,i,a,o,l,u,h){super(e,n,s,r,i,a,o,u,h),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=l,this.eventHandler=i}acquireToken(e,n){let s;try{if(s={popupName:this.generatePopupName(e.scopes||io,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,s,n);{const i={...e,httpMethod:kE(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),s.popup=this.openSizedPopup("about:blank",s),this.acquireTokenPopupAsync(i,s,n)}}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),s={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,s,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),s.popup=this.openSizedPopup("about:blank",s),this.logoutPopupAsync(n,s,r,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,s){this.logger.verbose("acquireTokenPopupAsync called");const r=await z(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ve.Popup);n.popup&&AE(r.authority);const i=Uc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===bn.EAR?this.executeEarFlow(r,n):this.executeCodeFlow(r,n,s)}async executeCodeFlow(e,n,s){var l;const r=e.correlationId,i=this.initializeServerTelemetryManager(Qe.acquireTokenPopup),a=s||await z(yh,k.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),o={...e,codeChallenge:a.challenge};try{const u=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account});if(o.httpMethod===xi.POST)return await this.executeCodeFlowWithPost(o,n,u,a.verifier);{const h=await z(jy,k.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,u.authority,o,this.logger,this.performanceClient),d=this.initiateAuthRequest(h,n);this.eventHandler.emitEvent(ue.POPUP_OPENED,ve.Popup,{popupWindow:d},null);const f=await this.monitorPopupForHash(d,n.popupWindowParent),m=Un(oc,k.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(f,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await z(yd,k.HandleResponseCode,this.logger,this.performanceClient,r)(e,m,a.verifier,Qe.acquireTokenPopup,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(u){throw(l=n.popup)==null||l.close(),u instanceof Xe&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),u}}async executeEarFlow(e,n){const s=e.correlationId,r=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,s)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await z(Ty,k.GenerateEarKey,this.logger,this.performanceClient,s)(),a={...e,earJwk:i},o=n.popup||this.openPopup("about:blank",n);(await My(o.document,this.config,r,a,this.logger,this.performanceClient)).submit();const u=await z(this.monitorPopupForHash.bind(this),k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(o,n.popupWindowParent),h=Un(oc,k.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return z(Dy,k.HandleResponseEar,this.logger,this.performanceClient,s)(a,h,Qe.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,s,r){const i=e.correlationId,a=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=n.popup||this.openPopup("about:blank",n);(await Py(o.document,this.config,a,e,this.logger,this.performanceClient)).submit();const u=await z(this.monitorPopupForHash.bind(this),k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(o,n.popupWindowParent),h=Un(oc,k.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(u,this.config.auth.OIDCOptions.serverResponseType,this.logger);return z(yd,k.HandleResponseCode,this.logger,this.performanceClient,i)(e,h,r,Qe.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,s,r){var a,o,l;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ue.LOGOUT_START,ve.Popup,e);const i=this.initializeServerTelemetryManager(Qe.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:s,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===bn.OIDC){if(this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,ve.Popup,e),r){const f={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=He.getAbsoluteUrl(r,Xs());await this.navigationClient.navigateInternal(m,f)}(o=n.popup)==null||o.close();return}}const h=u.getLogoutUri(e);this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,ve.Popup,e);const d=this.openPopup(h,n);if(this.eventHandler.emitEvent(ue.POPUP_OPENED,ve.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,n.popupWindowParent).catch(()=>{}),r){const f={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=He.getAbsoluteUrl(r,Xs());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${m}`),await this.navigationClient.navigateInternal(m,f)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(l=n.popup)==null||l.close(),u instanceof Xe&&(u.setCorrelationId(this.correlationId),i.cacheFailedRequest(u)),this.eventHandler.emitEvent(ue.LOGOUT_FAILURE,ve.Popup,null,u),this.eventHandler.emitEvent(ue.LOGOUT_END,ve.Popup),u}this.eventHandler.emitEvent(ue.LOGOUT_END,ve.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),ce(hh)}monitorPopupForHash(e,n){return new Promise((s,r)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),r(ce(Pc));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(i);let o="";const l=this.config.auth.OIDCOptions.serverResponseType;e&&(l===nh.QUERY?o=e.location.search:o=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),s(o)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let s;if(n.popup?(s=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),s.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),s=this.openSizedPopup(e,n)),!s)throw ce(KA);return s.focus&&s.focus(),this.currentWindow=s,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),s}catch(s){throw this.logger.error("error opening popup "+s.message),ce(qA)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:s,popupWindowParent:r}){var m,x,b,C;const i=r.screenLeft?r.screenLeft:r.screenX,a=r.screenTop?r.screenTop:r.screenY,o=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let u=(m=s.popupSize)==null?void 0:m.width,h=(x=s.popupSize)==null?void 0:x.height,d=(b=s.popupPosition)==null?void 0:b.top,f=(C=s.popupPosition)==null?void 0:C.left;return(!u||u<0||u>o)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),u=vn.POPUP_WIDTH),(!h||h<0||h>l)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),h=vn.POPUP_HEIGHT),(!d||d<0||d>l)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,l/2-vn.POPUP_HEIGHT/2+a)),(!f||f<0||f>o)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,o/2-vn.POPUP_WIDTH/2+i)),r.open(e,n,`width=${u}, height=${h}, top=${d}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${vn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${vn.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function OM(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class IM extends lo{constructor(e,n,s,r,i,a,o,l,u,h){super(e,n,s,r,i,a,o,u,h),this.nativeStorage=l}async acquireToken(e){const n=await z(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,ve.Redirect);n.platformBroker=Uc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const s=i=>{i.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ue.RESTORE_FROM_BFCACHE,ve.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(Ct.ORIGIN_URI,r,!0),window.addEventListener("pageshow",s);try{this.config.auth.protocolMode===bn.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(i){throw i instanceof Xe&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",s),i}}async executeCodeFlow(e,n){const s=e.correlationId,r=this.initializeServerTelemetryManager(Qe.acquireTokenRedirect),i=await z(yh,k.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),a={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(a,i.verifier);try{if(a.httpMethod===xi.POST)return await this.executeCodeFlowWithPost(a);{const o=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account}),l=await z(jy,k.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,o.authority,a,this.logger,this.performanceClient);return await this.initiateAuthRequest(l,n)}}catch(o){throw o instanceof Xe&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}async executeEarFlow(e){const n=e.correlationId,s=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await z(Ty,k.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r};return this.browserStorage.cacheAuthorizeRequest(i),(await My(document,this.config,s,i,this.logger,this.performanceClient)).submit(),new Promise((o,l)=>{setTimeout(()=>{l(ce(md,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,s=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Py(document,this.config,s,e,this.logger,this.performanceClient)).submit(),new Promise((i,a)=>{setTimeout(()=>{a(ce(md,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,s,r){const i=this.initializeServerTelemetryManager(Qe.handleRedirectPromise);try{const[a,o]=this.getRedirectResponse(e||"");if(!a)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),OM()!=="back_forward"?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const l=this.browserStorage.getTemporaryCache(Ct.ORIGIN_URI,!0)||V.EMPTY_STRING,u=i0(l),h=i0(window.location.href);if(u===h&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),l.indexOf("#")>-1&&Pj(l),await this.handleResponse(a,n,s,i);if(this.config.auth.navigateToLoginRequestUrl){if(!_y()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Ct.URL_HASH,o,!0);const d={apiId:Qe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let f=!0;if(!l||l==="null"){const m=Uj();this.browserStorage.setTemporaryCache(Ct.ORIGIN_URI,m,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),f=await this.navigationClient.navigateInternal(m,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${l}`),f=await this.navigationClient.navigateInternal(l,d);if(!f)return await this.handleResponse(a,n,s,i)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(a,n,s,i);return null}catch(a){throw a instanceof Xe&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),a}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===nh.QUERY?n=window.location.search:n=window.location.hash);let s=sd(n);if(s){try{gM(s,this.browserCrypto,ve.Redirect)}catch(i){return i instanceof Xe&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return CE(window),this.logger.verbose("Hash contains known properties, returning response hash"),[s,n]}const r=this.browserStorage.getTemporaryCache(Ct.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ct.URL_HASH)),r&&(s=sd(r),s)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[s,r]):[null,""]}async handleResponse(e,n,s,r){if(!e.state)throw ce(py);if(e.ear_jwe){const o=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return z(Dy,k.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,Qe.acquireTokenRedirect,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const a=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority});return z(yd,k.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,s,Qe.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const s={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=n||this.config.auth.onRedirectNavigate;if(typeof r=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),r(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,s);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,s);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),ce(hh)}async logout(e){var r;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),s=this.initializeServerTelemetryManager(Qe.logout);try{this.eventHandler.emitEvent(ue.LOGOUT_START,ve.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const i={apiId:Qe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===bn.OIDC)try{a.authority.endSessionEndpoint}catch{if((r=n.account)!=null&&r.homeAccountId){this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,ve.Redirect,n);return}}const o=a.getLogoutUri(n);if(this.eventHandler.emitEvent(ue.LOGOUT_SUCCESS,ve.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(o)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,kr.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,kr.SIGNOUT),await this.navigationClient.navigateExternal(o,i);return}}catch(i){throw i instanceof Xe&&(i.setCorrelationId(this.correlationId),s.cacheFailedRequest(i)),this.eventHandler.emitEvent(ue.LOGOUT_FAILURE,ve.Redirect,null,i),this.eventHandler.emitEvent(ue.LOGOUT_END,ve.Redirect),i}this.eventHandler.emitEvent(ue.LOGOUT_END,ve.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return He.getAbsoluteUrl(n,Xs())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function jM(t,e,n,s,r){if(e.addQueueMeasurement(k.SilentHandlerInitiateAuthRequest,s),!t)throw n.info("Navigate url is empty"),ce(hh);return r?z(DM,k.SilentHandlerLoadFrame,n,e,s)(t,r,e,s):Un(UM,k.SilentHandlerLoadFrameSync,n,e,s)(t)}async function MM(t,e,n,s,r){const i=vh();if(!i.contentDocument)throw"No document associated with iframe!";return(await Py(i.contentDocument,t,e,n,s,r)).submit(),i}async function PM(t,e,n,s,r){const i=vh();if(!i.contentDocument)throw"No document associated with iframe!";return(await My(i.contentDocument,t,e,n,s,r)).submit(),i}async function P0(t,e,n,s,r,i,a){return s.addQueueMeasurement(k.SilentHandlerMonitorIframeForHash,i),new Promise((o,l)=>{e<Xm&&r.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${Xm}ms). This may result in timeouts.`);const u=window.setTimeout(()=>{window.clearInterval(h),l(ce($A))},e),h=window.setInterval(()=>{let d="";const f=t.contentWindow;try{d=f?f.location.href:""}catch{}if(!d||d==="about:blank")return;let m="";f&&(a===nh.QUERY?m=f.location.search:m=f.location.hash),window.clearTimeout(u),window.clearInterval(h),o(m)},n)}).finally(()=>{Un(LM,k.RemoveHiddenIframe,r,s,i)(t)})}function DM(t,e,n,s){return n.addQueueMeasurement(k.SilentHandlerLoadFrame,s),new Promise((r,i)=>{const a=vh();window.setTimeout(()=>{if(!a){i("Unable to load iframe");return}a.src=t,r(a)},e)})}function UM(t){const e=vh();return e.src=t,e}function vh(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function LM(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class HM extends lo{constructor(e,n,s,r,i,a,o,l,u,h,d){super(e,n,s,r,i,a,l,h,d),this.apiId=o,this.nativeStorage=u}async acquireToken(e){this.performanceClient.addQueueMeasurement(k.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==un.NONE&&n.prompt!==un.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${un.NONE}`),n.prompt=un.NONE):n.prompt=un.NONE;const s=await z(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,ve.Silent);return s.platformBroker=Uc(this.config,this.logger,this.platformAuthProvider,s.authenticationScheme),AE(s.authority),this.config.auth.protocolMode===bn.EAR?this.executeEarFlow(s):this.executeCodeFlow(s)}async executeCodeFlow(e){let n;const s=this.initializeServerTelemetryManager(this.apiId);try{return n=await z(this.createAuthCodeClient.bind(this),k.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await z(this.silentTokenHelper.bind(this),k.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(r){if(r instanceof Xe&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),!n||!(r instanceof Xe)||r.errorCode!==vn.INVALID_GRANT_ERROR)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await z(this.silentTokenHelper.bind(this),k.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,s=await z(this.getDiscoveredAuthority.bind(this),k.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await z(Ty,k.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:r},a=await z(PM,k.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,s,i,this.logger,this.performanceClient),o=this.config.auth.OIDCOptions.serverResponseType,l=await z(P0,k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,o),u=Un(oc,k.DeserializeResponse,this.logger,this.performanceClient,n)(l,o,this.logger);return z(Dy,k.HandleResponseEar,this.logger,this.performanceClient,n)(i,u,this.apiId,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(ce(fh))}async silentTokenHelper(e,n){const s=n.correlationId;this.performanceClient.addQueueMeasurement(k.SilentIframeClientTokenHelper,s);const r=await z(yh,k.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),i={...n,codeChallenge:r.challenge};let a;if(n.httpMethod===xi.POST)a=await z(MM,k.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);else{const h=await z(jy,k.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,e.authority,i,this.logger,this.performanceClient);a=await z(jM,k.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,s)(h,this.performanceClient,this.logger,s,this.config.system.navigateFrameWait)}const o=this.config.auth.OIDCOptions.serverResponseType,l=await z(P0,k.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,s)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,s,o),u=Un(oc,k.DeserializeResponse,this.logger,this.performanceClient,s)(l,o,this.logger);return z(yd,k.HandleResponseCode,this.logger,this.performanceClient,s)(n,u,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class BM extends lo{async acquireToken(e){this.performanceClient.addQueueMeasurement(k.SilentRefreshClientAcquireToken,e.correlationId);const n=await z(Oy,k.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),s={...e,...n};e.redirectUri&&(s.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:s.authority,azureCloudOptions:s.azureCloudOptions,account:s.account});return z(i.acquireTokenByRefreshToken.bind(i),k.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(s).catch(a=>{throw a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),a})}logout(){return Promise.reject(ce(fh))}async createRefreshTokenClient(e){const n=await z(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new tj(n,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class zM{constructor(e,n,s,r){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=s,this.cryptoObj=r}async loadExternalTokens(e,n,s){if(!this.isBrowserEnvironment)throw ce(mh);const r=e.correlationId||ps(),i=n.id_token?ao(n.id_token,fs):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.authority?new Wt(Wt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||ps()):void 0,l=await this.loadAccount(e,s.clientInfo||n.client_info||"",r,i,o),u=await this.loadIdToken(n,l.homeAccountId,l.environment,l.realm,r),h=await this.loadAccessToken(e,n,l.homeAccountId,l.environment,l.realm,s,r),d=await this.loadRefreshToken(n,l.homeAccountId,l.environment,r);return this.generateAuthenticationResult(e,{account:l,idToken:u,accessToken:h,refreshToken:d},i,o)}async loadAccount(e,n,s,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const u=ms.createFromAccountInfo(e.account);return await this.storage.setAccount(u,s),u}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),ce(nE);const a=ms.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),o=r==null?void 0:r.tid,l=uy(this.storage,i,a,fs,s,r,n,i.hostnameAndPort,o,void 0,void 0,this.logger);return await this.storage.setAccount(l,s),l}async loadIdToken(e,n,s,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=oh(n,s,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,i),a}async loadAccessToken(e,n,s,r,i,a,o){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const l=n.scope?Mt.fromString(n.scope):new Mt(e.scopes),u=a.expiresOn||n.expires_in+Sn(),h=a.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+Sn(),d=ch(s,r,n.access_token,this.config.auth.clientId,i,l.printScopes(),u,h,fs);return await this.storage.setAccessTokenCredential(d,o),d}async loadRefreshToken(e,n,s,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=_A(n,s,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,n,s,r){var h,d,f;let i="",a=[],o=null,l;n!=null&&n.accessToken&&(i=n.accessToken.secret,a=Mt.fromString(n.accessToken.target).asArray(),o=ja(n.accessToken.expiresOn),l=ja(n.accessToken.extendedExpiresOn));const u=n.account;return{authority:r?r.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:a,account:u.getAccountInfo(),idToken:((h=n.idToken)==null?void 0:h.secret)||"",idTokenClaims:s||{},accessToken:i,fromCache:!0,expiresOn:o,correlationId:e.correlationId||"",requestId:"",extExpiresOn:l,familyId:((d=n.refreshToken)==null?void 0:d.familyId)||"",tokenType:((f=n==null?void 0:n.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:u.cloudGraphHostName||"",msGraphHost:u.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class VM extends MA{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class FM extends lo{constructor(e,n,s,r,i,a,o,l,u,h){super(e,n,s,r,i,a,l,u,h),this.apiId=o}async acquireToken(e){if(!e.code)throw ce(sE);const n=await z(this.initializeAuthorizationRequest.bind(this),k.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,ve.Silent),s=this.initializeServerTelemetryManager(this.apiId);try{const r={...n,code:e.code},i=await z(this.getClientConfiguration.bind(this),k.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:s,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new VM(i);this.logger.verbose("Auth code client created");const o=new RE(a,this.browserStorage,r,this.logger,this.performanceClient);return await z(o.handleCodeResponseFromServer.bind(o),k.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(r){throw r instanceof Xe&&(r.setCorrelationId(this.correlationId),s.cacheFailedRequest(r)),r}}logout(){return Promise.reject(ce(fh))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function GM(t,e,n){var a;const s=((a=window.msal)==null?void 0:a.clientIds)||[],r=s.length,i=s.filter(o=>o===t).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:r,sameClientIdInstanceCount:i})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Ss(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Dl(t,e){try{Ny(t)}catch(n){throw e.end({success:!1},n),n}}class bh{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new cr(this.logger,this.performanceClient):nd,this.eventHandler=new hM(this.logger),this.browserStorage=this.isBrowserEnvironment?new eg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,KI(this.config.auth)):sM(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Pt.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Pt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new eg(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new zM(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const s=new bh(e);return await s.initialize(n),s}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(ue.INITIALIZE_END);return}const s=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(k.InitializeClientApplication,s);if(this.eventHandler.emitEvent(ue.INITIALIZE_START),!n)try{this.logMultipleInstances(i)}catch{}if(await z(this.browserStorage.initialize.bind(this.browserStorage),k.InitializeCache,this.logger,this.performanceClient,s)(s),r)try{this.platformAuthProvider=await NM(this.logger,this.performanceClient,s,this.config.system.nativeBrokerHandshakeTimeout)}catch(a){this.logger.verbose(a)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),Un(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),k.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,s)(s)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(s),this.initialized=!0,this.eventHandler.emitEvent(ue.INITIALIZE_END),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),TE(this.initialized),this.isBrowserEnvironment){const n=e||"";let s=this.redirectResponse.get(n);return typeof s>"u"?(s=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,s),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),s}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var l;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((l=this.browserStorage.getInteractionInProgress())==null?void 0:l.type)===kr.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const s=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&this.platformAuthProvider&&!e;let a;this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_START,ve.Redirect);let o;try{if(i&&this.platformAuthProvider){a=this.performanceClient.startMeasurement(k.AcquireTokenRedirect,(r==null?void 0:r.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),a.add({isPlatformBrokerRequest:!0});const u=new hu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,r.accountId,this.nativeInternalStorage,r.correlationId);o=z(u.handleRedirectPromise.bind(u),k.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{const[u,h]=this.browserStorage.getCachedRequest(),d=u.correlationId;a=this.performanceClient.startMeasurement(k.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const f=this.createRedirectClient(d);o=z(f.handleRedirectPromise.bind(f),k.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,u,h,a)}}catch(u){throw this.browserStorage.resetRequestCache(),u}return o.then(u=>(u?(this.browserStorage.resetRequestCache(),s.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ue.LOGIN_SUCCESS,ve.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,ve.Redirect,u),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Ss(u.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_END,ve.Redirect),u)).catch(u=>{this.browserStorage.resetRequestCache();const h=u;throw s.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,ve.Redirect,null,h):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,ve.Redirect,null,h),this.eventHandler.emitEvent(ue.HANDLE_REDIRECT_END,ve.Redirect),a.end({success:!1},h),u})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const s=this.performanceClient.startMeasurement(k.AcquireTokenPreRedirect,n);s.add({accountType:Ss(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=a=>{const o=typeof r=="function"?r(a):void 0;return s.add({navigateCallbackResult:o!==!1}),s.event=s.end({success:!0})||s.event,o};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=o=>{const l=typeof a=="function"?a(o):void 0;return s.add({navigateCallbackResult:l!==!1}),s.event=s.end({success:!0})||s.event,l}}const i=this.getAllAccounts().length>0;try{A0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,kr.SIGNIN),i?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,ve.Redirect,e):this.eventHandler.emitEvent(ue.LOGIN_START,ve.Redirect,e);let a;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?a=new hu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,s).catch(l=>{if(s.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l instanceof Es&&aa(l))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(l instanceof gs)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw l}):a=this.createRedirectClient(n).acquireToken(e),await a}catch(a){throw this.browserStorage.resetRequestCache(),s.event.status===2?this.performanceClient.startMeasurement(k.AcquireTokenRedirect,n).end({success:!1},a):s.end({success:!1},a),i?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,ve.Redirect,null,a):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,ve.Redirect,null,a),a}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(k.AcquireTokenPopup,n);s.add({scenarioId:e.scenarioId,accountType:Ss(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Dl(this.initialized,s),this.browserStorage.setInteractionInProgress(!0,kr.SIGNIN)}catch(o){return Promise.reject(o)}const r=this.getAllAccounts();r.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,ve.Popup,e):this.eventHandler.emitEvent(ue.LOGIN_START,ve.Popup,e);let i;const a=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(s.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative({...e,correlationId:n},Qe.acquireTokenPopup).then(o=>(s.end({success:!0,accountType:Ss(o.account)}),o)).catch(o=>{if(s.add({brokerErrorName:o.name,brokerErrorCode:o.errorCode}),o instanceof Es&&aa(o))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,a);if(o instanceof gs)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,a);throw o})):i=this.createPopupClient(n).acquireToken(e,a),i.then(o=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ue.LOGIN_SUCCESS,ve.Popup,o):this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,ve.Popup,o),s.end({success:!0,accessTokenSize:o.accessToken.length,idTokenSize:o.idToken.length,accountType:Ss(o.account)}),o)).catch(o=>(r.length>0?this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,ve.Popup,null,o):this.eventHandler.emitEvent(ue.LOGIN_FAILURE,ve.Popup,null,o),s.end({success:!1},o),Promise.reject(o))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,a,o;const n=this.getRequestCorrelationId(e),s={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(k.SsoSilent,n),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:Ss(e.account)}),Dl(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(ue.SSO_SILENT_START,ve.Silent,s);let r;return this.canUsePlatformBroker(s)?((o=this.ssoSilentMeasurement)==null||o.add({isPlatformBrokerRequest:!0}),r=this.acquireTokenNative(s,Qe.ssoSilent).catch(l=>{var u;if((u=this.ssoSilentMeasurement)==null||u.add({brokerErrorName:l.name,brokerErrorCode:l.errorCode}),l instanceof Es&&aa(l))return this.platformAuthProvider=void 0,this.createSilentIframeClient(s.correlationId).acquireToken(s);throw l})):r=this.createSilentIframeClient(s.correlationId).acquireToken(s),r.then(l=>{var u;return this.eventHandler.emitEvent(ue.SSO_SILENT_SUCCESS,ve.Silent,l),(u=this.ssoSilentMeasurement)==null||u.end({success:!0,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:Ss(l.account)}),l}).catch(l=>{var u;throw this.eventHandler.emitEvent(ue.SSO_SILENT_FAILURE,ve.Silent,null,l),(u=this.ssoSilentMeasurement)==null||u.end({success:!1},l),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const s=this.performanceClient.startMeasurement(k.AcquireTokenByCode,n);Dl(this.initialized,s),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_START,ve.Silent,e),s.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw ce(iE);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",n),s.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),i=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(a=>(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_SUCCESS,ve.Silent,a),this.hybridAuthCodeResponses.delete(r),s.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Ss(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_FAILURE,ve.Silent,null,a),s.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(r,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){s.add({isPlatformBrokerRequest:!0});const r=await this.acquireTokenNative({...e,correlationId:n},Qe.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof Es&&aa(i)&&(this.platformAuthProvider=void 0),s.add({brokerErrorName:i.name,brokerErrorCode:i.errorCode}),i});return s.end({accountType:Ss(r.account),success:!0}),r}else throw ce(aE);else throw ce(rE)}catch(r){throw this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_BY_CODE_FAILURE,ve.Silent,null,r),s.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){var r;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(k.AcquireTokenByCodeAsync,e.correlationId),(r=this.acquireTokenByCodeAsyncMeasurement)==null||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:i.fromCache}),i}).catch(i=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenFromCache,e.correlationId),n){case rn.Default:case rn.AccessToken:case rn.AccessTokenAndRefreshToken:const s=this.createSilentCacheClient(e.correlationId);return z(s.acquireToken.bind(s),k.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw J(qr)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(k.AcquireTokenByRefreshToken,e.correlationId),n){case rn.Default:case rn.AccessTokenAndRefreshToken:case rn.RefreshToken:case rn.RefreshTokenAndNetwork:const s=this.createSilentRefreshClient(e.correlationId);return z(s.acquireToken.bind(s),k.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw J(qr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(k.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return z(n.acquireToken.bind(n),k.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return A0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,kr.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return Ny(this.initialized),this.browserStorage.setInteractionInProgress(!0,kr.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return rM(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return iM(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return aM(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return oM(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return cM(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();lM(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return uM(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const s=ms.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(s,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,s,r){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw ce(by);return new hu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,s||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Uc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case un.NONE:case un.CONSENT:case un.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new RM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new IM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new HM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new IE(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new BM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new FM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return wE(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Pt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Pt.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?ps():V.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||x0})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||x0})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),s=this.performanceClient.startMeasurement(k.AcquireTokenSilent,n);s.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Dl(this.initialized,s),this.logger.verbose("acquireTokenSilent called",n);const r=e.account||this.getActiveAccount();if(!r)throw ce(JA);return s.add({accountType:Ss(r)}),this.acquireTokenSilentDeduped(e,r,n).then(i=>(s.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:n})).catch(i=>{throw i instanceof Xe&&i.setCorrelationId(n),s.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,n,s){const r=lh(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},n.homeAccountId),i=JSON.stringify(r),a=this.activeSilentTokenRequests.get(i);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",s),this.performanceClient.addFields({deduped:!1},s);const o=z(this.acquireTokenSilentAsync.bind(this),k.AcquireTokenSilentAsync,this.logger,this.performanceClient,s)({...e,correlationId:s},n);return this.activeSilentTokenRequests.set(i,o),o.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",s),this.performanceClient.addFields({deduped:!0},s),a}async acquireTokenSilentAsync(e,n){const s=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(k.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_START,ve.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",s);const r=await z(fM,k.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||rn.Default;return this.acquireTokenSilentNoIframe(r,i).catch(async o=>{if(qM(o,i))if(this.activeIframeRequest)if(i!==rn.Skip){const[u,h]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${h}`,r.correlationId);const d=this.performanceClient.startMeasurement(k.AwaitConcurrentIframe,r.correlationId);d.add({awaitIframeCorrelationId:h});const f=await u;if(d.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${h} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${h} failed. Interaction is required.`),o}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),z(this.acquireTokenBySilentIframe.bind(this),k.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r);else{let u;return this.activeIframeRequest=[new Promise(h=>{u=h}),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),z(this.acquireTokenBySilentIframe.bind(this),k.AcquireTokenBySilentIframe,this.logger,this.performanceClient,r.correlationId)(r).then(h=>(u(!0),h)).catch(h=>{throw u(!1),h}).finally(()=>{this.activeIframeRequest=void 0})}else throw o}).then(o=>(this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_SUCCESS,ve.Silent,o),e.correlationId&&this.performanceClient.addFields({fromCache:o.fromCache},e.correlationId),o)).catch(o=>{throw this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_FAILURE,ve.Silent,null,o),o}).finally(()=>{document.removeEventListener("visibilitychange",s)})}async acquireTokenSilentNoIframe(e,n){return Uc(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,Qe.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async s=>{throw this.performanceClient.addFields({brokerErrorName:s.name,brokerErrorCode:s.errorCode},e.correlationId),s instanceof Es&&aa(s)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,J(qr)):s})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===rn.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),z(this.acquireTokenFromCache.bind(this),k.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(s=>{if(n===rn.AccessToken)throw s;return this.eventHandler.emitEvent(ue.ACQUIRE_TOKEN_NETWORK_START,ve.Silent,e),z(this.acquireTokenByRefreshToken.bind(this),k.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await z(yh,k.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),GM(n,e,this.logger)}}function qM(t,e){const n=!(t instanceof gs&&t.subError!==dh),s=t.errorCode===vn.INVALID_GRANT_ERROR||t.errorCode===qr,r=n&&s||t.errorCode===dd||t.errorCode===cy,i=Sj.includes(e);return r&&i}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function KM(t,e){const n=new Bi(t);return await n.initialize(),bh.createController(n,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Ly{static async createPublicClientApplication(e){const n=await KM(e);return new Ly(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new bh(new Bi(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const $M={initialize:()=>Promise.reject(xt(Nt)),acquireTokenPopup:()=>Promise.reject(xt(Nt)),acquireTokenRedirect:()=>Promise.reject(xt(Nt)),acquireTokenSilent:()=>Promise.reject(xt(Nt)),acquireTokenByCode:()=>Promise.reject(xt(Nt)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(xt(Nt)),loginPopup:()=>Promise.reject(xt(Nt)),loginRedirect:()=>Promise.reject(xt(Nt)),logout:()=>Promise.reject(xt(Nt)),logoutRedirect:()=>Promise.reject(xt(Nt)),logoutPopup:()=>Promise.reject(xt(Nt)),ssoSilent:()=>Promise.reject(xt(Nt)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw xt(Nt)},getLogger:()=>{throw xt(Nt)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw xt(Nt)},hydrateCache:()=>Promise.reject(xt(Nt)),clearCache:()=>Promise.reject(xt(Nt))};/*! @azure/msal-browser v4.22.1 2025-09-09 */class YM{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case ue.LOGIN_START:return kt.Login;case ue.SSO_SILENT_START:return kt.SsoSilent;case ue.ACQUIRE_TOKEN_START:if(e.interactionType===ve.Redirect||e.interactionType===ve.Popup)return kt.AcquireToken;break;case ue.HANDLE_REDIRECT_START:return kt.HandleRedirect;case ue.LOGOUT_START:return kt.Logout;case ue.SSO_SILENT_SUCCESS:case ue.SSO_SILENT_FAILURE:if(n&&n!==kt.SsoSilent)break;return kt.None;case ue.LOGOUT_END:if(n&&n!==kt.Logout)break;return kt.None;case ue.HANDLE_REDIRECT_END:if(n&&n!==kt.HandleRedirect)break;return kt.None;case ue.LOGIN_SUCCESS:case ue.LOGIN_FAILURE:case ue.ACQUIRE_TOKEN_SUCCESS:case ue.ACQUIRE_TOKEN_FAILURE:case ue.RESTORE_FROM_BFCACHE:if(e.interactionType===ve.Redirect||e.interactionType===ve.Popup){if(n&&n!==kt.Login&&n!==kt.AcquireToken)break;return kt.None}break}return null}}/*! @azure/msal-react v3.0.19 2025-08-19 */const QM={instance:$M,inProgress:kt.None,accounts:[],logger:new or({})},PE=S.createContext(QM);PE.Consumer;/*! @azure/msal-react v3.0.19 2025-08-19 */function D0(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(s=>{const r=n.shift();return!s||!r?!1:s.homeAccountId===r.homeAccountId&&s.localAccountId===r.localAccountId&&s.username===r.username})}/*! @azure/msal-react v3.0.19 2025-08-19 */const XM="@azure/msal-react",U0="3.0.19";/*! @azure/msal-react v3.0.19 2025-08-19 */const bd={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},JM=(t,e)=>{const{type:n,payload:s}=e;let r=t.inProgress;switch(n){case bd.UNBLOCK_INPROGRESS:t.inProgress===kt.Startup&&(r=kt.None,s.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case bd.EVENT:const a=s.message,o=YM.getInteractionStatusFromEvent(a,t.inProgress);o&&(s.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${o}`),r=o);break;default:throw new Error(`Unknown action type: ${n}`)}if(r===kt.Startup)return t;const i=s.instance.getAllAccounts();return r!==t.inProgress&&!D0(i,t.accounts)?{...t,inProgress:r,accounts:i}:r!==t.inProgress?{...t,inProgress:r}:D0(i,t.accounts)?t:{...t,accounts:i}};function ZM({instance:t,children:e}){S.useEffect(()=>{t.initializeWrapperLibrary(vj.React,U0)},[t]);const n=S.useMemo(()=>t.getLogger().clone(XM,U0),[t]),[s,r]=S.useReducer(JM,void 0,()=>({inProgress:kt.Startup,accounts:[]}));S.useEffect(()=>{const a=t.addEventCallback(o=>{r({payload:{instance:t,logger:n,message:o},type:bd.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{r({payload:{instance:t,logger:n},type:bd.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(n.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,n]);const i={instance:t,inProgress:s.inProgress,accounts:s.accounts,logger:n};return Z.createElement(PE.Provider,{value:i},e)}const L0="https://dnc-backend-bb96.onrender.com".replace(/\/$/,"");var kS;const WM=typeof window<"u"&&((kS=window.location)==null?void 0:kS.protocol)==="https:",ee=WM?L0.replace(/^http:\/\//,"https://"):L0,uo={PHONE_NUMBERS:`${ee}/api/v1/phone-numbers`,CRM_INTEGRATIONS:`${ee}/api/v1/crm`};function e2(){try{const t=localStorage.getItem("persist:do-not-call-root");if(console.log("🔐 Raw localStorage data:",t),!t)return{};const e=JSON.parse(t);console.log("🔐 Parsed localStorage:",e);const n=e.demoAuth?JSON.parse(e.demoAuth):null;if(console.log("🔐 Demo auth data:",n),!n)return{};const{organizationId:s,userId:r,role:i}=n;if(!s||!r||!i)return{};const a={"X-Org-Id":String(s),"X-User-Id":String(r),"X-Role":String(i)};return console.log("🔐 Generated headers:",a),a}catch(t){return console.log("🔐 Error getting demo headers:",t),{}}}let Ul=null;async function t2(){try{const t=window.__msalAcquireToken,e="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(t&&e){Ul||(Ul=t([e]).catch(()=>null));const n=await Ul;return Ul=null,n||null}}catch(t){console.warn("Failed to acquire Azure AD token:",t)}return null}const ho=async(t,e={})=>{const n=await t2();let s={};n&&(s.Authorization=`Bearer ${n}`);const r=await fetch(t,{headers:{"Content-Type":"application/json",...s,...e2(),...e.headers||{}},...e});if(!r.ok)throw new Error(`API call failed: ${r.status} ${r.statusText}`);return r.json()};var DE={exports:{}},UE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al=S;function n2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var s2=typeof Object.is=="function"?Object.is:n2,r2=al.useSyncExternalStore,i2=al.useRef,a2=al.useEffect,o2=al.useMemo,c2=al.useDebugValue;UE.useSyncExternalStoreWithSelector=function(t,e,n,s,r){var i=i2(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=o2(function(){function l(m){if(!u){if(u=!0,h=m,m=s(m),r!==void 0&&a.hasValue){var x=a.value;if(r(x,m))return d=x}return d=m}if(x=d,s2(h,m))return x;var b=s(m);return r!==void 0&&r(x,b)?(h=m,x):(h=m,d=b)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,s,r]);var o=r2(t,i[0],i[1]);return a2(function(){a.hasValue=!0,a.value=o},[o]),c2(o),o};DE.exports=UE;var l2=DE.exports;function u2(t){t()}function d2(){let t=null,e=null;return{clear(){t=null,e=null},notify(){u2(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=t;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const r=e={callback:n,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!s||t===null||(s=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var H0={notify(){},get:()=>[]};function h2(t,e){let n,s=H0,r=0,i=!1;function a(b){h();const C=s.subscribe(b);let y=!1;return()=>{y||(y=!0,C(),d())}}function o(){s.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return i}function h(){r++,n||(n=t.subscribe(l),s=d2())}function d(){r--,n&&r===0&&(n(),n=void 0,s.clear(),s=H0)}function f(){i||(i=!0,h())}function m(){i&&(i=!1,d())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>s};return x}var f2=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m2=f2(),g2=()=>typeof navigator<"u"&&navigator.product==="ReactNative",p2=g2(),y2=()=>m2||p2?S.useLayoutEffect:S.useEffect,v2=y2(),Sf=Symbol.for("react-redux-context"),Cf=typeof globalThis<"u"?globalThis:{};function b2(){if(!S.createContext)return{};const t=Cf[Sf]??(Cf[Sf]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var Wr=b2();function x2(t){const{children:e,context:n,serverState:s,store:r}=t,i=S.useMemo(()=>{const l=h2(r);return{store:r,subscription:l,getServerState:s?()=>s:void 0}},[r,s]),a=S.useMemo(()=>r.getState(),[r]);v2(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==r.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,a]);const o=n||Wr;return S.createElement(o.Provider,{value:i},e)}var S2=x2;function Hy(t=Wr){return function(){return S.useContext(t)}}var LE=Hy();function HE(t=Wr){const e=t===Wr?LE:Hy(t),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var C2=HE();function w2(t=Wr){const e=t===Wr?C2:HE(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var T2=w2(),A2=(t,e)=>t===e;function E2(t=Wr){const e=t===Wr?LE:Hy(t),n=(s,r={})=>{const{equalityFn:i=A2}=typeof r=="function"?{equalityFn:r}:r,a=e(),{store:o,subscription:l,getServerState:u}=a;S.useRef(!0);const h=S.useCallback({[s.name](f){return s(f)}}[s.name],[s]),d=l2.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,u||o.getState,h,i);return S.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var _2=E2();function fu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(n){return typeof n}:fu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fu(t)}function N2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function R2(t,e,n){return e&&k2(t.prototype,e),t}function O2(t,e){return e&&(fu(e)==="object"||typeof e=="function")?e:mu(t)}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function mu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ng(t,e)}function ng(t,e){return ng=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},ng(t,e)}function gu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var BE=function(t){I2(e,t);function e(){var n,s;N2(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return s=O2(this,(n=tg(e)).call.apply(n,[this].concat(i))),gu(mu(s),"state",{bootstrapped:!1}),gu(mu(s),"_unsubscribe",void 0),gu(mu(s),"handlePersistorState",function(){var o=s.props.persistor,l=o.getState(),u=l.bootstrapped;u&&(s.props.onBeforeLift?Promise.resolve(s.props.onBeforeLift()).finally(function(){return s.setState({bootstrapped:!0})}):s.setState({bootstrapped:!0}),s._unsubscribe&&s._unsubscribe())}),s}return R2(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(S.PureComponent);gu(BE,"defaultProps",{children:null,loading:null});var j2=t=>{switch(t){case"success":return D2;case"info":return L2;case"warning":return U2;case"error":return H2;default:return null}},M2=Array(12).fill(0),P2=({visible:t,className:e})=>Z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Z.createElement("div",{className:"sonner-spinner"},M2.map((n,s)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),D2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),U2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),H2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),B2=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),z2=()=>{let[t,e]=Z.useState(document.hidden);return Z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},sg=1,V2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:sg++,i=this.toasts.find(o=>o.id===r),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(o=>o.id===r?(this.publish({...o,...t,id:r,title:n}),{...o,...t,id:r,dismissible:a,title:n}):o):this.addToast({title:n,...s,dismissible:a,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),r=n!==void 0,i,a=s.then(async l=>{if(i=["resolve",l],Z.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(G2(l)&&!l.ok){r=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){r=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){r=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,u)=>a.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||sg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new V2,F2=(t,e)=>{let n=(e==null?void 0:e.id)||sg++;return yn.addToast({title:t,...e,id:n}),n},G2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",q2=F2,K2=()=>yn.toasts,$2=()=>yn.getActiveToasts(),Ll=Object.assign(q2,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:K2,getToasts:$2});function Y2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}Y2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Hl(t){return t.label!==void 0}var Q2=3,X2="32px",J2="16px",B0=4e3,Z2=356,W2=14,eP=20,tP=200;function rs(...t){return t.filter(Boolean).join(" ")}function nP(t){let[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}var sP=t=>{var e,n,s,r,i,a,o,l,u,h,d;let{invert:f,toast:m,unstyled:x,interacting:b,setHeights:C,visibleToasts:y,heights:p,index:g,toasts:v,expanded:w,removeToast:E,defaultRichColors:T,closeButton:A,style:_,cancelButtonStyle:R,actionButtonStyle:D,className:P="",descriptionClassName:j="",duration:B,position:F,gap:O,loadingIcon:K,expandByDefault:te,classNames:H,icons:$,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:Y}=t,[Q,le]=Z.useState(null),[L,ne]=Z.useState(null),[ge,re]=Z.useState(!1),[me,he]=Z.useState(!1),[pe,Ne]=Z.useState(!1),[de,oe]=Z.useState(!1),[ye,Je]=Z.useState(!1),[ns,nn]=Z.useState(0),[zn,N]=Z.useState(0),I=Z.useRef(m.duration||B||B0),U=Z.useRef(null),se=Z.useRef(null),X=g===0,W=g+1<=y,ae=m.type,ke=m.dismissible!==!1,Be=m.className||"",Gt=m.descriptionClassName||"",Vn=Z.useMemo(()=>p.findIndex(be=>be.toastId===m.id)||0,[p,m.id]),An=Z.useMemo(()=>{var be;return(be=m.closeButton)!=null?be:A},[m.closeButton,A]),ai=Z.useMemo(()=>m.duration||B||B0,[m.duration,B]),bs=Z.useRef(0),En=Z.useRef(0),oi=Z.useRef(0),Fn=Z.useRef(null),[Xi,ci]=F.split("-"),mo=Z.useMemo(()=>p.reduce((be,Ue,xe)=>xe>=Vn?be:be+Ue.height,0),[p,Vn]),G=z2(),Ee=m.invert||f,ut=ae==="loading";En.current=Z.useMemo(()=>Vn*O+mo,[Vn,mo]),Z.useEffect(()=>{I.current=ai},[ai]),Z.useEffect(()=>{re(!0)},[]),Z.useEffect(()=>{let be=se.current;if(be){let Ue=be.getBoundingClientRect().height;return N(Ue),C(xe=>[{toastId:m.id,height:Ue,position:m.position},...xe]),()=>C(xe=>xe.filter(Me=>Me.toastId!==m.id))}},[C,m.id]),Z.useLayoutEffect(()=>{if(!ge)return;let be=se.current,Ue=be.style.height;be.style.height="auto";let xe=be.getBoundingClientRect().height;be.style.height=Ue,N(xe),C(Me=>Me.find(Ze=>Ze.toastId===m.id)?Me.map(Ze=>Ze.toastId===m.id?{...Ze,height:xe}:Ze):[{toastId:m.id,height:xe,position:m.position},...Me])},[ge,m.title,m.description,C,m.id]);let Fe=Z.useCallback(()=>{he(!0),nn(En.current),C(be=>be.filter(Ue=>Ue.toastId!==m.id)),setTimeout(()=>{E(m)},tP)},[m,E,C,En]);Z.useEffect(()=>{if(m.promise&&ae==="loading"||m.duration===1/0||m.type==="loading")return;let be;return w||b||Y&&G?(()=>{if(oi.current<bs.current){let Ue=new Date().getTime()-bs.current;I.current=I.current-Ue}oi.current=new Date().getTime()})():I.current!==1/0&&(bs.current=new Date().getTime(),be=setTimeout(()=>{var Ue;(Ue=m.onAutoClose)==null||Ue.call(m,m),Fe()},I.current)),()=>clearTimeout(be)},[w,b,m,ae,Y,G,Fe]),Z.useEffect(()=>{m.delete&&Fe()},[Fe,m.delete]);function Ut(){var be,Ue,xe;return $!=null&&$.loading?Z.createElement("div",{className:rs(H==null?void 0:H.loader,(be=m==null?void 0:m.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":ae==="loading"},$.loading):K?Z.createElement("div",{className:rs(H==null?void 0:H.loader,(Ue=m==null?void 0:m.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":ae==="loading"},K):Z.createElement(P2,{className:rs(H==null?void 0:H.loader,(xe=m==null?void 0:m.classNames)==null?void 0:xe.loader),visible:ae==="loading"})}return Z.createElement("li",{tabIndex:0,ref:se,className:rs(P,Be,H==null?void 0:H.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[ae],(n=m==null?void 0:m.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:T,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":ge,"data-promise":!!m.promise,"data-swiped":ye,"data-removed":me,"data-visible":W,"data-y-position":Xi,"data-x-position":ci,"data-index":g,"data-front":X,"data-swiping":pe,"data-dismissible":ke,"data-type":ae,"data-invert":Ee,"data-swipe-out":de,"data-swipe-direction":L,"data-expanded":!!(w||te&&ge),style:{"--index":g,"--toasts-before":g,"--z-index":v.length-g,"--offset":`${me?ns:En.current}px`,"--initial-height":te?"auto":`${zn}px`,..._,...m.style},onDragEnd:()=>{Ne(!1),le(null),Fn.current=null},onPointerDown:be=>{ut||!ke||(U.current=new Date,nn(En.current),be.target.setPointerCapture(be.pointerId),be.target.tagName!=="BUTTON"&&(Ne(!0),Fn.current={x:be.clientX,y:be.clientY}))},onPointerUp:()=>{var be,Ue,xe,Me;if(de||!ke)return;Fn.current=null;let Ze=Number(((be=se.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),hr=Number(((Ue=se.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),li=new Date().getTime()-((xe=U.current)==null?void 0:xe.getTime()),ss=Q==="x"?Ze:hr,fr=Math.abs(ss)/li;if(Math.abs(ss)>=eP||fr>.11){nn(En.current),(Me=m.onDismiss)==null||Me.call(m,m),ne(Q==="x"?Ze>0?"right":"left":hr>0?"down":"up"),Fe(),oe(!0),Je(!1);return}Ne(!1),le(null)},onPointerMove:be=>{var Ue,xe,Me,Ze;if(!Fn.current||!ke||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;let hr=be.clientY-Fn.current.y,li=be.clientX-Fn.current.x,ss=(xe=t.swipeDirections)!=null?xe:nP(F);!Q&&(Math.abs(li)>1||Math.abs(hr)>1)&&le(Math.abs(li)>Math.abs(hr)?"x":"y");let fr={x:0,y:0};Q==="y"?(ss.includes("top")||ss.includes("bottom"))&&(ss.includes("top")&&hr<0||ss.includes("bottom")&&hr>0)&&(fr.y=hr):Q==="x"&&(ss.includes("left")||ss.includes("right"))&&(ss.includes("left")&&li<0||ss.includes("right")&&li>0)&&(fr.x=li),(Math.abs(fr.x)>0||Math.abs(fr.y)>0)&&Je(!0),(Me=se.current)==null||Me.style.setProperty("--swipe-amount-x",`${fr.x}px`),(Ze=se.current)==null||Ze.style.setProperty("--swipe-amount-y",`${fr.y}px`)}},An&&!m.jsx?Z.createElement("button",{"aria-label":M,"data-disabled":ut,"data-close-button":!0,onClick:ut||!ke?()=>{}:()=>{var be;Fe(),(be=m.onDismiss)==null||be.call(m,m)},className:rs(H==null?void 0:H.closeButton,(r=m==null?void 0:m.classNames)==null?void 0:r.closeButton)},(i=$==null?void 0:$.close)!=null?i:B2):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Z.createElement(Z.Fragment,null,ae||m.icon||m.promise?Z.createElement("div",{"data-icon":"",className:rs(H==null?void 0:H.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ut():null,m.type!=="loading"?m.icon||($==null?void 0:$[ae])||j2(ae):null):null,Z.createElement("div",{"data-content":"",className:rs(H==null?void 0:H.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},Z.createElement("div",{"data-title":"",className:rs(H==null?void 0:H.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?Z.createElement("div",{"data-description":"",className:rs(j,Gt,H==null?void 0:H.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&Hl(m.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:be=>{var Ue,xe;Hl(m.cancel)&&ke&&((xe=(Ue=m.cancel).onClick)==null||xe.call(Ue,be),Fe())},className:rs(H==null?void 0:H.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&Hl(m.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:be=>{var Ue,xe;Hl(m.action)&&((xe=(Ue=m.action).onClick)==null||xe.call(Ue,be),!be.defaultPrevented&&Fe())},className:rs(H==null?void 0:H.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function z0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function rP(t,e){let n={};return[t,e].forEach((s,r)=>{let i=r===1,a=i?"--mobile-offset":"--offset",o=i?J2:X2;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?l(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):l(o)}),n}var iP=S.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:u,theme:h="light",richColors:d,duration:f,style:m,visibleToasts:x=Q2,toastOptions:b,dir:C=z0(),gap:y=W2,loadingIcon:p,icons:g,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w}=t,[E,T]=Z.useState([]),A=Z.useMemo(()=>Array.from(new Set([s].concat(E.filter(Y=>Y.position).map(Y=>Y.position)))),[E,s]),[_,R]=Z.useState([]),[D,P]=Z.useState(!1),[j,B]=Z.useState(!1),[F,O]=Z.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Z.useRef(null),te=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Z.useRef(null),$=Z.useRef(!1),M=Z.useCallback(Y=>{T(Q=>{var le;return(le=Q.find(L=>L.id===Y.id))!=null&&le.delete||yn.dismiss(Y.id),Q.filter(({id:L})=>L!==Y.id)})},[]);return Z.useEffect(()=>yn.subscribe(Y=>{if(Y.dismiss){T(Q=>Q.map(le=>le.id===Y.id?{...le,delete:!0}:le));return}setTimeout(()=>{Ek.flushSync(()=>{T(Q=>{let le=Q.findIndex(L=>L.id===Y.id);return le!==-1?[...Q.slice(0,le),{...Q[le],...Y},...Q.slice(le+1)]:[Y,...Q]})})})}),[]),Z.useEffect(()=>{if(h!=="system"){O(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:Q})=>{O(Q?"dark":"light")})}catch{Y.addListener(({matches:le})=>{try{O(le?"dark":"light")}catch(L){console.error(L)}})}},[h]),Z.useEffect(()=>{E.length<=1&&P(!1)},[E]),Z.useEffect(()=>{let Y=Q=>{var le,L;r.every(ne=>Q[ne]||Q.code===ne)&&(P(!0),(le=K.current)==null||le.focus()),Q.code==="Escape"&&(document.activeElement===K.current||(L=K.current)!=null&&L.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[r]),Z.useEffect(()=>{if(K.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,$.current=!1)}},[K.current]),Z.createElement("section",{ref:e,"aria-label":`${v} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((Y,Q)=>{var le;let[L,ne]=Y.split("-");return E.length?Z.createElement("ol",{key:Y,dir:C==="auto"?z0():C,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":L,"data-lifted":D&&E.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((le=_[0])==null?void 0:le.height)||0}px`,"--width":`${Z2}px`,"--gap":`${y}px`,...m,...rP(l,u)},onBlur:ge=>{$.current&&!ge.currentTarget.contains(ge.relatedTarget)&&($.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||$.current||($.current=!0,H.current=ge.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{j||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},E.filter(ge=>!ge.position&&Q===0||ge.position===Y).map((ge,re)=>{var me,he;return Z.createElement(sP,{key:ge.id,icons:g,index:re,toast:ge,defaultRichColors:d,duration:(me=b==null?void 0:b.duration)!=null?me:f,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:x,closeButton:(he=b==null?void 0:b.closeButton)!=null?he:a,interacting:j,position:Y,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:M,toasts:E.filter(pe=>pe.position==ge.position),heights:_.filter(pe=>pe.position==ge.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:p,expanded:D,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});const zE=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xh=S.createContext({}),Sh=S.createContext(null),Ch=typeof document<"u",By=Ch?S.useLayoutEffect:S.useEffect,VE=S.createContext({strict:!1}),zy=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),aP="framerAppearId",FE="data-"+zy(aP);function oP(t,e,n,s){const{visualElement:r}=S.useContext(xh),i=S.useContext(VE),a=S.useContext(Sh),o=S.useContext(zE).reducedMotion,l=S.useRef();s=s||i.renderer,!l.current&&s&&(l.current=s(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;S.useInsertionEffect(()=>{u&&u.update(n,a)});const h=S.useRef(!!(n[FE]&&!window.HandoffComplete));return By(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),S.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function ba(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function cP(t,e,n){return S.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ba(n)&&(n.current=s))},[e])}function Lc(t){return typeof t=="string"||Array.isArray(t)}function wh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Vy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fy=["initial",...Vy];function Th(t){return wh(t.animate)||Fy.some(e=>Lc(t[e]))}function GE(t){return!!(Th(t)||t.variants)}function lP(t,e){if(Th(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Lc(n)?n:void 0,animate:Lc(s)?s:void 0}}return t.inherit!==!1?e:{}}function uP(t){const{initial:e,animate:n}=lP(t,S.useContext(xh));return S.useMemo(()=>({initial:e,animate:n}),[V0(e),V0(n)])}function V0(t){return Array.isArray(t)?t.join(" "):t}const F0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hc={};for(const t in F0)Hc[t]={isEnabled:e=>F0[t].some(n=>!!e[n])};function dP(t){for(const e in t)Hc[e]={...Hc[e],...t[e]}}const Gy=S.createContext({}),qE=S.createContext({}),hP=Symbol.for("motionComponentSymbol");function fP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&dP(t);function i(o,l){let u;const h={...S.useContext(zE),...o,layoutId:mP(o)},{isStatic:d}=h,f=uP(o),m=s(o,d);if(!d&&Ch){f.visualElement=oP(r,m,h,e);const x=S.useContext(qE),b=S.useContext(VE).strict;f.visualElement&&(u=f.visualElement.loadFeatures(h,b,t,x))}return S.createElement(xh.Provider,{value:f},u&&f.visualElement?S.createElement(u,{visualElement:f.visualElement,...h}):null,n(r,o,cP(m,f.visualElement,l),m,d,f.visualElement))}const a=S.forwardRef(i);return a[hP]=r,a}function mP({layoutId:t}){const e=S.useContext(Gy).id;return e&&t!==void 0?e+"-"+t:t}function gP(t){function e(s,r={}){return fP(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const pP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qy(t){return typeof t!="string"||t.includes("-")?!1:!!(pP.indexOf(t)>-1||/[A-Z]/.test(t))}const xd={};function yP(t){Object.assign(xd,t)}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yi=new Set(ol);function KE(t,{layout:e,layoutId:n}){return Yi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xd[t]||t==="opacity")}const Cn=t=>!!(t&&t.getVelocity),vP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bP=ol.length;function xP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let i="";for(let a=0;a<bP;a++){const o=ol[a];if(t[o]!==void 0){const l=vP[o]||o;i+=`${l}(${t[o]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(t,s?"":i):n&&s&&(i="none"),i}const $E=t=>e=>typeof e=="string"&&e.startsWith(t),YE=$E("--"),rg=$E("var(--"),SP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,CP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ei=(t,e,n)=>Math.min(Math.max(n,t),e),Qi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...Qi,transform:t=>ei(0,1,t)},Bl={...Qi,default:1},lc=t=>Math.round(t*1e5)/1e5,Ah=/(-)?([\d]*\.?[\d])+/g,QE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cl(t){return typeof t=="string"}const ll=t=>({test:e=>cl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sr=ll("deg"),Is=ll("%"),we=ll("px"),TP=ll("vh"),AP=ll("vw"),G0={...Is,parse:t=>Is.parse(t)/100,transform:t=>Is.transform(t*100)},q0={...Qi,transform:Math.round},XE={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,size:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,rotate:Sr,rotateX:Sr,rotateY:Sr,rotateZ:Sr,scale:Bl,scaleX:Bl,scaleY:Bl,scaleZ:Bl,skew:Sr,skewX:Sr,skewY:Sr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cc,originX:G0,originY:G0,originZ:we,zIndex:q0,fillOpacity:cc,strokeOpacity:cc,numOctaves:q0};function Ky(t,e,n,s){const{style:r,vars:i,transform:a,transformOrigin:o}=t;let l=!1,u=!1,h=!0;for(const d in e){const f=e[d];if(YE(d)){i[d]=f;continue}const m=XE[d],x=CP(f,m);if(Yi.has(d)){if(l=!0,a[d]=x,!h)continue;f!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(u=!0,o[d]=x):r[d]=x}if(e.transform||(l||s?r.transform=xP(t.transform,n,h,s):r.transform&&(r.transform="none")),u){const{originX:d="50%",originY:f="50%",originZ:m=0}=o;r.transformOrigin=`${d} ${f} ${m}`}}const $y=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JE(t,e,n){for(const s in e)!Cn(e[s])&&!KE(s,n)&&(t[s]=e[s])}function EP({transformTemplate:t},e,n){return S.useMemo(()=>{const s=$y();return Ky(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function _P(t,e,n){const s=t.style||{},r={};return JE(r,s,t),Object.assign(r,EP(t,e,n)),t.transformValues?t.transformValues(r):r}function NP(t,e,n){const s={},r=_P(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const kP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kP.has(t)}let ZE=t=>!Sd(t);function RP(t){t&&(ZE=e=>e.startsWith("on")?!Sd(e):t(e))}try{RP(require("@emotion/is-prop-valid").default)}catch{}function OP(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(ZE(r)||n===!0&&Sd(r)||!e&&!Sd(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function K0(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function IP(t,e,n){const s=K0(e,t.x,t.width),r=K0(n,t.y,t.height);return`${s} ${r}`}const jP={offset:"stroke-dashoffset",array:"stroke-dasharray"},MP={offset:"strokeDashoffset",array:"strokeDasharray"};function PP(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?jP:MP;t[i.offset]=we.transform(-s);const a=we.transform(e),o=we.transform(n);t[i.array]=`${a} ${o}`}function Yy(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},h,d,f){if(Ky(t,u,h,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x,dimensions:b}=t;m.transform&&(b&&(x.transform=m.transform),delete m.transform),b&&(r!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=IP(b,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&PP(m,a,o,l,!1)}const WE=()=>({...$y(),attrs:{}}),Qy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DP(t,e,n,s){const r=S.useMemo(()=>{const i=WE();return Yy(i,e,{enableHardwareAcceleration:!1},Qy(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};JE(i,t.style,t),r.style={...i,...r.style}}return r}function UP(t=!1){return(n,s,r,{latestValues:i},a)=>{const l=(qy(n)?DP:NP)(s,i,a,n),h={...OP(s,typeof n=="string",t),...l,ref:r},{children:d}=s,f=S.useMemo(()=>Cn(d)?d.get():d,[d]);return S.createElement(n,{...h,children:f})}}function e_(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const t_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n_(t,e,n,s){e_(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(t_.has(r)?r:zy(r),e.attrs[r])}function Xy(t,e){const{style:n}=t,s={};for(const r in n)(Cn(n[r])||e.style&&Cn(e.style[r])||KE(r,t))&&(s[r]=n[r]);return s}function s_(t,e){const n=Xy(t,e);for(const s in t)if(Cn(t[s])||Cn(e[s])){const r=ol.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function Jy(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function r_(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Cd=t=>Array.isArray(t),LP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),HP=t=>Cd(t)?t[t.length-1]||0:t;function pu(t){const e=Cn(t)?t.get():t;return LP(e)?e.toValue():e}function BP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,i){const a={latestValues:zP(s,r,i,t),renderState:e()};return n&&(a.mount=o=>n(s,o,a)),a}const i_=t=>(e,n)=>{const s=S.useContext(xh),r=S.useContext(Sh),i=()=>BP(t,e,s,r);return n?i():r_(i)};function zP(t,e,n,s){const r={},i=s(t,{});for(const f in i)r[f]=pu(i[f]);let{initial:a,animate:o}=t;const l=Th(t),u=GE(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;return d&&typeof d!="boolean"&&!wh(d)&&(Array.isArray(d)?d:[d]).forEach(m=>{const x=Jy(t,m);if(!x)return;const{transitionEnd:b,transition:C,...y}=x;for(const p in y){let g=y[p];if(Array.isArray(g)){const v=h?g.length-1:0;g=g[v]}g!==null&&(r[p]=g)}for(const p in b)r[p]=b[p]}),r}const yt=t=>t;class $0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function VP(t){let e=new $0,n=new $0,s=0,r=!1,i=!1;const a=new WeakSet,o={schedule:(l,u=!1,h=!1)=>{const d=h&&r,f=d?e:n;return u&&a.add(l),f.add(l)&&d&&r&&(s=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let u=0;u<s;u++){const h=e.order[u];h(l),a.has(h)&&(o.schedule(h),t())}r=!1,i&&(i=!1,o.process(l))}};return o}const zl=["prepare","read","update","preRender","render","postRender"],FP=40;function GP(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=zl.reduce((d,f)=>(d[f]=VP(()=>n=!0),d),{}),a=d=>i[d].process(r),o=()=>{const d=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(d-r.timestamp,FP),1),r.timestamp=d,r.isProcessing=!0,zl.forEach(a),r.isProcessing=!1,n&&e&&(s=!1,t(o))},l=()=>{n=!0,s=!0,r.isProcessing||t(o)};return{schedule:zl.reduce((d,f)=>{const m=i[f];return d[f]=(x,b=!1,C=!1)=>(n||l(),m.schedule(x,b,C)),d},{}),cancel:d=>zl.forEach(f=>i[f].cancel(d)),state:r,steps:i}}const{schedule:tt,cancel:lr,state:Zt,steps:wf}=GP(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0),qP={useVisualState:i_({scrapeMotionValuesFromProps:s_,createRenderState:WE,onMount:(t,e,{renderState:n,latestValues:s})=>{tt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),tt.render(()=>{Yy(n,s,{enableHardwareAcceleration:!1},Qy(e.tagName),t.transformTemplate),n_(e,n)})}})},KP={useVisualState:i_({scrapeMotionValuesFromProps:Xy,createRenderState:$y})};function $P(t,{forwardMotionProps:e=!1},n,s){return{...qy(t)?qP:KP,preloadedFeatures:n,useRender:UP(e),createVisualElement:s,Component:t}}function Js(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const a_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Eh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const YP=t=>e=>a_(e)&&t(e,Eh(e));function er(t,e,n,s){return Js(t,e,YP(n),s)}const QP=(t,e)=>n=>e(t(n)),Yr=(...t)=>t.reduce(QP);function o_(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Y0=o_("dragHorizontal"),Q0=o_("dragVertical");function c_(t){let e=!1;if(t==="y")e=Q0();else if(t==="x")e=Y0();else{const n=Y0(),s=Q0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function l_(){const t=c_(!0);return t?(t(),!1):!0}class ii{constructor(e){this.isMounted=!1,this.node=e}update(){}}function X0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,a)=>{if(i.pointerType==="touch"||l_())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[s]&&tt.update(()=>o[s](i,a))};return er(t.current,n,r,{passive:!t.getProps()[s]})}class XP extends ii{mount(){this.unmount=Yr(X0(this.node,!0),X0(this.node,!1))}unmount(){}}class JP extends ii{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yr(Js(this.node.current,"focus",()=>this.onFocus()),Js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const u_=(t,e)=>e?t===e?!0:u_(t,e.parentElement):!1;function Tf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Eh(n))}class ZP extends ii{constructor(){super(...arguments),this.removeStartListeners=yt,this.removeEndListeners=yt,this.removeAccessibleListeners=yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=er(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h,globalTapTarget:d}=this.node.getProps();tt.update(()=>{!d&&!u_(this.node.current,o.target)?h&&h(o,l):u&&u(o,l)})},{passive:!(s.onTap||s.onPointerUp)}),a=er(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Yr(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Tf("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&tt.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=Js(this.node.current,"keyup",a),Tf("down",(o,l)=>{this.startPress(o,l)})},n=Js(this.node.current,"keydown",e),s=()=>{this.isPressing&&Tf("cancel",(i,a)=>this.cancelPress(i,a))},r=Js(this.node.current,"blur",s);this.removeAccessibleListeners=Yr(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&tt.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!l_()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&tt.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=er(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=Js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Yr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ig=new WeakMap,Af=new WeakMap,WP=t=>{const e=ig.get(t.target);e&&e(t)},eD=t=>{t.forEach(WP)};function tD({root:t,...e}){const n=t||document;Af.has(n)||Af.set(n,{});const s=Af.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(eD,{root:t,...e})),s[r]}function nD(t,e,n){const s=tD(e);return ig.set(t,n),s.observe(t),()=>{ig.delete(t),s.unobserve(t)}}const sD={some:0,all:1};class rD extends ii{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:sD[r]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=u?h:d;f&&f(l)};return nD(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iD(e,n))&&this.startObserver()}unmount(){}}function iD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aD={inView:{Feature:rD},tap:{Feature:ZP},focus:{Feature:JP},hover:{Feature:XP}};function d_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function oD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function cD(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function _h(t,e,n){const s=t.getProps();return Jy(s,e,n!==void 0?n:s.custom,oD(t),cD(t))}let Zy=yt;const Oi=t=>t*1e3,tr=t=>t/1e3,lD={current:!1},h_=t=>Array.isArray(t)&&typeof t[0]=="number";function f_(t){return!!(!t||typeof t=="string"&&m_[t]||h_(t)||Array.isArray(t)&&t.every(f_))}const Ho=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,m_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function g_(t){if(t)return h_(t)?Ho(t):Array.isArray(t)?t.map(g_):m_[t]}function uD(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:a="loop",ease:o,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=g_(o);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function dD(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const p_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hD=1e-7,fD=12;function mD(t,e,n,s,r){let i,a,o=0;do a=e+(n-e)/2,i=p_(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>hD&&++o<fD);return a}function ul(t,e,n,s){if(t===e&&n===s)return yt;const r=i=>mD(i,0,1,t,n);return i=>i===0||i===1?i:p_(r(i),e,s)}const gD=ul(.42,0,1,1),pD=ul(0,0,.58,1),y_=ul(.42,0,.58,1),yD=t=>Array.isArray(t)&&typeof t[0]!="number",v_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b_=t=>e=>1-t(1-e),Wy=t=>1-Math.sin(Math.acos(t)),x_=b_(Wy),vD=v_(Wy),S_=ul(.33,1.53,.69,.99),ev=b_(S_),bD=v_(ev),xD=t=>(t*=2)<1?.5*ev(t):.5*(2-Math.pow(2,-10*(t-1))),SD={linear:yt,easeIn:gD,easeInOut:y_,easeOut:pD,circIn:Wy,circInOut:vD,circOut:x_,backIn:ev,backInOut:bD,backOut:S_,anticipate:xD},J0=t=>{if(Array.isArray(t)){Zy(t.length===4);const[e,n,s,r]=t;return ul(e,n,s,r)}else if(typeof t=="string")return SD[t];return t},tv=(t,e)=>n=>!!(cl(n)&&wP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),C_=(t,e,n)=>s=>{if(!cl(s))return s;const[r,i,a,o]=s.match(Ah);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},CD=t=>ei(0,255,t),Ef={...Qi,transform:t=>Math.round(CD(t))},Ci={test:tv("rgb","red"),parse:C_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ef.transform(t)+", "+Ef.transform(e)+", "+Ef.transform(n)+", "+lc(cc.transform(s))+")"};function wD(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const ag={test:tv("#"),parse:wD,transform:Ci.transform},xa={test:tv("hsl","hue"),parse:C_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Is.transform(lc(e))+", "+Is.transform(lc(n))+", "+lc(cc.transform(s))+")"},an={test:t=>Ci.test(t)||ag.test(t)||xa.test(t),parse:t=>Ci.test(t)?Ci.parse(t):xa.test(t)?xa.parse(t):ag.parse(t),transform:t=>cl(t)?t:t.hasOwnProperty("red")?Ci.transform(t):xa.transform(t)},ht=(t,e,n)=>-n*t+n*e+t;function _f(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=_f(l,o,t+1/3),i=_f(l,o,t),a=_f(l,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const Nf=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},AD=[ag,Ci,xa],ED=t=>AD.find(e=>e.test(t));function Z0(t){const e=ED(t);let n=e.parse(t);return e===xa&&(n=TD(n)),n}const w_=(t,e)=>{const n=Z0(t),s=Z0(e),r={...n};return i=>(r.red=Nf(n.red,s.red,i),r.green=Nf(n.green,s.green,i),r.blue=Nf(n.blue,s.blue,i),r.alpha=ht(n.alpha,s.alpha,i),Ci.transform(r))};function _D(t){var e,n;return isNaN(t)&&cl(t)&&(((e=t.match(Ah))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(QE))===null||n===void 0?void 0:n.length)||0)>0}const T_={regex:SP,countKey:"Vars",token:"${v}",parse:yt},A_={regex:QE,countKey:"Colors",token:"${c}",parse:an.parse},E_={regex:Ah,countKey:"Numbers",token:"${n}",parse:Qi.parse};function kf(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function wd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&kf(n,T_),kf(n,A_),kf(n,E_),n}function __(t){return wd(t).values}function N_(t){const{values:e,numColors:n,numVars:s,tokenised:r}=wd(t),i=e.length;return a=>{let o=r;for(let l=0;l<i;l++)l<s?o=o.replace(T_.token,a[l]):l<s+n?o=o.replace(A_.token,an.transform(a[l])):o=o.replace(E_.token,lc(a[l]));return o}}const ND=t=>typeof t=="number"?0:t;function kD(t){const e=__(t);return N_(t)(e.map(ND))}const ti={test:_D,parse:__,createTransformer:N_,getAnimatableNone:kD},k_=(t,e)=>n=>`${n>0?e:t}`;function R_(t,e){return typeof t=="number"?n=>ht(t,e,n):an.test(t)?w_(t,e):t.startsWith("var(")?k_(t,e):I_(t,e)}const O_=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,a)=>R_(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},RD=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=R_(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},I_=(t,e)=>{const n=ti.createTransformer(e),s=wd(t),r=wd(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Yr(O_(s.values,r.values),n):k_(t,e)},Bc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},W0=(t,e)=>n=>ht(t,e,n);function OD(t){return typeof t=="number"?W0:typeof t=="string"?an.test(t)?w_:I_:Array.isArray(t)?O_:typeof t=="object"?RD:W0}function ID(t,e,n){const s=[],r=n||OD(t[0]),i=t.length-1;for(let a=0;a<i;a++){let o=r(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||yt:e;o=Yr(l,o)}s.push(o)}return s}function j_(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Zy(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ID(e,s,r),o=a.length,l=u=>{let h=0;if(o>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const d=Bc(t[h],t[h+1],u);return a[h](d)};return n?u=>l(ei(t[0],t[i-1],u)):l}function jD(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Bc(0,e,s);t.push(ht(n,1,r))}}function MD(t){const e=[0];return jD(e,t.length-1),e}function PD(t,e){return t.map(n=>n*e)}function DD(t,e){return t.map(()=>e||y_).splice(0,t.length-1)}function Td({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=yD(s)?s.map(J0):J0(s),i={done:!1,value:e[0]},a=PD(n&&n.length===e.length?n:MD(e),t),o=j_(a,e,{ease:Array.isArray(r)?r:DD(e,r)});return{calculatedDuration:t,next:l=>(i.value=o(l),i.done=l>=t,i)}}function M_(t,e){return e?t*(1e3/e):0}const UD=5;function P_(t,e,n){const s=Math.max(e-UD,0);return M_(n-t(s),e-s)}const Rf=.001,LD=.01,HD=10,BD=.05,zD=1;function VD({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,a=1-e;a=ei(BD,zD,a),t=ei(LD,HD,tr(t)),a<1?(r=u=>{const h=u*a,d=h*t,f=h-n,m=og(u,a),x=Math.exp(-d);return Rf-f/m*x},i=u=>{const d=u*a*t,f=d*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-d),b=og(Math.pow(u,2),a);return(-r(u)+Rf>0?-1:1)*((f-m)*x)/b}):(r=u=>{const h=Math.exp(-u*t),d=(u-n)*t+1;return-Rf+h*d},i=u=>{const h=Math.exp(-u*t),d=(n-u)*(t*t);return h*d});const o=5/t,l=GD(r,i,o);if(t=Oi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const FD=12;function GD(t,e,n){let s=n;for(let r=1;r<FD;r++)s=s-t(s)/e(s);return s}function og(t,e){return t*Math.sqrt(1-e*e)}const qD=["duration","bounce"],KD=["stiffness","damping","mass"];function ex(t,e){return e.some(n=>t[n]!==void 0)}function $D(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!ex(t,KD)&&ex(t,qD)){const n=VD(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function D_({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],a={done:!1,value:r},{stiffness:o,damping:l,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=$D({...s,velocity:-tr(s.velocity||0)}),m=d||0,x=l/(2*Math.sqrt(o*u)),b=i-r,C=tr(Math.sqrt(o/u)),y=Math.abs(b)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(x<1){const g=og(C,x);p=v=>{const w=Math.exp(-x*C*v);return i-w*((m+x*C*b)/g*Math.sin(g*v)+b*Math.cos(g*v))}}else if(x===1)p=g=>i-Math.exp(-C*g)*(b+(m+C*b)*g);else{const g=C*Math.sqrt(x*x-1);p=v=>{const w=Math.exp(-x*C*v),E=Math.min(g*v,300);return i-w*((m+x*C*b)*Math.sinh(E)+g*b*Math.cosh(E))/g}}return{calculatedDuration:f&&h||null,next:g=>{const v=p(g);if(f)a.done=g>=h;else{let w=m;g!==0&&(x<1?w=P_(p,g,v):w=0);const E=Math.abs(w)<=n,T=Math.abs(i-v)<=e;a.done=E&&T}return a.value=a.done?i:v,a}}}function tx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},m=A=>o!==void 0&&A<o||l!==void 0&&A>l,x=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let b=n*e;const C=d+b,y=a===void 0?C:a(C);y!==C&&(b=y-d);const p=A=>-b*Math.exp(-A/s),g=A=>y+p(A),v=A=>{const _=p(A),R=g(A);f.done=Math.abs(_)<=u,f.value=f.done?y:R};let w,E;const T=A=>{m(f.value)&&(w=A,E=D_({keyframes:[f.value,x(f.value)],velocity:P_(g,A,f.value),damping:r,stiffness:i,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:A=>{let _=!1;return!E&&w===void 0&&(_=!0,v(A),T(A)),w!==void 0&&A>w?E.next(A-w):(!_&&v(A),f)}}}const YD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>tt.update(e,!0),stop:()=>lr(e),now:()=>Zt.isProcessing?Zt.timestamp:performance.now()}},nx=2e4;function sx(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<nx;)e+=n,s=t.next(e);return e>=nx?1/0:e}const QD={decay:tx,inertia:tx,tween:Td,keyframes:Td,spring:D_};function Ad({autoplay:t=!0,delay:e=0,driver:n=YD,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:d,...f}){let m=1,x=!1,b,C;const y=()=>{C=new Promise(M=>{b=M})};y();let p;const g=QD[r]||Td;let v;g!==Td&&typeof s[0]!="number"&&(v=j_([0,100],s,{clamp:!1}),s=[0,100]);const w=g({...f,keyframes:s});let E;o==="mirror"&&(E=g({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let T="idle",A=null,_=null,R=null;w.calculatedDuration===null&&i&&(w.calculatedDuration=sx(w));const{calculatedDuration:D}=w;let P=1/0,j=1/0;D!==null&&(P=D+a,j=P*(i+1)-a);let B=0;const F=M=>{if(_===null)return;m>0&&(_=Math.min(_,M)),m<0&&(_=Math.min(M-j/m,_)),A!==null?B=A:B=Math.round(M-_)*m;const Y=B-e*(m>=0?1:-1),Q=m>=0?Y<0:Y>j;B=Math.max(Y,0),T==="finished"&&A===null&&(B=j);let le=B,L=w;if(i){const me=Math.min(B,j)/P;let he=Math.floor(me),pe=me%1;!pe&&me>=1&&(pe=1),pe===1&&he--,he=Math.min(he,i+1),!!(he%2)&&(o==="reverse"?(pe=1-pe,a&&(pe-=a/P)):o==="mirror"&&(L=E)),le=ei(0,1,pe)*P}const ne=Q?{done:!1,value:s[0]}:L.next(le);v&&(ne.value=v(ne.value));let{done:ge}=ne;!Q&&D!==null&&(ge=m>=0?B>=j:B<=0);const re=A===null&&(T==="finished"||T==="running"&&ge);return d&&d(ne.value),re&&te(),ne},O=()=>{p&&p.stop(),p=void 0},K=()=>{T="idle",O(),b(),y(),_=R=null},te=()=>{T="finished",h&&h(),O(),b()},H=()=>{if(x)return;p||(p=n(F));const M=p.now();l&&l(),A!==null?_=M-A:(!_||T==="finished")&&(_=M),T==="finished"&&y(),R=_,A=null,T="running",p.start()};t&&H();const $={then(M,Y){return C.then(M,Y)},get time(){return tr(B)},set time(M){M=Oi(M),B=M,A!==null||!p||m===0?A=M:_=p.now()-M/m},get duration(){const M=w.calculatedDuration===null?sx(w):w.calculatedDuration;return tr(M)},get speed(){return m},set speed(M){M===m||!p||(m=M,$.time=tr(B))},get state(){return T},play:H,pause:()=>{T="paused",A=B},stop:()=>{x=!0,T!=="idle"&&(T="idle",u&&u(),K())},cancel:()=>{R!==null&&F(R),K()},complete:()=>{T="finished"},sample:M=>(_=0,F(M))};return $}function XD(t){let e;return()=>(e===void 0&&(e=t()),e)}const JD=XD(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ZD=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vl=10,WD=2e4,eU=(t,e)=>e.type==="spring"||t==="backgroundColor"||!f_(e.ease);function tU(t,e,{onUpdate:n,onComplete:s,...r}){if(!(JD()&&ZD.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,o,l,u=!1;const h=()=>{l=new Promise(g=>{o=g})};h();let{keyframes:d,duration:f=300,ease:m,times:x}=r;if(eU(e,r)){const g=Ad({...r,repeat:0,delay:0});let v={done:!1,value:d[0]};const w=[];let E=0;for(;!v.done&&E<WD;)v=g.sample(E),w.push(v.value),E+=Vl;x=void 0,d=w,f=E-Vl,m="linear"}const b=uD(t.owner.current,e,d,{...r,duration:f,ease:m,times:x}),C=()=>{u=!1,b.cancel()},y=()=>{u=!0,tt.update(C),o(),h()};return b.onfinish=()=>{u||(t.set(dD(d,r)),s&&s(),y())},{then(g,v){return l.then(g,v)},attachTimeline(g){return b.timeline=g,b.onfinish=null,yt},get time(){return tr(b.currentTime||0)},set time(g){b.currentTime=Oi(g)},get speed(){return b.playbackRate},set speed(g){b.playbackRate=g},get duration(){return tr(f)},play:()=>{a||(b.play(),lr(C))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:g}=b;if(g){const v=Ad({...r,autoplay:!1});t.setWithVelocity(v.sample(g-Vl).value,v.sample(g).value,Vl)}y()},complete:()=>{u||b.finish()},cancel:y}}function nU({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:yt,pause:yt,stop:yt,then:i=>(i(),Promise.resolve()),cancel:yt,complete:yt});return e?Ad({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const sU={type:"spring",stiffness:500,damping:25,restSpeed:10},rU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iU={type:"keyframes",duration:.8},aU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oU=(t,{keyframes:e})=>e.length>2?iU:Yi.has(t)?t.startsWith("scale")?rU(e[1]):sU:aU,cg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ti.test(e)||e==="0")&&!e.startsWith("url(")),cU=new Set(["brightness","contrast","saturate","opacity"]);function lU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Ah)||[];if(!s)return t;const r=n.replace(s,"");let i=cU.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const uU=/([a-z-]*)\(.*?\)/g,lg={...ti,getAnimatableNone:t=>{const e=t.match(uU);return e?e.map(lU).join(" "):t}},dU={...XE,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:lg,WebkitFilter:lg},nv=t=>dU[t];function U_(t,e){let n=nv(t);return n!==lg&&(n=ti),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const L_=t=>/^0[^.\s]+$/.test(t);function hU(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||L_(t)}function fU(t,e,n,s){const r=cg(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=s.from!==void 0?s.from:t.get();let o;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),hU(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(r&&l.length&&o)for(let u=0;u<l.length;u++){const h=l[u];i[h]=U_(e,o)}return i}function mU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function sv(t,e){return t[e]||t.default||t}const gU={skipAnimations:!1},rv=(t,e,n,s={})=>r=>{const i=sv(s,t)||{},a=i.delay||s.delay||0;let{elapsed:o=0}=s;o=o-Oi(a);const l=fU(e,t,n,i),u=l[0],h=l[l.length-1],d=cg(t,u),f=cg(t,h);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:x=>{e.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(mU(i)||(m={...m,...oU(t,m)}),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),!d||!f||lD.current||i.type===!1||gU.skipAnimations)return nU(m);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=tU(e,t,m);if(x)return x}return Ad(m)};function Ed(t){return!!(Cn(t)&&t.add)}const H_=t=>/^\-?\d*\.?\d+$/.test(t);function iv(t,e){t.indexOf(e)===-1&&t.push(e)}function av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ov{constructor(){this.subscriptions=[]}add(e){return iv(this.subscriptions,e),()=>av(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pU=t=>!isNaN(parseFloat(t));class yU{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:a}=Zt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=pU(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ov);const s=this.events[e].add(n);return e==="change"?()=>{s(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?M_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ya(t,e){return new yU(t,e)}const B_=t=>e=>e.test(t),vU={test:t=>t==="auto",parse:t=>t},z_=[Qi,we,Is,Sr,AP,TP,vU],To=t=>z_.find(B_(t)),bU=[...z_,an,ti],xU=t=>bU.find(B_(t));function SU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ya(n))}function CU(t,e){const n=_h(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const a in i){const o=HP(i[a]);SU(t,a,o)}}function wU(t,e,n){var s,r;const i=Object.keys(e).filter(o=>!t.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const l=i[o],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(r=(s=n[l])!==null&&s!==void 0?s:t.readValue(l))!==null&&r!==void 0?r:e[l]),h!=null&&(typeof h=="string"&&(H_(h)||L_(h))?h=parseFloat(h):!xU(h)&&ti.test(u)&&(h=U_(l,u)),t.addValue(l,Ya(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function TU(t,e){return e?(e[t]||e.default||e).from:void 0}function AU(t,e,n){const s={};for(const r in t){const i=TU(r,e);if(i!==void 0)s[r]=i;else{const a=n.getValue(r);a&&(s[r]=a.get())}}return s}function EU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function _U(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function V_(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");s&&(i=s);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const d in o){const f=t.getValue(d),m=o[d];if(!f||m===void 0||h&&EU(h,d))continue;const x={delay:n,elapsed:0,...sv(i||{},d)};if(window.HandoffAppearAnimations){const y=t.getProps()[FE];if(y){const p=window.HandoffAppearAnimations(y,d,f,tt);p!==null&&(x.elapsed=p,x.isHandoff=!0)}}let b=!x.isHandoff&&!_U(f,m);if(x.type==="spring"&&(f.getVelocity()||x.velocity)&&(b=!1),f.animation&&(b=!1),b)continue;f.start(rv(d,f,m,t.shouldReduceMotion&&Yi.has(d)?{type:!1}:x));const C=f.animation;Ed(l)&&(l.add(d),C.then(()=>l.remove(d))),u.push(C)}return a&&Promise.all(u).then(()=>{a&&CU(t,a)}),u}function ug(t,e,n={}){const s=_h(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(V_(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=r;return NU(t,e,u+l,h,d,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[l,u]=o==="beforeChildren"?[i,a]:[a,i];return l().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function NU(t,e,n=0,s=0,r=1,i){const a=[],o=(t.variantChildren.size-1)*s,l=r===1?(u=0)=>u*s:(u=0)=>o-u*s;return Array.from(t.variantChildren).sort(kU).forEach((u,h)=>{u.notify("AnimationStart",e),a.push(ug(u,e,{...i,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function kU(t,e){return t.sortNodePosition(e)}function RU(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>ug(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=ug(t,e,n);else{const r=typeof e=="function"?_h(t,e,n.custom):e;s=Promise.all(V_(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const OU=[...Vy].reverse(),IU=Vy.length;function jU(t){return e=>Promise.all(e.map(({animation:n,options:s})=>RU(t,n,s)))}function MU(t){let e=jU(t);const n=DU();let s=!0;const r=(l,u)=>{const h=_h(t,u);if(h){const{transition:d,transitionEnd:f,...m}=h;l={...l,...m,...f}}return l};function i(l){e=l(t)}function a(l,u){const h=t.getProps(),d=t.getVariantContext(!0)||{},f=[],m=new Set;let x={},b=1/0;for(let y=0;y<IU;y++){const p=OU[y],g=n[p],v=h[p]!==void 0?h[p]:d[p],w=Lc(v),E=p===u?g.isActive:null;E===!1&&(b=y);let T=v===d[p]&&v!==h[p]&&w;if(T&&s&&t.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...x},!g.isActive&&E===null||!v&&!g.prevProp||wh(v)||typeof v=="boolean")continue;let _=PU(g.prevProp,v)||p===u&&g.isActive&&!T&&w||y>b&&w,R=!1;const D=Array.isArray(v)?v:[v];let P=D.reduce(r,{});E===!1&&(P={});const{prevResolvedValues:j={}}=g,B={...j,...P},F=O=>{_=!0,m.has(O)&&(R=!0,m.delete(O)),g.needsAnimating[O]=!0};for(const O in B){const K=P[O],te=j[O];if(x.hasOwnProperty(O))continue;let H=!1;Cd(K)&&Cd(te)?H=!d_(K,te):H=K!==te,H?K!==void 0?F(O):m.add(O):K!==void 0&&m.has(O)?F(O):g.protectedKeys[O]=!0}g.prevProp=v,g.prevResolvedValues=P,g.isActive&&(x={...x,...P}),s&&t.blockInitialAnimation&&(_=!1),_&&(!T||R)&&f.push(...D.map(O=>({animation:O,options:{type:p,...l}})))}if(m.size){const y={};m.forEach(p=>{const g=t.getBaseTarget(p);g!==void 0&&(y[p]=g)}),f.push({animation:y})}let C=!!f.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),s=!1,C?e(f):Promise.resolve()}function o(l,u,h){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var x;return(x=m.animationState)===null||x===void 0?void 0:x.setActive(l,u)}),n[l].isActive=u;const f=a(h,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n}}function PU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!d_(e,t):!1}function di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DU(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class UU extends ii{constructor(e){super(e),e.animationState||(e.animationState=MU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),wh(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let LU=0;class HU extends ii{constructor(){super(...arguments),this.id=LU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const BU={animation:{Feature:UU},exit:{Feature:HU}},rx=(t,e)=>Math.abs(t-e);function zU(t,e){const n=rx(t.x,e.x),s=rx(t.y,e.y);return Math.sqrt(n**2+s**2)}class F_{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=If(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=zU(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=d,{timestamp:b}=Zt;this.history.push({...x,timestamp:b});const{onStart:C,onMove:y}=this.handlers;f||(C&&C(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Of(f,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=If(d.type==="pointercancel"?this.lastMoveEventInfo:Of(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,C),x&&x(d,C)},!a_(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Eh(e),o=Of(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=Zt;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,If(o,this.history)),this.removeListeners=Yr(er(this.contextWindow,"pointermove",this.handlePointerMove),er(this.contextWindow,"pointerup",this.handlePointerUp),er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lr(this.updatePoint)}}function Of(t,e){return e?{point:e(t.point)}:t}function ix(t,e){return{x:t.x-e.x,y:t.y-e.y}}function If({point:t},e){return{point:t,delta:ix(t,G_(e)),offset:ix(t,VU(e)),velocity:FU(e,.1)}}function VU(t){return t[0]}function G_(t){return t[t.length-1]}function FU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=G_(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Oi(e)));)n--;if(!s)return{x:0,y:0};const i=tr(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Hn(t){return t.max-t.min}function dg(t,e=0,n=.01){return Math.abs(t-e)<=n}function ax(t,e,n,s=.5){t.origin=s,t.originPoint=ht(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),(dg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(dg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,n,s){ax(t.x,e.x,n.x,s?s.originX:void 0),ax(t.y,e.y,n.y,s?s.originY:void 0)}function ox(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function GU(t,e,n){ox(t.x,e.x,n.x),ox(t.y,e.y,n.y)}function cx(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function dc(t,e,n){cx(t.x,e.x,n.x),cx(t.y,e.y,n.y)}function qU(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ht(n,t,s.max):Math.min(t,n)),t}function lx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function KU(t,{top:e,left:n,bottom:s,right:r}){return{x:lx(t.x,n,r),y:lx(t.y,e,s)}}function ux(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function $U(t,e){return{x:ux(t.x,e.x),y:ux(t.y,e.y)}}function YU(t,e){let n=.5;const s=Hn(t),r=Hn(e);return r>s?n=Bc(e.min,e.max-s,t.min):s>r&&(n=Bc(t.min,t.max-r,e.min)),ei(0,1,n)}function QU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hg=.35;function XU(t=hg){return t===!1?t=0:t===!0&&(t=hg),{x:dx(t,"left","right"),y:dx(t,"top","bottom")}}function dx(t,e,n){return{min:hx(t,e),max:hx(t,n)}}function hx(t,e){return typeof t=="number"?t:t[e]||0}const fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sa=()=>({x:fx(),y:fx()}),mx=()=>({min:0,max:0}),St=()=>({x:mx(),y:mx()});function qn(t){return[t("x"),t("y")]}function q_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function JU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ZU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jf(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:n}){return!jf(t)||!jf(e)||!jf(n)}function pi(t){return fg(t)||K_(t)||t.z||t.rotate||t.rotateX||t.rotateY}function K_(t){return gx(t.x)||gx(t.y)}function gx(t){return t&&t!=="0%"}function _d(t,e,n){const s=t-n,r=e*s;return n+r}function px(t,e,n,s,r){return r!==void 0&&(t=_d(t,r,s)),_d(t,n,s)+e}function mg(t,e=0,n=1,s,r){t.min=px(t.min,e,n,s,r),t.max=px(t.max,e,n,s,r)}function $_(t,{x:e,y:n}){mg(t.x,e.translate,e.scale,e.originPoint),mg(t.y,n.translate,n.scale,n.originPoint)}function WU(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let o=0;o<r;o++){i=n[o],a=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ca(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,$_(t,a)),s&&pi(i.latestValues)&&Ca(t,i.latestValues))}e.x=yx(e.x),e.y=yx(e.y)}function yx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Tr(t,e){t.min=t.min+e,t.max=t.max+e}function vx(t,e,[n,s,r]){const i=e[r]!==void 0?e[r]:.5,a=ht(t.min,t.max,i);mg(t,e[n],e[s],a,e.scale)}const eL=["x","scaleX","originX"],tL=["y","scaleY","originY"];function Ca(t,e){vx(t.x,e,eL),vx(t.y,e,tL)}function Y_(t,e){return q_(ZU(t.getBoundingClientRect(),e))}function nL(t,e,n){const s=Y_(t,n),{scroll:r}=e;return r&&(Tr(s.x,r.offset.x),Tr(s.y,r.offset.y)),s}const Q_=({current:t})=>t?t.ownerDocument.defaultView:null,sL=new WeakMap;class rL{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Eh(h,"page").point)},i=(h,d)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=c_(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(C=>{let y=this.getAxisMotionValue(C).get()||0;if(Is.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[C];g&&(y=Hn(g)*(parseFloat(y)/100))}}this.originPoint[C]=y}),x&&tt.update(()=>x(h,d),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:b}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:C}=d;if(m&&this.currentDirection===null){this.currentDirection=iL(C),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",d.point,C),this.updateAxis("y",d.point,C),this.visualElement.render(),b&&b(h,d)},o=(h,d)=>this.stop(h,d),l=()=>qn(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new F_(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Q_(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&tt.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Fl(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=qU(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&ba(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=KU(r.layoutBox,n):this.constraints=!1,this.elastic=XU(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=QU(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ba(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=nL(s,r.root,this.visualElement.getTransformPagePoint());let a=$U(r.layout.layoutBox,i);if(n){const o=n(JU(a));this.hasMutatedConstraints=!!o,o&&(a=q_(o))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=qn(h=>{if(!Fl(h,n,this.currentDirection))return;let d=l&&l[h]||{};a&&(d={min:0,max:0});const f=r?200:1e6,m=r?40:1e7,x={type:"inertia",velocity:s?e[h]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(rv(e,s,0,n))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:s}=this.getProps();if(!Fl(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[n];i.set(e[n]-ht(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ba(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};qn(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();r[a]=YU({min:l,max:l},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),qn(a=>{if(!Fl(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ht(l,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;sL.set(this.visualElement,this);const e=this.visualElement.current,n=er(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();ba(l)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const a=Js(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(qn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=hg,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Fl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aL extends ii{constructor(e){super(e),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new rL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const bx=t=>(e,n)=>{t&&tt.update(()=>t(e,n))};class oL extends ii{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(e){this.session=new F_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:bx(e),onStart:bx(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&tt.update(()=>r(i,a))}}}mount(){this.removePointerDownListener=er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function cL(){const t=S.useContext(Sh);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=S.useId();return S.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const yu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ao={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=xx(t,e.target.x),s=xx(t,e.target.y);return`${n}% ${s}%`}},lL={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=ti.parse(t);if(r.length>5)return s;const i=ti.createTransformer(t),a=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const u=ht(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class uL extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;yP(dL),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),yu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||tt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function X_(t){const[e,n]=cL(),s=S.useContext(Gy);return Z.createElement(uL,{...t,layoutGroup:s,switchLayoutGroup:S.useContext(qE),isPresent:e,safeToRemove:n})}const dL={borderRadius:{...Ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ao,borderTopRightRadius:Ao,borderBottomLeftRadius:Ao,borderBottomRightRadius:Ao,boxShadow:lL},J_=["TopLeft","TopRight","BottomLeft","BottomRight"],hL=J_.length,Sx=t=>typeof t=="string"?parseFloat(t):t,Cx=t=>typeof t=="number"||we.test(t);function fL(t,e,n,s,r,i){r?(t.opacity=ht(0,n.opacity!==void 0?n.opacity:1,mL(s)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,gL(s))):i&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<hL;a++){const o=`border${J_[a]}Radius`;let l=wx(e,o),u=wx(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Cx(l)===Cx(u)?(t[o]=Math.max(ht(Sx(l),Sx(u),s),0),(Is.test(u)||Is.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,s))}function wx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mL=Z_(0,.5,x_),gL=Z_(.5,.95,yt);function Z_(t,e,n){return s=>s<t?0:s>e?1:n(Bc(t,e,s))}function Tx(t,e){t.min=e.min,t.max=e.max}function Gn(t,e){Tx(t.x,e.x),Tx(t.y,e.y)}function Ax(t,e,n,s,r){return t-=e,t=_d(t,1/n,s),r!==void 0&&(t=_d(t,1/r,s)),t}function pL(t,e=0,n=1,s=.5,r,i=t,a=t){if(Is.test(e)&&(e=parseFloat(e),e=ht(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ht(i.min,i.max,s);t===i&&(o-=e),t.min=Ax(t.min,e,n,o,r),t.max=Ax(t.max,e,n,o,r)}function Ex(t,e,[n,s,r],i,a){pL(t,e[n],e[s],e[r],e.scale,i,a)}const yL=["x","scaleX","originX"],vL=["y","scaleY","originY"];function _x(t,e,n,s){Ex(t.x,e,yL,n?n.x:void 0,s?s.x:void 0),Ex(t.y,e,vL,n?n.y:void 0,s?s.y:void 0)}function Nx(t){return t.translate===0&&t.scale===1}function W_(t){return Nx(t.x)&&Nx(t.y)}function bL(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function eN(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function kx(t){return Hn(t.x)/Hn(t.y)}class xL{constructor(){this.members=[]}add(e){iv(this.members,e),e.scheduleRender()}remove(e){if(av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rx(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:h}=n;l&&(s+=`rotate(${l}deg) `),u&&(s+=`rotateX(${u}deg) `),h&&(s+=`rotateY(${h}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(s+=`scale(${a}, ${o})`),s||"none"}const SL=(t,e)=>t.depth-e.depth;class CL{constructor(){this.children=[],this.isDirty=!1}add(e){iv(this.children,e),this.isDirty=!0}remove(e){av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SL),this.isDirty=!1,this.children.forEach(e)}}function wL(t,e){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(lr(s),t(i-e))};return tt.read(s,!0),()=>lr(s)}function TL(t){window.MotionDebug&&window.MotionDebug.record(t)}function AL(t){return t instanceof SVGElement&&t.tagName!=="svg"}function EL(t,e,n){const s=Cn(t)?t:Ya(t);return s.start(rv("",s,e,n)),s.animation}const Ox=["","X","Y","Z"],_L={visibility:"hidden"},Ix=1e3;let NL=0;const yi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function tN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=NL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yi.totalNodes=yi.resolvedTargetDeltas=yi.recalculatedProjection=0,this.nodes.forEach(OL),this.nodes.forEach(DL),this.nodes.forEach(UL),this.nodes.forEach(IL),TL(yi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CL)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ov),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=AL(a),this.instance=a;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=wL(f,250),yu.hasAnimatedSinceResize&&(yu.hasAnimatedSinceResize=!1,this.nodes.forEach(Mx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||VL,{onLayoutAnimationStart:C,onLayoutAnimationComplete:y}=h.getProps(),p=!this.targetLayout||!eN(this.targetLayout,x)||m,g=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const v={...sv(b,"layout"),onPlay:C,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||Mx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jx);return}this.isUpdating||this.nodes.forEach(ML),this.isUpdating=!1,this.nodes.forEach(PL),this.nodes.forEach(kL),this.nodes.forEach(RL),this.clearAllSnapshots();const o=performance.now();Zt.delta=ei(0,1e3/60,o-Zt.timestamp),Zt.timestamp=o,Zt.isProcessing=!0,wf.update.process(Zt),wf.preRender.process(Zt),wf.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(jL),this.sharedNodes.forEach(HL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!W_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&(o||pi(this.latestValues)||h)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),FL(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return St();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Tr(o.x,l.offset.x),Tr(o.y,l.offset.y)),o}removeElementScroll(a){const o=St();Gn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:d}=u;if(u!==this.root&&h&&d.layoutScroll){if(h.isRoot){Gn(o,a);const{scroll:f}=this.root;f&&(Tr(o.x,-f.offset.x),Tr(o.y,-f.offset.y))}Tr(o.x,h.offset.x),Tr(o.y,h.offset.y)}}return o}applyTransform(a,o=!1){const l=St();Gn(l,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ca(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),pi(h.latestValues)&&Ca(l,h.latestValues)}return pi(this.latestValues)&&Ca(l,this.latestValues),l}removeTransform(a){const o=St();Gn(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!pi(u.latestValues))continue;fg(u.latestValues)&&u.updateSnapshot();const h=St(),d=u.measurePageBox();Gn(h,d),_x(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return pi(this.latestValues)&&_x(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),dc(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),$_(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),dc(this.relativeTargetOrigin,this.target,m.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||K_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;Gn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;WU(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:x}=o;if(!x){this.projectionTransform&&(this.projectionDelta=Sa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Sa(),this.projectionDeltaWithTransform=Sa());const b=this.projectionTransform;uc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=Rx(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),yi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=St(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=m!==x,C=this.getStack(),y=!C||C.members.length<=1,p=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(zL));this.animationProgress=0;let g;this.mixTargetDelta=v=>{const w=v/1e3;Px(d.x,a.x,w),Px(d.y,a.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dc(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BL(this.relativeTarget,this.relativeTargetOrigin,f,w),g&&bL(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=St()),Gn(g,this.relativeTarget)),b&&(this.animationValues=h,fL(h,u,this.latestValues,w,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{yu.hasAnimatedSinceResize=!0,this.currentAnimation=EL(0,Ix,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ix),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:h}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&nN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||St();const d=Hn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=Hn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Gn(o,l),Ca(o,h),uc(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new xL),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let h=0;h<Ox.length;h++){const d="rotate"+Ox[h];l[d]&&(u[d]=l[d],a.setStaticValue(d,0))}a.render();for(const h in u)a.setStaticValue(h,u[h]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _L;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=pu(a==null?void 0:a.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=pu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!pi(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=Rx(this.projectionDeltaWithTransform,this.treeScale,f),h&&(u.transform=h(f,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in xd){if(f[b]===void 0)continue;const{correct:C,applyTo:y}=xd[b],p=u.transform==="none"?f[b]:C(f[b],d);if(y){const g=y.length;for(let v=0;v<g;v++)u[y[v]]=p}else u[b]=p}return this.options.layoutId&&(u.pointerEvents=d===this?pu(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(jx),this.root.sharedNodes.clear()}}}function kL(t){t.updateLayout()}function RL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?qn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=Hn(f);f.min=s[d].min,f.max=f.min+m}):nN(i,n.layoutBox,s)&&qn(d=>{const f=a?n.measuredBox[d]:n.layoutBox[d],m=Hn(s[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=Sa();uc(o,s,n.layoutBox);const l=Sa();a?uc(l,t.applyTransform(r,!0),n.measuredBox):uc(l,s,n.layoutBox);const u=!W_(o);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const x=St();dc(x,n.layoutBox,f.layoutBox);const b=St();dc(b,s,m.layoutBox),eN(x,b)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function OL(t){yi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jL(t){t.clearSnapshot()}function jx(t){t.clearMeasurements()}function ML(t){t.isLayoutDirty=!1}function PL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DL(t){t.resolveTargetDelta()}function UL(t){t.calcProjection()}function LL(t){t.resetRotation()}function HL(t){t.removeLeadSnapshot()}function Px(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dx(t,e,n,s){t.min=ht(e.min,n.min,s),t.max=ht(e.max,n.max,s)}function BL(t,e,n,s){Dx(t.x,e.x,n.x,s),Dx(t.y,e.y,n.y,s)}function zL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VL={duration:.45,ease:[.4,0,.1,1]},Ux=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Lx=Ux("applewebkit/")&&!Ux("chrome/")?Math.round:yt;function Hx(t){t.min=Lx(t.min),t.max=Lx(t.max)}function FL(t){Hx(t.x),Hx(t.y)}function nN(t,e,n){return t==="position"||t==="preserve-aspect"&&!dg(kx(e),kx(n),.2)}const GL=tN({attachResizeListener:(t,e)=>Js(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mf={current:void 0},sN=tN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mf.current){const t=new GL({});t.mount(window),t.setOptions({layoutScroll:!0}),Mf.current=t}return Mf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qL={pan:{Feature:oL},drag:{Feature:aL,ProjectionNode:sN,MeasureLayout:X_}},KL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $L(t){const e=KL.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function gg(t,e,n=1){const[s,r]=$L(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return H_(a)?parseFloat(a):a}else return rg(r)?gg(r,e,n+1):r}function YL(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!rg(i))return;const a=gg(i,s);a&&r.set(a)});for(const r in e){const i=e[r];if(!rg(i))continue;const a=gg(i,s);a&&(e[r]=a,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const QL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),rN=t=>QL.has(t),XL=t=>Object.keys(t).some(rN),Bx=t=>t===Qi||t===we,zx=(t,e)=>parseFloat(t.split(", ")[e]),Vx=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return zx(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?zx(i[1],t):0}},JL=new Set(["x","y","z"]),ZL=ol.filter(t=>!JL.has(t));function WL(t){const e=[];return ZL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Vx(4,13),y:Vx(5,14)};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const eH=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:a}=i,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Qa[u](s,i)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(o[u]),t[u]=Qa[u](l,i)}),t},tH=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(rN);let i=[],a=!1;const o=[];if(r.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],d=To(h);const f=e[l];let m;if(Cd(f)){const x=f.length,b=f[0]===null?1:0;h=f[b],d=To(h);for(let C=b;C<x&&f[C]!==null;C++)m?Zy(To(f[C])===m):m=To(f[C])}else m=To(f);if(d!==m)if(Bx(d)&&Bx(m)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===we&&(e[l]=f.map(parseFloat))}else d!=null&&d.transform&&(m!=null&&m.transform)&&(h===0||f===0)?h===0?u.set(m.transform(h)):e[l]=d.transform(f):(a||(i=WL(t),a=!0),o.push(l),s[l]=s[l]!==void 0?s[l]:e[l],u.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=eH(e,t,o);return i.length&&i.forEach(([h,d])=>{t.getValue(h).set(d)}),t.render(),Ch&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:s}}else return{target:e,transitionEnd:s}};function nH(t,e,n,s){return XL(e)?tH(t,e,n,s):{target:e,transitionEnd:s}}const sH=(t,e,n,s)=>{const r=YL(t,e,s);return e=r.target,s=r.transitionEnd,nH(t,e,n,s)},pg={current:null},iN={current:!1};function rH(){if(iN.current=!0,!!Ch)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pg.current=t.matches;t.addListener(e),e()}else pg.current=!1}function iH(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],a=n[r];if(Cn(i))t.addValue(r,i),Ed(s)&&s.add(r);else if(Cn(a))t.addValue(r,Ya(i,{owner:t})),Ed(s)&&s.remove(r);else if(a!==i)if(t.hasValue(r)){const o=t.getValue(r);!o.hasAnimated&&o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Ya(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Fx=new WeakMap,aN=Object.keys(Hc),aH=aN.length,Gx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],oH=Fy.length;class cH{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tt.render(this.render,!1,!0);const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=Th(n),this.isVariantNode=GE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const d in h){const f=h[d];o[d]!==void 0&&Cn(f)&&(f.set(o[d],!1),Ed(u)&&u.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Fx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),iN.current||rH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Fx.delete(this.current),this.projection&&this.projection.unmount(),lr(this.notifyUpdate),lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Yi.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tt.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let a,o;for(let l=0;l<aH;l++){const u=aN[l],{isEnabled:h,Feature:d,ProjectionNode:f,MeasureLayout:m}=Hc[u];f&&(a=f),h(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||d&&ba(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Gx.length;s++){const r=Gx[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=iH(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<oH;s++){const r=Fy[s],i=this.props[r];(Lc(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ya(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Jy(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Cn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ov),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oN extends cH{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let a=AU(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),a&&(a=r(a))),i){wU(this,s,a);const o=sH(this,s,a,n);n=o.transitionEnd,s=o.target}return{transition:e,transitionEnd:n,...s}}}function lH(t){return window.getComputedStyle(t)}class uH extends oN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Yi.has(n)){const s=nv(n);return s&&s.default||0}else{const s=lH(e),r=(YE(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y_(e,n)}build(e,n,s,r){Ky(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Xy(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){e_(e,n,s,r)}}class dH extends oN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yi.has(n)){const s=nv(n);return s&&s.default||0}return n=t_.has(n)?n:zy(n),e.getAttribute(n)}measureInstanceViewportBox(){return St()}scrapeMotionValuesFromProps(e,n){return s_(e,n)}build(e,n,s,r){Yy(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){n_(e,n,s,r)}mount(e){this.isSVGTag=Qy(e.tagName),super.mount(e)}}const hH=(t,e)=>qy(t)?new dH(e,{enableHardwareAcceleration:!1}):new uH(e,{enableHardwareAcceleration:!0}),fH={layout:{ProjectionNode:sN,MeasureLayout:X_}},mH={...BU,...aD,...qL,...fH},Rt=gP((t,e)=>$P(t,e,mH,hH));function cN(){const t=S.useRef(!1);return By(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function gH(){const t=cN(),[e,n]=S.useState(0),s=S.useCallback(()=>{t.current&&n(e+1)},[e]);return[S.useCallback(()=>tt.postRender(s),[s]),e]}class pH extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yH({children:t,isPresent:e}){const n=S.useId(),s=S.useRef(null),r=S.useRef({width:0,height:0,top:0,left:0});return S.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:l}=r.current;if(e||!s.current||!i||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),S.createElement(pH,{isPresent:e,childRef:s,sizeRef:r},S.cloneElement(t,{ref:s}))}const Pf=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const o=r_(vH),l=S.useId(),u=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:r,onExitComplete:h=>{o.set(h,!0);for(const d of o.values())if(!d)return;s&&s()},register:h=>(o.set(h,!1),()=>o.delete(h))}),i?void 0:[n]);return S.useMemo(()=>{o.forEach((h,d)=>o.set(d,!1))},[n]),S.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),a==="popLayout"&&(t=S.createElement(yH,{isPresent:n},t)),S.createElement(Sh.Provider,{value:u},t)};function vH(){return new Map}function bH(t){return S.useEffect(()=>()=>t(),[])}const vi=t=>t.key||"";function xH(t,e){t.forEach(n=>{const s=vi(n);e.set(s,n)})}function SH(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const CH=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=S.useContext(Gy).forceRender||gH()[0],l=cN(),u=SH(t);let h=u;const d=S.useRef(new Map).current,f=S.useRef(h),m=S.useRef(new Map).current,x=S.useRef(!0);if(By(()=>{x.current=!1,xH(u,m),f.current=h}),bH(()=>{x.current=!0,m.clear(),d.clear()}),x.current)return S.createElement(S.Fragment,null,h.map(p=>S.createElement(Pf,{key:vi(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},p)));h=[...h];const b=f.current.map(vi),C=u.map(vi),y=b.length;for(let p=0;p<y;p++){const g=b[p];C.indexOf(g)===-1&&!d.has(g)&&d.set(g,void 0)}return a==="wait"&&d.size&&(h=[]),d.forEach((p,g)=>{if(C.indexOf(g)!==-1)return;const v=m.get(g);if(!v)return;const w=b.indexOf(g);let E=p;if(!E){const T=()=>{d.delete(g);const A=Array.from(m.keys()).filter(_=>!C.includes(_));if(A.forEach(_=>m.delete(_)),f.current=u.filter(_=>{const R=vi(_);return R===g||A.includes(R)}),!d.size){if(l.current===!1)return;o(),s&&s()}};E=S.createElement(Pf,{key:vi(v),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:i,mode:a},v),d.set(g,E)}h.splice(w,0,E)}),h=h.map(p=>{const g=p.key;return d.has(g)?p:S.createElement(Pf,{key:vi(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),S.createElement(S.Fragment,null,d.size?h:h.map(p=>S.cloneElement(p)))};function Kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wH=typeof Symbol=="function"&&Symbol.observable||"@@observable",qx=wH,Df=()=>Math.random().toString(36).substring(7).split("").join("."),TH={INIT:`@@redux/INIT${Df()}`,REPLACE:`@@redux/REPLACE${Df()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Df()}`},Nd=TH;function cv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function lv(t,e,n){if(typeof t!="function")throw new Error(Kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Kt(1));return n(lv)(t,e)}let s=t,r=e,i=new Map,a=i,o=0,l=!1;function u(){a===i&&(a=new Map,i.forEach((C,y)=>{a.set(y,C)}))}function h(){if(l)throw new Error(Kt(3));return r}function d(C){if(typeof C!="function")throw new Error(Kt(4));if(l)throw new Error(Kt(5));let y=!0;u();const p=o++;return a.set(p,C),function(){if(y){if(l)throw new Error(Kt(6));y=!1,u(),a.delete(p),i=null}}}function f(C){if(!cv(C))throw new Error(Kt(7));if(typeof C.type>"u")throw new Error(Kt(8));if(typeof C.type!="string")throw new Error(Kt(17));if(l)throw new Error(Kt(9));try{l=!0,r=s(r,C)}finally{l=!1}return(i=a).forEach(p=>{p()}),C}function m(C){if(typeof C!="function")throw new Error(Kt(10));s=C,f({type:Nd.REPLACE})}function x(){const C=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Kt(11));function p(){const v=y;v.next&&v.next(h())}return p(),{unsubscribe:C(p)}},[qx](){return this}}}return f({type:Nd.INIT}),{dispatch:f,subscribe:d,getState:h,replaceReducer:m,[qx]:x}}function AH(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Nd.INIT})>"u")throw new Error(Kt(12));if(typeof n(void 0,{type:Nd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kt(13))})}function lN(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const a=e[i];typeof t[a]=="function"&&(n[a]=t[a])}const s=Object.keys(n);let r;try{AH(n)}catch(i){r=i}return function(a={},o){if(r)throw r;let l=!1;const u={};for(let h=0;h<s.length;h++){const d=s[h],f=n[d],m=a[d],x=f(m,o);if(typeof x>"u")throw o&&o.type,new Error(Kt(14));u[d]=x,l=l||x!==m}return l=l||s.length!==Object.keys(a).length,l?u:a}}function kd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function EH(...t){return e=>(n,s)=>{const r=e(n,s);let i=()=>{throw new Error(Kt(15))};const a={getState:r.getState,dispatch:(l,...u)=>i(l,...u)},o=t.map(l=>l(a));return i=kd(...o)(r.dispatch),{...r,dispatch:i}}}function _H(t){return cv(t)&&"type"in t&&typeof t.type=="string"}var uN=Symbol.for("immer-nothing"),Kx=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function os(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Xa=Object.getPrototypeOf;function zi(t){return!!t&&!!t[Bn]}function ur(t){var e;return t?dN(t)||Array.isArray(t)||!!t[Kx]||!!((e=t.constructor)!=null&&e[Kx])||dl(t)||kh(t):!1}var NH=Object.prototype.constructor.toString();function dN(t){if(!t||typeof t!="object")return!1;const e=Xa(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===NH}function Rd(t,e){Nh(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,s)=>e(s,n,t))}function Nh(t){const e=t[Bn];return e?e.type_:Array.isArray(t)?1:dl(t)?2:kh(t)?3:0}function yg(t,e){return Nh(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function hN(t,e,n){const s=Nh(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function kH(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function dl(t){return t instanceof Map}function kh(t){return t instanceof Set}function bi(t){return t.copy_||t.base_}function vg(t,e){if(dl(t))return new Map(t);if(kh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=dN(t);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(t);delete s[Bn];let r=Reflect.ownKeys(s);for(let i=0;i<r.length;i++){const a=r[i],o=s[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Xa(t),s)}else{const s=Xa(t);if(s!==null&&n)return{...t};const r=Object.create(s);return Object.assign(r,t)}}function uv(t,e=!1){return Rh(t)||zi(t)||!ur(t)||(Nh(t)>1&&Object.defineProperties(t,{set:{value:Gl},add:{value:Gl},clear:{value:Gl},delete:{value:Gl}}),Object.freeze(t),e&&Object.values(t).forEach(n=>uv(n,!0))),t}function Gl(){os(2)}function Rh(t){return Object.isFrozen(t)}var RH={};function Vi(t){const e=RH[t];return e||os(0,t),e}var zc;function fN(){return zc}function OH(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $x(t,e){e&&(Vi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bg(t){xg(t),t.drafts_.forEach(IH),t.drafts_=null}function xg(t){t===zc&&(zc=t.parent_)}function Yx(t){return zc=OH(zc,t)}function IH(t){const e=t[Bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Bn].modified_&&(bg(e),os(4)),ur(t)&&(t=Od(e,t),e.parent_||Id(e,t)),e.patches_&&Vi("Patches").generateReplacementPatches_(n[Bn].base_,t,e.patches_,e.inversePatches_)):t=Od(e,n,[]),bg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==uN?t:void 0}function Od(t,e,n){if(Rh(e))return e;const s=e[Bn];if(!s)return Rd(e,(r,i)=>Xx(t,s,e,r,i,n)),e;if(s.scope_!==t)return e;if(!s.modified_)return Id(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const r=s.copy_;let i=r,a=!1;s.type_===3&&(i=new Set(r),r.clear(),a=!0),Rd(i,(o,l)=>Xx(t,s,r,o,l,n,a)),Id(t,r,!1),n&&t.patches_&&Vi("Patches").generatePatches_(s,n,t.patches_,t.inversePatches_)}return s.copy_}function Xx(t,e,n,s,r,i,a){if(zi(r)){const o=i&&e&&e.type_!==3&&!yg(e.assigned_,s)?i.concat(s):void 0,l=Od(t,r,o);if(hN(n,s,l),zi(l))t.canAutoFreeze_=!1;else return}else a&&n.add(r);if(ur(r)&&!Rh(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Od(t,r),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(dl(n)?n.has(s):Object.prototype.propertyIsEnumerable.call(n,s))&&Id(t,r)}}function Id(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uv(e,n)}function jH(t,e){const n=Array.isArray(t),s={type_:n?1:0,scope_:e?e.scope_:fN(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=s,i=dv;n&&(r=[s],i=Vc);const{revoke:a,proxy:o}=Proxy.revocable(r,i);return s.draft_=o,s.revoke_=a,o}var dv={get(t,e){if(e===Bn)return t;const n=bi(t);if(!yg(n,e))return MH(t,n,e);const s=n[e];return t.finalized_||!ur(s)?s:s===Uf(t.base_,e)?(Lf(t),t.copy_[e]=Cg(s,t)):s},has(t,e){return e in bi(t)},ownKeys(t){return Reflect.ownKeys(bi(t))},set(t,e,n){const s=mN(bi(t),e);if(s!=null&&s.set)return s.set.call(t.draft_,n),!0;if(!t.modified_){const r=Uf(bi(t),e),i=r==null?void 0:r[Bn];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kH(n,r)&&(n!==void 0||yg(t.base_,e)))return!0;Lf(t),Sg(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Uf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Lf(t),Sg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bi(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){os(11)},getPrototypeOf(t){return Xa(t.base_)},setPrototypeOf(){os(12)}},Vc={};Rd(dv,(t,e)=>{Vc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vc.deleteProperty=function(t,e){return Vc.set.call(this,t,e,void 0)};Vc.set=function(t,e,n){return dv.set.call(this,t[0],e,n,t[0])};function Uf(t,e){const n=t[Bn];return(n?bi(n):t)[e]}function MH(t,e,n){var r;const s=mN(e,n);return s?"value"in s?s.value:(r=s.get)==null?void 0:r.call(t.draft_):void 0}function mN(t,e){if(!(e in t))return;let n=Xa(t);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Xa(n)}}function Sg(t){t.modified_||(t.modified_=!0,t.parent_&&Sg(t.parent_))}function Lf(t){t.copy_||(t.copy_=vg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const a=this;return function(l=i,...u){return a.produce(l,h=>n.call(this,h,...u))}}typeof n!="function"&&os(6),s!==void 0&&typeof s!="function"&&os(7);let r;if(ur(e)){const i=Yx(this),a=Cg(e,void 0);let o=!0;try{r=n(a),o=!1}finally{o?bg(i):xg(i)}return $x(i,s),Qx(r,i)}else if(!e||typeof e!="object"){if(r=n(e),r===void 0&&(r=e),r===uN&&(r=void 0),this.autoFreeze_&&uv(r,!0),s){const i=[],a=[];Vi("Patches").generateReplacementPatches_(e,r,i,a),s(i,a)}return r}else os(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let s,r;return[this.produce(e,n,(a,o)=>{s=a,r=o}),s,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ur(t)||os(8),zi(t)&&(t=DH(t));const e=Yx(this),n=Cg(t,void 0);return n[Bn].isManual_=!0,xg(e),n}finishDraft(t,e){const n=t&&t[Bn];(!n||!n.isManual_)&&os(9);const{scope_:s}=n;return $x(s,e),Qx(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const r=e[n];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}n>-1&&(e=e.slice(n+1));const s=Vi("Patches").applyPatches_;return zi(t)?s(t,e):this.produce(t,r=>s(r,e))}};function Cg(t,e){const n=dl(t)?Vi("MapSet").proxyMap_(t,e):kh(t)?Vi("MapSet").proxySet_(t,e):jH(t,e);return(e?e.scope_:fN()).drafts_.push(n),n}function DH(t){return zi(t)||os(10,t),gN(t)}function gN(t){if(!ur(t)||Rh(t))return t;const e=t[Bn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=vg(t,e.scope_.immer_.useStrictShallowCopy_)}else n=vg(t,!0);return Rd(n,(s,r)=>{hN(n,s,gN(r))}),e&&(e.finalized_=!1),n}var UH=new PH,pN=UH.produce;function yN(t){return({dispatch:n,getState:s})=>r=>i=>typeof i=="function"?i(n,s,t):r(i)}var LH=yN(),HH=yN,BH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kd:kd.apply(null,arguments)},zH=t=>t&&typeof t.match=="function";function hc(t,e){function n(...s){if(e){let r=e(...s);if(!r)throw new Error(nr(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:s[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=s=>_H(s)&&s.type===t,n}var vN=class Bo extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Bo.prototype)}static get[Symbol.species](){return Bo}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Bo(...e[0].concat(this)):new Bo(...e.concat(this))}};function Jx(t){return ur(t)?pN(t,()=>{}):t}function ql(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VH(t){return typeof t=="boolean"}var FH=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let a=new vN;return n&&(VH(n)?a.push(LH):a.push(HH(n.extraArgument))),a},GH="RTK_autoBatch",Zx=t=>e=>{setTimeout(e,t)},qH=(t={type:"raf"})=>e=>(...n)=>{const s=e(...n);let r=!0,i=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zx(10):t.type==="callback"?t.queueNotification:Zx(t.timeout),u=()=>{a=!1,i&&(i=!1,o.forEach(h=>h()))};return Object.assign({},s,{subscribe(h){const d=()=>r&&h(),f=s.subscribe(d);return o.add(h),()=>{f(),o.delete(h)}},dispatch(h){var d;try{return r=!((d=h==null?void 0:h.meta)!=null&&d[GH]),i=!r,i&&(a||(a=!0,l(u))),s.dispatch(h)}finally{r=!0}}})},KH=t=>function(n){const{autoBatch:s=!0}=n??{};let r=new vN(t);return s&&r.push(qH(typeof s=="object"?s:void 0)),r};function $H(t){const e=FH(),{reducer:n=void 0,middleware:s,devTools:r=!0,preloadedState:i=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(cv(n))o=lN(n);else throw new Error(nr(1));let l;typeof s=="function"?l=s(e):l=e();let u=kd;r&&(u=BH({trace:!1,...typeof r=="object"&&r}));const h=EH(...l),d=KH(h);let f=typeof a=="function"?a(d):d();const m=u(...f);return lv(o,i,m)}function bN(t){const e={},n=[];let s;const r={addCase(i,a){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(nr(28));if(o in e)throw new Error(nr(29));return e[o]=a,r},addAsyncThunk(i,a){return a.pending&&(e[i.pending.type]=a.pending),a.rejected&&(e[i.rejected.type]=a.rejected),a.fulfilled&&(e[i.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:i.settled,reducer:a.settled}),r},addMatcher(i,a){return n.push({matcher:i,reducer:a}),r},addDefaultCase(i){return s=i,r}};return t(r),[e,n,s]}function YH(t){return typeof t=="function"}function QH(t,e){let[n,s,r]=bN(e),i;if(YH(t))i=()=>Jx(t());else{const o=Jx(t);i=()=>o}function a(o=i(),l){let u=[n[l.type],...s.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[r]),u.reduce((h,d)=>{if(d)if(zi(h)){const m=d(h,l);return m===void 0?h:m}else{if(ur(h))return pN(h,f=>d(f,l));{const f=d(h,l);if(f===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return h},o)}return a.getInitialState=i,a}var XH=(t,e)=>zH(t)?t.match(e):t(e);function JH(...t){return e=>t.some(n=>XH(n,e))}var ZH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WH=(t=21)=>{let e="",n=t;for(;n--;)e+=ZH[Math.random()*64|0];return e},eB=["name","message","stack","code"],Hf=class{constructor(t,e){Ih(this,"_type");this.payload=t,this.meta=e}},Wx=class{constructor(t,e){Ih(this,"_type");this.payload=t,this.meta=e}},tB=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of eB)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},eS="External signal was aborted",Ps=(()=>{function t(e,n,s){const r=hc(e+"/fulfilled",(l,u,h,d)=>({payload:l,meta:{...d||{},arg:h,requestId:u,requestStatus:"fulfilled"}})),i=hc(e+"/pending",(l,u,h)=>({payload:void 0,meta:{...h||{},arg:u,requestId:l,requestStatus:"pending"}})),a=hc(e+"/rejected",(l,u,h,d,f)=>({payload:d,error:(s&&s.serializeError||tB)(l||"Rejected"),meta:{...f||{},arg:h,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l,{signal:u}={}){return(h,d,f)=>{const m=s!=null&&s.idGenerator?s.idGenerator(l):WH(),x=new AbortController;let b,C;function y(g){C=g,x.abort()}u&&(u.aborted?y(eS):u.addEventListener("abort",()=>y(eS),{once:!0}));const p=async function(){var w,E;let g;try{let T=(w=s==null?void 0:s.condition)==null?void 0:w.call(s,l,{getState:d,extra:f});if(sB(T)&&(T=await T),T===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((_,R)=>{b=()=>{R({name:"AbortError",message:C||"Aborted"})},x.signal.addEventListener("abort",b)});h(i(m,l,(E=s==null?void 0:s.getPendingMeta)==null?void 0:E.call(s,{requestId:m,arg:l},{getState:d,extra:f}))),g=await Promise.race([A,Promise.resolve(n(l,{dispatch:h,getState:d,extra:f,requestId:m,signal:x.signal,abort:y,rejectWithValue:(_,R)=>new Hf(_,R),fulfillWithValue:(_,R)=>new Wx(_,R)})).then(_=>{if(_ instanceof Hf)throw _;return _ instanceof Wx?r(_.payload,m,l,_.meta):r(_,m,l)})])}catch(T){g=T instanceof Hf?a(null,m,l,T.payload,T.meta):a(T,m,l)}finally{b&&x.signal.removeEventListener("abort",b)}return s&&!s.dispatchConditionRejection&&a.match(g)&&g.meta.condition||h(g),g}();return Object.assign(p,{abort:y,requestId:m,arg:l,unwrap(){return p.then(nB)}})}}return Object.assign(o,{pending:i,rejected:a,fulfilled:r,settled:JH(a,r),typePrefix:e})}return t.withTypes=()=>t,t})();function nB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function sB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var rB=Symbol.for("rtk-slice-createasyncthunk");function iB(t,e){return`${t}/${e}`}function aB({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[rB];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(nr(11));const o=(typeof r.reducers=="function"?r.reducers(cB()):r.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(v,w){const E=typeof v=="string"?v:v.type;if(!E)throw new Error(nr(12));if(E in u.sliceCaseReducersByType)throw new Error(nr(13));return u.sliceCaseReducersByType[E]=w,h},addMatcher(v,w){return u.sliceMatchers.push({matcher:v,reducer:w}),h},exposeAction(v,w){return u.actionCreators[v]=w,h},exposeCaseReducer(v,w){return u.sliceCaseReducersByName[v]=w,h}};l.forEach(v=>{const w=o[v],E={reducerName:v,type:iB(i,v),createNotation:typeof r.reducers=="function"};uB(w)?hB(E,w,h,e):lB(E,w,h)});function d(){const[v={},w=[],E=void 0]=typeof r.extraReducers=="function"?bN(r.extraReducers):[r.extraReducers],T={...v,...u.sliceCaseReducersByType};return QH(r.initialState,A=>{for(let _ in T)A.addCase(_,T[_]);for(let _ of u.sliceMatchers)A.addMatcher(_.matcher,_.reducer);for(let _ of w)A.addMatcher(_.matcher,_.reducer);E&&A.addDefaultCase(E)})}const f=v=>v,m=new Map,x=new WeakMap;let b;function C(v,w){return b||(b=d()),b(v,w)}function y(){return b||(b=d()),b.getInitialState()}function p(v,w=!1){function E(A){let _=A[v];return typeof _>"u"&&w&&(_=ql(x,E,y)),_}function T(A=f){const _=ql(m,w,()=>new WeakMap);return ql(_,A,()=>{const R={};for(const[D,P]of Object.entries(r.selectors??{}))R[D]=oB(P,A,()=>ql(x,A,y),w);return R})}return{reducerPath:v,getSelectors:T,get selectors(){return T(E)},selectSlice:E}}const g={name:i,reducer:C,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...p(a),injectInto(v,{reducerPath:w,...E}={}){const T=w??a;return v.inject({reducerPath:T,reducer:C},E),{...g,...p(T,!0)}}};return g}}function oB(t,e,n,s){function r(i,...a){let o=e(i);return typeof o>"u"&&s&&(o=n()),t(o,...a)}return r.unwrapped=t,r}var hl=aB();function cB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function lB({type:t,reducerName:e,createNotation:n},s,r){let i,a;if("reducer"in s){if(n&&!dB(s))throw new Error(nr(17));i=s.reducer,a=s.prepare}else i=s;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,a?hc(t,a):hc(t))}function uB(t){return t._reducerDefinitionType==="asyncThunk"}function dB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hB({type:t,reducerName:e},n,s,r){if(!r)throw new Error(nr(18));const{payloadCreator:i,fulfilled:a,pending:o,rejected:l,settled:u,options:h}=n,d=r(t,i,h);s.exposeAction(e,d),a&&s.addCase(d.fulfilled,a),o&&s.addCase(d.pending,o),l&&s.addCase(d.rejected,l),u&&s.addMatcher(d.settled,u),s.exposeCaseReducer(e,{fulfilled:a||Kl,pending:o||Kl,rejected:l||Kl,settled:u||Kl})}function Kl(){}function nr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var hv="persist:",xN="persist/FLUSH",fv="persist/REHYDRATE",SN="persist/PAUSE",CN="persist/PERSIST",wN="persist/PURGE",TN="persist/REGISTER",fB=-1;function vu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(n){return typeof n}:vu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},vu(t)}function tS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function mB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tS(n,!0).forEach(function(s){gB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pB(t,e,n,s){s.debug;var r=mB({},n);return t&&vu(t)==="object"&&Object.keys(t).forEach(function(i){i!=="_persist"&&e[i]===n[i]&&(r[i]=t[i])}),r}function yB(t){var e=t.blacklist||null,n=t.whitelist||null,s=t.transforms||[],r=t.throttle||0,i="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key),a=t.storage,o;t.serialize===!1?o=function(w){return w}:typeof t.serialize=="function"?o=t.serialize:o=vB;var l=t.writeFailHandler||null,u={},h={},d=[],f=null,m=null,x=function(w){Object.keys(w).forEach(function(E){y(E)&&u[E]!==w[E]&&d.indexOf(E)===-1&&d.push(E)}),Object.keys(u).forEach(function(E){w[E]===void 0&&y(E)&&d.indexOf(E)===-1&&u[E]!==void 0&&d.push(E)}),f===null&&(f=setInterval(b,r)),u=w};function b(){if(d.length===0){f&&clearInterval(f),f=null;return}var v=d.shift(),w=s.reduce(function(E,T){return T.in(E,v,u)},u[v]);if(w!==void 0)try{h[v]=o(w)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete h[v];d.length===0&&C()}function C(){Object.keys(h).forEach(function(v){u[v]===void 0&&delete h[v]}),m=a.setItem(i,o(h)).catch(p)}function y(v){return!(n&&n.indexOf(v)===-1&&v!=="_persist"||e&&e.indexOf(v)!==-1)}function p(v){l&&l(v)}var g=function(){for(;d.length!==0;)b();return m||Promise.resolve()};return{update:x,flush:g}}function vB(t){return JSON.stringify(t)}function bB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key),s=t.storage;t.debug;var r;return t.deserialize===!1?r=function(a){return a}:typeof t.deserialize=="function"?r=t.deserialize:r=xB,s.getItem(n).then(function(i){if(i)try{var a={},o=r(i);return Object.keys(o).forEach(function(l){a[l]=e.reduceRight(function(u,h){return h.out(u,l,o)},r(o[l]))}),a}catch(l){throw l}else return})}function xB(t){return JSON.parse(t)}function SB(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hv).concat(t.key);return e.removeItem(n,CB)}function CB(t){}function nS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nS(n,!0).forEach(function(s){wB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function wB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TB(t,e){if(t==null)return{};var n=AB(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function AB(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}var EB=5e3;function _B(t,e){var n=t.version!==void 0?t.version:fB;t.debug;var s=t.stateReconciler===void 0?pB:t.stateReconciler,r=t.getStoredState||bB,i=t.timeout!==void 0?t.timeout:EB,a=null,o=!1,l=!0,u=function(d){return d._persist.rehydrated&&a&&!l&&a.update(d),d};return function(h,d){var f=h||{},m=f._persist,x=TB(f,["_persist"]),b=x;if(d.type===CN){var C=!1,y=function(A,_){C||(d.rehydrate(t.key,A,_),C=!0)};if(i&&setTimeout(function(){!C&&y(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},i),l=!1,a||(a=yB(t)),m)return Bs({},e(b,d),{_persist:m});if(typeof d.rehydrate!="function"||typeof d.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(t.key),r(t).then(function(T){var A=t.migrate||function(_,R){return Promise.resolve(_)};A(T,n).then(function(_){y(_)},function(_){y(void 0,_)})},function(T){y(void 0,T)}),Bs({},e(b,d),{_persist:{version:n,rehydrated:!1}})}else{if(d.type===wN)return o=!0,d.result(SB(t)),Bs({},e(b,d),{_persist:m});if(d.type===xN)return d.result(a&&a.flush()),Bs({},e(b,d),{_persist:m});if(d.type===SN)l=!0;else if(d.type===fv){if(o)return Bs({},b,{_persist:Bs({},m,{rehydrated:!0})});if(d.key===t.key){var p=e(b,d),g=d.payload,v=s!==!1&&g!==void 0?s(g,h,p,t):p,w=Bs({},v,{_persist:Bs({},m,{rehydrated:!0})});return u(w)}}}if(!m)return e(h,d);var E=e(b,d);return E===b?h:u(Bs({},E,{_persist:m}))}}function sS(t){return RB(t)||kB(t)||NB()}function NB(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function kB(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function RB(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(n,!0).forEach(function(s){OB(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(n).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function OB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AN={registry:[],bootstrapped:!1},IB=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AN,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case TN:return wg({},e,{registry:[].concat(sS(e.registry),[n.key])});case fv:var s=e.registry.indexOf(n.key),r=sS(e.registry);return r.splice(s,1),wg({},e,{registry:r,bootstrapped:r.length===0});default:return e}};function jB(t,e,n){var s=lv(IB,AN,void 0),r=function(l){s.dispatch({type:TN,key:l})},i=function(l,u,h){var d={type:fv,payload:u,err:h,key:l};t.dispatch(d),s.dispatch(d)},a=wg({},s,{purge:function(){var l=[];return t.dispatch({type:wN,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:xN,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:SN})},persist:function(){t.dispatch({type:CN,register:r,rehydrate:i})}});return a.persist(),a}var mv={},gv={};gv.__esModule=!0;gv.default=DB;function bu(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bu=function(n){return typeof n}:bu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bu(t)}function Bf(){}var MB={getItem:Bf,setItem:Bf,removeItem:Bf};function PB(t){if((typeof self>"u"?"undefined":bu(self))!=="object"||!(t in self))return!1;try{var e=self[t],n="redux-persist ".concat(t," test");e.setItem(n,"test"),e.getItem(n),e.removeItem(n)}catch{return!1}return!0}function DB(t){var e="".concat(t,"Storage");return PB(e)?self[e]:MB}mv.__esModule=!0;mv.default=HB;var UB=LB(gv);function LB(t){return t&&t.__esModule?t:{default:t}}function HB(t){var e=(0,UB.default)(t);return{getItem:function(s){return new Promise(function(r,i){r(e.getItem(s))})},setItem:function(s,r){return new Promise(function(i,a){i(e.setItem(s,r))})},removeItem:function(s){return new Promise(function(r,i){r(e.removeItem(s))})}}}var EN=void 0,BB=zB(mv);function zB(t){return t&&t.__esModule?t:{default:t}}var VB=(0,BB.default)("local");EN=VB;const FB={phoneNumbers:[],isLoading:!1,error:null,selectedPhoneNumbers:[],filters:{status:[],search:""}},xu=Ps("phoneNumbers/addBulk",async t=>ho(`${uo.PHONE_NUMBERS}/bulk`,{method:"POST",body:JSON.stringify(t)})),fc=Ps("phoneNumbers/fetchAll",async()=>ho(`${uo.PHONE_NUMBERS}/`)),GB=Ps("phoneNumbers/updateStatus",async({id:t,status:e})=>ho(`${uo.PHONE_NUMBERS}/${t}`,{method:"PUT",body:JSON.stringify({status:e})})),_N=hl({name:"phoneNumbers",initialState:FB,reducers:{setSelectedPhoneNumbers:(t,e)=>{t.selectedPhoneNumbers=e.payload},togglePhoneNumberSelection:(t,e)=>{const n=e.payload,s=t.selectedPhoneNumbers.indexOf(n);s>-1?t.selectedPhoneNumbers.splice(s,1):t.selectedPhoneNumbers.push(n)},clearSelection:t=>{t.selectedPhoneNumbers=[]},setStatusFilter:(t,e)=>{t.filters.status=e.payload},setSearchFilter:(t,e)=>{t.filters.search=e.payload},clearFilters:t=>{t.filters={status:[],search:""}},resetLoadingState:t=>{t.isLoading=!1,t.error=null}},extraReducers:t=>{t.addCase(xu.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xu.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers.push(...n.payload.phone_numbers)}).addCase(xu.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to add phone numbers"}).addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,n)=>{e.isLoading=!1,e.phoneNumbers=n.payload}).addCase(fc.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch phone numbers"}).addCase(GB.fulfilled,(e,n)=>{const s=e.phoneNumbers.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.phoneNumbers[s]=n.payload)})}}),{setSelectedPhoneNumbers:v3,togglePhoneNumberSelection:b3,clearSelection:x3,setStatusFilter:S3,setSearchFilter:C3,clearFilters:w3,resetLoadingState:Eo}=_N.actions,qB=_N.reducer,KB={crmStatuses:[],isLoading:!1,error:null,demoTotal:0,stats:{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}}},mc=Ps("crmStatus/fetchAll",async()=>ho(`${uo.CRM_INTEGRATIONS}/statuses`)),$B=Ps("crmStatus/fetchByPhone",async t=>ho(`${uo.CRM_INTEGRATIONS}/status/${t}`)),YB=Ps("crmStatus/retryRemoval",async({phoneNumberId:t,crmSystem:e})=>ho(`${uo.CRM_INTEGRATIONS}/retry-removal`,{method:"POST",body:JSON.stringify({phone_number_id:t,crm_system:e})})),NN=hl({name:"crmStatus",initialState:KB,reducers:{updateCRMStatus:(t,e)=>{const n=t.crmStatuses.findIndex(s=>s.id===e.payload.id);n!==-1?t.crmStatuses[n]=e.payload:t.crmStatuses.push(e.payload),t.stats=_o(t.crmStatuses)},addCRMStatus:(t,e)=>{t.crmStatuses.push(e.payload),t.stats=_o(t.crmStatuses)},clearCRMStatuses:t=>{t.crmStatuses=[],t.stats={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},t.demoTotal=0},initDemoStats:(t,e)=>{const n=e.payload,s={total:0,pending:n,processing:0,completed:0,failed:0};t.stats={logics:{...s},genesys:{...s},ringcentral:{...s},convoso:{...s},ytel:{...s}},t.demoTotal=n},setCRMStats:(t,e)=>{const{crm:n,stats:s}=e.payload;t.stats[n]=s},clearDemoTotal:t=>{t.demoTotal=0}},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,n)=>{e.isLoading=!1,e.crmStatuses=n.payload,e.stats=_o(n.payload)}).addCase(mc.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch CRM statuses"}).addCase($B.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.crmStatuses.findIndex(i=>i.id===s.id);r!==-1?e.crmStatuses[r]=s:e.crmStatuses.push(s)}),e.stats=_o(e.crmStatuses)}).addCase(YB.fulfilled,(e,n)=>{const s=e.crmStatuses.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.crmStatuses[s]=n.payload),e.stats=_o(e.crmStatuses)})}});function _o(t){const e={logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}};return t.forEach(n=>{const s=n.crm_system;e[s]&&(e[s].total++,e[s][n.status]++)}),e}const{updateCRMStatus:T3,addCRMStatus:A3,clearCRMStatuses:E3,initDemoStats:QB,setCRMStats:XB}=NN.actions,JB=NN.reducer,ZB={consents:[],isLoading:!1,error:null,filters:{consent_type:[],status:[],search:""}},zf=Ps("consent/fetchAll",async()=>{const t=await fetch("/api/v1/consent");if(!t.ok)throw new Error("Failed to fetch consents");return t.json()}),WB=Ps("consent/fetchByPhone",async t=>{const e=await fetch(`/api/v1/consent/${t}`);if(!e.ok)throw new Error("Failed to fetch consent for phone number");return e.json()}),e4=Ps("consent/update",async t=>{const e=await fetch(`/api/v1/consent/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to update consent");return e.json()}),t4=Ps("consent/add",async t=>{const e=await fetch("/api/v1/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error("Failed to add consent");return e.json()}),kN=hl({name:"consent",initialState:ZB,reducers:{setConsentTypeFilter:(t,e)=>{t.filters.consent_type=e.payload},setConsentStatusFilter:(t,e)=>{t.filters.status=e.payload},setConsentSearchFilter:(t,e)=>{t.filters.search=e.payload},clearConsentFilters:t=>{t.filters={consent_type:[],status:[],search:""}}},extraReducers:t=>{t.addCase(zf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zf.fulfilled,(e,n)=>{e.isLoading=!1,e.consents=n.payload}).addCase(zf.rejected,(e,n)=>{e.isLoading=!1,e.error=n.error.message||"Failed to fetch consents"}).addCase(WB.fulfilled,(e,n)=>{n.payload.forEach(s=>{const r=e.consents.findIndex(i=>i.id===s.id);r!==-1?e.consents[r]=s:e.consents.push(s)})}).addCase(e4.fulfilled,(e,n)=>{const s=e.consents.findIndex(r=>r.id===n.payload.id);s!==-1&&(e.consents[s]=n.payload)}).addCase(t4.fulfilled,(e,n)=>{e.consents.push(n.payload)})}}),{setConsentTypeFilter:_3,setConsentStatusFilter:N3,setConsentSearchFilter:k3,clearConsentFilters:R3}=kN.actions,n4=kN.reducer,s4={notifications:[],isLoading:!1,error:null,success:null},RN=hl({name:"ui",initialState:s4,reducers:{addNotification:(t,e)=>{const n={...e.payload,id:Date.now().toString(),timestamp:Date.now()};t.notifications.push(n)},removeNotification:(t,e)=>{t.notifications=t.notifications.filter(n=>n.id!==e.payload)},clearNotifications:t=>{t.notifications=[]},setLoading:(t,e)=>{t.isLoading=e.payload},setError:(t,e)=>{t.error=e.payload},setSuccess:(t,e)=>{t.success=e.payload},clearMessages:t=>{t.error=null,t.success=null}}}),{addNotification:No,removeNotification:O3,clearNotifications:I3,setLoading:j3,setError:M3,setSuccess:P3,clearMessages:D3}=RN.actions,r4=RN.reducer,i4={organizationId:1,userId:1,role:"member"},ON=hl({name:"demoAuth",initialState:i4,reducers:{setRole(t,e){t.role=e.payload},setOrganization(t,e){t.organizationId=e.payload},setUser(t,e){t.userId=e.payload},setSuperAdmin(t){t.role="superadmin",t.userId=1,t.organizationId=1}}}),{setRole:$l,setOrganization:U3,setUser:L3,setSuperAdmin:H3}=ON.actions,a4=ON.reducer,o4={key:"do-not-call-root",storage:EN,whitelist:["ui","demoAuth"]},c4=lN({phoneNumbers:qB,crmStatus:JB,consent:n4,ui:r4,demoAuth:a4}),l4=_B(o4,c4),IN=$H({reducer:l4,middleware:t=>t({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})}),u4=jB(IN);var fl=t=>t.type==="checkbox",wi=t=>t instanceof Date,cn=t=>t==null;const jN=t=>typeof t=="object";var vt=t=>!cn(t)&&!Array.isArray(t)&&jN(t)&&!wi(t),d4=t=>vt(t)&&t.target?fl(t.target)?t.target.checked:t.target.value:t,h4=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,f4=(t,e)=>t.has(h4(e)),m4=t=>{const e=t.constructor&&t.constructor.prototype;return vt(e)&&e.hasOwnProperty("isPrototypeOf")},pv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(pv&&(t instanceof Blob||s))&&(n||vt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!m4(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Lt(t[r]));else return t;return e}var Oh=t=>/^\w*$/.test(t),Tt=t=>t===void 0,yv=t=>Array.isArray(t)?t.filter(Boolean):[],vv=t=>yv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(t,e,n)=>{if(!e||!vt(t))return n;const s=(Oh(e)?[e]:vv(e)).reduce((r,i)=>cn(r)?r:r[i],t);return Tt(s)||s===t?Tt(t[e])?n:t[e]:s},ws=t=>typeof t=="boolean",it=(t,e,n)=>{let s=-1;const r=Oh(e)?[e]:vv(e),i=r.length,a=i-1;for(;++s<i;){const o=r[s];let l=n;if(s!==a){const u=t[o];l=vt(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const iS={BLUR:"blur",FOCUS_OUT:"focusout"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},g4=Z.createContext(null);g4.displayName="HookFormContext";var p4=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(r,i,{get:()=>{const a=i;return e._proxyFormState[a]!==cs.all&&(e._proxyFormState[a]=!s||cs.all),t[a]}});return r};const y4=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;var Ns=t=>typeof t=="string",v4=(t,e,n,s,r)=>Ns(t)?(s&&e.watch.add(t),fe(n,t,r)):Array.isArray(t)?t.map(i=>(s&&e.watch.add(i),fe(n,i))):(s&&(e.watchAll=!0),n),Tg=t=>cn(t)||!jN(t);function Rr(t,e,n=new WeakSet){if(Tg(t)||Tg(e))return t===e;if(wi(t)&&wi(e))return t.getTime()===e.getTime();const s=Object.keys(t),r=Object.keys(e);if(s.length!==r.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of s){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(wi(a)&&wi(o)||vt(a)&&vt(o)||Array.isArray(a)&&Array.isArray(o)?!Rr(a,o,n):a!==o)return!1}}return!0}var b4=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},gc=t=>Array.isArray(t)?t:[t],aS=()=>{let t=[];return{get observers(){return t},next:r=>{for(const i of t)i.next&&i.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(i=>i!==r)}}),unsubscribe:()=>{t=[]}}},gn=t=>vt(t)&&!Object.keys(t).length,bv=t=>t.type==="file",ls=t=>typeof t=="function",jd=t=>{if(!pv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MN=t=>t.type==="select-multiple",xv=t=>t.type==="radio",x4=t=>xv(t)||fl(t),Vf=t=>jd(t)&&t.isConnected;function S4(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Tt(t)?s++:t[e[s++]];return t}function C4(t){for(const e in t)if(t.hasOwnProperty(e)&&!Tt(t[e]))return!1;return!0}function bt(t,e){const n=Array.isArray(e)?e:Oh(e)?[e]:vv(e),s=n.length===1?t:S4(t,n),r=n.length-1,i=n[r];return s&&delete s[i],r!==0&&(vt(s)&&gn(s)||Array.isArray(s)&&C4(s))&&bt(t,n.slice(0,-1)),t}var PN=t=>{for(const e in t)if(ls(t[e]))return!0;return!1};function Md(t,e={}){const n=Array.isArray(t);if(vt(t)||n)for(const s in t)Array.isArray(t[s])||vt(t[s])&&!PN(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Md(t[s],e[s])):cn(t[s])||(e[s]=!0);return e}function DN(t,e,n){const s=Array.isArray(t);if(vt(t)||s)for(const r in t)Array.isArray(t[r])||vt(t[r])&&!PN(t[r])?Tt(e)||Tg(n[r])?n[r]=Array.isArray(t[r])?Md(t[r],[]):{...Md(t[r])}:DN(t[r],cn(e)?{}:e[r],n[r]):n[r]=!Rr(t[r],e[r]);return n}var ko=(t,e)=>DN(t,e,Md(e));const oS={value:!1,isValid:!1},cS={value:!0,isValid:!0};var UN=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Tt(t[0].attributes.value)?Tt(t[0].value)||t[0].value===""?cS:{value:t[0].value,isValid:!0}:cS:oS}return oS},LN=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Tt(t)?t:e?t===""?NaN:t&&+t:n&&Ns(t)?new Date(t):s?s(t):t;const lS={isValid:!1,value:null};var HN=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,lS):lS;function uS(t){const e=t.ref;return bv(e)?e.files:xv(e)?HN(t.refs).value:MN(e)?[...e.selectedOptions].map(({value:n})=>n):fl(e)?UN(t.refs).value:LN(Tt(e.value)?t.ref.value:e.value,t)}var w4=(t,e,n,s)=>{const r={};for(const i of t){const a=fe(e,i);a&&it(r,i,a._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},Pd=t=>t instanceof RegExp,Ro=t=>Tt(t)?t:Pd(t)?t.source:vt(t)?Pd(t.value)?t.value.source:t.value:t,dS=t=>({isOnSubmit:!t||t===cs.onSubmit,isOnBlur:t===cs.onBlur,isOnChange:t===cs.onChange,isOnAll:t===cs.all,isOnTouch:t===cs.onTouched});const hS="AsyncFunction";var T4=t=>!!t&&!!t.validate&&!!(ls(t.validate)&&t.validate.constructor.name===hS||vt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===hS)),A4=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),fS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const pc=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const i=fe(t,r);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],r)&&!s)return!0;if(a.ref&&e(a.ref,a.name)&&!s)return!0;if(pc(o,e))break}else if(vt(o)&&pc(o,e))break}}};function mS(t,e,n){const s=fe(t,n);if(s||Oh(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const i=r.join("."),a=fe(e,i),o=fe(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};r.pop()}return{name:n}}var E4=(t,e,n,s)=>{n(t);const{name:r,...i}=t;return gn(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!s||cs.all))},_4=(t,e,n)=>!t||!e||t===e||gc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),N4=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,k4=(t,e)=>!yv(fe(t,e)).length&&bt(t,e),R4=(t,e,n)=>{const s=gc(fe(t,n));return it(s,"root",e[n]),it(t,n,s),t},Su=t=>Ns(t);function gS(t,e,n="validate"){if(Su(t)||Array.isArray(t)&&t.every(Su)||ws(t)&&!t)return{type:n,message:Su(t)?t:"",ref:e}}var ea=t=>vt(t)&&!Pd(t)?t:{value:t,message:""},pS=async(t,e,n,s,r,i)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:h,min:d,max:f,pattern:m,validate:x,name:b,valueAsNumber:C,mount:y}=t._f,p=fe(n,b);if(!y||e.has(b))return{};const g=o?o[0]:a,v=P=>{r&&g.reportValidity&&(g.setCustomValidity(ws(P)?"":P||""),g.reportValidity())},w={},E=xv(a),T=fl(a),A=E||T,_=(C||bv(a))&&Tt(a.value)&&Tt(p)||jd(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,R=b4.bind(null,b,s,w),D=(P,j,B,F=zs.maxLength,O=zs.minLength)=>{const K=P?j:B;w[b]={type:P?F:O,message:K,ref:a,...R(P?F:O,K)}};if(i?!Array.isArray(p)||!p.length:l&&(!A&&(_||cn(p))||ws(p)&&!p||T&&!UN(o).isValid||E&&!HN(o).isValid)){const{value:P,message:j}=Su(l)?{value:!!l,message:l}:ea(l);if(P&&(w[b]={type:zs.required,message:j,ref:g,...R(zs.required,j)},!s))return v(j),w}if(!_&&(!cn(d)||!cn(f))){let P,j;const B=ea(f),F=ea(d);if(!cn(p)&&!isNaN(p)){const O=a.valueAsNumber||p&&+p;cn(B.value)||(P=O>B.value),cn(F.value)||(j=O<F.value)}else{const O=a.valueAsDate||new Date(p),K=$=>new Date(new Date().toDateString()+" "+$),te=a.type=="time",H=a.type=="week";Ns(B.value)&&p&&(P=te?K(p)>K(B.value):H?p>B.value:O>new Date(B.value)),Ns(F.value)&&p&&(j=te?K(p)<K(F.value):H?p<F.value:O<new Date(F.value))}if((P||j)&&(D(!!P,B.message,F.message,zs.max,zs.min),!s))return v(w[b].message),w}if((u||h)&&!_&&(Ns(p)||i&&Array.isArray(p))){const P=ea(u),j=ea(h),B=!cn(P.value)&&p.length>+P.value,F=!cn(j.value)&&p.length<+j.value;if((B||F)&&(D(B,P.message,j.message),!s))return v(w[b].message),w}if(m&&!_&&Ns(p)){const{value:P,message:j}=ea(m);if(Pd(P)&&!p.match(P)&&(w[b]={type:zs.pattern,message:j,ref:a,...R(zs.pattern,j)},!s))return v(j),w}if(x){if(ls(x)){const P=await x(p,n),j=gS(P,g);if(j&&(w[b]={...j,...R(zs.validate,j.message)},!s))return v(j.message),w}else if(vt(x)){let P={};for(const j in x){if(!gn(P)&&!s)break;const B=gS(await x[j](p,n),g,j);B&&(P={...B,...R(j,B.message)},v(B.message),s&&(w[b]=P))}if(!gn(P)&&(w[b]={ref:g,...P},!s))return w}}return v(!0),w};const O4={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function I4(t={}){let e={...O4,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ls(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=vt(e.defaultValues)||vt(e.values)?Lt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Lt(r),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...h};const f={array:aS(),state:aS()},m=e.criteriaMode===cs.all,x=N=>I=>{clearTimeout(u),u=setTimeout(N,I)},b=async N=>{if(!e.disabled&&(h.isValid||d.isValid||N)){const I=e.resolver?gn((await T()).errors):await _(s,!0);I!==n.isValid&&f.state.next({isValid:I})}},C=(N,I)=>{!e.disabled&&(h.isValidating||h.validatingFields||d.isValidating||d.validatingFields)&&((N||Array.from(o.mount)).forEach(U=>{U&&(I?it(n.validatingFields,U,I):bt(n.validatingFields,U))}),f.state.next({validatingFields:n.validatingFields,isValidating:!gn(n.validatingFields)}))},y=(N,I=[],U,se,X=!0,W=!0)=>{if(se&&U&&!e.disabled){if(a.action=!0,W&&Array.isArray(fe(s,N))){const ae=U(fe(s,N),se.argA,se.argB);X&&it(s,N,ae)}if(W&&Array.isArray(fe(n.errors,N))){const ae=U(fe(n.errors,N),se.argA,se.argB);X&&it(n.errors,N,ae),k4(n.errors,N)}if((h.touchedFields||d.touchedFields)&&W&&Array.isArray(fe(n.touchedFields,N))){const ae=U(fe(n.touchedFields,N),se.argA,se.argB);X&&it(n.touchedFields,N,ae)}(h.dirtyFields||d.dirtyFields)&&(n.dirtyFields=ko(r,i)),f.state.next({name:N,isDirty:D(N,I),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else it(i,N,I)},p=(N,I)=>{it(n.errors,N,I),f.state.next({errors:n.errors})},g=N=>{n.errors=N,f.state.next({errors:n.errors,isValid:!1})},v=(N,I,U,se)=>{const X=fe(s,N);if(X){const W=fe(i,N,Tt(U)?fe(r,N):U);Tt(W)||se&&se.defaultChecked||I?it(i,N,I?W:uS(X._f)):B(N,W),a.mount&&b()}},w=(N,I,U,se,X)=>{let W=!1,ae=!1;const ke={name:N};if(!e.disabled){if(!U||se){(h.isDirty||d.isDirty)&&(ae=n.isDirty,n.isDirty=ke.isDirty=D(),W=ae!==ke.isDirty);const Be=Rr(fe(r,N),I);ae=!!fe(n.dirtyFields,N),Be?bt(n.dirtyFields,N):it(n.dirtyFields,N,!0),ke.dirtyFields=n.dirtyFields,W=W||(h.dirtyFields||d.dirtyFields)&&ae!==!Be}if(U){const Be=fe(n.touchedFields,N);Be||(it(n.touchedFields,N,U),ke.touchedFields=n.touchedFields,W=W||(h.touchedFields||d.touchedFields)&&Be!==U)}W&&X&&f.state.next(ke)}return W?ke:{}},E=(N,I,U,se)=>{const X=fe(n.errors,N),W=(h.isValid||d.isValid)&&ws(I)&&n.isValid!==I;if(e.delayError&&U?(l=x(()=>p(N,U)),l(e.delayError)):(clearTimeout(u),l=null,U?it(n.errors,N,U):bt(n.errors,N)),(U?!Rr(X,U):X)||!gn(se)||W){const ae={...se,...W&&ws(I)?{isValid:I}:{},errors:n.errors,name:N};n={...n,...ae},f.state.next(ae)}},T=async N=>{C(N,!0);const I=await e.resolver(i,e.context,w4(N||o.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return C(N),I},A=async N=>{const{errors:I}=await T(N);if(N)for(const U of N){const se=fe(I,U);se?it(n.errors,U,se):bt(n.errors,U)}else n.errors=I;return I},_=async(N,I,U={valid:!0})=>{for(const se in N){const X=N[se];if(X){const{_f:W,...ae}=X;if(W){const ke=o.array.has(W.name),Be=X._f&&T4(X._f);Be&&h.validatingFields&&C([se],!0);const Gt=await pS(X,o.disabled,i,m,e.shouldUseNativeValidation&&!I,ke);if(Be&&h.validatingFields&&C([se]),Gt[W.name]&&(U.valid=!1,I))break;!I&&(fe(Gt,W.name)?ke?R4(n.errors,Gt,W.name):it(n.errors,W.name,Gt[W.name]):bt(n.errors,W.name))}!gn(ae)&&await _(ae,I,U)}}return U.valid},R=()=>{for(const N of o.unMount){const I=fe(s,N);I&&(I._f.refs?I._f.refs.every(U=>!Vf(U)):!Vf(I._f.ref))&&ge(N)}o.unMount=new Set},D=(N,I)=>!e.disabled&&(N&&I&&it(i,N,I),!Rr($(),r)),P=(N,I,U)=>v4(N,o,{...a.mount?i:Tt(I)?r:Ns(N)?{[N]:I}:I},U,I),j=N=>yv(fe(a.mount?i:r,N,e.shouldUnregister?fe(r,N,[]):[])),B=(N,I,U={})=>{const se=fe(s,N);let X=I;if(se){const W=se._f;W&&(!W.disabled&&it(i,N,LN(I,W)),X=jd(W.ref)&&cn(I)?"":I,MN(W.ref)?[...W.ref.options].forEach(ae=>ae.selected=X.includes(ae.value)):W.refs?fl(W.ref)?W.refs.forEach(ae=>{(!ae.defaultChecked||!ae.disabled)&&(Array.isArray(X)?ae.checked=!!X.find(ke=>ke===ae.value):ae.checked=X===ae.value||!!X)}):W.refs.forEach(ae=>ae.checked=ae.value===X):bv(W.ref)?W.ref.value="":(W.ref.value=X,W.ref.type||f.state.next({name:N,values:Lt(i)})))}(U.shouldDirty||U.shouldTouch)&&w(N,X,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&H(N)},F=(N,I,U)=>{for(const se in I){if(!I.hasOwnProperty(se))return;const X=I[se],W=N+"."+se,ae=fe(s,W);(o.array.has(N)||vt(X)||ae&&!ae._f)&&!wi(X)?F(W,X,U):B(W,X,U)}},O=(N,I,U={})=>{const se=fe(s,N),X=o.array.has(N),W=Lt(I);it(i,N,W),X?(f.array.next({name:N,values:Lt(i)}),(h.isDirty||h.dirtyFields||d.isDirty||d.dirtyFields)&&U.shouldDirty&&f.state.next({name:N,dirtyFields:ko(r,i),isDirty:D(N,W)})):se&&!se._f&&!cn(W)?F(N,W,U):B(N,W,U),fS(N,o)&&f.state.next({...n,name:N}),f.state.next({name:a.mount?N:void 0,values:Lt(i)})},K=async N=>{a.mount=!0;const I=N.target;let U=I.name,se=!0;const X=fe(s,U),W=Be=>{se=Number.isNaN(Be)||wi(Be)&&isNaN(Be.getTime())||Rr(Be,fe(i,U,Be))},ae=dS(e.mode),ke=dS(e.reValidateMode);if(X){let Be,Gt;const Vn=I.type?uS(X._f):d4(N),An=N.type===iS.BLUR||N.type===iS.FOCUS_OUT,ai=!A4(X._f)&&!e.resolver&&!fe(n.errors,U)&&!X._f.deps||N4(An,fe(n.touchedFields,U),n.isSubmitted,ke,ae),bs=fS(U,o,An);it(i,U,Vn),An?(!I||!I.readOnly)&&(X._f.onBlur&&X._f.onBlur(N),l&&l(0)):X._f.onChange&&X._f.onChange(N);const En=w(U,Vn,An),oi=!gn(En)||bs;if(!An&&f.state.next({name:U,type:N.type,values:Lt(i)}),ai)return(h.isValid||d.isValid)&&(e.mode==="onBlur"?An&&b():An||b()),oi&&f.state.next({name:U,...bs?{}:En});if(!An&&bs&&f.state.next({...n}),e.resolver){const{errors:Fn}=await T([U]);if(W(Vn),se){const Xi=mS(n.errors,s,U),ci=mS(Fn,s,Xi.name||U);Be=ci.error,U=ci.name,Gt=gn(Fn)}}else C([U],!0),Be=(await pS(X,o.disabled,i,m,e.shouldUseNativeValidation))[U],C([U]),W(Vn),se&&(Be?Gt=!1:(h.isValid||d.isValid)&&(Gt=await _(s,!0)));se&&(X._f.deps&&H(X._f.deps),E(U,Gt,Be,En))}},te=(N,I)=>{if(fe(n.errors,I)&&N.focus)return N.focus(),1},H=async(N,I={})=>{let U,se;const X=gc(N);if(e.resolver){const W=await A(Tt(N)?N:X);U=gn(W),se=N?!X.some(ae=>fe(W,ae)):U}else N?(se=(await Promise.all(X.map(async W=>{const ae=fe(s,W);return await _(ae&&ae._f?{[W]:ae}:ae)}))).every(Boolean),!(!se&&!n.isValid)&&b()):se=U=await _(s);return f.state.next({...!Ns(N)||(h.isValid||d.isValid)&&U!==n.isValid?{}:{name:N},...e.resolver||!N?{isValid:U}:{},errors:n.errors}),I.shouldFocus&&!se&&pc(s,te,N?X:o.mount),se},$=N=>{const I={...a.mount?i:r};return Tt(N)?I:Ns(N)?fe(I,N):N.map(U=>fe(I,U))},M=(N,I)=>({invalid:!!fe((I||n).errors,N),isDirty:!!fe((I||n).dirtyFields,N),error:fe((I||n).errors,N),isValidating:!!fe(n.validatingFields,N),isTouched:!!fe((I||n).touchedFields,N)}),Y=N=>{N&&gc(N).forEach(I=>bt(n.errors,I)),f.state.next({errors:N?n.errors:{}})},Q=(N,I,U)=>{const se=(fe(s,N,{_f:{}})._f||{}).ref,X=fe(n.errors,N)||{},{ref:W,message:ae,type:ke,...Be}=X;it(n.errors,N,{...Be,...I,ref:se}),f.state.next({name:N,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&se&&se.focus&&se.focus()},le=(N,I)=>ls(N)?f.state.subscribe({next:U=>"values"in U&&N(P(void 0,I),U)}):P(N,I,!0),L=N=>f.state.subscribe({next:I=>{_4(N.name,I.name,N.exact)&&E4(I,N.formState||h,ns,N.reRenderRoot)&&N.callback({values:{...i},...n,...I,defaultValues:r})}}).unsubscribe,ne=N=>(a.mount=!0,d={...d,...N.formState},L({...N,formState:d})),ge=(N,I={})=>{for(const U of N?gc(N):o.mount)o.mount.delete(U),o.array.delete(U),I.keepValue||(bt(s,U),bt(i,U)),!I.keepError&&bt(n.errors,U),!I.keepDirty&&bt(n.dirtyFields,U),!I.keepTouched&&bt(n.touchedFields,U),!I.keepIsValidating&&bt(n.validatingFields,U),!e.shouldUnregister&&!I.keepDefaultValue&&bt(r,U);f.state.next({values:Lt(i)}),f.state.next({...n,...I.keepDirty?{isDirty:D()}:{}}),!I.keepIsValid&&b()},re=({disabled:N,name:I})=>{(ws(N)&&a.mount||N||o.disabled.has(I))&&(N?o.disabled.add(I):o.disabled.delete(I))},me=(N,I={})=>{let U=fe(s,N);const se=ws(I.disabled)||ws(e.disabled);return it(s,N,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:N}},name:N,mount:!0,...I}}),o.mount.add(N),U?re({disabled:ws(I.disabled)?I.disabled:e.disabled,name:N}):v(N,!0,I.value),{...se?{disabled:I.disabled||e.disabled}:{},...e.progressive?{required:!!I.required,min:Ro(I.min),max:Ro(I.max),minLength:Ro(I.minLength),maxLength:Ro(I.maxLength),pattern:Ro(I.pattern)}:{},name:N,onChange:K,onBlur:K,ref:X=>{if(X){me(N,I),U=fe(s,N);const W=Tt(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,ae=x4(W),ke=U._f.refs||[];if(ae?ke.find(Be=>Be===W):W===U._f.ref)return;it(s,N,{_f:{...U._f,...ae?{refs:[...ke.filter(Vf),W,...Array.isArray(fe(r,N))?[{}]:[]],ref:{type:W.type,name:N}}:{ref:W}}}),v(N,!1,void 0,W)}else U=fe(s,N,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||I.shouldUnregister)&&!(f4(o.array,N)&&a.action)&&o.unMount.add(N)}}},he=()=>e.shouldFocusError&&pc(s,te,o.mount),pe=N=>{ws(N)&&(f.state.next({disabled:N}),pc(s,(I,U)=>{const se=fe(s,U);se&&(I.disabled=se._f.disabled||N,Array.isArray(se._f.refs)&&se._f.refs.forEach(X=>{X.disabled=se._f.disabled||N}))},0,!1))},Ne=(N,I)=>async U=>{let se;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let X=Lt(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:W,values:ae}=await T();n.errors=W,X=Lt(ae)}else await _(s);if(o.disabled.size)for(const W of o.disabled)bt(X,W);if(bt(n.errors,"root"),gn(n.errors)){f.state.next({errors:{}});try{await N(X,U)}catch(W){se=W}}else I&&await I({...n.errors},U),he(),setTimeout(he);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:gn(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},de=(N,I={})=>{fe(s,N)&&(Tt(I.defaultValue)?O(N,Lt(fe(r,N))):(O(N,I.defaultValue),it(r,N,Lt(I.defaultValue))),I.keepTouched||bt(n.touchedFields,N),I.keepDirty||(bt(n.dirtyFields,N),n.isDirty=I.defaultValue?D(N,Lt(fe(r,N))):D()),I.keepError||(bt(n.errors,N),h.isValid&&b()),f.state.next({...n}))},oe=(N,I={})=>{const U=N?Lt(N):r,se=Lt(U),X=gn(N),W=X?r:se;if(I.keepDefaultValues||(r=U),!I.keepValues){if(I.keepDirtyValues){const ae=new Set([...o.mount,...Object.keys(ko(r,i))]);for(const ke of Array.from(ae))fe(n.dirtyFields,ke)?it(W,ke,fe(i,ke)):O(ke,fe(W,ke))}else{if(pv&&Tt(N))for(const ae of o.mount){const ke=fe(s,ae);if(ke&&ke._f){const Be=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(jd(Be)){const Gt=Be.closest("form");if(Gt){Gt.reset();break}}}}if(I.keepFieldsRef)for(const ae of o.mount)O(ae,fe(W,ae));else s={}}i=e.shouldUnregister?I.keepDefaultValues?Lt(r):{}:Lt(W),f.array.next({values:{...W}}),f.state.next({values:{...W}})}o={mount:I.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!I.keepIsValid||!!I.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:I.keepSubmitCount?n.submitCount:0,isDirty:X?!1:I.keepDirty?n.isDirty:!!(I.keepDefaultValues&&!Rr(N,r)),isSubmitted:I.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:X?{}:I.keepDirtyValues?I.keepDefaultValues&&i?ko(r,i):n.dirtyFields:I.keepDefaultValues&&N?ko(r,N):I.keepDirty?n.dirtyFields:{},touchedFields:I.keepTouched?n.touchedFields:{},errors:I.keepErrors?n.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},ye=(N,I)=>oe(ls(N)?N(i):N,I),Je=(N,I={})=>{const U=fe(s,N),se=U&&U._f;if(se){const X=se.refs?se.refs[0]:se.ref;X.focus&&(X.focus(),I.shouldSelect&&ls(X.select)&&X.select())}},ns=N=>{n={...n,...N}},zn={control:{register:me,unregister:ge,getFieldState:M,handleSubmit:Ne,setError:Q,_subscribe:L,_runSchema:T,_focusError:he,_getWatch:P,_getDirty:D,_setValid:b,_setFieldArray:y,_setDisabledField:re,_setErrors:g,_getFieldArray:j,_reset:oe,_resetDefaultValues:()=>ls(e.defaultValues)&&e.defaultValues().then(N=>{ye(N,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:pe,_subjects:f,_proxyFormState:h,get _fields(){return s},get _formValues(){return i},get _state(){return a},set _state(N){a=N},get _defaultValues(){return r},get _names(){return o},set _names(N){o=N},get _formState(){return n},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:ne,trigger:H,register:me,handleSubmit:Ne,watch:le,setValue:O,getValues:$,reset:ye,resetField:de,clearErrors:Y,unregister:ge,setError:Q,setFocus:Je,getFieldState:M};return{...zn,formControl:zn}}function j4(t={}){const e=Z.useRef(void 0),n=Z.useRef(void 0),[s,r]=Z.useState({isDirty:!1,isValidating:!1,isLoading:ls(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ls(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!ls(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=I4(t);e.current={...o,formState:s}}const i=e.current.control;return i._options=t,y4(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>r({...i._formState}),reRenderRoot:!0});return r(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),Z.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Z.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Z.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Z.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==s.isDirty&&i._subjects.state.next({isDirty:a})}},[i,s.isDirty]),Z.useEffect(()=>{t.values&&!Rr(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,r(a=>({...a}))):i._resetDefaultValues()},[i,t.values]),Z.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=p4(s,i),e.current}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_t=(t,e)=>{const n=S.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>S.createElement("svg",{ref:h,...M4,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${P4(t)}`,o].join(" "),...u},[...e.map(([d,f])=>S.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=_t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=_t("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=_t("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=_t("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=_t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=_t("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=_t("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=_t("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=_t("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=_t("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=_t("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=_t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=_t("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=_t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=_t("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=_t("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function vS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function G4(...t){return e=>{let n=!1;const s=t.map(r=>{const i=vS(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():vS(t[r],null)}}}}function zN(t){const e=K4(t),n=S.forwardRef((s,r)=>{const{children:i,...a}=s,o=S.Children.toArray(i),l=o.find(Y4);if(l){const u=l.props.children,h=o.map(d=>d===l?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:d);return c.jsx(e,{...a,ref:r,children:S.isValidElement(u)?S.cloneElement(u,void 0,h):null})}return c.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var q4=zN("Slot");function K4(t){const e=S.forwardRef((n,s)=>{const{children:r,...i}=n;if(S.isValidElement(r)){const a=X4(r),o=Q4(i,r.props);return r.type!==S.Fragment&&(o.ref=s?G4(s,a):a),S.cloneElement(r,o)}return S.Children.count(r)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $4=Symbol("radix.slottable");function Y4(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$4}function Q4(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...o)=>{const l=i(...o);return r(...o),l}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function X4(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VN(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=VN(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function FN(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=VN(t))&&(s&&(s+=" "),s+=e);return s}const bS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xS=FN,Sv=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return xS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const h=n==null?void 0:n[u],d=i==null?void 0:i[u];if(h===null)return null;const f=bS(h)||bS(d);return r[u][f]}),o=n&&Object.entries(n).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),l=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(x=>{let[b,C]=x;return Array.isArray(C)?C.includes({...i,...o}[b]):{...i,...o}[b]===C})?[...u,d,f]:u},[]);return xS(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},Cv="-",J4=t=>{const e=W4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const o=a.split(Cv);return o[0]===""&&o.length!==1&&o.shift(),GN(o,e)||Z4(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&s[a]?[...l,...s[a]]:l}}},GN=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?GN(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(Cv);return(a=e.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},SS=/^\[(.+)\]$/,Z4=t=>{if(SS.test(t)){const e=SS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},W4=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return tz(Object.entries(t.classGroups),n).forEach(([i,a])=>{kg(a,s,i,e)}),s},kg=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:CS(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(ez(r)){kg(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{kg(a,CS(e,i),n,s)})})},CS=(t,e)=>{let n=t;return e.split(Cv).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},ez=t=>t.isThemeGetter,tz=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[e+a,o])):i);return[n,r]}):t,nz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},qN="!",sz=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=o=>{const l=[];let u=0,h=0,d;for(let C=0;C<o.length;C++){let y=o[C];if(u===0){if(y===r&&(s||o.slice(C,C+i)===e)){l.push(o.slice(h,C)),h=C+i;continue}if(y==="/"){d=C;continue}}y==="["?u++:y==="]"&&u--}const f=l.length===0?o:o.substring(h),m=f.startsWith(qN),x=m?f.substring(1):f,b=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:b}};return n?o=>n({className:o,parseClassName:a}):a},rz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},iz=t=>({cache:nz(t.cacheSize),parseClassName:sz(t),...J4(t)}),az=/\s+/,oz=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(az);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let x=!!m,b=s(x?f.substring(0,m):f);if(!b){if(!x){o=u+(o.length>0?" "+o:o);continue}if(b=s(f),!b){o=u+(o.length>0?" "+o:o);continue}x=!1}const C=rz(h).join(":"),y=d?C+qN:C,p=y+b;if(i.includes(p))continue;i.push(p);const g=r(b,x);for(let v=0;v<g.length;++v){const w=g[v];i.push(y+w)}o=u+(o.length>0?" "+o:o)}return o};function cz(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=KN(e))&&(s&&(s+=" "),s+=n);return s}const KN=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=KN(t[s]))&&(n&&(n+=" "),n+=e);return n};function lz(t,...e){let n,s,r,i=a;function a(l){const u=e.reduce((h,d)=>d(h),t());return n=iz(u),s=n.cache.get,r=n.cache.set,i=o,o(l)}function o(l){const u=s(l);if(u)return u;const h=oz(l,n);return r(l,h),h}return function(){return i(cz.apply(null,arguments))}}const st=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$N=/^\[(?:([a-z-]+):)?(.+)\]$/i,uz=/^\d+\/\d+$/,dz=new Set(["px","full","screen"]),hz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vs=t=>Ma(t)||dz.has(t)||uz.test(t),pr=t=>fo(t,"length",Tz),Ma=t=>!!t&&!Number.isNaN(Number(t)),Ff=t=>fo(t,"number",Ma),Oo=t=>!!t&&Number.isInteger(Number(t)),yz=t=>t.endsWith("%")&&Ma(t.slice(0,-1)),Re=t=>$N.test(t),yr=t=>hz.test(t),vz=new Set(["length","size","percentage"]),bz=t=>fo(t,vz,YN),xz=t=>fo(t,"position",YN),Sz=new Set(["image","url"]),Cz=t=>fo(t,Sz,Ez),wz=t=>fo(t,"",Az),Io=()=>!0,fo=(t,e,n)=>{const s=$N.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Tz=t=>fz.test(t)&&!mz.test(t),YN=()=>!1,Az=t=>gz.test(t),Ez=t=>pz.test(t),_z=()=>{const t=st("colors"),e=st("spacing"),n=st("blur"),s=st("brightness"),r=st("borderColor"),i=st("borderRadius"),a=st("borderSpacing"),o=st("borderWidth"),l=st("contrast"),u=st("grayscale"),h=st("hueRotate"),d=st("invert"),f=st("gap"),m=st("gradientColorStops"),x=st("gradientColorStopPositions"),b=st("inset"),C=st("margin"),y=st("opacity"),p=st("padding"),g=st("saturate"),v=st("scale"),w=st("sepia"),E=st("skew"),T=st("space"),A=st("translate"),_=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Re,e],P=()=>[Re,e],j=()=>["",Vs,pr],B=()=>["auto",Ma,Re],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",Re],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Ma,Re];return{cacheSize:500,separator:":",theme:{colors:[Io],spacing:[Vs,pr],blur:["none","",yr,Re],brightness:M(),borderColor:[t],borderRadius:["none","","full",yr,Re],borderSpacing:P(),borderWidth:j(),contrast:M(),grayscale:H(),hueRotate:M(),invert:H(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[yz,pr],inset:D(),margin:D(),opacity:M(),padding:P(),saturate:M(),scale:M(),sepia:H(),skew:M(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[yr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Re]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oo,Re]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Oo,Re]}],"grid-cols":[{"grid-cols":[Io]}],"col-start-end":[{col:["auto",{span:["full",Oo,Re]},Re]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Io]}],"row-start-end":[{row:["auto",{span:[Oo,Re]},Re]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[yr]},yr]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yr,pr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ff]}],"font-family":[{font:[Io]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Ma,Ff]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vs,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vs,pr]}],"underline-offset":[{"underline-offset":["auto",Vs,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),xz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cz]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:O()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Vs,Re]}],"outline-w":[{outline:[Vs,pr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Vs,pr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yr,wz]}],"shadow-color":[{shadow:[Io]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",yr,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Oo,Re]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Vs,pr,Ff]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nz=lz(_z);function wn(...t){return Nz(FN(t))}function kz(t){const e=t.replace(/\D/g,"");return e.length===10||e.length===11}function wS(t){const e=t.replace(/\D/g,"");return e.length===11&&e.startsWith("1")?e.slice(1):e}const Rz=Sv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",warning:"bg-warning text-warning-foreground hover:bg-warning/90",info:"bg-info text-info-foreground hover:bg-info/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=S.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?q4:"button";return c.jsx(a,{className:wn(Rz({variant:e,size:n,className:t})),ref:i,...r})});ie.displayName="Button";const Se=S.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:wn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Se.displayName="Card";const Ae=S.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:wn("flex flex-col space-y-1.5 p-6",t),...e}));Ae.displayName="CardHeader";const _e=S.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:wn("text-2xl font-semibold leading-none tracking-tight",t),...e}));_e.displayName="CardTitle";const us=S.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:wn("text-sm text-muted-foreground",t),...e}));us.displayName="CardDescription";const Ce=S.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:wn("p-6 pt-0",t),...e}));Ce.displayName="CardContent";const Oz=S.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:wn("flex items-center p-6 pt-0",t),...e}));Oz.displayName="CardFooter";const Dd=S.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:wn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Dd.displayName="Textarea";var Iz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wv=Iz.reduce((t,e)=>{const n=zN(`Primitive.${e}`),s=S.forwardRef((r,i)=>{const{asChild:a,...o}=r,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...o,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),jz="Label",QN=S.forwardRef((t,e)=>c.jsx(wv.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));QN.displayName=jz;var XN=QN;const Mz=Sv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jt=S.forwardRef(({className:t,...e},n)=>c.jsx(XN,{ref:n,className:wn(Mz(),t),...e}));jt.displayName=XN.displayName;const Tv=T2,ys=_2,Pz=({onNumbersSubmit:t,isLoading:e})=>{const[n,s]=S.useState(!1),[r,i]=S.useState(null),[a,o]=S.useState(null),[l,u]=S.useState(["voice"]),{role:h,organizationId:d,userId:f}=ys(E=>E.demoAuth),{register:m,handleSubmit:x,formState:{errors:b},reset:C}=j4(),y=async E=>{s(!0),i(null),o(null);try{const T=E.phone_numbers.split(`
`).map(_=>_.trim()).filter(_=>_.length>0).map(wS);if(T.length===0){i("Please enter at least one phone number");return}const A=T.filter(_=>!kz(_));if(A.length>0){i(`Invalid phone numbers: ${A.join(", ")}`);return}await t(T,E.notes),o(`Successfully submitted ${T.length} phone numbers`)}catch(T){i(T instanceof Error?T.message:"An error occurred")}finally{s(!1)}},p=()=>{C(),i(null),o(null)},g=async()=>{var E,T;try{const A=d||1,_=f||1,R=((E=document.getElementById("phone_numbers"))==null?void 0:E.value.split(`
`).find(B=>B.trim()))||"",D=wS(R.trim());if(!D){i("Enter at least one phone number to request DNC");return}const P=((T=document.getElementById("dnc_reason"))==null?void 0:T.value)||"user request",j={"X-Org-Id":String(A),"X-User-Id":String(_),"X-Role":String(h||"member"),"Content-Type":"application/json"};try{const B=window.__msalAcquireToken,F="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(B&&F){const O=await B([F]);O&&(j.Authorization=`Bearer ${O}`)}}catch{}if(!l.length){i("Select at least one channel (Call, SMS, Email)");return}for(const B of l)if(!(await fetch(`${ee}/api/v1/tenants/dnc-requests/${A}`,{method:"POST",headers:j,body:JSON.stringify({phone_e164:D,reason:P,channel:B})})).ok)throw new Error("Failed to submit DNC request");o("DNC request submitted for review")}catch(A){i(A instanceof Error?A.message:"Failed to submit DNC request")}},v=h==="admin"||h==="owner"||h==="superadmin",w=h==="member";return c.jsxs(Se,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[c.jsxs(Ae,{children:[c.jsxs(_e,{className:"flex items-center gap-2 text-blue-600",children:[c.jsx(Ja,{className:"h-5 w-5"}),"Add Phone Numbers"]}),c.jsx(us,{children:"Enter phone numbers to be removed from Do Not Call lists across all CRM systems"})]}),c.jsx(Ce,{children:c.jsxs("form",{onSubmit:x(y),className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(jt,{htmlFor:"phone_numbers",className:"text-sm font-medium text-gray-700",children:"Phone Numbers (one per line)"}),c.jsx(Dd,{id:"phone_numbers",placeholder:`Enter phone numbers here...
Example:
555-123-4567
(555) 987-6543
555.123.4567`,className:wn("mt-1 min-h-[120px] resize-none",b.phone_numbers&&"border-red-300 focus:border-red-500 focus:ring-red-500"),...m("phone_numbers",{required:"Phone numbers are required",validate:E=>E.trim()?E.split(`
`).filter(A=>A.trim().length>0).length===0?"Please enter at least one phone number":!0:"Phone numbers are required"})}),b.phone_numbers&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.phone_numbers.message})]}),c.jsxs("div",{children:[c.jsx(jt,{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes (optional)"}),c.jsx(Dd,{id:"notes",placeholder:"Add any notes about these phone numbers...",className:"mt-1 resize-none",...m("notes")})]}),r&&c.jsx(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[c.jsx(ml,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:r})]})}),a&&c.jsx(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[c.jsx(ni,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:a})]})}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-2",children:[v&&c.jsx(ie,{type:"submit",disabled:n||e,className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:n||e?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),n?"Submitting...":"Loading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ng,{className:"h-4 w-4 mr-2"}),"Run Number Check"]})}),w&&c.jsxs("div",{className:"flex flex-wrap items-end gap-3",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Channels"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"voice",label:"Call"},{key:"sms",label:"SMS"},{key:"email",label:"Email"}].map(E=>c.jsx("button",{type:"button",onClick:()=>u(T=>T.includes(E.key)?T.filter(A=>A!==E.key):[...T,E.key]),className:wn("px-3 py-1 rounded border text-sm",l.includes(E.key)?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:E.label},E.key))})]}),c.jsxs("div",{children:[c.jsx(jt,{htmlFor:"dnc_reason",className:"text-xs",children:"Reason"}),c.jsx("input",{id:"dnc_reason",className:"border rounded px-2 py-1 text-sm",placeholder:"Customer opt-out"})]})]}),w&&c.jsx(ie,{type:"button",variant:"outline",onClick:g,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Request DNC"}),c.jsx(ie,{type:"button",variant:"outline",onClick:p,disabled:n||e,className:"flex-shrink-0 whitespace-nowrap",children:"Clear"})]})]})})]})},Dz=({title:t,status:e,count:n,total:s,icon:r,onRetry:i,isLoading:a=!1})=>{const o=h=>{switch(h){case"completed":return"text-green-600 bg-green-50 border-green-200";case"failed":return"text-red-600 bg-red-50 border-red-200";case"processing":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=(h,d)=>{switch(h){case"completed":return c.jsx(ni,{className:"w-5 h-5"});case"failed":return c.jsx(ml,{className:"w-5 h-5"});case"processing":return d>0?c.jsx(_g,{className:"w-5 h-5 animate-spin"}):c.jsx(Ii,{className:"w-5 h-5"});case"pending":return c.jsx(Ii,{className:"w-5 h-5"});default:return c.jsx(Ja,{className:"w-5 h-5"})}},u=s>0?Math.round(n/s*100):0;return c.jsx(Rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:c.jsxs(Se,{className:`border-2 ${o(e)} hover:shadow-md transition-shadow`,children:[c.jsx(Ae,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[r,c.jsx(_e,{className:"text-lg font-semibold",children:t})]}),l(e,n)]})}),c.jsx(Ce,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-2xl font-bold",children:n}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[u,"% of total"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e==="completed"?"bg-green-500":e==="failed"?"bg-red-500":e==="processing"?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${u}%`}})}),i&&e==="failed"&&c.jsx(ie,{variant:"outline",size:"sm",onClick:i,disabled:a,className:"w-full",children:a?c.jsxs(c.Fragment,{children:[c.jsx(_g,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Cu,{className:"w-4 h-4 mr-2"}),"Retry Failed"]})})]})})]})})},Uz=()=>{const{stats:t,isLoading:e,demoTotal:n}=ys(d=>d.crmStatus),{phoneNumbers:s}=ys(d=>d.phoneNumbers),r=n||s.length,i=d=>{switch(d){case"logics":return"Logics";case"genesys":return"Genesys";case"ringcentral":return"Ring Central";case"convoso":return"Convoso";case"ytel":return"Ytel";default:return d}},a=d=>{switch(d){case"logics":return c.jsx(D4,{className:"w-5 h-5"});case"genesys":return c.jsx(L4,{className:"w-5 h-5"});case"ringcentral":return c.jsx(B4,{className:"w-5 h-5"});case"convoso":return c.jsx(F4,{className:"w-5 h-5"});case"ytel":return c.jsx(Ja,{className:"w-5 h-5"});default:return c.jsx(Ja,{className:"w-5 h-5"})}},o=d=>{console.log(`Retrying failed removals for ${d}`)},u={...{logics:{total:0,pending:0,processing:0,completed:0,failed:0},genesys:{total:0,pending:0,processing:0,completed:0,failed:0},ringcentral:{total:0,pending:0,processing:0,completed:0,failed:0},convoso:{total:0,pending:0,processing:0,completed:0,failed:0},ytel:{total:0,pending:0,processing:0,completed:0,failed:0}},...t},h=d=>d.failed>0?"failed":d.processing>0?"processing":d.pending>0?"pending":(d.completed>0,"completed");return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CRM Status Dashboard"}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total Phone Numbers: ",r]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(u).map(([d,f])=>c.jsx(Dz,{title:i(d),status:h(f),count:f.total,total:r,icon:a(d),onRetry:f.failed>0?()=>o(d):void 0,isLoading:e},d))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Se,{children:c.jsx(Ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Processed"}),c.jsx("p",{className:"text-2xl font-bold",children:Object.values(u).reduce((d,f)=>d+f.total,0)})]}),c.jsx(BN,{className:"w-8 h-8 text-blue-500"})]})})}),c.jsx(Se,{children:c.jsx(Ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[(()=>{const d=Object.values(u).reduce((m,x)=>m+x.total,0),f=Object.values(u).reduce((m,x)=>m+x.completed,0);return d>0?Math.round(f/d*100):0})(),"%"]})]}),c.jsx(ni,{className:"w-8 h-8 text-green-500"})]})})}),c.jsx(Se,{children:c.jsx(Ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Object.values(u).reduce((d,f)=>d+f.processing,0)})]}),Object.values(u).reduce((f,m)=>f+m.processing,0)>0?c.jsx(_g,{className:"w-8 h-8 text-blue-500 animate-spin"}):c.jsx(Ii,{className:"w-8 h-8 text-blue-500"})]})})}),c.jsx(Se,{children:c.jsx(Ce,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Failed"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:Object.values(u).reduce((d,f)=>d+f.failed,0)})]}),c.jsx(ml,{className:"w-8 h-8 text-red-500"})]})})})]})]})},Jt=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},Lz=({numbers:t,onAutomationComplete:e})=>{const[n,s]=S.useState({}),[r,i]=S.useState({}),[,a]=S.useState(null),[o,l]=S.useState(null),[u,h]=S.useState(null),[d,f]=S.useState(!1),[m,x]=S.useState({total:0,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),b=async g=>{var v,w,E,T,A;console.log("🔍 Starting DNC check for phone:",g),console.log("🔍 Demo headers:",Jt()),i(_=>({..._,[g]:!0}));try{const _={};try{const R=await fetch(`${ee}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(R.ok){const D=await R.json();_.dnc={listed:!!(D!=null&&D.is_dnc)}}}catch{}try{const R=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(R.ok){const D=await R.json(),P=(v=D==null?void 0:D.data)==null?void 0:v.is_on_dnc;P===null?_.ringcentral={listed:null,status:"unknown"}:_.ringcentral={listed:P||!1}}}catch{}try{const R=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(R.ok){const D=await R.json(),P=(w=D==null?void 0:D.data)==null?void 0:w.is_on_dnc;P===null?_.convoso={listed:null,status:"unknown"}:_.convoso={listed:P||!1}}}catch{}try{const R=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(R.ok){const D=await R.json(),P=(E=D==null?void 0:D.data)==null?void 0:E.is_on_dnc,j=(T=D==null?void 0:D.data)==null?void 0:T.status;P===null||j==="unknown"?_.ytel={listed:null,status:"unknown"}:_.ytel={listed:P||!1,status:j}}}catch{}await p(g);try{const R=await fetch(`${ee}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(R.ok){const D=await R.json(),P=(A=D==null?void 0:D.data)==null?void 0:A.is_on_dnc;P===null?_.genesys={listed:null,status:"unknown"}:_.genesys={listed:P||!1}}}catch{}s(R=>{var D;return{...R,[g]:{phone_number:g,providers:{...((D=R[g])==null?void 0:D.providers)||{},..._}}}}),a(null),console.log("🚫 Search history saving is DISABLED - should not make any calls")}catch{a("Cannot reach backend (check that it is running)")}finally{i(_=>({..._,[g]:!1}))}};S.useEffect(()=>{t.forEach(g=>b(g))},[t.join(",")]);const C=(g,v)=>g===!0?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):g===!1?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):c.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",v?` • ${v}`:""]}),y=async(g,v)=>{l(`${g}:${v}`);try{console.log(`Pushing ${v} to ${g}...`);try{await fetch(`${ee}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"pending",attempt_no:1})})}catch{}const w=await fetch(`${ee}/api/v1/tenants/propagation/retry`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({service_key:g,phone_e164:v})});if(console.log(`${g} retry response: ${w.status}`),console.log(`Successfully pushed ${v} to ${g}`),g==="logics")await p(v);else if(g==="ringcentral")try{const E=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:v})});if(E.ok){const T=await E.json();s(A=>{var R;const _=A[v]||{phone_number:v,providers:{}};return{...A,[v]:{..._,providers:{..._.providers,ringcentral:{listed:!!((R=T==null?void 0:T.data)!=null&&R.is_on_dnc)}}}}})}}catch{}else if(g==="convoso")try{const E=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:v})});if(E.ok){const T=await E.json();s(A=>{var R;const _=A[v]||{phone_number:v,providers:{}};return{...A,[v]:{..._,providers:{..._.providers,convoso:{listed:!!((R=T==null?void 0:T.data)!=null&&R.is_on_dnc)}}}}})}}catch{}else if(g==="ytel")try{const E=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:v})});if(E.ok){const T=await E.json();s(A=>{var j,B;const _=A[v]||{phone_number:v,providers:{}},R=(j=T==null?void 0:T.data)==null?void 0:j.is_on_dnc,D=(B=T==null?void 0:T.data)==null?void 0:B.status,P=R===null||D==="unknown"?null:!!R;return{...A,[v]:{..._,providers:{..._.providers,ytel:{listed:P,status:D}}}}})}}catch{}else if(g==="genesys")try{const E=await fetch(`${ee}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:v})});if(E.ok){const T=await E.json();s(A=>{var R;const _=A[v]||{phone_number:v,providers:{}};return{...A,[v]:{..._,providers:{..._.providers,genesys:{listed:!!((R=T==null?void 0:T.data)!=null&&R.is_on_dnc)}}}}})}}catch{}x(E=>({...E,completed:E.completed+1,per:{...E.per,[g]:{...E.per[g],completed:E.per[g].completed+1}},logs:[...E.logs,`${g} ✓ ${v}`].slice(-200)}));try{await fetch(`${ee}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"success",attempt_no:1})})}catch{}}catch(w){console.error(`Failed to push ${v} to ${g}:`,w),alert(`Failed to push ${v} to ${g}: ${(w==null?void 0:w.message)||"Unknown error"}`),x(E=>({...E,failed:E.failed+1,per:{...E.per,[g]:{...E.per[g],failed:E.per[g].failed+1}},logs:[...E.logs,`${g} ✗ ${v} ${(w==null?void 0:w.message)||""}`].slice(-200)}));try{await fetch(`${ee}/api/v1/tenants/propagation/attempt`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({organization_id:1,service_key:g,phone_e164:v,status:"failed",error_message:(w==null?void 0:w.message)||"failed",attempt_no:1})})}catch{}}finally{l(null)}},p=async g=>{var v,w,E;try{const T=await fetch(`${ee}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({phone_number:g})});if(!T.ok)return;const A=await T.json(),_=((v=A==null?void 0:A.data)==null?void 0:v.is_found)||!1,R=((E=(w=A==null?void 0:A.data)==null?void 0:w.raw_response)==null?void 0:E.Data)||[];s(D=>{const P=D[g]||{phone_number:g,providers:{}};return{...D,[g]:{...P,providers:{...P.providers,logics:{listed:_,count:R.length,cases:R}}}}})}catch{}};return c.jsxs(c.Fragment,{children:[c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Systems Check Results"})}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:t.map(g=>{var E,T,A,_,R,D,P,j,B,F,O,K,te,H,$,M,Y,Q,le,L;const v=n[g],w=(v==null?void 0:v.providers)||{};return c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:g}),r[g]&&c.jsx("span",{className:"text-xs text-gray-500",children:" • Checking…"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),r[g]&&c.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:c.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),c.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"DNC (Federal)"}),c.jsx("div",{className:"flex items-center gap-2",children:w.dnc?w.dnc.listed?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not on DNC"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking…"})})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"RingCentral"}),c.jsxs("div",{className:"flex items-center gap-2",children:[C((E=w.ringcentral)==null?void 0:E.listed),(((T=w.ringcentral)==null?void 0:T.listed)===!1||((A=w.ringcentral)==null?void 0:A.listed)===null)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ringcentral",g),disabled:o===`ringcentral:${g}`,children:"Push"})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Convoso"}),c.jsxs("div",{className:"flex items-center gap-2",children:[C((_=w.convoso)==null?void 0:_.listed),(((R=w.convoso)==null?void 0:R.listed)===!1||((D=w.convoso)==null?void 0:D.listed)===null)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("convoso",g),disabled:o===`convoso:${g}`,children:"Push"})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[w.logics?((j=(P=w.logics.cases)==null?void 0:P[0])==null?void 0:j.CaseID)==="57"?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):(F=(B=w.logics.cases)==null?void 0:B[0])!=null&&F.CaseID?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Found"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((O=w.logics)==null?void 0:O.count)=="number"&&c.jsxs("span",{className:"text-xs text-gray-600",children:[w.logics.count," case(s)"]})]}),((H=(te=(K=w.logics)==null?void 0:K.cases)==null?void 0:te[0])==null?void 0:H.CaseID)&&w.logics.cases[0].CaseID!=="57"&&c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>h({phone:g,caseId:w.logics.cases[0].CaseID}),disabled:o===`logics:${g}`,className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100",children:"Push"})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Genesys"}),c.jsxs("div",{className:"flex items-center gap-2",children:[C(($=w.genesys)==null?void 0:$.listed),(((M=w.genesys)==null?void 0:M.listed)===!1||((Y=w.genesys)==null?void 0:Y.listed)===null)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("genesys",g),disabled:o===`genesys:${g}`,children:"Push"})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Ytel"}),c.jsxs("div",{className:"flex items-center gap-2",children:[C((Q=w.ytel)==null?void 0:Q.listed,"search"),(((le=w.ytel)==null?void 0:le.listed)===!1||((L=w.ytel)==null?void 0:L.listed)===null)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>y("ytel",g),disabled:o===`ytel:${g}`,children:"Push"})]})]})]})]},g)})})})]}),c.jsx("div",{className:"mt-3 flex justify-end",children:c.jsx(ie,{onClick:async()=>{try{if(f(!0),x({total:t.length,completed:0,failed:0,per:{ringcentral:{completed:0,failed:0},convoso:{completed:0,failed:0},ytel:{completed:0,failed:0},logics:{completed:0,failed:0},genesys:{completed:0,failed:0}},logs:[]}),(await fetch(`${ee}/api/v1/tenants/dnc/orchestrate`,{method:"POST",headers:{"Content-Type":"application/json",...Jt()},body:JSON.stringify({mode:"push",phone_numbers:t})})).ok){x(v=>({...v,completed:t.length,logs:[...v.logs,`orchestrate ✓ ${t.length} numbers`]}));for(const v of t)await b(v)}else x(v=>({...v,failed:t.length,logs:[...v.logs,"orchestrate ✗"]}))}finally{e==null||e(t.length)}},disabled:o!==null,children:"Add All Remaining Numbers to DNC Lists"})}),d&&c.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",children:c.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-2xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-lg font-semibold",children:"Push Progress"}),c.jsx("button",{className:"text-sm text-gray-600",onClick:()=>f(!1),children:"Close"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"p-2 border rounded",children:[c.jsx("div",{className:"font-medium mb-1",children:"Overall"}),c.jsxs("div",{children:["Completed: ",m.completed," / ",m.total]}),c.jsxs("div",{children:["Failed: ",m.failed]}),c.jsx("div",{className:"mt-2 h-2 bg-gray-200 rounded overflow-hidden",children:c.jsx("div",{className:"h-2 bg-blue-600",style:{width:`${Math.min(100,m.completed/Math.max(1,m.total)*100)}%`}})})]}),c.jsxs("div",{className:"p-2 border rounded",children:[c.jsx("div",{className:"font-medium mb-1",children:"By Provider"}),["ringcentral","convoso","ytel","logics","genesys"].map(g=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"capitalize",children:g}),c.jsxs("span",{children:[m.per[g].completed," ✓ / ",m.per[g].failed," ✗"]})]},g))]})]}),c.jsx("div",{className:"mt-3 max-h-40 overflow-y-auto text-xs bg-gray-50 border rounded p-2",children:m.logs.map((g,v)=>c.jsx("div",{children:g},v))})]})}),u&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md mx-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"⚠️ SERIOUS WARNING"}),c.jsxs("p",{className:"mb-4",children:[c.jsx("strong",{children:"Phone:"})," ",u.phone,c.jsx("br",{}),c.jsx("strong",{children:"Case ID:"})," ",u.caseId]}),c.jsxs("p",{className:"mb-4 text-gray-700",children:[c.jsx("strong",{children:"Are you absolutely sure?"})," Adding this number to DNC will ",c.jsx("strong",{children:"END their case"})," in Logics. This action cannot be undone and will permanently close their case."]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx(ie,{variant:"outline",onClick:()=>h(null),className:"flex-1",children:"Cancel"}),c.jsx(ie,{onClick:async()=>{await y("logics",u.phone),h(null)},disabled:o===`logics:${u.phone}`,className:"flex-1 bg-red-600 hover:bg-red-700",children:"Yes, End Case"})]})]})})]})},Hz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState(!1),[a,o]=S.useState(null),l=async()=>{const d={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const f=window.__msalAcquireToken,m="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(f&&m){const x=await f([m]);x&&(d.Authorization=`Bearer ${x}`)}}catch{}return d},u=async()=>{o(null),i(!0);try{const d=await l(),m=await(await fetch(`${ee}/api/v1/tenants/dnc-requests/org/${t}?status=pending&limit=10`,{headers:d})).json();s(m||[])}catch(d){o(d instanceof Error?d.message:"Failed to load pending requests")}finally{i(!1)}};S.useEffect(()=>{u()},[]);const h=async(d,f)=>{o(null);try{const m=await l();if(!(await fetch(`${ee}/api/v1/tenants/dnc-requests/${d}/${f}`,{method:"POST",headers:m,body:JSON.stringify({notes:""})})).ok)throw new Error("Action failed");s(b=>b.filter(C=>C.id!==d))}catch(m){o(m instanceof Error?m.message:"Action failed")}};return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Pending Requests"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 text-sm",children:[c.jsx("div",{className:"text-gray-600",children:"Top 10 newest pending."}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(ie,{size:"sm",variant:"outline",onClick:u,disabled:r,children:"Refresh"})})]}),a&&c.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),r?c.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((d,f)=>c.jsx("div",{className:"h-10 bg-gray-100 rounded animate-pulse"},f))}):n.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests."}):c.jsx("div",{className:"space-y-2",children:n.map(d=>c.jsxs("div",{className:"p-2 border rounded flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium",children:[d.phone_e164," • ",d.channel||"n/a"]}),c.jsxs("div",{className:"text-gray-600",children:["Reason: ",d.reason||"—"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ie,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>h(d.id,"approve"),children:"Approve"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>h(d.id,"deny"),children:"Deny"})]})]},d.id))})]})]})},At=S.forwardRef(({className:t,type:e,...n},s)=>c.jsx("input",{type:e,className:wn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));At.displayName="Input";const Bz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState(""),[a,o]=S.useState(null),[l,u]=S.useState(!1),[h,d]=S.useState(!1),[f,m]=S.useState(""),[x,b]=S.useState(""),[C,y]=S.useState(""),[p,g]=S.useState(""),v=async()=>{const T={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const A=window.__msalAcquireToken,_="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(A&&_){const R=await A([_]);R&&(T.Authorization=`Bearer ${R}`)}}catch{}return T},w=async(T=!1)=>{d(!0);const A=new URLSearchParams;r&&A.set("q",r),a&&A.set("cursor",String(a)),A.set("limit","50");const _=await v(),D=await(await fetch(`${ee}/api/v1/tenants/litigations/${t}?${A.toString()}`,{headers:_})).json();s(T?[...n,...D]:D),u(D.length===50),o(D.length?D[D.length-1].id:null),d(!1)};S.useEffect(()=>{o(null),w(!1)},[r]);const E=async()=>{if(!f||!x)return;const T=await v();await fetch(`${ee}/api/v1/tenants/litigations/${t}`,{method:"POST",headers:T,body:JSON.stringify({phone_e164:f,company:x,case_number:C,notes:p})}),m(""),b(""),y(""),g(""),o(null),w(!1)};return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"TCPA Litigation Records"})}),c.jsxs(Ce,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(jt,{className:"text-xs",children:"Search"}),c.jsx(At,{placeholder:"Phone, company, case #",value:r,onChange:T=>i(T.target.value)})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-4",children:[c.jsxs("div",{children:[c.jsx(jt,{className:"text-xs",children:"Phone (digits)"}),c.jsx(At,{value:f,onChange:T=>m(T.target.value),placeholder:"e.g. 5618189087"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(jt,{className:"text-xs",children:"Company"}),c.jsx(At,{value:x,onChange:T=>b(T.target.value),placeholder:"Company name"})]}),c.jsxs("div",{children:[c.jsx(jt,{className:"text-xs",children:"Case #"}),c.jsx(At,{value:C,onChange:T=>y(T.target.value),placeholder:"Optional"})]}),c.jsx("div",{className:"md:col-span-2 flex items-end",children:c.jsx(ie,{onClick:E,children:"Add"})})]}),h&&n.length===0?c.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((T,A)=>c.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},A))}):n.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No litigation records"}):c.jsxs("div",{className:"space-y-2",children:[n.map(T=>c.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium",children:[T.phone_e164," • ",T.company]}),c.jsxs("div",{className:"text-gray-600",children:["Case: ",T.case_number||"—"," • Status: ",T.status]})]})},T.id)),l&&c.jsx("div",{className:"text-center pt-2",children:c.jsx(ie,{variant:"outline",onClick:()=>w(!0),children:"Load more"})})]})]})]})},zz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState({}),[a,o]=S.useState(!1),l=async()=>{const f={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const m=window.__msalAcquireToken,x="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(m&&x){const b=await m([x]);b&&(f.Authorization=`Bearer ${b}`)}}catch{}return f},u=async()=>{o(!0);const f=await l(),x=await(await fetch(`${ee}/api/v1/tenants/dnc-samples/${t}?only_gaps=true&limit=200`,{headers:f})).json();s(x),o(!1)};S.useEffect(()=>{u()},[]);const h=S.useMemo(()=>Object.entries(r).filter(([,f])=>f).map(([f])=>Number(f)),[r]),d=async()=>{if(h.length===0)return;const f=await l();await fetch(`${ee}/api/v1/tenants/dnc-samples/${t}/bulk_add_to_dnc`,{method:"POST",headers:f,body:JSON.stringify({ids:h})}),i({}),u()};return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"National DNC Gaps (not in org DNC)"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(ie,{variant:"outline",onClick:d,disabled:h.length===0,children:"Add selected to DNC"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Selected: ",h.length]})]}),a?c.jsx("div",{className:"space-y-2",children:Array.from({length:6}).map((f,m)=>c.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},m))}):n.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No gaps found."}):c.jsx("div",{className:"space-y-2",children:n.map(f=>c.jsx("div",{className:"flex items-center justify-between p-2 border rounded",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:!!r[f.id],onChange:m=>i({...r,[f.id]:m.target.checked})}),c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:f.phone_e164}),c.jsxs("div",{className:"text-gray-600",children:["Sample: ",new Date(f.sample_date).toLocaleString()]})]})]})},f.id))})]})]})},Vz=({organizationId:t,adminUserId:e,request:n,onBack:s})=>{var C;const[r,i]=S.useState(!1),[a,o]=S.useState(null),[l,u]=S.useState(null),[h,d]=S.useState([]),[f,m]=S.useState(""),x=async()=>{const y={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const p=window.__msalAcquireToken,g="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(p&&g){const v=await p([g]);v&&(y.Authorization=`Bearer ${v}`)}}catch{}return y};S.useEffect(()=>{(async()=>{i(!0),o(null);try{const p=await x(),g=await fetch(`${ee}/api/dnc/check_batch`,{method:"POST",headers:p,body:JSON.stringify({phone_numbers:[n.phone_e164]})});g.ok&&u(await g.json());const v=await fetch(`${ee}/api/dnc/cases_by_phone`,{method:"POST",headers:p,body:JSON.stringify({phone_number:n.phone_e164})});if(v.ok){const w=await v.json();d(Array.isArray(w.cases)?w.cases:[])}}catch(p){o(p instanceof Error?p.message:"Failed to load details")}finally{i(!1)}})()},[n.id]);const b=async y=>{try{const p=await x();if(!(await fetch(`${ee}/api/v1/tenants/dnc-requests/${n.id}/${y}`,{method:"POST",headers:p,body:JSON.stringify({notes:f})})).ok)throw new Error("Action failed");s()}catch(p){o(p instanceof Error?p.message:"Action failed")}};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-2xl font-semibold",children:["Request #",n.id]}),c.jsx(ie,{variant:"outline",onClick:s,children:"Back"})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Request Info"})}),c.jsx(Ce,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Phone:"})," ",n.phone_e164]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Channel:"})," ",n.channel||"n/a"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Reason:"})," ",n.reason||"—"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Requested by:"})," #",n.requested_by_user_id]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"DNC Pre-check"})}),c.jsx(Ce,{children:r?"Loading…":l?c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{children:["Total Checked: ",l.total_checked," • Matches: ",l.dnc_matches," • Safe: ",l.safe_to_call]}),c.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto divide-y",children:(C=l.results)==null?void 0:C.map((y,p)=>c.jsxs("div",{className:"py-1 flex items-center justify-between",children:[c.jsx("span",{children:y.phone_number}),c.jsx("span",{className:`text-xs ${y.is_dnc?"text-red-700":"text-green-700"}`,children:y.is_dnc?"DNC":"Safe"})]},p))})]}):c.jsx("div",{className:"text-gray-600 text-sm",children:"No data"})})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"TPS Cases"})}),c.jsx(Ce,{children:r?"Loading…":h.length?c.jsx("div",{className:"text-sm max-h-48 overflow-y-auto divide-y",children:h.map((y,p)=>c.jsxs("div",{className:"py-1 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["Case ",y.CaseID]}),c.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",y.CreatedDate||"—"," • Last Modified: ",y.LastModifiedDate||"—"]})]}),c.jsx("div",{className:"text-xs text-gray-700",children:y.StatusName||`Status ${y.StatusID}`})]},p))}):c.jsx("div",{className:"text-gray-600 text-sm",children:"No cases found"})})]})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Decision"})}),c.jsxs(Ce,{children:[a&&c.jsx("div",{className:"text-red-600 text-sm mb-2",children:a}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(At,{placeholder:"Decision notes (optional)",value:f,onChange:y=>m(y.target.value)}),c.jsx(ie,{onClick:()=>b("approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),c.jsx(ie,{variant:"outline",onClick:()=>b("deny"),children:"Deny"})]})]})]})]})},Fz=({organizationId:t,adminUserId:e})=>{const n=ys(L=>L.demoAuth.role),[s,r]=S.useState([]),[i,a]=S.useState(!1),[o,l]=S.useState(null),[u,h]=S.useState("pending"),[d,f]=S.useState(""),[m,x]=S.useState(""),[b,C]=S.useState(""),[y,p]=S.useState(null),[g,v]=S.useState(!1),[w,E]=S.useState({}),[T,A]=S.useState(""),[_,R]=S.useState({}),[D,P]=S.useState(null),[j,B]=S.useState({}),[F,O]=S.useState(new Set),K={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":n==="superadmin"?"superadmin":"admin"},te=async L=>{const ne={...L};try{const ge=window.__msalAcquireToken,re="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(ge&&re){const me=await ge([re]);me&&(ne.Authorization=`Bearer ${me}`)}}catch{}return ne},H=async(L=!1)=>{a(!0),l(null);try{const ne=new URLSearchParams;u&&ne.set("status",u),L&&y&&ne.set("cursor",String(y)),ne.set("limit","50");const ge=await fetch(`${ee}/api/v1/tenants/dnc-requests/org/${t}?${ne.toString()}`,{headers:await te(K)});if(!ge.ok)throw new Error("Failed to load requests");const re=await ge.json();r(L?[...s,...re]:re),v(re.length===50),p(re.length?re[re.length-1].id:null)}catch(ne){l(ne instanceof Error?ne.message:"Failed to load")}finally{a(!1)}};S.useEffect(()=>{p(null),H(!1)},[u]),S.useEffect(()=>{(async()=>{try{const L=await fetch(`${ee}/api/v1/tenants/users`,{headers:await te(K)});if(!L.ok)return;const ne=await L.json(),ge={};ne.forEach(re=>{ge[re.id]=re}),R(ge)}catch{R({})}})()},[]);const $=async(L,ne)=>{try{if(!(await fetch(`${ee}/api/v1/tenants/dnc-requests/${L}/${ne}`,{method:"POST",headers:await te(K),body:JSON.stringify({notes:T})})).ok)throw new Error("Action failed");await H(!1),Ll.success(ne==="approve"?"Request approved":"Request denied")}catch(ge){l(ge instanceof Error?ge.message:"Action failed"),Ll.error("Action failed")}},M=S.useMemo(()=>Object.entries(w).filter(([,L])=>L).map(([L])=>Number(L)),[w]),Y=async L=>{if(M.length!==0)try{const ne=`${ee}/api/v1/tenants/dnc-requests/bulk/${L}`;if(!(await fetch(ne,{method:"POST",headers:await te(K),body:JSON.stringify({ids:M,notes:T})})).ok)throw new Error("Bulk action failed");E({}),await H(!1),Ll.success(`${L==="approve"?"Approved":"Denied"} ${M.length} requests`)}catch{Ll.error("Bulk action failed")}},Q=async L=>{var ge,re,me,he,pe,Ne;if(F.has(L))return;O(de=>new Set(de).add(L));const ne={};try{try{const de=await fetch(`${ee}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json();ne.dnc={listed:!!(oe!=null&&oe.is_dnc)}}}catch{}try{const de=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json(),ye=(ge=oe==null?void 0:oe.data)==null?void 0:ge.is_on_dnc;ye===null?ne.ringcentral={listed:null,status:"unknown"}:ne.ringcentral={listed:ye||!1}}}catch{}try{const de=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json(),ye=(re=oe==null?void 0:oe.data)==null?void 0:re.is_on_dnc;ye===null?ne.convoso={listed:null,status:"unknown"}:ne.convoso={listed:ye||!1}}}catch{}try{const de=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json(),ye=(me=oe==null?void 0:oe.data)==null?void 0:me.is_on_dnc;ye===null?ne.ytel={listed:null,status:"unknown"}:ne.ytel={listed:ye||!1}}}catch{}try{const de=await fetch(`${ee}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json(),ye=((pe=(he=oe==null?void 0:oe.data)==null?void 0:he.raw_response)==null?void 0:pe.Data)||[];ne.logics={listed:ye.length>0,count:ye.length,cases:ye}}}catch{}try{const de=await fetch(`${ee}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:L})});if(de.ok){const oe=await de.json(),ye=(Ne=oe==null?void 0:oe.data)==null?void 0:Ne.is_on_dnc;ye===null?ne.genesys={listed:null,status:"unknown"}:ne.genesys={listed:ye||!1}}}catch{}B(de=>({...de,[L]:{phone_number:L,providers:ne}}))}finally{O(de=>{const oe=new Set(de);return oe.delete(L),oe})}},le=L=>L===!0?c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):L===!1?c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"});return D?c.jsx(Vz,{organizationId:t,adminUserId:e,request:D,onBack:()=>{P(null),H(!1)}}):c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Pending DNC Requests"})}),c.jsxs(Ce,{children:[o&&c.jsx("div",{className:"text-red-600 text-sm mb-2",children:o}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 mb-3",children:[c.jsxs("div",{children:[c.jsx(jt,{className:"text-xs",children:"Status"}),c.jsxs("select",{className:"w-full border rounded px-2 py-1",value:u,onChange:L=>h(L.target.value),children:[c.jsx("option",{value:"",children:"All"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"approved",children:"Approved"}),c.jsx("option",{value:"denied",children:"Denied"})]})]}),c.jsxs("div",{children:[c.jsx(jt,{className:"text-xs",children:"Channel"}),c.jsxs("select",{className:"w-full border rounded px-2 py-1",value:m,onChange:L=>x(L.target.value),children:[c.jsx("option",{value:"",children:"Any"}),c.jsx("option",{value:"voice",children:"Voice"}),c.jsx("option",{value:"sms",children:"SMS"}),c.jsx("option",{value:"email",children:"Email"})]})]}),c.jsxs("div",{children:[c.jsx(jt,{className:"text-xs",children:"Requester"}),c.jsx(At,{value:b,onChange:L=>C(L.target.value),placeholder:"name or email"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(jt,{className:"text-xs",children:"Search phone"}),c.jsx(At,{value:d,onChange:L=>f(L.target.value),placeholder:"digits only"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(At,{placeholder:"Decision notes (optional)",value:T,onChange:L=>A(L.target.value)}),c.jsx(ie,{variant:"outline",onClick:()=>Y("approve"),disabled:M.length===0,children:"Approve selected"}),c.jsx(ie,{variant:"outline",onClick:()=>Y("deny"),disabled:M.length===0,children:"Deny selected"}),c.jsx(ie,{variant:"outline",onClick:()=>{s.filter(ne=>ne.status==="pending").map(ne=>ne.phone_e164).forEach(ne=>Q(ne))},disabled:F.size>0,children:"Check All Systems"})]}),i&&s.length===0?c.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((L,ne)=>c.jsx("div",{className:"animate-pulse h-10 bg-gray-100 rounded"},ne))}):s.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No pending requests"}):c.jsxs("div",{className:"space-y-2",children:[s.filter(L=>{if(d&&!L.phone_e164.includes(d)||m&&L.channel!==m)return!1;if(b){const ne=_[L.requested_by_user_id];if(!`${(ne==null?void 0:ne.name)||""} ${(ne==null?void 0:ne.email)||""}`.toLowerCase().includes(b.toLowerCase()))return!1}return!0}).map(L=>{var re,me,he,pe,Ne,de,oe,ye,Je,ns,nn,zn,N,I,U,se,X,W,ae;const ne=j[L.phone_e164],ge=F.has(L.phone_e164);return c.jsxs("div",{className:"border rounded p-3 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:!!w[L.id],onChange:ke=>E({...w,[L.id]:ke.target.checked})}),c.jsxs("div",{className:"text-sm",children:[c.jsxs("div",{className:"font-medium",children:[L.phone_e164," • ",L.channel||"n/a"]}),c.jsxs("div",{className:"text-gray-600",children:["Reason: ",L.reason||"—"," • Requested by ",((re=L.requested_by)==null?void 0:re.name)||((me=_[L.requested_by_user_id])==null?void 0:me.name)||"User",(he=L.requested_by)!=null&&he.email?` (${(pe=L.requested_by)==null?void 0:pe.email})`:(Ne=_[L.requested_by_user_id])!=null&&Ne.email?` (${(de=_[L.requested_by_user_id])==null?void 0:de.email})`:""]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ie,{variant:"outline",onClick:()=>P(L),children:"View"}),c.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:()=>$(L.id,"approve"),children:"Approve"}),c.jsx(ie,{variant:"outline",onClick:()=>$(L.id,"deny"),children:"Deny"})]})]}),c.jsxs("div",{className:"border-t pt-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Systems Check"}),c.jsx(ie,{variant:"outline",size:"sm",onClick:()=>Q(L.phone_e164),disabled:ge,children:ge?"Checking...":ne?"Re-check":"Check Systems"})]}),ne?c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2 text-xs",children:[c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"National DNC"}),le((ye=(oe=ne.providers)==null?void 0:oe.dnc)==null?void 0:ye.listed)]}),c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"RingCentral"}),le((ns=(Je=ne.providers)==null?void 0:Je.ringcentral)==null?void 0:ns.listed)]}),c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Convoso"}),le((zn=(nn=ne.providers)==null?void 0:nn.convoso)==null?void 0:zn.listed)]}),c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Ytel"}),le((I=(N=ne.providers)==null?void 0:N.ytel)==null?void 0:I.listed)]}),c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Logics"}),(U=ne.providers)!=null&&U.logics?ne.providers.logics.listed?c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-blue-100 text-blue-800",children:"Active Case"}):c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):c.jsx("span",{className:"px-1 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),((X=(se=ne.providers)==null?void 0:se.logics)==null?void 0:X.count)&&c.jsxs("span",{className:"text-xs text-gray-600 mt-1",children:[ne.providers.logics.count," case(s)"]})]}),c.jsxs("div",{className:"flex flex-col items-center p-2 bg-gray-50 rounded",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Genesys"}),le((ae=(W=ne.providers)==null?void 0:W.genesys)==null?void 0:ae.listed)]})]}):c.jsx("div",{className:"text-sm text-gray-500 italic",children:'Click "Check Systems" to see DNC status across all CRM systems'})]})]},L.id)}),g&&c.jsx("div",{className:"text-center pt-2",children:c.jsx(ie,{variant:"outline",onClick:()=>H(!0),children:"Load more"})})]})]})]})},sn=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},Gz=({initialPhones:t})=>{var te,H,$,M,Y,Q,le,L,ne,ge;const[e,n]=S.useState((t==null?void 0:t[0])||""),[s,r]=S.useState(!1),[i,a]=S.useState(null),[o,l]=S.useState(null),[u,h]=S.useState(null),[d,f]=S.useState({}),[m,x]=S.useState(!1),[b,C]=S.useState(null),[y,p]=S.useState(null),[g,v]=S.useState(null),w=async()=>{var me,he,pe,Ne,de;if(!e.trim())return;r(!0),a(null),l(null),p(null),C(null),v(null);const re={};try{try{const oe=await fetch(`${ee}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json();re.dnc={listed:!!(ye!=null&&ye.is_dnc)}}}catch{}try{const oe=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json(),Je=(me=ye==null?void 0:ye.data)==null?void 0:me.is_on_dnc;Je===null?re.ringcentral={listed:null,status:"unknown"}:re.ringcentral={listed:Je||!1}}}catch{}try{const oe=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json(),Je=(he=ye==null?void 0:ye.data)==null?void 0:he.is_on_dnc;Je===null?re.convoso={listed:null,status:"unknown"}:re.convoso={listed:Je||!1}}}catch{}try{const oe=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json(),Je=(pe=ye==null?void 0:ye.data)==null?void 0:pe.is_on_dnc;Je===null?re.ytel={listed:null,status:"unknown"}:re.ytel={listed:Je||!1}}}catch{}try{const oe=await fetch(`${ee}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json(),Je=((Ne=ye==null?void 0:ye.data)==null?void 0:Ne.cases)||[];re.logics={listed:Je.length>0,count:Je.length,cases:Je}}}catch{}try{const oe=await fetch(`${ee}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:e})});if(oe.ok){const ye=await oe.json(),Je=(de=ye==null?void 0:ye.data)==null?void 0:de.is_on_dnc;Je===null?re.genesys={listed:null,status:"unknown"}:re.genesys={listed:Je||!1}}}catch{}l({phone_number:e,providers:re}),K(e)}catch(oe){a(oe instanceof Error?oe.message:"Failed systems check")}finally{r(!1)}},E=(re,me)=>re===!0?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):re===!1?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):c.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]}),T=(o==null?void 0:o.providers)||{},A=async()=>{if(o){h("ringcentral");try{const re=await fetch(`${ee}/api/v1/tenants/propagation/retry`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({service_key:"ringcentral",phone_e164:o.phone_number})}),me=await re.text();let he=me;try{he=JSON.parse(me)}catch{}f(pe=>({...pe,ringcentral:{provider:"ringcentral",ok:re.ok,status:re.status,body:he,at:new Date().toISOString()}})),await B(o.phone_number)}finally{h(null)}}},_=async()=>{if(o){h("convoso");try{const re=await fetch(`${ee}/api/v1/tenants/propagation/retry`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({service_key:"convoso",phone_e164:o.phone_number})}),me=await re.text();let he=me;try{he=JSON.parse(me)}catch{}f(pe=>({...pe,convoso:{provider:"convoso",ok:re.ok,status:re.status,body:he,at:new Date().toISOString()}})),await F(o.phone_number)}finally{h(null)}}},R=async()=>{if(o){h("ytel");try{const re=await fetch(`${ee}/api/v1/tenants/propagation/retry`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({service_key:"ytel",phone_e164:o.phone_number})}),me=await re.text();let he=me;try{he=JSON.parse(me)}catch{}f(pe=>({...pe,ytel:{provider:"ytel",ok:re.ok,status:re.status,body:he,at:new Date().toISOString()}})),await O(o.phone_number)}finally{h(null)}}},D=async()=>{var me,he,pe;if(!(!o||!((pe=(he=(me=T.logics)==null?void 0:me.cases)==null?void 0:he[0])!=null&&pe.CaseID))){h("logics");try{const Ne=await fetch(`${ee}/api/v1/tenants/propagation/retry`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({service_key:"logics",phone_e164:o.phone_number})}),de=await Ne.text();let oe=de;try{oe=JSON.parse(de)}catch{}f(ye=>({...ye,logics:{provider:"logics",ok:Ne.ok,status:Ne.status,body:oe,at:new Date().toISOString()}})),await j(o.phone_number)}finally{h(null)}}},P=async()=>{var re,me,he;o&&((re=T.ringcentral)!=null&&re.listed||await A(),(me=T.convoso)!=null&&me.listed||await _(),await R(),(he=T.logics)!=null&&he.listed||await D())},j=async re=>{try{const me=await fetch(`${ee}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:re})});if(!me.ok)return;const he=await me.text();let pe=he;try{pe=JSON.parse(he)}catch{}f(Ne=>({...Ne,logics_lookup:{provider:"logics_lookup",ok:!0,status:200,body:pe,at:new Date().toISOString()}})),l(Ne=>{var oe;if(!Ne)return Ne;const de=Array.isArray((oe=pe==null?void 0:pe.data)==null?void 0:oe.cases)?pe.data.cases:[];return{...Ne,providers:{...Ne.providers,logics:{listed:de.length>0,count:de.length,cases:de}}}})}catch{}},B=async re=>{const me=(re||e||"").trim();if(me)try{const he=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:me})}),pe=await he.text();let Ne=pe;try{Ne=JSON.parse(pe)}catch{}f(de=>({...de,ringcentral_lookup:{provider:"ringcentral_lookup",ok:he.ok,status:he.status,body:Ne,at:new Date().toISOString()}}))}catch{}},F=async re=>{const me=(re||e||"").trim();if(me)try{const he=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:me})}),pe=await he.text();let Ne=pe;try{Ne=JSON.parse(pe)}catch{}f(de=>({...de,convoso_lookup:{provider:"convoso_lookup",ok:he.ok,status:he.status,body:Ne,at:new Date().toISOString()}}))}catch{}},O=async re=>{const me=(re||e||"").trim();if(me)try{const he=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_number:me})}),pe=await he.text();let Ne=pe;try{Ne=JSON.parse(pe)}catch{}f(de=>({...de,ytel_lookup:{provider:"ytel_lookup",ok:he.ok,status:he.status,body:Ne,at:new Date().toISOString()}}))}catch{}},K=async re=>{var he;const me=(re||e||"").trim();if(me){x(!0),C(null),p(null),v(null);try{const Ne=await(await fetch(`${ee}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json",...sn()},body:JSON.stringify({phone_numbers:[me]})})).text();let de=Ne;try{de=JSON.parse(Ne)}catch{}v(de);const oe=(he=de==null?void 0:de.results)==null?void 0:he[0],ye=typeof(oe==null?void 0:oe.is_dnc)=="boolean"?oe.is_dnc:Array.isArray(de==null?void 0:de.matches)?de.matches.length>0:null;p(ye)}catch(pe){C(pe instanceof Error?pe.message:"Failed DNC check")}finally{x(!1)}}};return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Systems Check"})}),c.jsxs(Ce,{children:[i&&c.jsx("div",{className:"text-red-600 text-sm mb-2",children:i}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx(At,{placeholder:"Enter phone (any format)",value:e,onChange:re=>n(re.target.value),onKeyDown:re=>{re.key==="Enter"&&w()}}),c.jsx(ie,{onClick:w,disabled:s,children:s?"Checking…":"Run Check"})]}),o&&c.jsxs("div",{className:"border rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:o.phone_number}),s&&c.jsx("span",{className:"text-xs text-gray-500",children:" • Checking…"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),s&&c.jsx("div",{className:"mt-2 h-2 bg-gray-100 rounded overflow-hidden",children:c.jsx("div",{className:"h-2 w-1/2 bg-blue-200 animate-pulse"})}),c.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"National DNC"}),c.jsxs("div",{className:"flex items-center gap-2",children:[m?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Checking…"}):y===!0?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Listed"}):y===!1?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not listed"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>K(o.phone_number),disabled:m,children:"Check"})]})]}),(b||g)&&c.jsx("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:b?c.jsx("div",{className:"text-red-600",children:b}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"mb-1",children:"DNC API Response"}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof g=="string"?g:JSON.stringify(g,null,2)})]})}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"RingCentral"}),c.jsxs("div",{className:"flex items-center gap-2",children:[E((te=T.ringcentral)==null?void 0:te.listed),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>B(o.phone_number),children:"Lookup"}),!((H=T.ringcentral)!=null&&H.listed)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:A,disabled:u==="ringcentral",children:"Push"})]})]}),d.ringcentral_lookup&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.ringcentral_lookup.status,") • ",new Date(d.ringcentral_lookup.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ringcentral_lookup.body=="string"?d.ringcentral_lookup.body:JSON.stringify(d.ringcentral_lookup.body,null,2)})]}),d.ringcentral&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Response (",d.ringcentral.status,") • ",new Date(d.ringcentral.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ringcentral.body=="string"?d.ringcentral.body:JSON.stringify(d.ringcentral.body,null,2)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Convoso"}),c.jsxs("div",{className:"flex items-center gap-2",children:[E(($=T.convoso)==null?void 0:$.listed),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>F(o.phone_number),children:"Lookup"}),!((M=T.convoso)!=null&&M.listed)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:_,disabled:u==="convoso",children:"Push"})]})]}),d.convoso_lookup&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.convoso_lookup.status,") • ",new Date(d.convoso_lookup.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.convoso_lookup.body=="string"?d.convoso_lookup.body:JSON.stringify(d.convoso_lookup.body,null,2)})]}),d.convoso&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Response (",d.convoso.status,") • ",new Date(d.convoso.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.convoso.body=="string"?d.convoso.body:JSON.stringify(d.convoso.body,null,2)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[T.logics?T.logics.listed?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"True"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"False"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((Y=T.logics)==null?void 0:Y.count)=="number"&&c.jsxs("span",{className:"text-xs text-gray-600",children:[T.logics.count," case(s)"]})]}),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>j(o.phone_number),children:"Lookup"}),((L=(le=(Q=T.logics)==null?void 0:Q.cases)==null?void 0:le[0])==null?void 0:L.CaseID)&&c.jsx(ie,{size:"sm",variant:"outline",onClick:D,disabled:u==="logics",children:"Push"})]})]}),d.logics_lookup&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.logics_lookup.status,") • ",new Date(d.logics_lookup.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.logics_lookup.body=="string"?d.logics_lookup.body:JSON.stringify(d.logics_lookup.body,null,2)})]}),d.logics&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Response (",d.logics.status,") • ",new Date(d.logics.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.logics.body=="string"?d.logics.body:JSON.stringify(d.logics.body,null,2)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Ytel"}),c.jsxs("div",{className:"flex items-center gap-2",children:[E((ne=T.ytel)==null?void 0:ne.listed),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>O(o.phone_number),children:"Lookup"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:R,disabled:u==="ytel",children:"Push"})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Genesys"}),c.jsxs("div",{className:"flex items-center gap-2",children:[E((ge=T.genesys)==null?void 0:ge.listed),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Lookup"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{},disabled:!0,children:"Push"})]})]}),d.ytel_lookup&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Lookup Response (",d.ytel_lookup.status,") • ",new Date(d.ytel_lookup.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ytel_lookup.body=="string"?d.ytel_lookup.body:JSON.stringify(d.ytel_lookup.body,null,2)})]}),d.ytel&&c.jsxs("div",{className:"text-xs text-gray-700 border rounded p-2 bg-gray-50",children:[c.jsxs("div",{className:"mb-1",children:["Response (",d.ytel.status,") • ",new Date(d.ytel.at).toLocaleTimeString()]}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:typeof d.ytel.body=="string"?d.ytel.body:JSON.stringify(d.ytel.body,null,2)})]})]}),c.jsx("div",{className:"mt-3",children:c.jsx(ie,{onClick:P,disabled:u!==null,children:"Push DNC to remaining"})}),c.jsxs("div",{className:"mt-3 text-xs text-gray-600 space-y-1",children:[c.jsx("div",{children:c.jsx("strong",{children:"Current behavior:"})}),c.jsx("div",{children:'• RingCentral: search blocked list; "Listed" if found on DNC.'}),c.jsx("div",{children:'• Convoso: search DNC leads; "Listed" if found on DNC.'}),c.jsx("div",{children:'• Logics (TPS): search cases by phone; "Listed" if cases found.'}),c.jsx("div",{children:'• Ytel: two-step DNC check; "Listed" if on DNC or global DNC.'}),c.jsx("div",{children:'• Genesys: search DNC list; "Listed" if found on DNC.'})]})]})]})]})},qz=({organizationId:t,adminUserId:e})=>{const[n,s]=S.useState([]),[r,i]=S.useState([]),[a,o]=S.useState({}),[l,u]=S.useState(!1),[h,d]=S.useState(""),[f,m]=S.useState(""),[x,b]=S.useState(""),C=ys(A=>{var _;return((_=A.demoAuth)==null?void 0:_.role)||"member"}),y=async()=>{const A={"Content-Type":"application/json","X-Org-Id":String(t),"X-User-Id":String(e),"X-Role":"superadmin"};try{const _=window.__msalAcquireToken,R="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(_&&R){const D=await _([R]);D&&(A.Authorization=`Bearer ${D}`)}}catch(_){console.warn("Failed to acquire token:",_)}return A},p=async()=>{u(!0);try{const A=await y();try{const _=await fetch(`${ee}/api/v1/tenants/propagation/attempts/${t}`,{headers:A});if(_.ok){const R=await _.json();s(R||[])}else console.warn("Failed to fetch propagation attempts:",_.status,_.statusText),s([])}catch(_){console.error("Error fetching propagation attempts:",_),s([])}try{const _=await fetch(`${ee}/api/v1/tenants/dnc-requests/org/${t}?limit=500`,{headers:A});if(_.ok){const R=await _.json();i(R||[])}else console.warn("Failed to fetch DNC requests:",_.status,_.statusText),i([])}catch(_){console.error("Error fetching DNC requests:",_),i([])}try{const _=await fetch(`${ee}/api/v1/tenants/users`,{headers:A});if(_.ok){const R=await _.json(),D={};R.forEach(P=>{D[P.id]=P}),o(D)}else console.warn("Failed to fetch users:",_.status,_.statusText)}catch(_){console.error("Error fetching users:",_)}}finally{u(!1)}};S.useEffect(()=>{p()},[]);const g=S.useMemo(()=>{const A={};return n.forEach(R=>{h&&!R.phone_e164.includes(h)||f&&R.service_key!==f||x&&R.status!==x||(A[R.phone_e164]||(A[R.phone_e164]=[]),A[R.phone_e164].push(R))}),Object.keys(A).map(R=>{const D=A[R].sort((O,K)=>new Date(K.started_at).getTime()-new Date(O.started_at).getTime()),P={};D.forEach(O=>{P[O.service_key]||(P[O.service_key]=O)});const j=r.find(O=>O.phone_e164===R),B=a[e],F=String(C).toLowerCase()==="superadmin";return{phone:R,providers:P,requested_by:j?a[j.requested_by_user_id]:F?B:void 0,approved_by:j&&j.reviewed_by_user_id?a[j.reviewed_by_user_id]:F?B:void 0,decided_at:j==null?void 0:j.decided_at}})},[n,r,a,h,f,x]),v=["ringcentral","convoso","ytel","logics","genesys"],w=()=>{const _=[["phone","provider","status","attempt_no","started_at","finished_at","error","requested_by","approved_by"].join(",")];g.forEach(j=>{v.forEach(B=>{const F=j.providers[B];F&&_.push([j.phone,B,F.status,String(F.attempt_no),F.started_at,F.finished_at||"",(F.error_message||"").replace(/\n|\r|,/g," "),j.requested_by?`${j.requested_by.email}`:"",j.approved_by?`${j.approved_by.email}`:""].join(","))})});const R=new Blob([_.join(`
`)],{type:"text/csv"}),D=URL.createObjectURL(R),P=document.createElement("a");P.href=D,P.download="dnc_history_export.csv",P.click(),URL.revokeObjectURL(D)},E=A=>{if(!A)return c.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:"—"});const _=A==="success"?"bg-green-100 text-green-800":A==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return c.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${_}`,children:A})},T=async(A,_)=>{try{const R=await y();let D=null;if(A==="ringcentral")D=await fetch(`${ee}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(_)}&label=${encodeURIComponent("API Block")}`,{method:"POST",headers:R});else if(A==="convoso")D=await fetch(`${ee}/api/v1/convoso/dnc/add?phone_number=${encodeURIComponent(_)}`,{method:"POST",headers:R});else if(A==="ytel")D=await fetch(`${ee}/api/v1/ytel/dnc/add?phone_number=${encodeURIComponent(_)}`,{method:"POST",headers:R});else if(A==="logics"){console.log("Logics retry not implemented - use Systems Check flow");return}D&&!D.ok?console.error(`Retry failed for ${A}:`,D.status,D.statusText):D&&console.log(`Retry successful for ${A}`),p()}catch(R){console.error(`Error retrying ${A}:`,R)}};return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"DNC History Monitor"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"flex flex-wrap items-end gap-2 mb-3 text-sm",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{children:"Search phone"}),c.jsx("input",{className:"border rounded px-2 py-1",placeholder:"digits",value:h,onChange:A=>d(A.target.value)})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{children:"Provider"}),c.jsxs("select",{className:"border rounded px-2 py-1",value:f,onChange:A=>m(A.target.value),children:[c.jsx("option",{value:"",children:"Any"}),v.map(A=>c.jsx("option",{value:A,children:A},A))]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("label",{children:"Status"}),c.jsxs("select",{className:"border rounded px-2 py-1",value:x,onChange:A=>b(A.target.value),children:[c.jsx("option",{value:"",children:"Any"}),c.jsx("option",{value:"success",children:"success"}),c.jsx("option",{value:"failed",children:"failed"}),c.jsx("option",{value:"pending",children:"pending"})]})]}),c.jsx(ie,{onClick:p,disabled:l,children:"Refresh"}),c.jsx(ie,{variant:"outline",onClick:w,children:"Export CSV"})]}),l?c.jsx("div",{className:"text-sm text-gray-600",children:"Loading…"}):g.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No DNC history yet."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm border",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-gray-50",children:[c.jsx("th",{className:"p-2 text-left",children:"Phone"}),c.jsx("th",{className:"p-2 text-left",children:"Requested By"}),c.jsx("th",{className:"p-2 text-left",children:"Approved By"}),v.map(A=>c.jsx("th",{className:"p-2 text-left capitalize",children:A},A))]})}),c.jsx("tbody",{children:g.map(A=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"p-2 font-medium",children:A.phone}),c.jsx("td",{className:"p-2",children:A.requested_by?A.requested_by.name||A.requested_by.email:"—"}),c.jsx("td",{className:"p-2",children:A.approved_by?A.approved_by.name||A.approved_by.email:"—"}),v.map(_=>{const R=A.providers[_];return c.jsxs("td",{className:"p-2 align-top",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[E(R==null?void 0:R.status),R&&c.jsx("button",{className:"text-xs underline",onClick:()=>T(_,A.phone),children:"Retry"})]}),(R==null?void 0:R.error_message)&&c.jsx("div",{className:"text-xs text-red-600 mt-1",children:R.error_message}),(R==null?void 0:R.finished_at)&&c.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:new Date(R.finished_at).toLocaleString()})]},_)})]},A.phone))})]})})]})]})},Kz=(t,e)=>{const n={};return t.forEach(s=>{const r=e(s);n[r]||(n[r]=[]),n[r].push(s)}),n},$z=t=>{const e=t.toUpperCase();return["GET","POST","PUT","DELETE","PATCH"].includes(e)?e:null},Yz=()=>{const[t,e]=S.useState("5618189087"),[n,s]=S.useState([]),[r,i]=S.useState({}),[a,o]=S.useState({}),[l,u]=S.useState(!1),[h,d]=S.useState(null),[f,m]=S.useState(null),[x,b]=S.useState(void 0),[C,y]=S.useState({}),[p,g]=S.useState({}),v=j=>j.replace(/\{[^/}]+\}/g,encodeURIComponent(t||"")),w=S.useMemo(()=>Kz(n,j=>j.tags&&j.tags[0]||j.url.split("/").slice(0,4).join("/")||"Untagged"),[n]),E=async()=>{var j;u(!0),m(null);try{const B=await fetch(`${ee}/openapi.json`);if(!B.ok)throw new Error(`OpenAPI fetch failed: ${B.status}`);const F=await B.json(),O=F.servers&&((j=F.servers[0])==null?void 0:j.url)||void 0;b(O);const K=[],te=F.paths||{};Object.entries(te).forEach(([Y,Q])=>{Object.entries(Q||{}).forEach(([le,L])=>{var ns,nn,zn,N,I,U,se;const ne=$z(le);if(!ne)return;const ge=`${ne}-${Y}`,re=Array.isArray(L==null?void 0:L.parameters)?L.parameters.filter(X=>(X==null?void 0:X.in)==="query").map(X=>X==null?void 0:X.name).filter(Boolean):[],me=re.length?`?${re.map(X=>`${X}={${X}}`).join("&")}`:"",he=`${Y}${me}`,pe=(L==null?void 0:L.summary)||`${ne} ${Y}`,Ne=Array.isArray(L==null?void 0:L.tags)?L.tags:["Untagged"];let de;try{de=((zn=(nn=(ns=L==null?void 0:L.requestBody)==null?void 0:ns.content)==null?void 0:nn["application/json"])==null?void 0:zn.example)||((se=(U=(I=(N=L==null?void 0:L.requestBody)==null?void 0:N.content)==null?void 0:I["application/json"])==null?void 0:U.examples)==null?void 0:se[0])}catch{}const oe=!!(L!=null&&L.requestBody),ye=he.includes("/ringcentral/")&&!he.includes("/auth")?[{id:"rc-auth",name:"RingCentral Auth",url:"/api/ringcentral/auth",method:"POST",tags:["RingCentral"]}]:[],Je=oe?{"Content-Type":"application/json"}:void 0;K.push({id:ge,name:pe,url:he,method:ne,tags:Ne,description:L==null?void 0:L.description,requestBodyExample:de,headers:Je,prereqs:ye,hasBody:oe})})});const H=Qz(),$=new Set(K.map(Y=>Y.id)),M=[...K];H.forEach(Y=>{$.has(Y.id)||(M.push(Y),$.add(Y.id))}),s(M),d(new Date().toISOString())}catch(B){m((B==null?void 0:B.message)||String(B))}finally{u(!1)}};S.useEffect(()=>{E()},[]);const T=j=>{if(/^https?:\/\//i.test(j))return j;const F=(x&&/^https?:\/\//i.test(x)?x:ee).replace(/\/$/,""),K=(j.startsWith("/")?j:`/${j}`).replace(/\{[^/}]+\}/g,encodeURIComponent(t||""));return`${F}${K}`},A=async(j,B,F,O,K)=>{const te=performance.now();try{let H=K;if(["POST","PUT","PATCH"].includes(B)){const le=C[F];if(le&&le.trim().length)try{H=JSON.parse(le)}catch{}}const $=H!==void 0?typeof H=="string"?H:JSON.stringify(TS(H)):void 0,M=await fetch(T(R(F)),{method:B,headers:O,body:$}),Y=await M.text();let Q=Y;try{Q=JSON.parse(Y)}catch{}return{title:j,ok:M.ok,status:M.status,ms:Math.round(performance.now()-te),body:Q}}catch(H){return{title:j,ok:!1,status:0,ms:Math.round(performance.now()-te),body:String((H==null?void 0:H.message)||H)}}},_=j=>{const B=j.indexOf("?");return B===-1?[]:j.slice(B+1).split("&").map(O=>O.split("=")[0]).filter(Boolean)},R=j=>{const B=p[j];if(!B||Object.keys(B).length===0)return j;const F=j.indexOf("?"),O=F===-1?j:j.slice(0,F),K=new URLSearchParams(F===-1?"":j.slice(F+1));Object.entries(B).forEach(([H,$])=>{$==null||String($).trim()===""||K.set(H,String($))});const te=K.toString();return te?`${O}?${te}`:O},D=async j=>{o(H=>({...H,[j.id]:!0}));const B=[],F=performance.now();if(j.prereqs&&j.prereqs.length)for(const H of j.prereqs){const $=v(H.url||"")||v(j.url),M=await A(H.name||"OAuth / Prereq",H.method||"GET",$,H.headers);if(B.push(M),!M.ok)break}if(B.every(H=>H.ok)){const H=v(j.url),$=await A("API Call",j.method,H,j.headers,j.hasBody?j.requestBodyExample:void 0);B.push($)}const O=Math.round(performance.now()-F),K=B.length>0&&B.every(H=>H.ok),te={id:j.id,ok:K,totalMs:O,steps:B,when:new Date().toISOString()};i(H=>({...H,[j.id]:te})),o(H=>({...H,[j.id]:!1}))},P=j=>c.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${j==="GET"?"bg-green-100 text-green-800":j==="POST"?"bg-blue-100 text-blue-800":j==="PUT"?"bg-yellow-100 text-yellow-800":j==="DELETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-700"}`,children:j});return c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"API Endpoint Tester"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-sm text-gray-700",children:"Test Value (replaces path parameters in URLs)"}),c.jsx(At,{value:t,onChange:j=>e(j.target.value),placeholder:"5618189087"})]}),c.jsxs("div",{className:"flex items-end gap-2",children:[c.jsx(ie,{className:"bg-green-600 hover:bg-green-700",onClick:E,disabled:l,children:l?"Syncing…":"Sync with OpenAPI"}),c.jsx("div",{className:"text-xs text-gray-600",children:h?`Last synced: ${new Date(h).toLocaleTimeString()} • ${n.length} endpoints`:"Not synced yet"})]})]}),f&&c.jsx("div",{className:"text-sm text-red-600 mt-2",children:f})]})]}),Object.entries(w).map(([j,B])=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm text-gray-600 font-semibold",children:[j," • ",B.length]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3",children:B.map(F=>{const O=r[F.id],K=["POST","PUT","PATCH"].includes(F.method),te=F.url.includes("?"),H=JSON.stringify(TS(F.requestBodyExample??{phoneNumber:"{phoneNumber}"}),null,2);return c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsxs(_e,{className:"flex items-center justify-between text-base",children:[c.jsx("span",{children:F.name}),P(F.method)]})}),c.jsxs(Ce,{children:[F.description&&c.jsx("div",{className:"text-sm text-gray-600 mb-2",children:F.description}),c.jsx("div",{className:"text-xs font-mono break-all bg-gray-50 border rounded p-2 mb-2",children:v(F.url)}),te&&c.jsxs("div",{className:"mb-2 space-y-1",children:[c.jsx("div",{className:"text-xs text-gray-600",children:"Query Parameters"}),_(F.url).map($=>{var M;return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-xs w-32 text-gray-700",children:$}),c.jsx(At,{value:((M=p[F.url])==null?void 0:M[$])??"",onChange:Y=>g(Q=>({...Q,[F.url]:{...Q[F.url]||{},[$]:Y.target.value}})),placeholder:$==="phoneNumber"?t:""})]},$)})]}),K&&F.hasBody&&c.jsxs("div",{className:"mb-2",children:[c.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Request JSON Body"}),c.jsx("textarea",{className:"w-full text-xs font-mono border rounded p-2 bg-white",rows:6,defaultValue:H,onChange:$=>y(M=>({...M,[F.url]:$.target.value}))})]}),c.jsx("div",{className:"flex items-center justify-end gap-2",children:c.jsx(ie,{onClick:()=>D(F),disabled:!!a[F.id],children:a[F.id]?"Testing…":"Test"})}),O&&c.jsxs("div",{className:"mt-3 border-t pt-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:`flex items-center gap-2 ${O.ok?"text-green-700":"text-red-700"}`,children:c.jsx("span",{className:"font-semibold",children:O.ok?"Success":"Error"})}),c.jsxs("div",{className:"text-xs text-gray-600",children:[new Date(O.when).toLocaleString()," • ",O.totalMs," ms"]})]}),c.jsx("div",{className:"mt-2 space-y-2",children:O.steps.map(($,M)=>c.jsxs("div",{className:"p-2 rounded border bg-gray-50",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"font-medium",children:[M+1,". ",$.title]}),c.jsxs("div",{className:`text-xs ${$.ok?"text-green-700":"text-red-700"}`,children:[$.ok?"✅":"❌"," ",$.status," • ",$.ms," ms"]})]}),c.jsx("pre",{className:"mt-1 text-xs whitespace-pre-wrap break-words",children:typeof $.body=="string"?$.body:JSON.stringify($.body,null,2)})]},M))})]})]})]},F.id)})})]},j))]})};function Rg(t,e){if(typeof t=="string"){let n=t;return Object.entries(e).forEach(([s,r])=>{n=n.split(`{${s}}`).join(r)}),n}if(Array.isArray(t))return t.map(n=>Rg(n,e));if(t&&typeof t=="object"){const n={};return Object.entries(t).forEach(([s,r])=>{n[s]=Rg(r,e)}),n}return t}function Qz(){const t={"Content-Type":"application/json"},e=Object.assign({},t,{"X-Org-Id":"1","X-User-Id":"1","X-Role":"superadmin"});return[{id:"GET-/api/v1/statuses",name:"CRM Statuses",url:"/api/v1/statuses",method:"GET",tags:["Core"]},{id:"POST-/api/check_number",name:"Check Single Number",url:"/api/check_number",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/check_tps_database",name:"Check TPS DB DNC",url:"/api/check_tps_database",method:"POST",tags:["Core"],headers:t,requestBodyExample:{limit:100}},{id:"POST-/api/cases_by_phone",name:"Cases By Phone (TPS)",url:"/api/cases_by_phone",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/run_automation",name:"Run DNC Automation (stub)",url:"/api/run_automation",method:"POST",tags:["Core"],headers:t,requestBodyExample:{phone_number:"{phoneNumber}"}},{id:"POST-/api/cookies/refresh",name:"Refresh FreeDNC Cookies",url:"/api/cookies/refresh",method:"POST",tags:["Core"]},{id:"GET-/api/v1/tenants/propagation/attempts",name:"Tenant DNC History (by Org)",url:"/api/v1/tenants/propagation/attempts/1",method:"GET",tags:["Tenants"],headers:e},{id:"GET-/api/v1/tenants/system/services",name:"System Services (admin)",url:"/api/v1/tenants/system/services",method:"GET",tags:["Tenants"],headers:e},{id:"POST-/api/v1/tenants/system/test",name:"System Provider Test (admin)",url:"/api/v1/tenants/system/test/{phoneNumber}",method:"POST",tags:["Tenants"],headers:e}]}function TS(t){var s;if(t===void 0)return;const e=((s=document.querySelector('input[placeholder="5618189087"]'))==null?void 0:s.value)||"";return Rg(t,{phoneNumber:e,phone_number:e})}const Xz=Sv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Yl({className:t,variant:e,...n}){return c.jsx("div",{className:wn(Xz({variant:e}),t),...n})}function Jz(t,e=[]){let n=[];function s(i,a){const o=S.createContext(a),l=n.length;n=[...n,a];const u=d=>{var y;const{scope:f,children:m,...x}=d,b=((y=f==null?void 0:f[t])==null?void 0:y[l])||o,C=S.useMemo(()=>x,Object.values(x));return c.jsx(b.Provider,{value:C,children:m})};u.displayName=i+"Provider";function h(d,f){var b;const m=((b=f==null?void 0:f[t])==null?void 0:b[l])||o,x=S.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,h]}const r=()=>{const i=n.map(a=>S.createContext(a));return function(o){const l=(o==null?void 0:o[t])||i;return S.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return r.scopeName=t,[s,Zz(r,...e)]}function Zz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((o,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...o,...d}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Av="Progress",Ev=100,[Wz,B3]=Jz(Av),[e3,t3]=Wz(Av),JN=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:i=n3,...a}=t;(r||r===0)&&!AS(r)&&console.error(s3(`${r}`,"Progress"));const o=AS(r)?r:Ev;s!==null&&!ES(s,o)&&console.error(r3(`${s}`,"Progress"));const l=ES(s,o)?s:null,u=Ud(l)?i(l,o):void 0;return c.jsx(e3,{scope:n,value:l,max:o,children:c.jsx(wv.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Ud(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":ek(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});JN.displayName=Av;var ZN="ProgressIndicator",WN=S.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,r=t3(ZN,n);return c.jsx(wv.div,{"data-state":ek(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:e})});WN.displayName=ZN;function n3(t,e){return`${Math.round(t/e*100)}%`}function ek(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ud(t){return typeof t=="number"}function AS(t){return Ud(t)&&!isNaN(t)&&t>0}function ES(t,e){return Ud(t)&&!isNaN(t)&&t<=e&&t>=0}function s3(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ev}\`.`}function r3(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ev} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tk=JN,i3=WN;const nk=S.forwardRef(({className:t,value:e,...n},s)=>c.jsx(tk,{ref:s,className:wn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(i3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));nk.displayName=tk.displayName;const Ql="https://dnc-backend-bb96.onrender.com",Xl=()=>({"X-Org-Id":"1","X-User-Id":"1","X-Role":"admin"});function a3(){const[t,e]=S.useState(null),[n,s]=S.useState([]),[r,i]=S.useState(!0),[a,o]=S.useState(!1),[l,u]=S.useState(null),h=async()=>{try{const C=await fetch(`${Ql}/api/v1/dnc-sync/stats`,{headers:Xl()});if(C.ok){const y=await C.json();e(y)}}catch(C){console.error("Error fetching sync stats:",C)}},d=async()=>{try{const C=await fetch(`${Ql}/api/v1/dnc-sync/sync-jobs?limit=10`,{headers:Xl()});if(C.ok){const y=await C.json();s(y)}}catch(C){console.error("Error fetching sync jobs:",C)}},f=async()=>{o(!0),u(null);try{(await fetch(`${Ql}/api/v1/dnc-sync/sync-from-convoso`,{method:"POST",headers:{"Content-Type":"application/json",...Xl()}})).ok?setTimeout(()=>{h(),d()},2e3):u("Failed to start sync from Convoso")}catch{u("Error starting sync from Convoso")}finally{o(!1)}},m=async()=>{o(!0),u(null);try{(await fetch(`${Ql}/api/v1/dnc-sync/sync-to-providers`,{method:"POST",headers:{"Content-Type":"application/json",...Xl()},body:JSON.stringify({providers:["ringcentral","genesys","ytel","logics"]})})).ok?setTimeout(()=>{h(),d()},2e3):u("Failed to start sync to providers")}catch{u("Error starting sync to providers")}finally{o(!1)}};S.useEffect(()=>{const C=async()=>{i(!0),await Promise.all([h(),d()]),i(!1)};C();const y=setInterval(C,3e4);return()=>clearInterval(y)},[]);const x=C=>{switch(C){case"completed":return c.jsx(ni,{className:"h-4 w-4 text-green-500"});case"failed":return c.jsx(yc,{className:"h-4 w-4 text-red-500"});case"running":return c.jsx(Cu,{className:"h-4 w-4 text-blue-500 animate-spin"});case"pending":return c.jsx(Ii,{className:"h-4 w-4 text-yellow-500"});default:return c.jsx(ml,{className:"h-4 w-4 text-gray-500"})}},b=C=>{const y={completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",running:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800"};return c.jsx(Yl,{className:y[C]||"bg-gray-100 text-gray-800",children:C})};return r?c.jsxs("div",{className:"flex items-center justify-center h-64",children:[c.jsx(Cu,{className:"h-8 w-8 animate-spin"}),c.jsx("span",{className:"ml-2",children:"Loading sync data..."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"DNC Sync Dashboard"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ie,{onClick:f,disabled:a,className:"flex items-center gap-2",children:[c.jsx(Ag,{className:"h-4 w-4"}),"Sync from Convoso"]}),c.jsxs(ie,{onClick:m,disabled:a,variant:"outline",className:"flex items-center gap-2",children:[c.jsx(z4,{className:"h-4 w-4"}),"Sync to Providers"]})]})]}),l&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsxs("div",{className:"flex",children:[c.jsx(yc,{className:"h-5 w-5 text-red-400"}),c.jsx("div",{className:"ml-3",children:c.jsx("p",{className:"text-sm text-red-800",children:l})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Total DNC Entries"}),c.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(t==null?void 0:t.total_dnc_entries)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Master DNC list"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Active Sync Jobs"}),c.jsx(Cu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n.filter(C=>C.status==="running").length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently running"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Total Synced"}),c.jsx(ni,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.synced,0):0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all providers"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Failed Syncs"}),c.jsx(yc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t?Object.values(t.provider_stats).reduce((C,y)=>C+y.failed,0):0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Provider Sync Status"})}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-4",children:t&&Object.entries(t.provider_stats).map(([C,y])=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"font-medium capitalize",children:C}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(Yl,{variant:"outline",className:"text-green-600",children:[y.synced," synced"]}),c.jsxs(Yl,{variant:"outline",className:"text-red-600",children:[y.failed," failed"]}),c.jsxs(Yl,{variant:"outline",className:"text-yellow-600",children:[y.pending," pending"]})]})]}),c.jsx("div",{className:"w-32",children:c.jsx(nk,{value:y.total>0?y.synced/y.total*100:0,className:"h-2"})})]},C))})})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Recent Sync Jobs"})}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-4",children:n.map(C=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[x(C.status),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium capitalize",children:C.job_type.replace("_"," ")}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.processed_entries," / ",C.total_entries," processed"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium",children:[C.successful_syncs," success, ",C.failed_syncs," failed"]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(C.created_at).toLocaleString()})]}),b(C.status)]})]},C.id))})})]})]})}const o3=({onPhoneSelect:t})=>{const[e,n]=S.useState([]),[s,r]=S.useState(!0),i=async()=>{try{n([])}catch(l){console.error("Failed to fetch recent searches:",l)}finally{r(!1)}};S.useEffect(()=>{i()},[]);const a=l=>new Date(l).toLocaleString(),o=l=>Object.values(l).some(h=>(h==null?void 0:h.listed)===!0)?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"On DNC"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Clear"});return s?c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Recent Searches"})}),c.jsx(Ce,{children:c.jsx("div",{className:"text-center text-gray-500",children:"Loading..."})})]}):e.length===0?c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Recent Searches"})}),c.jsx(Ce,{children:c.jsx("div",{className:"text-center text-gray-500",children:"No recent searches found"})})]}):c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Recent Searches"})}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-2",children:e.map(l=>{var u;return c.jsxs("div",{className:"flex items-center justify-between p-2 border rounded hover:bg-gray-50 cursor-pointer",onClick:()=>t==null?void 0:t(l.phone_number),children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-mono text-sm",children:l.phone_number}),((u=l.search_results)==null?void 0:u.providers)&&o(l.search_results.providers)]}),c.jsx("div",{className:"text-xs text-gray-500",children:a(l.created_at)})]}),c.jsx(ie,{size:"sm",variant:"outline",onClick:h=>{h.stopPropagation(),t==null||t(l.phone_number)},children:"Re-check"})]},l.id)})})})]})},c3=()=>{const t=Tv(),{phoneNumbers:e}=ys(g=>g.phoneNumbers),{crmStatuses:n,stats:s}=ys(g=>g.crmStatus),[r,i]=S.useState("pending"),a=1,o=1,[l,u]=S.useState({total:0,success:0,failed:0}),[h,d]=S.useState(0),[f,m]=S.useState(!1);S.useEffect(()=>{t(fc()),t(mc())},[t]);const x=async()=>{const g={"Content-Type":"application/json","X-Org-Id":String(a),"X-User-Id":String(o),"X-Role":"superadmin"};try{const v=window.__msalAcquireToken,w="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(v&&w){const E=await v([w]);E&&(g.Authorization=`Bearer ${E}`)}}catch{}return g},b=async()=>{m(!0);try{const g=await x(),v=await fetch(`${ee}/api/v1/tenants/propagation/attempts/${a}?limit=200`,{headers:g});if(v.ok){const E=await v.json(),T=E.length,A=E.filter(R=>R.status==="success").length,_=E.filter(R=>R.status==="failed").length;u({total:T,success:A,failed:_})}else u({total:0,success:0,failed:0});const w=await fetch(`${ee}/api/v1/tenants/dnc-entries/${a}`,{headers:g});if(w.ok){const E=await w.json();d(E.length)}else d(0)}catch{u({total:0,success:0,failed:0}),d(0)}finally{m(!1)}};S.useEffect(()=>{b()},[]);const C=e.length,y=n.length,p=g=>{switch(g.toLowerCase()){case"completed":return c.jsx(ni,{className:"w-4 h-4 text-green-600"});case"failed":return c.jsx(yc,{className:"w-4 h-4 text-red-600"});case"processing":return c.jsx(Ii,{className:"w-4 h-4 text-yellow-600"});case"pending":return c.jsx(Ii,{className:"w-4 h-4 text-blue-600"});default:return c.jsx(Ii,{className:"w-4 h-4 text-gray-600"})}};return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor phone number removals and CRM system status"})]}),c.jsx(ie,{onClick:b,disabled:f,children:"Refresh Data"})]}),c.jsx("div",{className:"border-b",children:c.jsx("nav",{className:"flex flex-wrap gap-2 -mb-px text-sm",children:[{key:"pending",label:"Pending"},{key:"propagation",label:"DNC History"},{key:"systems",label:"Systems Check"},{key:"litigation",label:"Litigation"},{key:"samples",label:"Samples & Gaps"},{key:"overview",label:"Overview"},{key:"tester",label:"Tester"},{key:"sync",label:"Sync"}].map(g=>c.jsx("button",{className:`px-3 py-2 border-b-2 ${r===g.key?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,onClick:()=>i(g.key),children:g.label},g.key))})}),r==="pending"&&c.jsx(Fz,{organizationId:1,adminUserId:1}),r==="propagation"&&c.jsx(qz,{organizationId:1,adminUserId:1}),r==="systems"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(Gz,{})}),c.jsx("div",{children:c.jsx(o3,{onPhoneSelect:g=>console.log("Selected phone:",g)})})]}),r==="litigation"&&c.jsx(Bz,{organizationId:1,adminUserId:1}),r==="samples"&&c.jsx(zz,{organizationId:1,adminUserId:1}),r==="overview"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Total Phone Numbers"}),c.jsx(Ja,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:h||C}),c.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Phone numbers in org DNC"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"CRM Status Records"}),c.jsx(Ag,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold",children:l.total||y}),c.jsx("p",{className:"text-xs text-muted-foreground",children:f?"Loading...":"Provider attempts (recent)"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Completed Removals"}),c.jsx(ni,{className:"h-4 w-4 text-green-600"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.success}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully pushed to providers (recent)"})]})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(_e,{className:"text-sm font-medium",children:"Failed Removals"}),c.jsx(yc,{className:"h-4 w-4 text-red-600"})]}),c.jsxs(Ce,{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failed}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed provider attempts (recent)"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{children:"Logics Statistics"}),c.jsx(us,{children:"Removal status for Logics CRM"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:Object.entries(s.logics).map(([g,v])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),c.jsx("span",{className:"capitalize",children:g})]}),c.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{children:"Genesys Statistics"}),c.jsx(us,{children:"Removal status for Genesys CRM"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:Object.entries(s.genesys).map(([g,v])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),c.jsx("span",{className:"capitalize",children:g})]}),c.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{children:"Ring Central Statistics"}),c.jsx(us,{children:"Removal status for Ring Central CRM"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:Object.entries(s.ringcentral).map(([g,v])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),c.jsx("span",{className:"capitalize",children:g})]}),c.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{children:"Convoso Statistics"}),c.jsx(us,{children:"Removal status for Convoso CRM"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:Object.entries(s.convoso).map(([g,v])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),c.jsx("span",{className:"capitalize",children:g})]}),c.jsx("span",{className:"font-semibold",children:v})]},g))})})]}),c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{children:"Ytel Statistics"}),c.jsx(us,{children:"Removal status for Ytel CRM"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-3",children:Object.entries(s.ytel).map(([g,v])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[p(g),c.jsx("span",{className:"capitalize",children:g})]}),c.jsx("span",{className:"font-semibold",children:v})]},g))})})]})]})]}),r==="tester"&&c.jsx(Yz,{}),r==="sync"&&c.jsx(a3,{})]})},l3=({userId:t})=>{const[e,n]=S.useState([]),[s,r]=S.useState(!1),[i,a]=S.useState(""),[o,l]=S.useState(""),[u,h]=S.useState(null),[d,f]=S.useState(!1),[m,x]=S.useState(null),b=async()=>{const C={"Content-Type":"application/json"};try{const y=window.__msalAcquireToken,p="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(y&&p){const g=await y([p]);g&&(C.Authorization=`Bearer ${g}`)}}catch{}return C};return S.useEffect(()=>{const C=async(y=!1)=>{r(!0);try{let p=m;try{const A=await b(),_=await fetch(`${ee}/api/v1/tenants/auth/me`,{headers:A});if(_.ok){const R=await _.json();R!=null&&R.user_id&&(p=Number(R.user_id),m!==p&&x(p))}}catch{}const g=new URLSearchParams;i&&g.set("status",i),o&&g.set("channel",o),u&&g.set("cursor",String(u)),g.set("limit","50");const v=await b(),T=await(await fetch(`${ee}/api/v1/tenants/dnc-requests/user/${p||m||t}?${g.toString()}`,{headers:v})).json();n(y?[...e,...T]:T),f(T.length===50),h(T.length?T[T.length-1].id:null)}finally{r(!1)}};h(null),C(!1)},[t,i,o,m]),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Your DNC Requests"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx(jt,{className:"text-sm font-medium text-gray-700",children:"Status"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:C=>a(C.target.value),children:[c.jsx("option",{value:"",children:"All Statuses"}),c.jsx("option",{value:"pending",children:"Pending"}),c.jsx("option",{value:"approved",children:"Approved"}),c.jsx("option",{value:"denied",children:"Denied"})]})]}),c.jsxs("div",{children:[c.jsx(jt,{className:"text-sm font-medium text-gray-700",children:"Channel"}),c.jsxs("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:C=>l(C.target.value),children:[c.jsx("option",{value:"",children:"All Channels"}),c.jsx("option",{value:"voice",children:"Voice"}),c.jsx("option",{value:"sms",children:"SMS"}),c.jsx("option",{value:"email",children:"Email"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{className:"w-full px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{a(""),l("")},children:"Clear Filters"})})]}),s?c.jsx("div",{className:"text-sm text-gray-600",children:"Loading…"}):e.length===0?c.jsx("div",{className:"text-sm text-gray-600",children:"No requests yet."}):c.jsxs("div",{className:"space-y-2",children:[e.map(C=>{const y=p=>{switch(p.toLowerCase()){case"approved":return c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800 font-medium",children:"Approved"});case"pending":return c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800 font-medium",children:"Pending"});case"denied":return c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800 font-medium",children:"Denied"});default:return c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-800 font-medium",children:p})}};return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover:bg-gray-50",children:[c.jsxs("div",{className:"text-sm flex-1",children:[c.jsxs("div",{className:"font-medium text-gray-900",children:[C.phone_e164," • ",C.channel||"n/a"]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y(C.status),c.jsx("span",{className:"text-gray-500 text-xs",children:"• user request"})]})]}),c.jsx("div",{className:"text-xs text-gray-500 ml-4",children:C.created_at?new Date(C.created_at).toLocaleString():""})]},C.id)}),d&&c.jsx("div",{className:"text-center pt-4",children:c.jsx("button",{className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onClick:()=>{(async()=>{const y=await b(),v=await(await fetch(`${ee}/api/v1/tenants/dnc-requests/user/${m||t}?cursor=${u||""}&limit=50`,{headers:y})).json();n([...e,...v]),f(v.length===50),h(v.length?v[v.length-1].id:null)})()},children:"Load More"})})]})]})]})},u3=()=>{var se,X,W,ae,ke,Be,Gt,Vn,An,ai,bs,En,oi,Fn,Xi,ci,mo;const[t,e]=S.useState(null),[n,s]=S.useState(0),[r,i]=S.useState(!1),[a,o]=S.useState(null),[l,u]=S.useState(null),[h,d]=S.useState(""),f=S.useRef(null),[m,x]=S.useState(""),[b,C]=S.useState(""),[y,p]=S.useState(null),[g,v]=S.useState(null),[w,E]=S.useState(!1),[T,A]=S.useState(!1),[_,R]=S.useState(""),[D,P]=S.useState(null),[j,B]=S.useState(null),[F,O]=S.useState(null),[K]=S.useState(!1),[te,H]=S.useState(!1),[$]=S.useState("systems"),[M,Y]=S.useState(""),[Q,le]=S.useState(null),[L,ne]=S.useState(!1),[ge,re]=S.useState(!1),me=G=>{var ut;const Ee=(ut=G.target.files)==null?void 0:ut[0];Ee&&Ee.type==="text/csv"?(e(Ee),o(null)):o("Please select a valid CSV file")},he=G=>{G.preventDefault()},pe=G=>{G.preventDefault();const Ee=G.dataTransfer.files[0];Ee&&Ee.type==="text/csv"?(e(Ee),o(null)):o("Please drop a valid CSV file")},Ne=async()=>{if(t){i(!0),o(null),d("Uploading CSV file...");try{const G=new FormData;G.append("file",t),G.append("column_index",n.toString()),G.append("format","json"),d("Processing CSV with DNC checking...");const Ee=await fetch(`${ee}/api/dnc/process`,{method:"POST",body:G});if(!Ee.ok){const xe=await Ee.json();throw new Error(xe.detail||"Failed to process file")}const ut=await Ee.json();console.log("API Response:",ut),d("Downloading processed results...");const Fe=`${ee}/api/dnc${ut.file}`;console.log("Downloading from:",Fe);const Ut=await fetch(Fe);if(!Ut.ok)throw new Error("Failed to download processed file");const be=await Ut.text(),Ue=de(be);u(Ue),d("Processing complete!")}catch(G){o(G instanceof Error?G.message:"An error occurred"),d("")}finally{i(!1)}}},de=G=>{const Ee=G.split(`
`);if(Ee.length<2)return[];const ut=Ee[0].split(",").map(Ut=>Ut.trim().replace(/"/g,"")),Fe=[];for(let Ut=1;Ut<Ee.length;Ut++)if(Ee[Ut].trim()){const be=Ee[Ut].split(",").map(xe=>xe.trim().replace(/"/g,"")),Ue={};ut.forEach((xe,Me)=>{Ue[xe]=be[Me]||""}),Fe.push(Ue)}return Fe},oe=()=>{if(!l)return;const G=[Object.keys(l[0]),...l.map(Ut=>Object.values(Ut))].map(Ut=>Ut.map(be=>`"${be}"`).join(",")).join(`
`),Ee=new Blob([G],{type:"text/csv"}),ut=window.URL.createObjectURL(Ee),Fe=document.createElement("a");Fe.href=ut,Fe.download=`dnc_results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),window.URL.revokeObjectURL(ut)},ye=async()=>{if(m.trim()){E(!0),o(null),p(null);try{const G=await fetch(`${ee}/api/dnc/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:m.trim()})});if(!G.ok){const ut=await G.json();throw new Error(ut.detail||"Failed to check phone number")}const Ee=await G.json();p(Ee)}catch(G){o(G instanceof Error?G.message:"An error occurred")}finally{E(!1)}}},Je=async()=>{if(b.trim()){A(!0),o(null),v(null);try{const G=b.split(/[,\n\s]+/).map(Fe=>Fe.trim()).filter(Fe=>Fe.length>0);if(G.length===0)throw new Error("No valid phone numbers found");if(G.length>1e3)throw new Error("Maximum 1000 phone numbers per batch");const Ee=await fetch(`${ee}/api/dnc/check_batch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_numbers:G})});if(!Ee.ok){const Fe=await Ee.json();throw new Error(Fe.detail||"Failed to check batch phone numbers")}const ut=await Ee.json();v(ut)}catch(G){o(G instanceof Error?G.message:"An error occurred")}finally{A(!1)}}},ns=async()=>{if(_.trim()){H(!0),o(null),P(null);try{const G=await fetch(`${ee}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:_.trim()})});if(!G.ok){const ut=await G.json();throw new Error(ut.detail||"Failed to fetch TPS cases")}const Ee=await G.json();P(Ee.cases||[])}catch(G){o(G instanceof Error?G.message:"Failed to fetch TPS cases")}finally{H(!1)}}},nn=G=>{if(!G)return"—";try{const Ee=new Date(G);return Number.isNaN(Ee.getTime())?"—":Ee.toLocaleString()}catch{return"—"}},zn=async()=>{if(j)try{const G=await fetch(`${ee}/api/dnc/run_automation`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:j})});if(!G.ok){const Ee=await G.json();throw new Error(Ee.detail||"Automation failed to start")}}catch(G){o(G instanceof Error?G.message:"Automation failed")}},N=async()=>{var Ee,ut,Fe,Ut,be,Ue;if(!M.trim())return;ne(!0),o(null),le(null),re(!1);const G={};try{try{const xe=await fetch(`${ee}/api/check_number`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json();G.dnc={listed:!!(Me!=null&&Me.is_dnc)}}}catch{}try{const xe=await fetch(`${ee}/api/v1/ringcentral/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json(),Ze=(Ee=Me==null?void 0:Me.data)==null?void 0:Ee.is_on_dnc;Ze===null?G.ringcentral={listed:null,status:"unknown"}:G.ringcentral={listed:Ze||!1}}}catch{}try{const xe=await fetch(`${ee}/api/v1/convoso/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json(),Ze=(ut=Me==null?void 0:Me.data)==null?void 0:ut.is_on_dnc;Ze===null?G.convoso={listed:null,status:"unknown"}:G.convoso={listed:Ze||!1}}}catch{}try{const xe=await fetch(`${ee}/api/v1/ytel/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json(),Ze=(Fe=Me==null?void 0:Me.data)==null?void 0:Fe.is_on_dnc;Ze===null?G.ytel={listed:null,status:"unknown"}:G.ytel={listed:Ze||!1}}}catch{}try{const xe=await fetch(`${ee}/api/v1/logics/search-by-phone`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json(),Ze=((be=(Ut=Me==null?void 0:Me.data)==null?void 0:Ut.raw_response)==null?void 0:be.Data)||[];G.logics={listed:Ze.length>0,count:Ze.length,cases:Ze}}}catch{}try{const xe=await fetch(`${ee}/api/v1/genesys/search-dnc`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone_number:M})});if(xe.ok){const Me=await xe.json(),Ze=(Ue=Me==null?void 0:Me.data)==null?void 0:Ue.is_on_dnc;Ze===null?G.genesys={listed:null,status:"unknown"}:G.genesys={listed:Ze||!1}}}catch{}le({phone_number:M,providers:G})}catch(xe){o(xe instanceof Error?xe.message:"Failed systems check")}finally{ne(!1)}},I=()=>{e(null),s(0),u(null),x(""),C(""),p(null),v(null),Y(""),le(null),o(null),d(""),f.current&&(f.current.value="")},U=(G,Ee)=>G===!0?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"On DNC"}):G===!1?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"Not Listed"}):c.jsxs("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:["Unknown",""]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DNC Checker"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys) to ensure compliance and avoid calling restricted numbers."})]}),c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-6",children:c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:$==="quick"?"Quick Phone Number Check":$==="systems"?"Systems Check":"TPS2 Database Check"}),c.jsx("p",{className:"text-gray-600",children:$==="quick"?"Check individual phone numbers or batches without CSV upload":$==="systems"?"Check DNC status across all CRM systems (RingCentral, Convoso, Ytel, Logics, Genesys)":"Find possible DNC matches from TPS and view case details"})]}),c.jsxs(Ce,{className:"space-y-4",children:[$==="quick"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-3",children:[c.jsx(jt,{htmlFor:"single-phone",children:"Single Phone Number"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(At,{id:"single-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:m,onChange:G=>x(G.target.value),className:"flex-1"}),c.jsx(ie,{onClick:ye,disabled:!m.trim()||w,className:"bg-blue-600 hover:bg-blue-700",children:w?"Checking...":"Check"})]}),y&&c.jsxs("div",{className:`p-3 rounded-lg border ${y.is_dnc?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[c.jsxs("div",{className:"font-medium",children:[y.phone_number,": ",y.is_dnc?"Yes - On DNC List":"No - Not on DNC"]}),c.jsx("div",{className:"text-sm opacity-75",children:y.notes})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(jt,{htmlFor:"batch-phones",children:"Batch Phone Numbers"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Dd,{id:"batch-phones",placeholder:`Enter phone numbers separated by commas, spaces, or new lines
Example:
5173715410
555-000-1234
555-111-5678`,value:b,onChange:G=>C(G.target.value),rows:4,className:"font-mono text-sm"}),c.jsx(ie,{onClick:Je,disabled:!b.trim()||T,className:"bg-blue-600 hover:bg-blue-700 w-full",children:T?"Checking...":`Check ${b.split(/[,\n\s]+/).filter(G=>G.trim()).length} Numbers`})]}),g&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g.total_checked}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:g.dnc_matches}),c.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.safe_to_call}),c.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:g.results.map((G,Ee)=>c.jsxs("div",{className:`p-2 rounded border text-sm ${G.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[c.jsx("span",{className:"font-medium",children:G.phone_number}),":",c.jsx("span",{className:G.is_dnc?"text-red-700":"text-green-700",children:G.is_dnc?" DNC":" Safe"})]},Ee))})]})]})]}),$==="systems"&&c.jsx(c.Fragment,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsx(jt,{htmlFor:"systems-phone",children:"Phone Number"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(At,{id:"systems-phone",type:"tel",placeholder:"Enter phone number (e.g., 5173715410)",value:M,onChange:G=>Y(G.target.value),className:"flex-1"}),c.jsx(ie,{onClick:N,disabled:!M.trim()||L,className:"bg-blue-600 hover:bg-blue-700",children:L?"Checking...":"Check All Systems"})]}),Q&&c.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:Q.phone_number}),L&&c.jsx("span",{className:"text-xs text-gray-500",children:" • Checking…"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:new Date().toLocaleTimeString()})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"National DNC"}),c.jsx("div",{className:"flex items-center gap-2",children:U((X=(se=Q.providers)==null?void 0:se.dnc)==null?void 0:X.listed)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"RingCentral"}),c.jsx("div",{className:"flex items-center gap-2",children:U((ae=(W=Q.providers)==null?void 0:W.ringcentral)==null?void 0:ae.listed)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Convoso"}),c.jsx("div",{className:"flex items-center gap-2",children:U((Be=(ke=Q.providers)==null?void 0:ke.convoso)==null?void 0:Be.listed)})]}),c.jsxs("div",{className:"border rounded p-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-medium",children:"Logics (TPS)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[(Gt=Q.providers)!=null&&Gt.logics?Q.providers.logics.listed?c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:"Active Case"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-100 text-red-800",children:"No Cases"}):c.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-100 text-gray-700",children:"Unknown"}),typeof((An=(Vn=Q.providers)==null?void 0:Vn.logics)==null?void 0:An.count)=="number"&&c.jsxs("span",{className:"text-xs text-gray-600",children:[Q.providers.logics.count," case(s)"]})]}),((bs=(ai=Q.providers)==null?void 0:ai.logics)==null?void 0:bs.cases)&&Q.providers.logics.cases.length>0&&c.jsx("button",{onClick:()=>re(!ge),className:"text-xs text-blue-600 hover:text-blue-800 underline",children:ge?"Hide Details":"Show Details"})]})]}),ge&&((oi=(En=Q.providers)==null?void 0:En.logics)==null?void 0:oi.cases)&&Q.providers.logics.cases.length>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[c.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Case Details:"}),c.jsx("div",{className:"space-y-1",children:Q.providers.logics.cases.map((G,Ee)=>c.jsx("div",{className:"bg-gray-50 p-2 rounded text-xs",children:c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Case ID:"}),c.jsx("span",{className:"ml-1 text-gray-900",children:G.CaseID||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Status ID:"}),c.jsx("span",{className:"ml-1 text-gray-900",children:G.StatusID||"N/A"})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Name:"}),c.jsx("span",{className:"ml-1 text-gray-900",children:[G.FirstName,G.MiddleName,G.LastName].filter(Boolean).join(" ")||"N/A"})]}),G.Email&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Email:"}),c.jsx("span",{className:"ml-1 text-gray-900",children:G.Email})]}),G.CreatedDate&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Created:"}),c.jsx("span",{className:"ml-1 text-gray-900",children:new Date(G.CreatedDate).toLocaleString()})]}),G.TaxAmount&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Tax Amount:"}),c.jsxs("span",{className:"ml-1 text-gray-900",children:["$",G.TaxAmount.toLocaleString()]})]})]})},Ee))})]})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Ytel"}),c.jsx("div",{className:"flex items-center gap-2",children:U((Xi=(Fn=Q.providers)==null?void 0:Fn.ytel)==null?void 0:Xi.listed)})]}),c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("div",{className:"font-medium",children:"Genesys"}),c.jsx("div",{className:"flex items-center gap-2",children:U((mo=(ci=Q.providers)==null?void 0:ci.genesys)==null?void 0:mo.listed)})]})]}),c.jsx("div",{className:"mt-3 text-xs text-gray-600 space-y-1",children:c.jsxs("div",{children:[c.jsx("strong",{children:"Note:"})," This shows DNC status across all systems. Only admins can add numbers to DNC lists."]})})]})]})}),$==="tps"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx(jt,{htmlFor:"tps-phone",children:"TPS (Logiqs) Cases"})}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsx(At,{id:"tps-phone",type:"tel",placeholder:"Enter phone number",value:_,onChange:G=>R(G.target.value),className:"flex-1"}),c.jsx(ie,{onClick:ns,disabled:te,className:"bg-purple-600 hover:bg-purple-700",children:te?"Finding cases…":"Find cases"})]}),D&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm text-gray-700",children:["Found ",D.length," case(s)"]}),c.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:D.map((G,Ee)=>c.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["Case ",G.CaseID]}),c.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",nn(G.CreatedDate)," | Last Modified: ",nn(G.LastModifiedDate)]})]}),c.jsx("div",{className:"text-xs text-gray-700",children:G.StatusName||`Status ${G.StatusID}`})]},Ee))})]})]})]})]})}),$==="tps"&&j&&c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(_e,{className:"text-purple-700",children:j}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ie,{onClick:zn,className:"bg-red-600 hover:bg-red-700",children:"RUN DNC Automation"}),c.jsx(ie,{variant:"outline",onClick:()=>{B(null),O(null)},children:"Close"})]})]}),c.jsx(us,{children:"All cases for this number with created/last modified/status."})]}),c.jsx(Ce,{children:K?c.jsx("div",{className:"text-sm text-gray-600",children:"Loading cases..."}):c.jsx("div",{className:"space-y-2",children:F&&F.length>0?c.jsx("div",{className:"max-h-60 overflow-y-auto divide-y border rounded",children:F.map((G,Ee)=>c.jsxs("div",{className:"p-2 text-sm flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"font-medium",children:["Case ",G.CaseID]}),c.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",nn(G.CreatedDate)," | Last Modified: ",nn(G.LastModifiedDate)]})]}),c.jsxs("div",{className:"text-xs text-gray-700",children:[G.StatusName||`Status ${G.StatusID}`," • ",G.PhoneType]})]},Ee))}):c.jsx("div",{className:"text-sm text-gray-600",children:"No cases found for this number."})})})]})}),$==="csv"&&c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsxs(Se,{className:"border-2 border-dashed border-blue-300 hover:border-blue-400 transition-colors",children:[c.jsxs(Ae,{children:[c.jsxs(_e,{className:"flex items-center gap-2 text-blue-600",children:[c.jsx(Ng,{className:"h-5 w-5"}),"Upload CSV File"]}),c.jsx(us,{children:"Drag and drop your CSV file here, or click to browse"})]}),c.jsx(Ce,{children:c.jsxs("div",{className:`relative p-8 text-center transition-colors ${t?"bg-blue-50":"bg-gray-50"}`,onDragOver:he,onDrop:pe,children:[c.jsx("input",{ref:f,type:"file",accept:".csv",onChange:me,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Ng,{className:"h-12 w-12 mx-auto text-gray-400"}),c.jsx("p",{className:"text-sm text-gray-600",children:t?`Selected: ${t.name}`:"Click to select or drag and drop CSV file"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Only CSV files are supported"})]})]})})]})}),$==="csv"&&c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{className:"text-blue-600",children:"Phone Number Column"}),c.jsx(us,{children:"Specify which column contains the phone numbers (0-based index)"})]}),c.jsx(Ce,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(jt,{htmlFor:"columnIndex",children:"Column Index:"}),c.jsx(At,{id:"columnIndex",type:"number",min:"0",value:n,onChange:G=>s(parseInt(G.target.value)||0),className:"w-20"}),c.jsx("span",{className:"text-sm text-gray-500",children:"(0 = first column, 1 = second column, etc.)"})]})})]})}),$==="csv"&&c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:c.jsx(ie,{onClick:Ne,disabled:!t||r,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:r?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Eg,{className:"h-5 w-5 mr-2"}),"Process DNC Check"]})})}),$==="csv"&&h&&c.jsx(Rt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[c.jsx(ni,{className:"h-4 w-4 mr-2"}),h]})}),a&&c.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center p-4 bg-red-100 border border-red-300 rounded-lg",children:[c.jsx(ml,{className:"h-5 w-5 text-red-500 mr-2"}),c.jsx("span",{className:"text-red-700",children:a}),c.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:c.jsx(V4,{className:"h-4 w-4"})})]}),$==="csv"&&l&&c.jsxs(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-4",children:[c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{className:"text-green-600",children:"Processing Results"})}),c.jsx(Ce,{children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Records"})]}),c.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(G=>G.DNC_Status==="DNC_MATCH").length}),c.jsx("div",{className:"text-sm text-red-600",children:"DNC Matches"})]}),c.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(G=>G.DNC_Status==="SAFE").length}),c.jsx("div",{className:"text-sm text-green-600",children:"Safe to Call"})]})]})})]}),c.jsx("div",{className:"text-center",children:c.jsxs(ie,{onClick:oe,className:"bg-green-600 hover:bg-green-700 text-white",children:[c.jsx(U4,{className:"h-4 w-4 mr-2"}),"Download Results CSV"]})}),c.jsxs(Se,{children:[c.jsxs(Ae,{children:[c.jsx(_e,{className:"text-blue-600",children:"Results in JSON Format"}),c.jsx(us,{children:"Processed data from FreeDNCList.com API"})]}),c.jsx(Ce,{children:c.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto max-h-96",children:c.jsx("pre",{className:"text-sm",children:JSON.stringify(l,null,2)})})})]}),c.jsx("div",{className:"text-center",children:c.jsx(ie,{onClick:I,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Process Another File"})})]})]})},d3=({activeTab:t,onTabChange:e})=>{var v,w;const{role:n,organizationId:s,userId:r}=ys(E=>E.demoAuth),i=Tv(),a=E=>E==="admin"||E==="superadmin",o=E=>E==="superadmin",[l,u]=S.useState(""),[h,d]=S.useState(""),[f,m]=S.useState(null),x=f||h||l||n,b=o(x),C=a(x),[y,p]=S.useState(""),g=S.useRef(!1);return S.useEffect(()=>{var E;try{const T=window.__msalInstance,A=(E=T==null?void 0:T.getAllAccounts)==null?void 0:E.call(T)[0];A&&p(A.name||A.username||"")}catch{}(async()=>{if(!g.current){try{const T={"Content-Type":"application/json"},A=window.__msalAcquireToken,_="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";let R="";A&&_&&(R=await A([_]),R&&(T.Authorization=`Bearer ${R}`)),console.log("🔐 Auth headers being sent:",T);const D=await fetch(`${ee}/api/v1/tenants/auth/me`,{headers:T});if(D.ok){const P=await D.json();console.log("🔐 Auth response:",P);const j=String(P.role||"").toLowerCase();if(console.log("🔐 Backend role:",j),j){u(j),h||d(j),j!==n&&i($l(j)),g.current=!0;return}}if(R)try{const P=JSON.parse(atob(R.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"))),j=Array.isArray(P.roles)?P.roles.map(O=>String(O).toLowerCase()):[],B=new Set(j.map(O=>O.replace(/[^a-z0-9]/g,"")));let F="member";j.includes("all")||j.includes("superadmin")||B.has("superadmin")?F="superadmin":j.includes("owner")||B.has("owner")?F="owner":(j.includes("approve_requests")||j.includes("admin")||B.has("admin"))&&(F="admin"),u(F),h||d(F),F!==n&&i($l(F))}catch{}}catch{}g.current=!0}})()},[]),c.jsx("nav",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center space-x-8",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ja,{className:"h-6 w-6 text-blue-600"}),c.jsx("span",{className:"text-xl font-bold text-gray-900",children:"TRA DNC Portal"})]}),c.jsxs("div",{className:"flex space-x-1",children:[c.jsxs(ie,{variant:t==="main"?"default":"ghost",onClick:()=>e("main"),className:"flex items-center space-x-2",children:[c.jsx(H4,{className:"h-4 w-4"}),c.jsx("span",{children:"Main View"})]}),c.jsxs(ie,{variant:t==="dnc-checker"?"default":"ghost",onClick:()=>e("dnc-checker"),className:"flex items-center space-x-2",children:[c.jsx(Eg,{className:"h-4 w-4"}),c.jsx("span",{children:"DNC Checker"})]}),!C&&c.jsxs(ie,{variant:t==="requests"?"default":"ghost",onClick:()=>e("requests"),className:"flex items-center space-x-2",children:[c.jsx(Eg,{className:"h-4 w-4"}),c.jsx("span",{children:"My Requests"})]}),C&&c.jsxs(ie,{variant:t==="admin"?"default":"ghost",onClick:()=>e("admin"),className:"flex items-center space-x-2",children:[c.jsx(BN,{className:"h-4 w-4"}),c.jsx("span",{children:"Admin"})]}),b&&c.jsxs(ie,{variant:t==="settings"?"default":"ghost",onClick:()=>e("settings"),className:"flex items-center space-x-2",children:[c.jsx(yS,{className:"h-4 w-4"}),c.jsx("span",{children:"Settings"})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[h==="superadmin"&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[c.jsx("span",{children:"Role:"}),c.jsxs("select",{value:x,onChange:E=>{const T=E.target.value;m(T),i($l(T))},className:"border rounded px-2 py-1",children:[c.jsx("option",{value:"member",children:"User"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),c.jsxs("div",{className:"hidden sm:flex items-center text-sm text-gray-700 mr-2",children:[y&&c.jsx("span",{className:"mr-2 truncate max-w-[220px]",title:y,children:y}),c.jsx("span",{className:"px-2 py-0.5 border rounded bg-gray-50",children:x})]}),c.jsxs(ie,{variant:"outline",size:"sm",onClick:async()=>{var T,A;const E="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";try{const _=window.__msalAcquireToken,R=window.__msalLogout,D=window.__msalInstance,P=(((T=D==null?void 0:D.getAllAccounts)==null?void 0:T.call(D))||[]).length>0;if(!P&&_){await _([E]);const j=(A=D==null?void 0:D.getAllAccounts)==null?void 0:A.call(D)[0];j&&p(j.name||j.username||"");const B={"X-Role":String(n),"X-Org-Id":String(s),"X-User-Id":String(r)};try{const O=window.__msalAcquireToken;if(O&&E){const K=await O([E]);K&&(B.Authorization=`Bearer ${K}`)}}catch{}const F=await fetch(`${ee}/api/v1/tenants/auth/me`,{headers:B});if(F.ok){const O=await F.json();u(O.role),O.role&&i($l(O.role))}}else P&&R&&(await R(),p(""),u(""))}catch{}},children:[c.jsx(yS,{className:"h-4 w-4 mr-2"}),(w=(v=window.__msalInstance)==null?void 0:v.getAllAccounts)!=null&&w.call(v).length?"Sign Out":"Sign In"]})]})]})})})},_S=(t,e,n)=>({"Content-Type":"application/json","X-Role":t,"X-Org-Id":String(e||1),"X-User-Id":String(n||1)}),h3=()=>{const{role:t,organizationId:e,userId:n}=ys(M=>M.demoAuth),s=t==="superadmin",[r]=S.useState(!0),[i,a]=S.useState([]),[o,l]=S.useState([]),[u,h]=S.useState(""),[d,f]=S.useState(""),[m,x]=S.useState({}),[b,C]=S.useState(!1),[y,p]=S.useState("5551234567"),[g,v]=S.useState(""),[w,E]=S.useState(""),[T,A]=S.useState(!1),[_,R]=S.useState(!1),[D,P]=S.useState("");S.useEffect(()=>{!r||!s||(async()=>{try{const M=await B(),Y=await fetch(`${ee}/api/v1/tenants/system/services`,{headers:M});Y.ok&&a(await Y.json());const Q=await fetch(`${ee}/api/v1/tenants/users`,{headers:M});Q.ok&&l(await Q.json())}catch{}})()},[r,s]);const j=async(M,Y)=>{try{const Q=await B();(await fetch(`${ee}/api/v1/tenants/system/services/${M}`,{method:"PUT",headers:Q,body:JSON.stringify({enabled:Y})})).ok&&a(L=>L.map(ne=>ne.key===M?{...ne,enabled:Y}:ne))}catch{}},B=async()=>{const M=_S(t,e,n);try{const Y=window.__msalAcquireToken,Q="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";if(Y&&Q){const le=await Y([Q]);le&&(M.Authorization=`Bearer ${le}`)}}catch{}return M},F=async()=>{R(!0),P("");try{const M=await B(),Y=await fetch(`${ee}/api/v1/tenants/admin/entra/sync-users`,{method:"POST",headers:M}),Q=await Y.json().catch(()=>({}));Y.ok?P(`Synced: upserted ${Q.upserted??0}, linked ${Q.linked??0}`):P(`Error: ${Q.detail||Y.status}`)}catch(M){P(`Error: ${M.message}`)}finally{R(!1)}},O=async M=>{C(!0),v("");try{const Q=await(await fetch(`${ee}/api/v1/tenants/system/test/${M}`,{method:"POST",headers:_S(t,e,n),body:JSON.stringify({phone_e164:y})})).json();v(`${M}: ${Q.success?"OK":"FAILED"} (${Q.status_code})
${Q.response||""}`)}catch(Y){v(`${M}: ERROR ${Y.message}`)}finally{C(!1)}},K=async()=>{A(!0),E("");try{const M=await B(),Q=await(await fetch(`${ee}/api/v1/ringcentral/auth/status`,{headers:M})).json();E(JSON.stringify(Q,null,2))}catch(M){E(`Error: ${M.message}`)}finally{A(!1)}},te=async()=>{A(!0);try{const M=await B(),Q=await(await fetch(`${ee}/api/v1/ringcentral/dnc/list`,{headers:M})).json();E(JSON.stringify(Q,null,2))}catch(M){E(`Error: ${M.message}`)}finally{A(!1)}},H=async()=>{A(!0);try{const M=encodeURIComponent(y),Y=await B(),le=await(await fetch(`${ee}/api/v1/ringcentral/dnc/search/${M}`,{headers:Y})).json();E(JSON.stringify(le,null,2))}catch(M){E(`Error: ${M.message}`)}finally{A(!1)}},$=async()=>{A(!0);try{const M=await B(),Y=`${ee}/api/v1/ringcentral/dnc/add?phone_number=${encodeURIComponent(y)}&label=${encodeURIComponent("API Block")}`,le=await(await fetch(Y,{method:"POST",headers:M})).json();E(JSON.stringify(le,null,2))}catch(M){E(`Error: ${M.message}`)}finally{A(!1)}};return s&&r?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Providers"})}),c.jsx(Ce,{children:c.jsx("div",{className:"space-y-2",children:i.map(M=>c.jsxs("div",{className:"flex items-center justify-between border rounded p-2",children:[c.jsx("span",{className:"capitalize",children:M.key}),c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{children:M.enabled?"Enabled":"Disabled"}),c.jsx("input",{type:"checkbox",checked:M.enabled,onChange:Y=>j(M.key,Y.target.checked)})]})]},M.key))})})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Test Endpoints"})}),c.jsxs(Ce,{children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx(At,{value:y,onChange:M=>p(M.target.value),placeholder:"E.164 or digits"})}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:["ringcentral","convoso","ytel","logics"].map(M=>c.jsx(ie,{size:"sm",variant:"outline",onClick:()=>O(M),disabled:b,children:M},M))}),c.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:g||"Run a test to see response here."})]})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Directory Sync (Entra → DB)"})}),c.jsxs(Ce,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ie,{size:"sm",onClick:F,disabled:_,children:_?"Syncing…":"Sync Entra users"}),D&&c.jsx("span",{className:"text-sm text-gray-600",children:D})]}),c.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Requires Graph app permissions and superadmin role."})]})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Maintenance"})}),c.jsxs(Ce,{children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(ie,{size:"sm",variant:"destructive",onClick:async()=>{if(confirm("Delete ALL DNC requests? This cannot be undone."))try{const M=await B(),Y=await fetch(`${ee}/api/v1/tenants/admin/purge/dnc-requests`,{method:"POST",headers:M}),Q=await Y.json().catch(()=>({}));alert(Y.ok?`Deleted ${Q.deleted??0} request(s)`:Q.detail||"Failed")}catch(M){alert(`Error: ${M.message}`)}},children:"Purge DNC requests"})}),c.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Superadmin only. Deletes rows; keeps table."})]})]}),c.jsxs(Se,{children:[c.jsx(Ae,{children:c.jsx(_e,{children:"RingCentral Auth & DNC"})}),c.jsxs(Ce,{children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx(At,{value:y,onChange:M=>p(M.target.value),placeholder:"Phone to add/search"})}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[c.jsx(ie,{size:"sm",variant:"outline",onClick:K,disabled:T,children:"Check Auth"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:te,disabled:T,children:"List Blocked"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:H,disabled:T,children:"Search Blocked"}),c.jsx(ie,{size:"sm",variant:"default",onClick:$,disabled:T,children:"Add to DNC"})]}),c.jsx("pre",{className:"text-xs bg-gray-50 border rounded p-2 max-h-48 overflow-auto whitespace-pre-wrap",children:w||"Use the buttons above to interact with RingCentral."})]})]}),c.jsxs(Se,{className:"md:col-span-2",children:[c.jsx(Ae,{children:c.jsx(_e,{children:"Users & Roles (minimal)"})}),c.jsx(Ce,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(At,{placeholder:"Email",value:u,onChange:M=>h(M.target.value)}),c.jsx(At,{placeholder:"Name",value:d,onChange:M=>f(M.target.value)}),c.jsx(ie,{onClick:async()=>{try{const M=await B(),Y=await fetch(`${ee}/api/v1/tenants/users`,{method:"POST",headers:{...M,"Content-Type":"application/json"},body:JSON.stringify({email:u,name:d})});if(Y.ok){const Q=await Y.json();l([Q,...o]),h(""),f("")}}catch{}},children:"Add"})]}),c.jsx("div",{className:"border rounded divide-y",children:o.map(M=>c.jsxs("div",{className:"p-2 flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{className:"font-medium",children:M.email}),c.jsx("div",{className:"text-gray-600",children:M.name||"—"})]}),c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx("span",{children:"System Admin"}),c.jsx("input",{type:"checkbox",checked:!!m[M.id],onChange:Y=>x({...m,[M.id]:Y.target.checked})})]})]},M.id))})]})})]})]}):null},NS=()=>{const[t,e]=S.useState(!1),[n,s]=S.useState(null),r="api://a2a6c2c2-cb10-411e-a354-da61bfa4a3b2/access_as_user";S.useEffect(()=>{location.pathname!=="/login"&&window.history.replaceState({},"","/login")},[]);const i=async()=>{s(null),e(!0);try{const a=window.__msalAcquireToken;if(!a)throw new Error("Auth not initialized");await a([r]),location.pathname!=="/"&&window.history.replaceState({},"","/")}catch(a){s((a==null?void 0:a.message)||"Login failed")}finally{e(!1)}};return c.jsxs("div",{className:"max-w-md mx-auto mt-16 p-6 bg-white border rounded",children:[c.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Sign in"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use your Microsoft account to sign in."}),n&&c.jsx("div",{className:"mb-3 text-sm text-red-600",children:n}),c.jsx(ie,{onClick:i,disabled:t,children:t?"Signing in…":"Sign in with Microsoft"})]})},f3=()=>{try{const t=localStorage.getItem("persist:do-not-call-root");if(!t)return{};const e=JSON.parse(t),n=e.demoAuth?JSON.parse(e.demoAuth):null;return n?{"X-Org-Id":String(n.organizationId),"X-User-Id":String(n.userId),"X-Role":String(n.role)}:{}}catch{return{}}},m3=()=>{const t=Tv(),{isLoading:e,error:n}=ys(g=>g.phoneNumbers),s=ys(g=>g.demoAuth.role),[r,i]=S.useState("dnc-checker"),[a,o]=S.useState("none"),[l,u]=S.useState([]),[h]=S.useState(null),[d,f]=S.useState(null),[m]=S.useState(!1);S.useEffect(()=>{t(Eo());const g=setTimeout(()=>{t(Eo())},100);return t(fc()),t(mc()),()=>{clearTimeout(g),t(Eo())}},[t]);const x=async(g,v)=>{if(s==="admin"||s==="superadmin"){u(g),o("systems"),t(No({type:"info",message:'Checking systems… Use "Put on DNC List (all remaining)" to push.',duration:5e3}));return}try{const w=await t(xu({phone_numbers:g,notes:v})).unwrap();t(No({type:"success",message:`Successfully submitted ${w.success_count} phone numbers for removal`,duration:5e3})),w.failed_count>0&&t(No({type:"warning",message:`${w.failed_count} phone numbers failed validation`,duration:5e3}));const E=g.length;t(QB(E));const T=["logics","genesys","ringcentral","convoso","ytel"];let A=0;o("crm");const _=setInterval(()=>{A++,T.forEach(R=>{const D=Math.min(E,Math.round(A/5*E)),P=A===5?Math.floor(D*.1):0,j=A<5?Math.max(0,E-D):0,B=Math.max(0,E-D-j);t(XB({crm:R,stats:{total:D,pending:B,processing:j,completed:D-P,failed:P}}))}),A>=5&&clearInterval(_)},800);t(Eo())}catch{t(No({type:"error",message:"Failed to submit phone numbers for removal",duration:5e3})),t(Eo())}},b=async g=>{try{f({phone:g,cases:[]});const v=await fetch(`${ee}/api/dnc/cases_by_phone`,{method:"POST",headers:{"Content-Type":"application/json",...f3()},body:JSON.stringify({phone_number:g})});if(!v.ok)throw new Error("Failed to fetch details");const w=await v.json();f({phone:g,cases:w.cases||[]})}catch(v){t(No({type:"error",message:v instanceof Error?v.message:"Failed to fetch details",duration:4e3}))}},C=g=>{if(!g)return"—";const v=new Date(g);return isNaN(v.getTime())?"—":v.toLocaleString()},y=a!=="none",p=()=>{var w;const g=window.__msalInstance;if((((w=g==null?void 0:g.getAllAccounts)==null?void 0:w.call(g))||[]).length===0)return c.jsx(NS,{});switch(r){case"main":return c.jsxs(c.Fragment,{children:[c.jsxs(Rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"TRA Do Not Call List Manager"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Manage phone number removals from Do Not Call lists across multiple CRM systems"})]}),c.jsx("div",{className:`${y?"max-w-7xl":"max-w-3xl"} mx-auto w-full transition-all duration-300`,children:c.jsxs(Rt.div,{layout:!0,transition:{duration:.35,ease:"easeInOut"},className:`grid gap-8 ${y?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"} ${y?"":"justify-items-center"}`,children:[c.jsx(Rt.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:`${y?"":"w-full max-w-3xl"}`,children:c.jsx(Pz,{onNumbersSubmit:x,isLoading:e})}),y&&c.jsxs(Rt.div,{layout:!0,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a==="crm"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(Hz,{organizationId:1,adminUserId:1}),c.jsx(Uz,{})]}),a==="systems"&&c.jsx(Lz,{numbers:l}),a==="precheck"&&h&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.total_checked}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Checked"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.dnc_matches}),c.jsx("div",{className:"text-sm text-gray-600",children:"DNC Matches"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.safe_to_call}),c.jsx("div",{className:"text-sm text-gray-600",children:"Safe to Call"})]})]}),c.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:h.results.slice(0,20).map((E,T)=>c.jsxs("div",{className:`p-2 rounded border text-sm ${E.is_dnc?"bg-red-50 border-red-200":"bg-green-50 border-green-200"} flex items-center justify-between`,children:[c.jsx("span",{className:"font-medium",children:E.phone_number}),c.jsx("span",{className:E.is_dnc?"text-red-700":"text-green-700",children:E.is_dnc?" DNC":" Safe"}),c.jsx("button",{className:"ml-2 px-2 py-1 text-xs border rounded hover:bg-gray-50",onClick:()=>b(E.phone_number),children:"View details"})]},T))}),d&&c.jsxs("div",{className:"p-3 rounded border bg-white",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-medium",children:d.phone}),c.jsx("button",{className:"text-xs text-gray-500 underline",onClick:()=>f(null),children:"Close"})]}),m?c.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Loading details..."}):d.cases.length?c.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[c.jsxs("div",{className:"text-gray-700",children:["Cases found: ",d.cases.length]}),c.jsx("div",{className:"max-h-40 overflow-y-auto divide-y",children:d.cases.map((E,T)=>c.jsxs("div",{className:"py-1 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"text-gray-800",children:["Case ",E.CaseID]}),c.jsxs("div",{className:"text-xs text-gray-600",children:["Created: ",C(E.CreatedDate)," • Last Modified: ",C(E.LastModifiedDate)]})]}),c.jsx("div",{className:"text-xs text-gray-700",children:E.StatusName||`Status ${E.StatusID}`})]},T))})]}):c.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No cases found for this number."})]})]})]})]})}),c.jsx(CH,{children:n&&c.jsx(Rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-8 p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[c.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),c.jsx("span",{className:"font-medium",children:"Error:"}),c.jsx("span",{children:n})]})})})]});case"dnc-checker":return c.jsx(u3,{});case"requests":return s==="admin"||s==="superadmin"?c.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[c.jsx("div",{className:"text-lg font-semibold mb-2",children:"No personal requests for admins"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Admins submit removals directly and review member requests on the Admin page."})]}):c.jsxs("div",{children:[c.jsx(Rt.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold mb-4",children:"Your DNC Requests"}),c.jsx(l3,{userId:0})]});case"admin":return s==="admin"||s==="superadmin"?c.jsx(c3,{}):c.jsxs("div",{className:"max-w-xl mx-auto p-6 mt-10 bg-white border rounded",children:[c.jsx("div",{className:"text-lg font-semibold mb-2",children:"Admin access required"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Switch role to Admin in the top-right selector to view the Admin dashboard."})]});case"settings":return s==="superadmin"?c.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[c.jsx("h2",{className:"text-3xl font-bold",children:"System Settings"}),c.jsx(h3,{})]}):c.jsx(NS,{});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[c.jsx(d3,{activeTab:r,onTabChange:i}),c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p(),c.jsx(Rt.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-16 text-center text-gray-500 text-sm",children:c.jsx("p",{children:"TRA Do Not Call List Management System • Built with React, TypeScript, and FastAPI"})})]})]})},g3=()=>c.jsx(S2,{store:IN,children:c.jsxs(BE,{loading:null,persistor:u4,children:[c.jsx(m3,{}),c.jsx(iP,{position:"top-right",richColors:!0,closeButton:!0,duration:5e3})]})}),vr=new Ly({auth:{clientId:"a2a6c2c2-cb10-411e-a354-da61bfa4a3b2",authority:"https://login.microsoftonline.com/185fc38c-2c1b-4307-a164-24a4072e83e1",redirectUri:window.location.origin,postLogoutRedirectUri:window.location.origin},cache:{cacheLocation:"localStorage"}});(async()=>{try{await vr.initialize()}catch(e){console.error("MSAL initialize failed:",e)}window.__msalInstance=vr;let t=null;window.__msalAcquireToken=async e=>t||(t=(async()=>{try{const n=vr.getAllAccounts();if(n.length>0)try{const s={account:n[0],scopes:e};return(await vr.acquireTokenSilent(s)).accessToken}catch{}try{return(await vr.loginPopup({scopes:e})).accessToken}catch(s){const r=(s==null?void 0:s.errorCode)||(s==null?void 0:s.message)||"";if(String(r).includes("interaction_in_progress"))return null;throw s}}finally{t=null}})(),t),window.__msalLogout=async()=>{try{await vr.logoutPopup()}catch{await vr.logoutRedirect()}},tO.createRoot(document.getElementById("root")).render(c.jsx(Z.StrictMode,{children:c.jsx(ZM,{instance:vr,children:c.jsx(g3,{})})}))})();
//# sourceMappingURL=index-Rb5I5Dx-.js.map
